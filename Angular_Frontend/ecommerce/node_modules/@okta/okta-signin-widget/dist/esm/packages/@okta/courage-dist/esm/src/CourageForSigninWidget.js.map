{"version":3,"file":"CourageForSigninWidget.js","sources":["../../../../../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js"],"sourcesContent":["import BaseCollection from './courage/models/BaseCollection.js';\nexport { default as BaseModel } from './courage/models/BaseModel.js';\nimport BaseSchema from './courage/models/BaseSchema.js';\nexport { default as Model } from './courage/models/Model.js';\nimport SchemaProperty from './courage/models/SchemaProperty.js';\nimport BaseController from './courage/util/BaseController.js';\nimport BaseRouter from './courage/util/BaseRouter.js';\nimport ButtonFactory from './courage/util/ButtonFactory.js';\nimport Class from './courage/util/Class.js';\nimport Cookie from './courage/util/Cookie.js';\nimport Clipboard from './courage/util/Clipboard.js';\nimport Keys from './courage/util/Keys.js';\nimport Logger from './courage/util/Logger.js';\nimport StringUtil from './courage/util/StringUtil.js';\nimport Util from './courage/util/Util.js';\nexport { default as Handlebars } from '../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport './courage/util/handlebars/handle-url.js';\nimport './courage/util/handlebars/helper-base64.js';\nimport './courage/util/handlebars/helper-i18n.js';\nimport './courage/util/handlebars/helper-img.js';\nimport './courage/util/handlebars/helper-markdown.js';\nimport './courage/util/handlebars/helper-xsrfTokenInput.js';\nexport { default as $ } from './courage/util/jquery-wrapper.js';\nexport { default as _ } from './courage/util/underscore-wrapper.js';\nexport { default as ListView } from './courage/views/Backbone.ListView.js';\nimport BaseView from './courage/views/BaseView.js';\nimport BaseDropDown from './courage/views/components/BaseDropDown.js';\nimport Notification from './courage/views/components/Notification.js';\nimport BaseForm from './courage/views/forms/BaseForm.js';\nimport Toolbar from './courage/views/forms/components/Toolbar.js';\nimport FormUtil from './courage/views/forms/helpers/FormUtil.js';\nimport InputRegistry from './courage/views/forms/helpers/InputRegistry.js';\nimport SchemaFormFactory from './courage/views/forms/helpers/SchemaFormFactory.js';\nimport BaseInput from './courage/views/forms/BaseInput.js';\nimport CheckBox from './courage/views/forms/inputs/CheckBox.js';\nimport PasswordBox from './courage/views/forms/inputs/PasswordBox.js';\nimport Radio from './courage/views/forms/inputs/Radio.js';\nimport Select from './courage/views/forms/inputs/Select.js';\nimport InputGroup from './courage/views/forms/inputs/InputGroup.js';\nimport TextBox from './courage/views/forms/inputs/TextBox.js';\nimport Callout from './courage/views/components/Callout.js';\nexport { default as Backbone } from './courage/vendor/lib/backbone.js';\nimport FrameworkView from './courage/framework/View.js';\nexport { default as FrameworkView } from './courage/framework/View.js';\nimport './util/scrollParent.js';\nexport { isModelPropertySchema } from './courage/framework/Model.js';\nimport './courage/util/SettingsModel.js';\n\nconst Controller = BaseController.extend({\n  // The courage BaseController renders asynchronously in current versions of jQuery\n  // https://github.com/okta/okta-ui/blob/master/packages/courage/src/util/BaseController.ts#L117-L119\n  // https://api.jquery.com/jquery/#jQuery-callback\n  // Override so that render is synchronous\n  render: function (...args) {\n    BaseView.prototype.render.apply(this, args);\n    return this;\n  }\n});\n\nSelect.prototype.remove = function () {\n  // Patched to remove unneeded call to\n  // this.$select.trigger('remove');\n  // which causes error on IE11\n  return BaseInput.prototype.remove.apply(this, arguments);\n}; // The string will be returned unchanged. All templates should be precompiled.\n\n\nFrameworkView.prototype.compileTemplate = function (str) {\n  const compiledTmpl = function fakeTemplate() {\n    return str;\n  };\n\n  compiledTmpl.source = ''; // to satisfy TS\n\n  return compiledTmpl;\n}; // Override events to not support `Enter` submitting the form twice - OKTA-321999 and OKTA-317629\n\n\nconst events = {\n  'input input': 'update',\n  'change input': 'update',\n  'keydown input': 'update',\n  'keyup input': function (e) {\n    if (Keys.isEsc(e)) {\n      this.model.trigger('form:cancel');\n    }\n  }\n};\nconst TextBoxForSigninWidget = TextBox.extend({\n  events: events\n});\nconst PasswordBoxForSigninWidget = PasswordBox.extend({\n  events: events\n});\nconst Form = BaseForm.extend({\n  scrollOnError: function () {\n    // scrollOnError is true by default. Override to false if `scrollOnError` has been set to false in widget settings.\n    const {\n      settings: settings\n    } = this.options;\n\n    if (settings.get('features.scrollOnError') === false) {\n      return false;\n    }\n\n    return true;\n  }\n});\nconst loc = StringUtil.localize;\nconst createButton = ButtonFactory.create;\nconst createCallout = Callout.create;\nconst registerInput = InputRegistry.register;\nconst Collection = BaseCollection;\nconst View = BaseView;\nconst Router = BaseRouter;\nconst internal = {\n  util: {\n    Util: Util,\n    Cookie: Cookie,\n    Clipboard: Clipboard,\n    Logger: Logger,\n    Class: Class,\n    Keys: Keys\n  },\n  views: {\n    components: {\n      BaseDropDown: BaseDropDown,\n      Notification: Notification\n    },\n    forms: {\n      helpers: {\n        FormUtil: FormUtil,\n        SchemaFormFactory: SchemaFormFactory\n      },\n      components: {\n        Toolbar: Toolbar\n      },\n      inputs: {\n        TextBox: TextBoxForSigninWidget,\n        PasswordBox: PasswordBoxForSigninWidget,\n        CheckBox: CheckBox,\n        Radio: Radio,\n        Select: Select,\n        InputGroup: InputGroup\n      }\n    }\n  },\n  models: {\n    BaseSchema: BaseSchema,\n    SchemaProperty: SchemaProperty\n  }\n};\nregisterInput('text', TextBoxForSigninWidget);\nregisterInput('password', PasswordBoxForSigninWidget);\nregisterInput('checkbox', CheckBox);\nregisterInput('radio', Radio);\nregisterInput('select', Select);\nregisterInput('group', InputGroup);\n\nexport { Collection, Controller, Form, Router, View, createButton, createCallout, internal, loc, registerInput };\n"],"names":["Controller","BaseController","extend","render","args","BaseView","prototype","apply","Select","remove","BaseInput","arguments","FrameworkView","compileTemplate","str","compiledTmpl","fakeTemplate","source","events","e","Keys","isEsc","model","trigger","TextBoxForSigninWidget","TextBox","PasswordBoxForSigninWidget","PasswordBox","Form","BaseForm","scrollOnError","settings","options","get","loc","StringUtil","localize","createButton","ButtonFactory","create","createCallout","Callout","registerInput","InputRegistry","register","Collection","BaseCollection","View","Router","BaseRouter","internal","util","Util","Cookie","Clipboard","Logger","Class","views","components","BaseDropDown","Notification","forms","helpers","FormUtil","SchemaFormFactory","Toolbar","inputs","CheckBox","Radio","InputGroup","models","BaseSchema","SchemaProperty"],"mappings":"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"}