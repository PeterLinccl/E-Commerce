{"version":3,"file":"okta-sign-in.oie.js","mappings":"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GAAG,CAAC5qB,MAAxB,EAAgC8B,CAAC,EAAjC,EAAqC;AACnC,UAAIxK,KAAK,GAAGszB,GAAG,CAAC9oB,CAAD,CAAf;AACA,UAAIsnB,KAAK,GAAGc,aAAa,CAACe,UAAD,EAAa3zB,KAAb,CAAzB;;AAEA,UAAI8xB,KAAJ,EAAW;AACT,eAAOA,KAAK,CAAC,aAAD,CAAZ;AACD;AACF;AACF;AACF;;AAED,MAAMxqB,KAAK;AACX;AACA;AACE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEA,EAAAA,KAAK,EAAE,EA3CT;;AA6CE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEssB,EAAAA,OAAO,EAAE,EAlFX;;AAoFE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,EAAAA,KAAK,EAAE,EApGT;;AAsGE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,EAAAA,IAAI,EAAE,IA/HR;;AAiIE;AACF;AACA;AACA;AACE7R,EAAAA,QAAQ,EAAE,EArIZ;AAsIE;AACA6L,EAAAA,aAAa,EAAE,UAAUtmB,OAAV,EAAmB,GAAGsf,IAAtB,EAA4B;AACzC,SAAKtf,OAAL,GAAeA,OAAO,IAAI,EAA1B;AACA,QAAIusB,MAAM,GAAG,KAAK,YAAL,IAAqB,EAAlC;AACA,QAAIhD,gBAAgB,GA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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGAwiB,IAAI,CAACoO,aAAL,GAAqB,IAArB;AACA,IAAIjQ,aAAa,GAAG6B,IAApB;;;;;;;;;;;;;;;;;;;;AC3yBA;;AACA;;;;AAEA,MAAMqO,mBAAmB;AACzB;AACA;AACE;AACF;AACA;AACA;AACEC,EAAAA,UAAU,EAAE,KALd;AAME;AACA;AACA;AACAryB,EAAAA,WAAW,EAAE,YAAY;AACvB6jB,wBAAWje,KAAX,CAAiB,IAAjB,EAAuBN,SAAvB;;AAEA,QAAIwiB,2BAAe1gB,MAAf,CAAsB,IAAtB,EAA4B,YAA5B,CAAJ,EAA+C;AAC7C,WAAK4gB,IAAL,GAAYF,2BAAerK,IAAf,CAAoB,KAAKuK,IAAzB,EAA+B,UAAUA,IAAV,EAAgB3f,MAAhB,EAAwBse,UAA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WAASC,YAAT,CAAsB52C,KAAtB,EAA6B;AACzB,WAAOnP,OAAO,CACVmP,KAAK,CAAC62C,MAAN,KAAkB,aAAapB,IAA/B,IACA,OAAOz1C,KAAK,CAAChsB,IAAb,KAAsB,QADtB,KAGIgsB,KAAK,CAAChsB,IAAN,CAAWkc,KAAX,CAAiBilD,kBAAjB,KACAn1C,KAAK,CAAChsB,IAAN,CAAWkc,KAAX,CAAiBklD,gBAAjB,CADA,IAEAp1C,KAAK,CAAChsB,IAAN,CAAWkc,KAAX,CAAiBmlD,sBAAjB,CALJ,CADU,CAAd;AASH;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACI,WAASrrB,IAAT,CAAc74C,OAAd,EAAuB;AACnB;AACA;AACA;AACA;AACA2kE,IAAAA,2BAA2B;;AAE3B,QAAI3kE,OAAJ,EAAa;AACT,UAAIA,OAAO,CAACskE,IAAZ,EAAkB;AACdA,QAAAA,IAAI,GAAGtkE,OAAO,CAACskE,IAAf;AACH;;AAED,UAAItkE,OAAO,CAAC2lE,WAAZ,EAAyB;AACrBL,QAAAA,eAAe,CAACtlE,OAAO,CAAC2lE,WAAT,CAAf;AACH;;AAED,UAAI3lE,OAAO,CAAC4lE,WAAZ,EAAyB;AACrBxB,QAAAA,UAAU,GAAGpkE,OAAO,CAAC4lE,WAArB;AACH;;AAED,UAAI5lE,OAAO,CAAC6lE,aAAZ,EAA2B;AACvBxB,QAAAA,YAAY,GAAGrkE,OAAO,CAAC6lE,aAAvB;AACH;;AAED,UAAI,OAAO7lE,OAAO,CAAC8lE,eAAf,KAAmC,UAAv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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADkE,CAAzC,CAAnC;;;;;;;;;;;;;;;;;;;;;AC1DA;;;;eAIemlB,WAAKxlB,MAAL,CAAY;AACzBy2C,E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A+CsqC,EAAAA,EAAAA,KAC/C0d,GAAuDh0B,EAAAA,EAAAA,KAQvD7zB,EAAAA,SAAAA,+bACJ,WAAYnoH,GAA0B,kCAC9BA,EACP,UAHGmoH,EALc61B,EAAAA,EAAAA,GAAkBh2B,EAAgBD,EAAoBioD,IAW1E,iBlOpBA;;;;;;;;;;;AmOVA;AACA,QAAQ,IAA0C;AAClD,QAAQ,iCAAO,CAAC,MAAQ,EAAE,wEAAQ,CAAC,oCAAE,OAAO;AAAA;AAAA;AAAA,kGAAC;AAC7C,MAAM,KAAK,YAQN;AACL,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,QAAQ;AAC3B;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA,KAAK;;AAEL;AACA,CAAC;;;;;;;;;;ACpOD;AACA,QAAQ,IAA0C;AAClD,QAAQ,iCAAO,CAAC,MAAQ,EAAE,iGAAoB,EAAE,sGAAc,EAAE,sFAAe,CAAC,oCAAE,OAAO;AAAA;AAAA;AAAA,kGAAC;AAC1F,MAAM,KAAK,YAQN;AACL,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA,mBAAmB,4CAA4C;AAC/D,mBAAmB,QAAQ;AAC3B;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA,SAAS;;AAET;AACA,KAAK;;AAEL;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;AC9MD;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,yCAAyC;AACzC;AACA;;AAEA,YAAY,SAAS;AACrB;AACA;;AAEA;AACA,GAAG;;AAEH;AACA,kCAAkC;AAClC;AACA;;AAEA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0BAA0B;;;;;;;;;;;AClE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD,UAAU;AACV;AACA,UAAU;AACV,8EAA8E;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,qBAAqB;AACnD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,uCAAuC,0BAA0B;AACjE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,+BAA+B,0BAA0B,eAAe;AACxE;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iDAAiD,aAAa;;AAE9D;;AAEA,CAAC,IAAI;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,eAAe;AACf,aAAa,mCAAmC,OAAO;AACvD,eAAe;AACf,eAAe;AACf,gBAAgB;AAChB;;;;;;;;;;;ACziBA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChCA,cAAc,mBAAO,CAAC,yDAAW;;AAEjC;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC7EA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA,UAAU;AACV;;AAEA;AACA;;;;;;;;;;;AChDA,SAAS,mBAAO,CAAC,oDAAM;AACvB,eAAe,mBAAO,CAAC,yDAAU;;AAEjC;AACA;AACA;AACA;AACA,WAAW,4CAA4C;AACvD,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,yBAAyB;AACpC,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,MAAM,KAA0B;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,IAAI;AACJ,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,IAAI;AACJ,EAAE;;AAEF;AACA;AACA;AACA,IAAI;AACJ,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,SAAS,YAAY;;AAErB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF,oBAAoB;;AAEpB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF,8CAA8C;AAC9C;AACA;AACA,mBAAmB,iCAAiC;AACpD,EAAE;;AAEF;AACA;;AAEA;AACA;AACA,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAU,SAAS;AACnB;AACA;;AAEA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,YAAY;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,YAAY;AACvB;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU,SAAS;AACnB;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,kCAAkC,IAAI;AACtC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,2BAA2B;AAC3B;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA,gBAAgB,IAAI;;AAEpB;AACA;;AAEA;;AAEA;AACA;AACA,0CAA0C,IAAI;AAC9C;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,GAAG;AACH,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF,UAAU;;AAEV;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;;AAEA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,0BAA0B;AACvC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS,6BAA6B;AACjD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;;AAEA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,wBAAwB;AACrC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,WAAW;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA,iCAAiC,MAAM;AACvC;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,eAAe;;AAEf,SAAS;;AAET;AACA,SAAS,gCAAgC;AACzC,SAAS,mBAAmB;AAC5B,SAAS,qCAAqC;AAC9C,SAAS;AACT,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,8DAA8D;;AAE9D;AACA;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAQ;;AAER;AACA;;AAEA;AACA;AACA,+DAA+D;;AAE/D;AACA;AACA;AACA,4CAA4C;;AAE5C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAmC;;AAEnC;AACA;AACA;AACA,+CAA+C;;AAE/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA,kEAAkE,UAAU;AAC5E,uCAAuC,2BAA2B;AAClE;AACA,iCAAiC,MAAM;AACvC;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA,WAAW,YAAY;AACvB;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA,WAAW,YAAY;AACvB;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA,WAAW,cAAc;AACzB;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;;AAEA;AACA,aAAa,uEAAuE;AACpF;AACA;AACA,aAAa,4BAA4B;AACzC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS,SAAS;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,6DAA6D;;AAE7D;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA,QAAQ;AACR;;AAEA;AACA;AACA,QAAQ;;AAER;AACA;;AAEA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA,SAAS,SAAS;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,SAAS;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ,SAAS,SAAS;AAClB;AACA;AACA,IAAI;AACJ;;AAEA;AACA;;AAEA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,iDAAiD;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;;AAEA;AACA;AACA,kDAAkD;AAClD,WAAW,4CAA4C;AACvD;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA,EAAE;;;;AAIF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA,SAAS,GAAG;AACZ;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;;;AAIA;;AAEA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA;AACA,MAAM;AACN;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA,IAAI;AACJ,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,2BAA2B,wBAAwB;;AAEnD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,2CAA2C;AAC3C,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;;;;AAIA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,QAAQ;AACR,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,yCAAyC,qCAAqC;AAC9E,qCAAqC,sCAAsC;AAC3E,qCAAqC,qCAAqC;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY;;AAEZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;AAEZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qCAAqC;AACrC,sCAAsC;AACtC,qCAAqC;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA,GAAG;AACH;;;;;AAKA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wBAAwB,aAAa;AACrC,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,SAAS;AAC7B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;;;AAGF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,EAAE;AACF;AACA;AACA;AACA,IAAI;AACJ,EAAE;AACF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;;;AAGA;;AAEA;;;;AAIA;AACA;AACA,GAAG;AACH,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS,gBAAgB;AACzB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA,EAAE;AACF;;AAEA;;AAEA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,GAAG;AACH;;AAEA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,SAAS,OAAO;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,sBAAsB;;AAEtB;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,OAAO;AAChB;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA,WAAW;;AAEX;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,eAAe,sBAAsB;AACrC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0BAA0B;AAC1B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gEAAgE;AAChE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAW,cAAc;;AAEzB;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAmB;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,uCAAuC;AAClE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,uDAAuD;AAC/E;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,IAAI;AACJ,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,+CAA+C;AACrD;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,uCAAuC;AACvC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,eAAe,oCAAoC;AACnD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;;;AAGF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA8B;;AAE9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS,+BAA+B;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wCAAwC,OAAO;AAC/C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,OAAO;AAChD;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA,UAAU,qCAAqC;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,EAAE;;AAEF;AACA;AACA;;AAEA,UAAU,8BAA8B;AACxC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ,EAAE;;AAEF;AACA;AACA,6BAA6B;AAC7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,aAAa,OAAO;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAU,WAAW;AACrB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;;;AAIA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,+CAA+C,cAAc,WAAW;AACxE,mBAAmB,UAAU;AAC7B;AACA,sBAAsB,cAAc,sBAAsB,gBAAgB;AAC1E,gBAAgB,WAAW,YAAY;AACvC,cAAc;AACd;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6CAA6C,cAAc;AAC3D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;;AAGF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,8DAA8D;AAC3E;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS,OAAO;;AAEhB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA,WAAW,OAAO;AAClB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;;AAEA,YAAY,SAAS;AACrB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;;;AAGF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;;;;;AAKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;;AAEZ;AACA;AACA;AACA,SAAS,OAAO;AAChB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS,gBAAgB;AACzB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,kDAAkD,0BAA0B;AAC5E;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAW,gBAAgB;AAC3B;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,2BAA2B;AAC3B;AACA,qBAAqB;AACrB;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,gBAAgB;AAC5B;AACA;;AAEA,8CAA8C;AAC9C;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA,SAAS,gBAAgB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,EAAE;;AAEF;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA,UAAU,gBAAgB;AAC1B;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;;AAEF;AACA,iEAAiE;AACjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,aAAa;AAClC,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA,iDAAiD;;AAEjD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA,gCAAgC,SAAS;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gCAAgC,SAAS;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,YAAY,iBAAiB;AAC7B,eAAe;AACf,CAAC;AACD;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;;AAEA,SAAS,mBAAmB;AAC5B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;;;AAKF;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;;;AAKF;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;;;;AAKF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA,kCAAkC;AAClC;AACA;;AAEA,KAAK;AACL;;AAEA,KAAK;AACL;AACA;AACA,MAAM;AACN;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,MAAM;AACN;AACA;;AAEA;AACA,YAAY,SAAS;AACrB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;;;AAKF;;;AAGA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,uCAAuC;AACvC;AACA;AACA;;AAEA;;AAEA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,4CAA4C;AAC5C;;AAEA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA,IAAI;AACJ,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,oCAAoC;;AAEpD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA,MAAM;AACN;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,cAAc;;AAEd;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ,GAAG;;AAEH;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd,MAAM;AACN;;AAEA,YAAY;AACZ,IAAI;AACJ;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB,iDAAiD;AACjD;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAU;AACV;;AAEA;;AAEA;AACA;;AAEA;AACA,iBAAiB;AACjB,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,2BAA2B;;AAE3B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kCAAkC;;AAElC;AACA,sBAAsB;AACtB,2BAA2B;;AAE3B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;;AAER;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAM;AACN;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;AACA;AACA,IAAI;AACJ,EAAE;;AAEF;AACA;;AAEA;AACA;AACA,IAAI;AACJ,EAAE;;AAEF;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;;AAEA,oDAAoD;AACpD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,uBAAuB;AACnC,YAAY,wBAAwB;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;;;AAKF;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,cAAc,uCAAuC;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;;;AAKF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,EAAE;;;;;AAKF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,KAAK;AACL,IAAI;AACJ;;AAEA;AACA;;;;;AAKA;AACA;AACA;AACA,GAAG;AACH;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;AACA;;AAEA;;AAEA;AACA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB;;AAEpB;AACA;;AAEA;AACA;;AAEA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA,EAAE;;AAEF;AACA,eAAe,qDAAqD;AACpE;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA,eAAe,kCAAkC;AACjD;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;;;AAKF;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,KAAK,IAA0C;AAC/C,CAAC,iCAAkB,EAAE,mCAAE;AACvB;AACA,EAAE;AAAA,kGAAE;AACJ;;;;;AAKA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA,EAAE;;;;;;;;;;;AChoVF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAM,SAAS,IAAyD;AACxE;;AAEA;AACA,MAAM,KAAK,0BA+BN;;AAEL,CAAC;AACD;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,cAAc;AACd;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,KAAK;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,kBAAkB;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,UAAU;AACrB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA,UAAU;AACV;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA,gCAAgC;AAChC;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,UAAU;AAC9B;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA,qBAAqB;AACrB,mBAAmB;AACnB,yBAAyB;AACzB,qBAAqB;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb,aAAa;AACb,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,mBAAmB,aAAa;AAChC,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,+CAA+C,SAAS;AACxD;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB;AACxB;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mCAAmC,eAAe;AAClD;;AAEA;AACA;AACA;;AAEA;AACA,mCAAmC,eAAe;AAClD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,iBAAiB;AACjB,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL,iBAAiB;AACjB,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,0CAA0C,+BAA+B;AACzE;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO,sCAAsC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,aAAa;AACb,SAAS;AACT,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,CAAC;;;;;;;;;;;AC//DD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;;;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAC4B;;AAE5B;AACA;;AAEA;AACA;AACA,MAAM,uDAAc;AACpB,UAAU,+CAAM;AAChB;AACA;AACA;AACA,eAAe;AACf,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,0BAA0B,IAAI;AAC9B;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uCAAuC,eAAe;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,sCAAsC;AAC3D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;;AAEd;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB;;AAEtB;AACA,uBAAuB;AACvB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ;;AAER;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wBAAwB;;AAExB;AACA,oBAAoB;AACpB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB,UAAU,cAAc;AACxC;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,KAAK;AACL;AACA,6CAA6C;AAC7C;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;AACpB;;AAEA;AACA,mCAAmC,oBAAoB;AACvD,0BAA0B,cAAc,IAAI;AAC5C;;AAEA;AACA,mCAAmC,oBAAoB,IAAI;AAC3D;;AAEA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,YAAY;;AAEZ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,8BAA8B;AAC9B,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,wBAAwB;;AAExB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,0BAA0B;AAC1B;;AAEA;AACA;;AAEA;AACA,sBAAsB;;AAEtB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,+CAA+C;;AAE/C;AACA,sDAAsD;;AAEtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB;;AAEtB;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA,QAAQ,oBAAoB;;AAE5B;AACA;AACA;AACA,4BAA4B;AAC5B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA,iBAAiB,yCAAyC;AAC1D;AACA;;AAEA;AACA,QAAQ;;AAER;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,wBAAwB;AAC7C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;;AAEF;AACA,mCAAmC;AACnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6BAA6B;AAC7B;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA,4DAA4D;;AAE5D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,eAAe;AACf;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC;AAChC,gCAAgC;;AAEhC;AACA,oBAAoB;AACpB;;AAEA;AACA,QAAQ,sBAAsB;;AAE9B;AACA;AACA;AACA;AACA;;AAEA;AACA,4EAA4E;AAC5E;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mDAAmD;AACnD;AACA;AACA,iBAAiB,yBAAyB;AAC1C,oBAAoB;;AAEpB;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB;;AAErB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,4IAA4I;AAC5I;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB;AACtB,4CAA4C;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+CAA+C;;AAE/C;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB;;AAEtB;AACA,gCAAgC;;AAEhC;AACA,gCAAgC;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C;AAC1C,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB;;AAEpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,GAAG;AACH;;AAEA;AACA,QAAQ;;AAER;AACA,aAAa;;AAEb;AACA;;AAEA,mCAAmC;;AAEnC,mCAAmC;AACnC,CAAC;AACD,wCAAwC;;AAExC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,wCAAwC;;AAExC;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;AACD,sBAAsB;;AAEtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,gCAAgC;AAChC,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,oBAAoB;AACpB,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,sBAAsB;;AAEtB;AACA,cAAc;AACd,QAAQ;AACR;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,6CAA6C;;AAE7C;AACA;AACA;;AAEA;AACA;AACA,eAAe,2BAA2B;AAC1C;AACA;AACA;;AAEA;AACA,+DAA+D;;AAE/D;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;;AAEA;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA;;AAEA;AACA,4EAA4E;;AAE5E;AACA;;AAEA;AACA,cAAc,mBAAmB;AACjC;AACA;AACA;;AAEA;AACA,wDAAwD;AACxD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;;AAE9C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,wCAAwC;;AAExC;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,oEAAoE;AACpF;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA,EAAE;;AAEF;AACA,+CAA+C;AAC/C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA,CAAC;AACD,CAAC;AACD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,8CAA8C;;AAE9C;AACA,SAAS;AACT;;AAEA;AACA,oCAAoC;AACpC,mCAAmC;AACnC,oCAAoC;AACpC,iCAAiC;AACjC,oCAAoC;AACpC,yCAAyC;;AAEzC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;;AAEd;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB,UAAU;;AAEV;AACA;AACA,2CAA2C;AAC3C,IAAI;;AAEJ;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,CAAC;AACD,yCAAyC;;AAEzC;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,+BAA+B;AACtD;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oBAAoB;;AAEpB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0DAA0D,2BAA2B;;AAErF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;;AAEA;AACA,+EAA+E,0BAA0B;AACzG;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2EAA2E,0BAA0B;;AAErG;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB,qBAAqB;;AAErB;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA,sBAAsB;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;;AAEhB;AACA,wBAAwB;;AAExB;AACA;AACA;AACA;;AAEA,+BAA+B;AAC/B,oCAAoC;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC;AAChC,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iEAAiE;;AAEjE;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;;AAEH;AACA,2BAA2B;AAC3B,EAAE;;AAEF;AACA,sBAAsB;;AAEtB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,yBAAyB;;AAEzB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA,YAAY,sDAAsD;AAClE;AACA,EAAE;;AAEF;AACA,sBAAsB;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,qCAAqC;AAClD,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mCAAmC;AACnC,oCAAoC;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC;AAClC;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAiC,6BAA6B;AAC9D,sDAAsD;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA8B;;AAE9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sDAAsD;;AAEtD;AACA,SAAS;AACT;;AAEA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,IAAI;AACJ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,UAAU;AACV,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB,KAAK;AACL;;AAEA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC,oCAAoC;AACpC;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA,2BAA2B;;AAE3B;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yBAAyB;;AAEzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,mEAAmE;;AAEnE;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA,4CAA4C;;AAE5C;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;;AAEA;AACA;AACA;AACA,4CAA4C,oBAAoB;AAChE,uDAAuD;AACvD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;;AAEA;AACA;;AAEA;AACA,kDAAkD;;AAElD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wCAAwC;AACxC,uCAAuC;AACvC,yCAAyC;AACzC,sCAAsC;;AAEtC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B;AAC3B,iCAAiC;AACjC,UAAU;;AAEV,0BAA0B;AAC1B,kCAAkC;AAClC,UAAU;;AAEV;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB;AACxB,yCAAyC;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM,oDAAoD;AAC1D,MAAM;AACN;;AAEA,yEAAyE,UAAU;AACnF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA,oBAAoB;;AAEpB;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;;AAErB;AACA;AACA;AACA;;AAEA;AACA;AACA,qDAAqD,UAAU;AAC/D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,QAAQ;;AAER;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,6FAA6F;AAC7F,yBAAyB,mBAAmB,YAAY,yBAAyB;AACjF,mEAAmE;;AAEnE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uCAAuC,6BAA6B;AACpE;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA,+CAA+C;;AAE/C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB;AACrB,oBAAoB;;AAEpB;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB;;AAEvB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UC75GD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;UENA;UACA;UACA;UACA","sources":["webpack://OktaSignIn/webpack/universalModuleDefinition","webpack://OktaSignIn/./node_modules/@sindresorhus/to-milliseconds/index.js","webpack://OktaSignIn/./node_modules/parse-ms/index.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/_commonjsHelpers.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/backbone.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/base.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/block-helper-missing.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/create-new-lookup-object.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/decorators.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/each.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/exception.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/handlebars.runtime.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/helper-missing.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/helpers.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/if.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/inline.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/js.cookie.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/log.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/logger.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/lookup.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/no-conflict.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/proto-access.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/runtime.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/safe-string.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/underscore-min.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/utils.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/with.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/_virtual/wrapHelper.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/base.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/decorators.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/decorators/inline.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/exception.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers/each.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers/helper-missing.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers/if.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers/log.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers/lookup.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/helpers/with.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/internal/create-new-lookup-object.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/internal/proto-access.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/internal/wrapHelper.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/logger.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/no-conflict.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/runtime.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/safe-string.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars/utils.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/lib/underscore/underscore-min.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/framework/Collection.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/framework/ListView.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/framework/Model.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/framework/View.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/models/BaseCollection.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/models/BaseSchema.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/models/Model.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/models/SchemaProperty.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/BaseController.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/BaseRouter.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/ButtonFactory.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/Class.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/Clipboard.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/Cookie.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/Keys.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/Logger.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/SchemaUtil.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/SettingsModel.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/StateMachine.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/StringUtil.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/TemplateUtil.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/Time.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/Util.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/ViewUtil.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-base64.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-markdown.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-xsrfTokenInput.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/markdownToHtml.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/vendor/lib/js.cookie.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/vendor/plugins/chosen.jquery.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/vendor/plugins/jquery.custominput.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/vendor/plugins/jquery.placeholder.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/BaseView.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/components/BaseButtonLink.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/components/BaseDropDown.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/components/Callout.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/components/Notification.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/BaseForm.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/BaseInput.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/components/ReadModeBar.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/components/Toolbar.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/EnumTypeHelper.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/ErrorBanner.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/ErrorParser.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/FormUtil.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/InputContainer.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/InputFactory.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/InputLabel.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/InputRegistry.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/InputWrapper.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/helpers/SchemaFormFactory.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/BooleanSelect.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/CheckBox.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/DeletableBox.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/InputGroup.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/PasswordBox.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/Radio.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/Select.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/TextBox.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/courage/views/forms/inputs/TextBoxSet.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/empty.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/index.js","webpack://OktaSignIn/./packages/@okta/courage-dist/esm/src/util/scrollParent.js","webpack://OktaSignIn/./packages/vendor/duo_web_sdk/index.js","webpack://OktaSignIn/./src/util/Animations.js","webpack://OktaSignIn/./src/util/ColorsUtil.js","webpack://OktaSignIn/./src/util/CookieUtil.js","webpack://OktaSignIn/./src/util/CountryUtil.js","webpack://OktaSignIn/./src/util/CryptoUtil.js","webpack://OktaSignIn/./src/util/Enums.js","webpack://OktaSignIn/./src/util/FactorUtil.js","webpack://OktaSignIn/./src/util/FidoUtil.js","webpack://OktaSignIn/./src/util/Hooks.js","webpack://OktaSignIn/./src/util/IDP.js","webpack://OktaSignIn/./src/util/LanguageUtil.js","webpack://OktaSignIn/./src/util/Logger.js","webpack://OktaSignIn/./src/util/OAuth2Util.js","webpack://OktaSignIn/./src/util/TimeUtil.js","webpack://OktaSignIn/./src/util/Util.js","webpack://OktaSignIn/./src/util/countryCallingCodes.js","webpack://OktaSignIn/./src/util/webauthn.js","webpack://OktaSignIn/./src/v1/views/admin-consent/ScopeItem.js","webpack://OktaSignIn/./src/v1/views/admin-consent/ScopeList.js","webpack://OktaSignIn/./src/v1/views/consent/ScopeItem.js","webpack://OktaSignIn/./src/v1/views/consent/ScopeList.js","webpack://OktaSignIn/./src/v1/views/shared/AuthContainer.js","webpack://OktaSignIn/./src/v1/views/shared/LoadingBeacon.js","webpack://OktaSignIn/./src/v2/client/constants.js","webpack://OktaSignIn/./src/v2/client/handleConfiguredFlow.js","webpack://OktaSignIn/./src/v2/client/index.js","webpack://OktaSignIn/./src/v2/client/interactionCodeFlow.js","webpack://OktaSignIn/./src/v2/client/sessionStorageHelper.js","webpack://OktaSignIn/./src/v2/ion/IonResponseHelper.js","webpack://OktaSignIn/./src/v2/ion/RemediationConstants.js","webpack://OktaSignIn/./src/v2/ion/ViewClassNamesFactory.js","webpack://OktaSignIn/./src/v2/ion/i18nTransformer.js","webpack://OktaSignIn/./src/v2/ion/responseTransformer.js","webpack://OktaSignIn/./src/v2/ion/transformIdxResponse.js","webpack://OktaSignIn/./src/v2/ion/ui-schema/ion-boolean-handler.js","webpack://OktaSignIn/./src/v2/ion/ui-schema/ion-object-handler.js","webpack://OktaSignIn/./src/v2/ion/ui-schema/ion-string-handler.js","webpack://OktaSignIn/./src/v2/ion/uiSchemaTransformer.js","webpack://OktaSignIn/./src/v2/view-builder/components/AuthenticatorEnrollOptions.js","webpack://OktaSignIn/./src/v2/view-builder/components/AuthenticatorFooter.js","webpack://OktaSignIn/./src/v2/view-builder/components/AuthenticatorVerifyOptions.js","webpack://OktaSignIn/./src/v2/view-builder/components/BaseAuthenticatorView.js","webpack://OktaSignIn/./src/v2/view-builder/components/ChallengeWebauthnFooter.js","webpack://OktaSignIn/./src/v2/view-builder/components/EmailAuthenticatorHeader.js","webpack://OktaSignIn/./src/v2/view-builder/components/HeaderBeacon.js","webpack://OktaSignIn/./src/v2/view-builder/components/IdentifierFooter.js","webpack://OktaSignIn/./src/v2/view-builder/components/Link.js","webpack://OktaSignIn/./src/v2/view-builder/components/MdmOktaVerifyTerminalView.js","webpack://OktaSignIn/./src/v2/view-builder/components/OdaOktaVerifyTerminalView.js","webpack://OktaSignIn/./src/v2/view-builder/components/OktaVerifyAuthenticatorHeader.js","webpack://OktaSignIn/./src/v2/view-builder/components/ScopeCheckBox.js","webpack://OktaSignIn/./src/v2/view-builder/components/SkipOptionalEnrollmentButton.js","webpack://OktaSignIn/./src/v2/view-builder/components/ToggleTextLink.js","webpack://OktaSignIn/./src/v2/view-builder/internals/BaseFooter.js","webpack://OktaSignIn/./src/v2/view-builder/internals/BaseFormWithPolling.js","webpack://OktaSignIn/./src/v2/view-builder/internals/BaseHeader.js","webpack://OktaSignIn/./src/v2/view-builder/internals/BaseModel.js","webpack://OktaSignIn/./src/v2/view-builder/internals/BaseOktaVerifyChallengeView.js","webpack://OktaSignIn/./src/v2/view-builder/internals/BaseView.js","webpack://OktaSignIn/./src/v2/view-builder/internals/index.js","webpack://OktaSignIn/./src/v2/view-builder/utils/AuthenticatorUtil.js","webpack://OktaSignIn/./src/v2/view-builder/utils/ChallengeViewUtil.js","webpack://OktaSignIn/./src/v2/view-builder/utils/Constants.js","webpack://OktaSignIn/./src/v2/view-builder/utils/DeviceFingerprinting.js","webpack://OktaSignIn/./src/v2/view-builder/utils/LinksUtil.js","webpack://OktaSignIn/./src/v2/view-builder/utils/TimeZone.js","webpack://OktaSignIn/./src/v2/view-builder/views/AutoRedirectView.js","webpack://OktaSignIn/./src/v2/view-builder/views/EnrollProfileUpdateView.js","webpack://OktaSignIn/./src/v2/view-builder/views/EnrollProfileView.js","webpack://OktaSignIn/./src/v2/view-builder/views/IdentifierView.js","webpack://OktaSignIn/./src/v2/view-builder/views/IdentifyRecoveryView.js","webpack://OktaSignIn/./src/v2/view-builder/views/PollView.js","webpack://OktaSignIn/./src/v2/view-builder/views/RedirectIdPView.js","webpack://OktaSignIn/./src/v2/view-builder/views/SelectAuthenticatorEnrollView.js","webpack://OktaSignIn/./src/v2/view-builder/views/SelectAuthenticatorVerifyView.js","webpack://OktaSignIn/./src/v2/view-builder/views/TerminalView.js","webpack://OktaSignIn/./src/v2/view-builder/views/activation/RequestActivationEmailView.js","webpack://OktaSignIn/./src/v2/view-builder/views/authenticator/SelectAuthenticatorUnlockAccountView.js","webpack://OktaSignIn/./src/v2/view-builder/views/captcha/CaptchaView.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/AdminConsentView.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/AdminConsentViewHeader.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/ConsentViewForm.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/EmailMagicLinkOTPTerminalView.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/EnduserConsentAgreementText.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/EnduserConsentView.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/EnduserConsentViewFooter.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/EnduserConsentViewHeader.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/EnduserEmailConsentView.js","webpack://OktaSignIn/./src/v2/view-builder/views/consent/GranularConsentView.js","webpack://OktaSignIn/./src/v2/view-builder/views/custom-app/ChallengeCustomAppResendPushView.js","webpack://OktaSignIn/./src/v2/view-builder/views/custom-otp/ChallengeCustomOTPAuthenticatorView.js","webpack://OktaSignIn/./src/v2/view-builder/views/device/DeviceChallengePollView.js","webpack://OktaSignIn/./src/v2/view-builder/views/device/DeviceCodeActivateView.js","webpack://OktaSignIn/./src/v2/view-builder/views/device/DeviceEnrollmentTerminalView.js","webpack://OktaSignIn/./src/v2/view-builder/views/device/SSOExtensionView.js","webpack://OktaSignIn/./src/v2/view-builder/views/device/SignInDeviceView.js","webpack://OktaSignIn/./src/v2/view-builder/views/duo/BaseDuoAuthenticatorForm.js","webpack://OktaSignIn/./src/v2/view-builder/views/duo/ChallengeDuoAuthenticatorView.js","webpack://OktaSignIn/./src/v2/view-builder/views/duo/EnrollDuoAuthenticatorView.js","webpack://OktaSignIn/./src/v2/view-builder/views/email/AuthenticatorEmailViewUtil.js","webpack://OktaSignIn/./src/v2/view-builder/views/email/BaseAuthenticatorEmailView.js","webpack://OktaSignIn/./src/v2/view-builder/views/email/ChallengeAuthenticatorDataEmailView.js","webpack://OktaSignIn/./src/v2/view-builder/views/email/ChallengeAuthenticatorEmailView.js","webpack://OktaSignIn/./src/v2/view-builder/views/email/EnrollAuthenticatorEmailView.js","webpack://OktaSignIn/./src/v2/view-builder/views/enroll-profile/i18nBaseAttributeMappings.js","webpack://OktaSignIn/./src/v2/view-builder/views/google-authenticator/ChallengeGoogleAuthenticatorView.js","webpack://OktaSignIn/./src/v2/view-builder/views/google-authenticator/EnrollAuthenticatorGoogleAuthenticatorView.js","webpack://OktaSignIn/./src/v2/view-builder/views/google-authenticator/EnrollAuthenticatorManualSetupView.js","webpack://OktaSignIn/./src/v2/view-builder/views/google-authenticator/EnrollGoogleAuthenticatorBarcodeView.js","webpack://OktaSignIn/./src/v2/view-builder/views/idp/AuthenticatorIdPEnrollView.js","webpack://OktaSignIn/./src/v2/view-builder/views/idp/AuthenticatorIdPVerifyView.js","webpack://OktaSignIn/./src/v2/view-builder/views/idp/BaseIdpAuthenticator.js","webpack://OktaSignIn/./src/v2/view-builder/views/on-prem/ChallengeAuthenticatorOnPremView.js","webpack://OktaSignIn/./src/v2/view-builder/views/on-prem/EnrollAuthenticatorOnPremView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/ChallengeOktaVerifyFastPassView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/ChallengeOktaVerifyResendPushView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/ChallengeOktaVerifySSOExtensionView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/ChallengeOktaVerifyTotpView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/ChallengeOktaVerifyView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/EnrollChannelPollDescriptionView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/EnrollPollOktaVerifyView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/EnrollementChannelDataOktaVerifyView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/NumberChallengePhoneView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/NumberChallengePushView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/OVResendView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/ResendNumberChallengeView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/SelectEnrollmentChannelOktaVerifyView.js","webpack://OktaSignIn/./src/v2/view-builder/views/ov/SwitchEnrollChannelLinkView.js","webpack://OktaSignIn/./src/v2/view-builder/views/password/ChallengeAuthenticatorPasswordView.js","webpack://OktaSignIn/./src/v2/view-builder/views/password/EnrollAuthenticatorPasswordView.js","webpack://OktaSignIn/./src/v2/view-builder/views/password/PasswordPolicyUtil.js","webpack://OktaSignIn/./src/v2/view-builder/views/password/ReEnrollAuthenticatorPasswordView.js","webpack://OktaSignIn/./src/v2/view-builder/views/password/ReEnrollAuthenticatorWarningPasswordView.js","webpack://OktaSignIn/./src/v2/view-builder/views/password/ResetAuthenticatorPasswordView.js","webpack://OktaSignIn/./src/v2/view-builder/views/phone/ChallengeAuthenticatorDataPhoneView.js","webpack://OktaSignIn/./src/v2/view-builder/views/phone/ChallengeAuthenticatorPhoneView.js","webpack://OktaSignIn/./src/v2/view-builder/views/phone/EnrollAuthenticatorDataPhoneView.js","webpack://OktaSignIn/./src/v2/view-builder/views/phone/EnrollAuthenticatorPhoneView.js","webpack://OktaSignIn/./src/v2/view-builder/views/piv/ChallengePIVView.js","webpack://OktaSignIn/./src/v2/view-builder/views/piv/PIVHeader.js","webpack://OktaSignIn/./src/v2/view-builder/views/security-question/ChallengeAuthenticatorSecurityQuestion.js","webpack://OktaSignIn/./src/v2/view-builder/views/security-question/EnrollAuthenticatorSecurityQuestionView.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/BaseResendView.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/ChallengeOktaVerifyCustomAppDataView.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/ChallengeOktaVerifyCustomAppFormView.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/ChallengeOktaVerifyCustomAppPushOnlyFormView.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/ChallengePushView.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/CustomAccessDeniedErrorMessage.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/email.js","webpack://OktaSignIn/./src/v2/view-builder/views/shared/polling.js","webpack://OktaSignIn/./src/v2/view-builder/views/signin/CustomButtons.js","webpack://OktaSignIn/./src/v2/view-builder/views/signin/SignInWithDeviceOption.js","webpack://OktaSignIn/./src/v2/view-builder/views/signin/SignInWithIdps.js","webpack://OktaSignIn/./src/v2/view-builder/views/signin/SignInWithWebAuthn.js","webpack://OktaSignIn/./src/v2/view-builder/views/symantec/AuthenticatorSymantecView.js","webpack://OktaSignIn/./src/v2/view-builder/views/webauthn/ChallengeWebauthnInfoView.js","webpack://OktaSignIn/./src/v2/view-builder/views/webauthn/ChallengeWebauthnView.js","webpack://OktaSignIn/./src/v2/view-builder/views/webauthn/EnrollWebAuthnResidentkeyLinkView.js","webpack://OktaSignIn/./src/v2/view-builder/views/webauthn/EnrollWebauthnInfoView.js","webpack://OktaSignIn/./src/v2/view-builder/views/webauthn/EnrollWebauthnView.js","webpack://OktaSignIn/./src/v2/view-builder/views/yubikey/AuthenticatorYubiKeyView.js","webpack://OktaSignIn/./src/widget/buildRenderOptions.js","webpack://OktaSignIn/./src/widget/createRouter.js","webpack://OktaSignIn/./src/authClient/oie.ts","webpack://OktaSignIn/./src/exports/cdn/oie.ts","webpack://OktaSignIn/./src/exports/oie.ts","webpack://OktaSignIn/./src/models/Hooks.ts","webpack://OktaSignIn/./src/models/Settings.ts","webpack://OktaSignIn/./src/router/oie.ts","webpack://OktaSignIn/./src/types/index.ts","webpack://OktaSignIn/./src/util/BrowserFeatures.ts","webpack://OktaSignIn/./src/util/Bundles.ts","webpack://OktaSignIn/./src/util/Errors.ts","webpack://OktaSignIn/./src/util/OAuthErrors.ts","webpack://OktaSignIn/./src/v1/views/shared/Header.ts","webpack://OktaSignIn/./src/v2/BaseLoginRouter.ts","webpack://OktaSignIn/./src/v2/WidgetRouter.ts","webpack://OktaSignIn/./src/v2/client/emailVerifyCallback.ts","webpack://OktaSignIn/./src/v2/client/formatError.ts","webpack://OktaSignIn/./src/v2/client/startLoginFlow.ts","webpack://OktaSignIn/./src/v2/client/updateAppState.ts","webpack://OktaSignIn/./src/v2/controllers/FormController.ts","webpack://OktaSignIn/./src/v2/mixins/mixins.ts","webpack://OktaSignIn/./src/v2/models/AppState.ts","webpack://OktaSignIn/./src/v2/view-builder/ViewFactory.ts","webpack://OktaSignIn/./src/v2/view-builder/internals/BaseForm.ts","webpack://OktaSignIn/./src/v2/view-builder/internals/FormInputFactory.ts","webpack://OktaSignIn/./src/widget/OktaSignIn.ts","webpack://OktaSignIn/./src/widget/getAuthClient.ts","webpack://OktaSignIn/OktaAuth/webpack/universalModuleDefinition","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/construct.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/createClass.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/inherits.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/typeof.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/regenerator/index.js","webpack://OktaSignIn/OktaAuth/./lib/base/factory.ts","webpack://OktaSignIn/OktaAuth/./lib/base/options.ts","webpack://OktaSignIn/OktaAuth/./node_modules/js-cookie/dist/js.cookie.mjs","webpack://OktaSignIn/OktaAuth/./lib/browser/browserStorage.ts","webpack://OktaSignIn/OktaAuth/./lib/constants.ts","webpack://OktaSignIn/OktaAuth/./lib/core/AuthStateManager.ts","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/util.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/methods/native.js","webpack://OktaSignIn/OktaAuth/./node_modules/oblivious-set/dist/es/index.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/options.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/methods/indexed-db.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/methods/localstorage.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/methods/simulate.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/method-chooser.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/broadcast-channel.js","webpack://OktaSignIn/OktaAuth/./node_modules/unload/dist/es/browser.js","webpack://OktaSignIn/OktaAuth/./node_modules/unload/dist/es/index.js","webpack://OktaSignIn/OktaAuth/./node_modules/broadcast-channel/dist/esbrowser/leader-election.js","webpack://OktaSignIn/OktaAuth/./lib/services/LeaderElectionService.ts","webpack://OktaSignIn/OktaAuth/./lib/services/AutoRenewService.ts","webpack://OktaSignIn/OktaAuth/./lib/services/SyncStorageService.ts","webpack://OktaSignIn/OktaAuth/./lib/core/ServiceManager/browser.ts","webpack://OktaSignIn/OktaAuth/./lib/core/factory.ts","webpack://OktaSignIn/OktaAuth/./lib/core/mixin.ts","webpack://OktaSignIn/OktaAuth/./lib/core/options.ts","webpack://OktaSignIn/OktaAuth/./lib/core/storage.ts","webpack://OktaSignIn/OktaAuth/./lib/crypto/base64.ts","webpack://OktaSignIn/OktaAuth/./lib/crypto/browser.ts","webpack://OktaSignIn/OktaAuth/./lib/crypto/oidcHash.ts","webpack://OktaSignIn/OktaAuth/./lib/crypto/verifyToken.ts","webpack://OktaSignIn/OktaAuth/./lib/errors/AuthApiError.ts","webpack://OktaSignIn/OktaAuth/./lib/errors/AuthPollStopError.ts","webpack://OktaSignIn/OktaAuth/./lib/errors/AuthSdkError.ts","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/construct.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack://OktaSignIn/OktaAuth/./lib/errors/CustomError.ts","webpack://OktaSignIn/OktaAuth/./lib/errors/OAuthError.ts","webpack://OktaSignIn/OktaAuth/./lib/errors/index.ts","webpack://OktaSignIn/OktaAuth/./lib/features.ts","webpack://OktaSignIn/OktaAuth/./lib/http/OktaUserAgent.ts","webpack://OktaSignIn/OktaAuth/./lib/http/headers.ts","webpack://OktaSignIn/OktaAuth/./lib/http/mixin.ts","webpack://OktaSignIn/OktaAuth/./lib/fetch/fetchRequest.ts","webpack://OktaSignIn/OktaAuth/./lib/http/options.ts","webpack://OktaSignIn/OktaAuth/./lib/http/request.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/IdxTransactionManager.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticate.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/Authenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/OktaPassword.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/util.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/cancel.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/emailVerify.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/factory/OktaAuthIdx.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/factory/api.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/flow/AuthenticationFlow.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/flow/PasswordRecoveryFlow.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/flow/RegistrationFlow.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/flow/AccountUnlockFlow.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/flow/FlowSpecification.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/handleInteractionCodeRedirect.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/idxState/v1/actionParser.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/idxState/v1/generateIdxAction.ts","webpack://OktaSignIn/OktaAuth/./node_modules/jsonpath-plus/dist/index-browser-esm.js","webpack://OktaSignIn/OktaAuth/./lib/idx/idxState/v1/idxResponseParser.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/idxState/v1/remediationParser.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/idxState/v1/parsers.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/idxState/v1/makeIdxState.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/idxState/index.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/interact.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/introspect.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/webauthn.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/mixin.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/options.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/poll.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/proceed.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/recoverPassword.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/register.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/AuthenticatorEnrollmentData.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/AuthenticatorVerificationData.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/Base/AuthenticatorData.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/Base/Remediator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/Base/SelectAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/VerificationCodeAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/OktaVerifyTotp.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/SecurityQuestionEnrollment.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/SecurityQuestionVerification.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/WebauthnEnrollment.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/WebauthnVerification.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/authenticator/getAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/Base/VerifyAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/ChallengeAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/ChallengePoll.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/EnrollAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/EnrollPoll.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/EnrollProfile.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/EnrollmentChannelData.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/Identify.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/ReEnrollAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/RedirectIdp.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/ResetAuthenticator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/SelectAuthenticatorAuthenticate.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/SelectAuthenticatorEnroll.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/SelectAuthenticatorUnlockAccount.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/SelectEnrollProfile.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/SelectEnrollmentChannel.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/Skip.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/util.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/GenericRemediator/util.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediators/GenericRemediator/GenericRemediator.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/util.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/remediate.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/run.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/startTransaction.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/storage.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/transactionMeta.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/types/api.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/types/idx-js.ts","webpack://OktaSignIn/OktaAuth/./lib/idx/unlockAccount.ts","webpack://OktaSignIn/OktaAuth/./lib/clock.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/TokenManager.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/sharedStorage.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/TransactionManager.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/decodeToken.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/endpoints/authorize.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/endpoints/token.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/endpoints/well-known.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/exchangeCodeForTokens.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/factory/api.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/factory/OktaAuthOAuth.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/getToken.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/getUserInfo.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/getWithPopup.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/getWithRedirect.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/getWithoutPrompt.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/handleOAuthResponse.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/mixin/index.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/mixin/browser.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/options/OAuthOptionsConstructor.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/options/browser.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/parseFromUrl.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/renewToken.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/renewTokens.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/renewTokensWithRefresh.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/revokeToken.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/storage.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/types/Token.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/types/TokenManager.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/types/Transaction.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/browser.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/defaultTokenParams.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/errors.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/loginRedirect.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/oauth.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/oauthMeta.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/pkce.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/prepareTokenParams.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/refreshToken.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/urlParams.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/validateClaims.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/util/validateToken.ts","webpack://OktaSignIn/OktaAuth/./lib/oidc/verifyToken.ts","webpack://OktaSignIn/OktaAuth/./lib/session/api.ts","webpack://OktaSignIn/OktaAuth/./lib/session/factory.ts","webpack://OktaSignIn/OktaAuth/./lib/session/mixin.ts","webpack://OktaSignIn/OktaAuth/./lib/storage/BaseStorageManager.ts","webpack://OktaSignIn/OktaAuth/./lib/storage/SavedObject.ts","webpack://OktaSignIn/OktaAuth/./lib/storage/mixin.ts","webpack://OktaSignIn/OktaAuth/./lib/storage/options/browser.ts","webpack://OktaSignIn/OktaAuth/./lib/storage/options/StorageOptionsConstructor.ts","webpack://OktaSignIn/OktaAuth/./lib/util/PromiseQueue.ts","webpack://OktaSignIn/OktaAuth/./lib/util/console.ts","webpack://OktaSignIn/OktaAuth/./lib/util/misc.ts","webpack://OktaSignIn/OktaAuth/./lib/util/object.ts","webpack://OktaSignIn/OktaAuth/./lib/util/types.ts","webpack://OktaSignIn/OktaAuth/./lib/util/url.ts","webpack://OktaSignIn/OktaAuth/./node_modules/p-cancelable/index.js","webpack://OktaSignIn/OktaAuth/./node_modules/cross-fetch/dist/browser-ponyfill.js","webpack://OktaSignIn/OktaAuth/./node_modules/detect-node/browser.js","webpack://OktaSignIn/OktaAuth/./node_modules/regenerator-runtime/runtime.js","webpack://OktaSignIn/OktaAuth/./node_modules/tiny-emitter/index.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/get.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://OktaSignIn/OktaAuth/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://OktaSignIn/OktaAuth/webpack/bootstrap","webpack://OktaSignIn/OktaAuth/webpack/runtime/compat get default export","webpack://OktaSignIn/OktaAuth/webpack/runtime/define property getters","webpack://OktaSignIn/OktaAuth/webpack/runtime/global","webpack://OktaSignIn/OktaAuth/webpack/runtime/hasOwnProperty shorthand","webpack://OktaSignIn/OktaAuth/webpack/runtime/make namespace object","webpack://OktaSignIn/OktaAuth/./lib/exports/idx.ts","webpack://OktaSignIn/./node_modules/clipboard/lib/clipboard-action.js","webpack://OktaSignIn/./node_modules/clipboard/lib/clipboard.js","webpack://OktaSignIn/./node_modules/clipboard/node_modules/tiny-emitter/index.js","webpack://OktaSignIn/./node_modules/cross-fetch/dist/browser-ponyfill.js","webpack://OktaSignIn/./node_modules/delegate/src/closest.js","webpack://OktaSignIn/./node_modules/delegate/src/delegate.js","webpack://OktaSignIn/./node_modules/good-listener/src/is.js","webpack://OktaSignIn/./node_modules/good-listener/src/listen.js","webpack://OktaSignIn/./node_modules/jquery/dist/jquery.js","webpack://OktaSignIn/./node_modules/q/q.js","webpack://OktaSignIn/./node_modules/select/src/select.js","webpack://OktaSignIn/./packages/@okta/qtip2/dist/jquery.qtip.js","webpack://OktaSignIn/webpack/bootstrap","webpack://OktaSignIn/webpack/runtime/compat get default export","webpack://OktaSignIn/webpack/runtime/define property getters","webpack://OktaSignIn/webpack/runtime/hasOwnProperty shorthand","webpack://OktaSignIn/webpack/runtime/make namespace object","webpack://OktaSignIn/webpack/before-startup","webpack://OktaSignIn/webpack/startup","webpack://OktaSignIn/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OktaSignIn\"] = factory();\n\telse\n\t\troot[\"OktaSignIn\"] = factory();\n})(self, function() {\nreturn ","'use strict';\n\nconst converters = {\n\tdays: value => value * 864e5,\n\thours: value => value * 36e5,\n\tminutes: value => value * 6e4,\n\tseconds: value => value * 1e3,\n\tmilliseconds: value => value,\n\tmicroseconds: value => value / 1e3,\n\tnanoseconds: value => value / 1e6\n};\n\nconst toMilliseconds = object => Object.entries(object).reduce((milliseconds, [key, value]) => {\n\tif (typeof value !== 'number') {\n\t\tthrow new TypeError(`Expected a \\`number\\` for key \\`${key}\\`, got \\`${value}\\` (${typeof value})`);\n\t}\n\n\tif (!converters[key]) {\n\t\tthrow new Error('Unsupported time key');\n\t}\n\n\treturn milliseconds + converters[key](value);\n}, 0);\n\nmodule.exports = toMilliseconds;\n// TODO: remove this for next major version\nmodule.exports.default = toMilliseconds;\n","'use strict';\nmodule.exports = milliseconds => {\n\tif (typeof milliseconds !== 'number') {\n\t\tthrow new TypeError('Expected a number');\n\t}\n\n\tconst roundTowardsZero = milliseconds > 0 ? Math.floor : Math.ceil;\n\n\treturn {\n\t\tdays: roundTowardsZero(milliseconds / 86400000),\n\t\thours: roundTowardsZero(milliseconds / 3600000) % 24,\n\t\tminutes: roundTowardsZero(milliseconds / 60000) % 60,\n\t\tseconds: roundTowardsZero(milliseconds / 1000) % 60,\n\t\tmilliseconds: roundTowardsZero(milliseconds) % 1000,\n\t\tmicroseconds: roundTowardsZero(milliseconds * 1000) % 1000,\n\t\tnanoseconds: roundTowardsZero(milliseconds * 1e6) % 1000\n\t};\n};\n","var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nexport { commonjsGlobal, getDefaultExportFromCjs };\n","var backbone = {exports: {}};\n\nexport { backbone as b };\n","var base = {};\n\nexport { base as __exports };\n","var blockHelperMissing = {exports: {}};\n\nexport { blockHelperMissing as b };\n","var createNewLookupObject = {};\n\nexport { createNewLookupObject as __exports };\n","var decorators = {};\n\nexport { decorators as __exports };\n","var each = {exports: {}};\n\nexport { each as e };\n","var exception = {exports: {}};\n\nexport { exception as e };\n","var handlebars_runtime = {exports: {}};\n\nexport { handlebars_runtime as h };\n","var helperMissing = {exports: {}};\n\nexport { helperMissing as h };\n","var helpers = {};\n\nexport { helpers as __exports };\n","var _if = {exports: {}};\n\nexport { _if as _ };\n","var inline = {exports: {}};\n\nexport { inline as i };\n","var js_cookie = {exports: {}};\n\nexport { js_cookie as j };\n","var log = {exports: {}};\n\nexport { log as l };\n","var logger = {exports: {}};\n\nexport { logger as l };\n","var lookup = {exports: {}};\n\nexport { lookup as l };\n","var noConflict = {exports: {}};\n\nexport { noConflict as n };\n","var protoAccess = {};\n\nexport { protoAccess as __exports };\n","var runtime = {};\n\nexport { runtime as __exports };\n","var safeString = {exports: {}};\n\nexport { safeString as s };\n","var underscoreMin = {exports: {}};\n\nexport { underscoreMin as u };\n","var utils = {};\n\nexport { utils as __exports };\n","var _with = {exports: {}};\n\nexport { _with as _ };\n","var wrapHelper = {};\n\nexport { wrapHelper as __exports };\n","import { getDefaultExportFromCjs } from '../../../../_virtual/_commonjsHelpers.js';\nimport { h as handlebars_runtime } from '../../../../_virtual/handlebars.runtime.js';\nimport './handlebars/base.js';\nimport './handlebars/safe-string.js';\nimport './handlebars/exception.js';\nimport './handlebars/utils.js';\nimport './handlebars/runtime.js';\nimport './handlebars/no-conflict.js';\nimport { __exports as base } from '../../../../_virtual/base.js';\nimport { __exports as utils } from '../../../../_virtual/utils.js';\nimport { __exports as runtime } from '../../../../_virtual/runtime.js';\nimport { e as exception } from '../../../../_virtual/exception.js';\nimport { n as noConflict } from '../../../../_virtual/no-conflict.js';\nimport { s as safeString } from '../../../../_virtual/safe-string.js';\n\n(function (module, exports) {\n\nexports.__esModule = true; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n} // istanbul ignore next\n\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nvar _handlebarsBase = base;\n\nvar base$1 = _interopRequireWildcard(_handlebarsBase); // Each of these augment the Handlebars object. No need to setup here.\n// (This is done to easily share code between commonjs and browse envs)\n\n\nvar _handlebarsSafeString = safeString.exports;\n\nvar _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);\n\nvar _handlebarsException = exception.exports;\n\nvar _handlebarsException2 = _interopRequireDefault(_handlebarsException);\n\nvar _handlebarsUtils = utils;\n\nvar Utils = _interopRequireWildcard(_handlebarsUtils);\n\nvar _handlebarsRuntime = runtime;\n\nvar runtime$1 = _interopRequireWildcard(_handlebarsRuntime);\n\nvar _handlebarsNoConflict = noConflict.exports;\n\nvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict); // For compatibility and usage outside of module systems, make the Handlebars object a namespace\n\n\nfunction create() {\n  var hb = new base$1.HandlebarsEnvironment();\n  Utils.extend(hb, base$1);\n  hb.SafeString = _handlebarsSafeString2['default'];\n  hb.Exception = _handlebarsException2['default'];\n  hb.Utils = Utils;\n  hb.escapeExpression = Utils.escapeExpression;\n  hb.VM = runtime$1;\n\n  hb.template = function (spec) {\n    return runtime$1.template(spec, hb);\n  };\n\n  return hb;\n}\n\nvar inst = create();\ninst.create = create;\n\n_handlebarsNoConflict2['default'](inst);\n\ninst['default'] = inst;\nexports['default'] = inst;\nmodule.exports = exports['default'];\n}(handlebars_runtime, handlebars_runtime.exports));\n\nvar _Handlebars2 = /*@__PURE__*/getDefaultExportFromCjs(handlebars_runtime.exports);\n\nexport { _Handlebars2 as default };\n","import { __exports as base } from '../../../../../_virtual/base.js';\nexport { __exports as default } from '../../../../../_virtual/base.js';\nimport './utils.js';\nimport './exception.js';\nimport './helpers.js';\nimport './decorators.js';\nimport './logger.js';\nimport './internal/proto-access.js';\nimport { __exports as utils } from '../../../../../_virtual/utils.js';\nimport { __exports as protoAccess } from '../../../../../_virtual/proto-access.js';\nimport { __exports as helpers } from '../../../../../_virtual/helpers.js';\nimport { __exports as decorators } from '../../../../../_virtual/decorators.js';\nimport { l as logger } from '../../../../../_virtual/logger.js';\nimport { e as exception } from '../../../../../_virtual/exception.js';\n\nbase.__esModule = true;\nbase.HandlebarsEnvironment = HandlebarsEnvironment; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _utils = utils;\n\nvar _exception = exception.exports;\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _helpers = helpers;\n\nvar _decorators = decorators;\n\nvar _logger = logger.exports;\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _internalProtoAccess = protoAccess;\n\nvar VERSION = '4.7.7';\nbase.VERSION = VERSION;\nvar COMPILER_REVISION = 8;\nbase.COMPILER_REVISION = COMPILER_REVISION;\nvar LAST_COMPATIBLE_COMPILER_REVISION = 7;\nbase.LAST_COMPATIBLE_COMPILER_REVISION = LAST_COMPATIBLE_COMPILER_REVISION;\nvar REVISION_CHANGES = {\n  1: '<= 1.0.rc.2',\n  // 1.0.rc.2 is actually rev2 but doesn't report it\n  2: '== 1.0.0-rc.3',\n  3: '== 1.0.0-rc.4',\n  4: '== 1.x.x',\n  5: '== 2.0.0-alpha.x',\n  6: '>= 2.0.0-beta.1',\n  7: '>= 4.0.0 <4.3.0',\n  8: '>= 4.3.0'\n};\nbase.REVISION_CHANGES = REVISION_CHANGES;\nvar objectType = '[object Object]';\n\nfunction HandlebarsEnvironment(helpers, partials, decorators) {\n  this.helpers = helpers || {};\n  this.partials = partials || {};\n  this.decorators = decorators || {};\n\n  _helpers.registerDefaultHelpers(this);\n\n  _decorators.registerDefaultDecorators(this);\n}\n\nHandlebarsEnvironment.prototype = {\n  constructor: HandlebarsEnvironment,\n  logger: _logger2['default'],\n  log: _logger2['default'].log,\n  registerHelper: function registerHelper(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple helpers');\n      }\n\n      _utils.extend(this.helpers, name);\n    } else {\n      this.helpers[name] = fn;\n    }\n  },\n  unregisterHelper: function unregisterHelper(name) {\n    delete this.helpers[name];\n  },\n  registerPartial: function registerPartial(name, partial) {\n    if (_utils.toString.call(name) === objectType) {\n      _utils.extend(this.partials, name);\n    } else {\n      if (typeof partial === 'undefined') {\n        throw new _exception2['default']('Attempting to register a partial called \"' + name + '\" as undefined');\n      }\n\n      this.partials[name] = partial;\n    }\n  },\n  unregisterPartial: function unregisterPartial(name) {\n    delete this.partials[name];\n  },\n  registerDecorator: function registerDecorator(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple decorators');\n      }\n\n      _utils.extend(this.decorators, name);\n    } else {\n      this.decorators[name] = fn;\n    }\n  },\n  unregisterDecorator: function unregisterDecorator(name) {\n    delete this.decorators[name];\n  },\n\n  /**\n   * Reset the memory of illegal property accesses that have already been logged.\n   * @deprecated should only be used in handlebars test-cases\n   */\n  resetLoggedPropertyAccesses: function resetLoggedPropertyAccesses() {\n    _internalProtoAccess.resetLoggedProperties();\n  }\n};\nvar log = _logger2['default'].log;\nbase.log = log;\nbase.createFrame = _utils.createFrame;\nbase.logger = _logger2['default'];\n","import { __exports as decorators } from '../../../../../_virtual/decorators.js';\nexport { __exports as default } from '../../../../../_virtual/decorators.js';\nimport './decorators/inline.js';\nimport { i as inline } from '../../../../../_virtual/inline.js';\n\ndecorators.__esModule = true;\ndecorators.registerDefaultDecorators = registerDefaultDecorators; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _decoratorsInline = inline.exports;\n\nvar _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);\n\nfunction registerDefaultDecorators(instance) {\n  _decoratorsInline2['default'](instance);\n}\n","import { i as inline } from '../../../../../../_virtual/inline.js';\nimport '../utils.js';\nimport { __exports as utils } from '../../../../../../_virtual/utils.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\n\nvar _utils = utils;\n\nexports['default'] = function (instance) {\n  instance.registerDecorator('inline', function (fn, props, container, options) {\n    var ret = fn;\n\n    if (!props.partials) {\n      props.partials = {};\n\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n}(inline, inline.exports));\n","import { e as exception } from '../../../../../_virtual/exception.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\nvar errorProps = ['description', 'fileName', 'lineNumber', 'endLineNumber', 'message', 'name', 'number', 'stack'];\n\nfunction Exception(message, node) {\n  var loc = node && node.loc,\n      line = undefined,\n      endLineNumber = undefined,\n      column = undefined,\n      endColumn = undefined;\n\n  if (loc) {\n    line = loc.start.line;\n    endLineNumber = loc.end.line;\n    column = loc.start.column;\n    endColumn = loc.end.column;\n    message += ' - ' + line + ':' + column;\n  }\n\n  var tmp = Error.prototype.constructor.call(this, message); // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n\n  for (var idx = 0; idx < errorProps.length; idx++) {\n    this[errorProps[idx]] = tmp[errorProps[idx]];\n  }\n  /* istanbul ignore else */\n\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, Exception);\n  }\n\n  try {\n    if (loc) {\n      this.lineNumber = line;\n      this.endLineNumber = endLineNumber; // Work around issue under safari where we can't directly set the column value\n\n      /* istanbul ignore next */\n\n      if (Object.defineProperty) {\n        Object.defineProperty(this, 'column', {\n          value: column,\n          enumerable: true\n        });\n        Object.defineProperty(this, 'endColumn', {\n          value: endColumn,\n          enumerable: true\n        });\n      } else {\n        this.column = column;\n        this.endColumn = endColumn;\n      }\n    }\n  } catch (nop) {\n    /* Ignore if the browser is very particular */\n  }\n}\n\nException.prototype = new Error();\nexports['default'] = Exception;\nmodule.exports = exports['default'];\n}(exception, exception.exports));\n","import { __exports as helpers } from '../../../../../_virtual/helpers.js';\nexport { __exports as default } from '../../../../../_virtual/helpers.js';\nimport './helpers/block-helper-missing.js';\nimport './helpers/each.js';\nimport './helpers/helper-missing.js';\nimport './helpers/if.js';\nimport './helpers/log.js';\nimport './helpers/lookup.js';\nimport './helpers/with.js';\nimport { e as each } from '../../../../../_virtual/each.js';\nimport { h as helperMissing } from '../../../../../_virtual/helper-missing.js';\nimport { _ as _if } from '../../../../../_virtual/if.js';\nimport { l as log } from '../../../../../_virtual/log.js';\nimport { l as lookup } from '../../../../../_virtual/lookup.js';\nimport { _ as _with } from '../../../../../_virtual/with.js';\nimport { b as blockHelperMissing } from '../../../../../_virtual/block-helper-missing.js';\n\nhelpers.__esModule = true;\nhelpers.registerDefaultHelpers = registerDefaultHelpers;\nhelpers.moveHelperToHooks = moveHelperToHooks; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _helpersBlockHelperMissing = blockHelperMissing.exports;\n\nvar _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);\n\nvar _helpersEach = each.exports;\n\nvar _helpersEach2 = _interopRequireDefault(_helpersEach);\n\nvar _helpersHelperMissing = helperMissing.exports;\n\nvar _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);\n\nvar _helpersIf = _if.exports;\n\nvar _helpersIf2 = _interopRequireDefault(_helpersIf);\n\nvar _helpersLog = log.exports;\n\nvar _helpersLog2 = _interopRequireDefault(_helpersLog);\n\nvar _helpersLookup = lookup.exports;\n\nvar _helpersLookup2 = _interopRequireDefault(_helpersLookup);\n\nvar _helpersWith = _with.exports;\n\nvar _helpersWith2 = _interopRequireDefault(_helpersWith);\n\nfunction registerDefaultHelpers(instance) {\n  _helpersBlockHelperMissing2['default'](instance);\n\n  _helpersEach2['default'](instance);\n\n  _helpersHelperMissing2['default'](instance);\n\n  _helpersIf2['default'](instance);\n\n  _helpersLog2['default'](instance);\n\n  _helpersLookup2['default'](instance);\n\n  _helpersWith2['default'](instance);\n}\n\nfunction moveHelperToHooks(instance, helperName, keepHelper) {\n  if (instance.helpers[helperName]) {\n    instance.hooks[helperName] = instance.helpers[helperName];\n\n    if (!keepHelper) {\n      delete instance.helpers[helperName];\n    }\n  }\n}\n","import { b as blockHelperMissing } from '../../../../../../_virtual/block-helper-missing.js';\nimport '../utils.js';\nimport { __exports as utils } from '../../../../../../_virtual/utils.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\n\nvar _utils = utils;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('blockHelperMissing', function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = {\n          data: data\n        };\n      }\n\n      return fn(context, options);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n}(blockHelperMissing, blockHelperMissing.exports));\n","import { commonjsGlobal } from '../../../../../../_virtual/_commonjsHelpers.js';\nimport { e as each } from '../../../../../../_virtual/each.js';\nimport '../utils.js';\nimport '../exception.js';\nimport { __exports as utils } from '../../../../../../_virtual/utils.js';\nimport { e as exception } from '../../../../../../_virtual/exception.js';\n\n(function (module, exports) {\n\nexports.__esModule = true; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _utils = utils;\n\nvar _exception = exception.exports;\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('each', function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else if (commonjsGlobal.Symbol && context[commonjsGlobal.Symbol.iterator]) {\n        var newContext = [];\n        var iterator = context[commonjsGlobal.Symbol.iterator]();\n\n        for (var it = iterator.next(); !it.done; it = iterator.next()) {\n          newContext.push(it.value);\n        }\n\n        context = newContext;\n\n        for (var j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        (function () {\n          var priorKey = undefined;\n          Object.keys(context).forEach(function (key) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n\n            priorKey = key;\n            i++;\n          });\n\n          if (priorKey !== undefined) {\n            execIteration(priorKey, i - 1, true);\n          }\n        })();\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n}(each, each.exports));\n","import { h as helperMissing } from '../../../../../../_virtual/helper-missing.js';\nimport '../exception.js';\nimport { e as exception } from '../../../../../../_virtual/exception.js';\n\n(function (module, exports) {\n\nexports.__esModule = true; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _exception = exception.exports;\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('helperMissing', function ()\n  /* [args, ]options */\n  {\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n}(helperMissing, helperMissing.exports));\n","import { _ as _if } from '../../../../../../_virtual/if.js';\nimport '../utils.js';\nimport '../exception.js';\nimport { __exports as utils } from '../../../../../../_virtual/utils.js';\nimport { e as exception } from '../../../../../../_virtual/exception.js';\n\n(function (module, exports) {\n\nexports.__esModule = true; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _utils = utils;\n\nvar _exception = exception.exports;\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('if', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#if requires exactly one argument');\n    }\n\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    } // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n\n\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  });\n  instance.registerHelper('unless', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#unless requires exactly one argument');\n    }\n\n    return instance.helpers['if'].call(this, conditional, {\n      fn: options.inverse,\n      inverse: options.fn,\n      hash: options.hash\n    });\n  });\n};\n\nmodule.exports = exports['default'];\n}(_if, _if.exports));\n","import { l as log } from '../../../../../../_virtual/log.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('log', function ()\n  /* message, options */\n  {\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n\n    args[0] = level;\n    instance.log.apply(instance, args);\n  });\n};\n\nmodule.exports = exports['default'];\n}(log, log.exports));\n","import { l as lookup } from '../../../../../../_virtual/lookup.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('lookup', function (obj, field, options) {\n    if (!obj) {\n      // Note for 5.0: Change to \"obj == null\" in 5.0\n      return obj;\n    }\n\n    return options.lookupProperty(obj, field);\n  });\n};\n\nmodule.exports = exports['default'];\n}(lookup, lookup.exports));\n","import { _ as _with } from '../../../../../../_virtual/with.js';\nimport '../utils.js';\nimport '../exception.js';\nimport { __exports as utils } from '../../../../../../_virtual/utils.js';\nimport { e as exception } from '../../../../../../_virtual/exception.js';\n\n(function (module, exports) {\n\nexports.__esModule = true; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _utils = utils;\n\nvar _exception = exception.exports;\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('with', function (context, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#with requires exactly one argument');\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n}(_with, _with.exports));\n","import { __exports as createNewLookupObject$1 } from '../../../../../../_virtual/create-new-lookup-object.js';\nexport { __exports as default } from '../../../../../../_virtual/create-new-lookup-object.js';\nimport '../utils.js';\nimport { __exports as utils } from '../../../../../../_virtual/utils.js';\n\ncreateNewLookupObject$1.__esModule = true;\ncreateNewLookupObject$1.createNewLookupObject = createNewLookupObject;\n\nvar _utils = utils;\n/**\n * Create a new object with \"null\"-prototype to avoid truthy results on prototype properties.\n * The resulting object can be used with \"object[property]\" to check if a property exists\n * @param {...object} sources a varargs parameter of source objects that will be merged\n * @returns {object}\n */\n\n\nfunction createNewLookupObject() {\n  for (var _len = arguments.length, sources = Array(_len), _key = 0; _key < _len; _key++) {\n    sources[_key] = arguments[_key];\n  }\n\n  return _utils.extend.apply(undefined, [Object.create(null)].concat(sources));\n}\n","import { __exports as protoAccess } from '../../../../../../_virtual/proto-access.js';\nexport { __exports as default } from '../../../../../../_virtual/proto-access.js';\nimport './create-new-lookup-object.js';\nimport '../logger.js';\nimport { __exports as createNewLookupObject } from '../../../../../../_virtual/create-new-lookup-object.js';\nimport { l as logger$1 } from '../../../../../../_virtual/logger.js';\n\nprotoAccess.__esModule = true;\nprotoAccess.createProtoAccessControl = createProtoAccessControl;\nprotoAccess.resultIsAllowed = resultIsAllowed;\nprotoAccess.resetLoggedProperties = resetLoggedProperties; // istanbul ignore next\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nvar _createNewLookupObject = createNewLookupObject;\n\nvar _logger = logger$1.exports;\n\nvar logger = _interopRequireWildcard(_logger);\n\nvar loggedProperties = Object.create(null);\n\nfunction createProtoAccessControl(runtimeOptions) {\n  var defaultMethodWhiteList = Object.create(null);\n  defaultMethodWhiteList['constructor'] = false;\n  defaultMethodWhiteList['__defineGetter__'] = false;\n  defaultMethodWhiteList['__defineSetter__'] = false;\n  defaultMethodWhiteList['__lookupGetter__'] = false;\n  var defaultPropertyWhiteList = Object.create(null); // eslint-disable-next-line no-proto\n\n  defaultPropertyWhiteList['__proto__'] = false;\n  return {\n    properties: {\n      whitelist: _createNewLookupObject.createNewLookupObject(defaultPropertyWhiteList, runtimeOptions.allowedProtoProperties),\n      defaultValue: runtimeOptions.allowProtoPropertiesByDefault\n    },\n    methods: {\n      whitelist: _createNewLookupObject.createNewLookupObject(defaultMethodWhiteList, runtimeOptions.allowedProtoMethods),\n      defaultValue: runtimeOptions.allowProtoMethodsByDefault\n    }\n  };\n}\n\nfunction resultIsAllowed(result, protoAccessControl, propertyName) {\n  if (typeof result === 'function') {\n    return checkWhiteList(protoAccessControl.methods, propertyName);\n  } else {\n    return checkWhiteList(protoAccessControl.properties, propertyName);\n  }\n}\n\nfunction checkWhiteList(protoAccessControlForType, propertyName) {\n  if (protoAccessControlForType.whitelist[propertyName] !== undefined) {\n    return protoAccessControlForType.whitelist[propertyName] === true;\n  }\n\n  if (protoAccessControlForType.defaultValue !== undefined) {\n    return protoAccessControlForType.defaultValue;\n  }\n\n  logUnexpecedPropertyAccessOnce(propertyName);\n  return false;\n}\n\nfunction logUnexpecedPropertyAccessOnce(propertyName) {\n  if (loggedProperties[propertyName] !== true) {\n    loggedProperties[propertyName] = true;\n    logger.log('error', 'Handlebars: Access has been denied to resolve the property \"' + propertyName + '\" because it is not an \"own property\" of its parent.\\n' + 'You can add a runtime option to disable the check or this warning:\\n' + 'See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details');\n  }\n}\n\nfunction resetLoggedProperties() {\n  Object.keys(loggedProperties).forEach(function (propertyName) {\n    delete loggedProperties[propertyName];\n  });\n}\n","import { __exports as wrapHelper$1 } from '../../../../../../_virtual/wrapHelper.js';\nexport { __exports as default } from '../../../../../../_virtual/wrapHelper.js';\n\nwrapHelper$1.__esModule = true;\nwrapHelper$1.wrapHelper = wrapHelper;\n\nfunction wrapHelper(helper, transformOptionsFn) {\n  if (typeof helper !== 'function') {\n    // This should not happen, but apparently it does in https://github.com/wycats/handlebars.js/issues/1639\n    // We try to make the wrapper least-invasive by not wrapping it, if the helper is not a function.\n    return helper;\n  }\n\n  var wrapper = function wrapper()\n  /* dynamic arguments */\n  {\n    var options = arguments[arguments.length - 1];\n    arguments[arguments.length - 1] = transformOptionsFn(options);\n    return helper.apply(this, arguments);\n  };\n\n  return wrapper;\n}\n","import { l as logger } from '../../../../../_virtual/logger.js';\nimport './utils.js';\nimport { __exports as utils } from '../../../../../_virtual/utils.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\n\nvar _utils = utils;\n\nvar logger = {\n  methodMap: ['debug', 'info', 'warn', 'error'],\n  level: 'info',\n  // Maps a given level value to the `methodMap` indexes above.\n  lookupLevel: function lookupLevel(level) {\n    if (typeof level === 'string') {\n      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());\n\n      if (levelMap >= 0) {\n        level = levelMap;\n      } else {\n        level = parseInt(level, 10);\n      }\n    }\n\n    return level;\n  },\n  // Can be overridden in the host environment\n  log: function log(level) {\n    level = logger.lookupLevel(level);\n\n    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\n      var method = logger.methodMap[level]; // eslint-disable-next-line no-console\n\n      if (!console[method]) {\n        method = 'log';\n      }\n\n      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        message[_key - 1] = arguments[_key];\n      }\n\n      console[method].apply(console, message); // eslint-disable-line no-console\n    }\n  }\n};\nexports['default'] = logger;\nmodule.exports = exports['default'];\n}(logger, logger.exports));\n","import { commonjsGlobal } from '../../../../../_virtual/_commonjsHelpers.js';\nimport { n as noConflict } from '../../../../../_virtual/no-conflict.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\n\nexports['default'] = function (Handlebars) {\n  /* istanbul ignore next */\n  var root = typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : window,\n      $Handlebars = root.Handlebars;\n  /* istanbul ignore next */\n\n  Handlebars.noConflict = function () {\n    if (root.Handlebars === Handlebars) {\n      root.Handlebars = $Handlebars;\n    }\n\n    return Handlebars;\n  };\n};\n\nmodule.exports = exports['default'];\n}(noConflict, noConflict.exports));\n","import { __exports as runtime } from '../../../../../_virtual/runtime.js';\nexport { __exports as default } from '../../../../../_virtual/runtime.js';\nimport './utils.js';\nimport './exception.js';\nimport './base.js';\nimport './helpers.js';\nimport './internal/wrapHelper.js';\nimport './internal/proto-access.js';\nimport { __exports as utils } from '../../../../../_virtual/utils.js';\nimport { __exports as base } from '../../../../../_virtual/base.js';\nimport { __exports as protoAccess } from '../../../../../_virtual/proto-access.js';\nimport { __exports as helpers } from '../../../../../_virtual/helpers.js';\nimport { __exports as wrapHelper } from '../../../../../_virtual/wrapHelper.js';\nimport { e as exception } from '../../../../../_virtual/exception.js';\n\nruntime.__esModule = true;\nruntime.checkRevision = checkRevision;\nruntime.template = template;\nruntime.wrapProgram = wrapProgram;\nruntime.resolvePartial = resolvePartial;\nruntime.invokePartial = invokePartial;\nruntime.noop = noop; // istanbul ignore next\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n} // istanbul ignore next\n\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nvar _utils = utils;\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _exception = exception.exports;\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _base = base;\n\nvar _helpers = helpers;\n\nvar _internalWrapHelper = wrapHelper;\n\nvar _internalProtoAccess = protoAccess;\n\nfunction checkRevision(compilerInfo) {\n  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\n      currentRevision = _base.COMPILER_REVISION;\n\n  if (compilerRevision >= _base.LAST_COMPATIBLE_COMPILER_REVISION && compilerRevision <= _base.COMPILER_REVISION) {\n    return;\n  }\n\n  if (compilerRevision < _base.LAST_COMPATIBLE_COMPILER_REVISION) {\n    var runtimeVersions = _base.REVISION_CHANGES[currentRevision],\n        compilerVersions = _base.REVISION_CHANGES[compilerRevision];\n    throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n  } else {\n    // Use the embedded version info since the runtime doesn't know about this revision yet\n    throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n  }\n}\n\nfunction template(templateSpec, env) {\n  /* istanbul ignore next */\n  if (!env) {\n    throw new _exception2['default']('No environment passed to template');\n  }\n\n  if (!templateSpec || !templateSpec.main) {\n    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);\n  }\n\n  templateSpec.main.decorator = templateSpec.main_d; // Note: Using env.VM references rather than local var references throughout this section to allow\n  // for external users to override these as pseudo-supported APIs.\n\n  env.VM.checkRevision(templateSpec.compiler); // backwards compatibility for precompiled templates with compiler-version 7 (<4.3.0)\n\n  var templateWasPrecompiledWithCompilerV7 = templateSpec.compiler && templateSpec.compiler[0] === 7;\n\n  function invokePartialWrapper(partial, context, options) {\n    if (options.hash) {\n      context = Utils.extend({}, context, options.hash);\n\n      if (options.ids) {\n        options.ids[0] = true;\n      }\n    }\n\n    partial = env.VM.resolvePartial.call(this, partial, context, options);\n    var extendedOptions = Utils.extend({}, options, {\n      hooks: this.hooks,\n      protoAccessControl: this.protoAccessControl\n    });\n    var result = env.VM.invokePartial.call(this, partial, context, extendedOptions);\n\n    if (result == null && env.compile) {\n      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n      result = options.partials[options.name](context, extendedOptions);\n    }\n\n    if (result != null) {\n      if (options.indent) {\n        var lines = result.split('\\n');\n\n        for (var i = 0, l = lines.length; i < l; i++) {\n          if (!lines[i] && i + 1 === l) {\n            break;\n          }\n\n          lines[i] = options.indent + lines[i];\n        }\n\n        result = lines.join('\\n');\n      }\n\n      return result;\n    } else {\n      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n    }\n  } // Just add water\n\n\n  var container = {\n    strict: function strict(obj, name, loc) {\n      if (!obj || !(name in obj)) {\n        throw new _exception2['default']('\"' + name + '\" not defined in ' + obj, {\n          loc: loc\n        });\n      }\n\n      return container.lookupProperty(obj, name);\n    },\n    lookupProperty: function lookupProperty(parent, propertyName) {\n      var result = parent[propertyName];\n\n      if (result == null) {\n        return result;\n      }\n\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return result;\n      }\n\n      if (_internalProtoAccess.resultIsAllowed(result, container.protoAccessControl, propertyName)) {\n        return result;\n      }\n\n      return undefined;\n    },\n    lookup: function lookup(depths, name) {\n      var len = depths.length;\n\n      for (var i = 0; i < len; i++) {\n        var result = depths[i] && container.lookupProperty(depths[i], name);\n\n        if (result != null) {\n          return depths[i][name];\n        }\n      }\n    },\n    lambda: function lambda(current, context) {\n      return typeof current === 'function' ? current.call(context) : current;\n    },\n    escapeExpression: Utils.escapeExpression,\n    invokePartial: invokePartialWrapper,\n    fn: function fn(i) {\n      var ret = templateSpec[i];\n      ret.decorator = templateSpec[i + '_d'];\n      return ret;\n    },\n    programs: [],\n    program: function program(i, data, declaredBlockParams, blockParams, depths) {\n      var programWrapper = this.programs[i],\n          fn = this.fn(i);\n\n      if (data || depths || blockParams || declaredBlockParams) {\n        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n      } else if (!programWrapper) {\n        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n      }\n\n      return programWrapper;\n    },\n    data: function data(value, depth) {\n      while (value && depth--) {\n        value = value._parent;\n      }\n\n      return value;\n    },\n    mergeIfNeeded: function mergeIfNeeded(param, common) {\n      var obj = param || common;\n\n      if (param && common && param !== common) {\n        obj = Utils.extend({}, common, param);\n      }\n\n      return obj;\n    },\n    // An empty object to use as replacement for null-contexts\n    nullContext: Object.seal({}),\n    noop: env.VM.noop,\n    compilerInfo: templateSpec.compiler\n  };\n\n  function ret(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n    var data = options.data;\n\n    ret._setup(options);\n\n    if (!options.partial && templateSpec.useData) {\n      data = initData(context, data);\n    }\n\n    var depths = undefined,\n        blockParams = templateSpec.useBlockParams ? [] : undefined;\n\n    if (templateSpec.useDepths) {\n      if (options.depths) {\n        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;\n      } else {\n        depths = [context];\n      }\n    }\n\n    function main(context\n    /*, options*/\n    ) {\n      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n    }\n\n    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n    return main(context, options);\n  }\n\n  ret.isTop = true;\n\n  ret._setup = function (options) {\n    if (!options.partial) {\n      var mergedHelpers = Utils.extend({}, env.helpers, options.helpers);\n      wrapHelpersToPassLookupProperty(mergedHelpers, container);\n      container.helpers = mergedHelpers;\n\n      if (templateSpec.usePartial) {\n        // Use mergeIfNeeded here to prevent compiling global partials multiple times\n        container.partials = container.mergeIfNeeded(options.partials, env.partials);\n      }\n\n      if (templateSpec.usePartial || templateSpec.useDecorators) {\n        container.decorators = Utils.extend({}, env.decorators, options.decorators);\n      }\n\n      container.hooks = {};\n      container.protoAccessControl = _internalProtoAccess.createProtoAccessControl(options);\n      var keepHelperInHelpers = options.allowCallsToHelperMissing || templateWasPrecompiledWithCompilerV7;\n\n      _helpers.moveHelperToHooks(container, 'helperMissing', keepHelperInHelpers);\n\n      _helpers.moveHelperToHooks(container, 'blockHelperMissing', keepHelperInHelpers);\n    } else {\n      container.protoAccessControl = options.protoAccessControl; // internal option\n\n      container.helpers = options.helpers;\n      container.partials = options.partials;\n      container.decorators = options.decorators;\n      container.hooks = options.hooks;\n    }\n  };\n\n  ret._child = function (i, data, blockParams, depths) {\n    if (templateSpec.useBlockParams && !blockParams) {\n      throw new _exception2['default']('must pass block params');\n    }\n\n    if (templateSpec.useDepths && !depths) {\n      throw new _exception2['default']('must pass parent depths');\n    }\n\n    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n  };\n\n  return ret;\n}\n\nfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n  function prog(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n    var currentDepths = depths;\n\n    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\n      currentDepths = [context].concat(depths);\n    }\n\n    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);\n  }\n\n  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n  prog.program = i;\n  prog.depth = depths ? depths.length : 0;\n  prog.blockParams = declaredBlockParams || 0;\n  return prog;\n}\n/**\n * This is currently part of the official API, therefore implementation details should not be changed.\n */\n\n\nfunction resolvePartial(partial, context, options) {\n  if (!partial) {\n    if (options.name === '@partial-block') {\n      partial = options.data['partial-block'];\n    } else {\n      partial = options.partials[options.name];\n    }\n  } else if (!partial.call && !options.name) {\n    // This is a dynamic partial that returned a string\n    options.name = partial;\n    partial = options.partials[partial];\n  }\n\n  return partial;\n}\n\nfunction invokePartial(partial, context, options) {\n  // Use the current closure context to save the partial-block if this partial\n  var currentPartialBlock = options.data && options.data['partial-block'];\n  options.partial = true;\n\n  if (options.ids) {\n    options.data.contextPath = options.ids[0] || options.data.contextPath;\n  }\n\n  var partialBlock = undefined;\n\n  if (options.fn && options.fn !== noop) {\n    (function () {\n      options.data = _base.createFrame(options.data); // Wrapper function to get access to currentPartialBlock from the closure\n\n      var fn = options.fn;\n\n      partialBlock = options.data['partial-block'] = function partialBlockWrapper(context) {\n        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1]; // Restore the partial-block from the closure for the execution of the block\n        // i.e. the part inside the block of the partial call.\n\n        options.data = _base.createFrame(options.data);\n        options.data['partial-block'] = currentPartialBlock;\n        return fn(context, options);\n      };\n\n      if (fn.partials) {\n        options.partials = Utils.extend({}, options.partials, fn.partials);\n      }\n    })();\n  }\n\n  if (partial === undefined && partialBlock) {\n    partial = partialBlock;\n  }\n\n  if (partial === undefined) {\n    throw new _exception2['default']('The partial ' + options.name + ' could not be found');\n  } else if (partial instanceof Function) {\n    return partial(context, options);\n  }\n}\n\nfunction noop() {\n  return '';\n}\n\nfunction initData(context, data) {\n  if (!data || !('root' in data)) {\n    data = data ? _base.createFrame(data) : {};\n    data.root = context;\n  }\n\n  return data;\n}\n\nfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n  if (fn.decorator) {\n    var props = {};\n    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n    Utils.extend(prog, props);\n  }\n\n  return prog;\n}\n\nfunction wrapHelpersToPassLookupProperty(mergedHelpers, container) {\n  Object.keys(mergedHelpers).forEach(function (helperName) {\n    var helper = mergedHelpers[helperName];\n    mergedHelpers[helperName] = passLookupPropertyOption(helper, container);\n  });\n}\n\nfunction passLookupPropertyOption(helper, container) {\n  var lookupProperty = container.lookupProperty;\n  return _internalWrapHelper.wrapHelper(helper, function (options) {\n    return Utils.extend({\n      lookupProperty: lookupProperty\n    }, options);\n  });\n}\n","import { s as safeString } from '../../../../../_virtual/safe-string.js';\n\n(function (module, exports) {\n\nexports.__esModule = true;\n\nfunction SafeString(string) {\n  this.string = string;\n}\n\nSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\n  return '' + this.string;\n};\n\nexports['default'] = SafeString;\nmodule.exports = exports['default'];\n}(safeString, safeString.exports));\n","import { __exports as utils } from '../../../../../_virtual/utils.js';\nexport { __exports as default } from '../../../../../_virtual/utils.js';\n\nutils.__esModule = true;\nutils.extend = extend;\nutils.indexOf = indexOf;\nutils.escapeExpression = escapeExpression;\nutils.isEmpty = isEmpty;\nutils.createFrame = createFrame;\nutils.blockParams = blockParams;\nutils.appendContextPath = appendContextPath;\nvar escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n  '=': '&#x3D;'\n};\nvar badChars = /[&<>\"'`=]/g,\n    possible = /[&<>\"'`=]/;\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nfunction extend(obj\n/* , ...source */\n) {\n  for (var i = 1; i < arguments.length; i++) {\n    for (var key in arguments[i]) {\n      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n        obj[key] = arguments[i][key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nvar toString = Object.prototype.toString;\nutils.toString = toString; // Sourced from lodash\n// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n\n/* eslint-disable func-style */\n\nvar isFunction = function isFunction(value) {\n  return typeof value === 'function';\n}; // fallback for older versions of Chrome and Safari\n\n/* istanbul ignore next */\n\n\nif (isFunction(/x/)) {\n  utils.isFunction = isFunction = function (value) {\n    return typeof value === 'function' && toString.call(value) === '[object Function]';\n  };\n}\n\nutils.isFunction = isFunction;\n/* eslint-enable func-style */\n\n/* istanbul ignore next */\n\nvar isArray = Array.isArray || function (value) {\n  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;\n};\n\nutils.isArray = isArray; // Older IE versions do not directly support indexOf so we must implement our own, sadly.\n\nfunction indexOf(array, value) {\n  for (var i = 0, len = array.length; i < len; i++) {\n    if (array[i] === value) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nfunction escapeExpression(string) {\n  if (typeof string !== 'string') {\n    // don't escape SafeStrings, since they're already safe\n    if (string && string.toHTML) {\n      return string.toHTML();\n    } else if (string == null) {\n      return '';\n    } else if (!string) {\n      return string + '';\n    } // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object's to string has escaped characters in it.\n\n\n    string = '' + string;\n  }\n\n  if (!possible.test(string)) {\n    return string;\n  }\n\n  return string.replace(badChars, escapeChar);\n}\n\nfunction isEmpty(value) {\n  if (!value && value !== 0) {\n    return true;\n  } else if (isArray(value) && value.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction createFrame(object) {\n  var frame = extend({}, object);\n  frame._parent = object;\n  return frame;\n}\n\nfunction blockParams(params, ids) {\n  params.path = ids;\n  return params;\n}\n\nfunction appendContextPath(contextPath, id) {\n  return (contextPath ? contextPath + '.' : '') + id;\n}\n","import { commonjsGlobal } from '../../_virtual/_commonjsHelpers.js';\nimport { u as underscoreMin } from '../../_virtual/underscore-min.js';\n\n(function (module, exports) {\n!function (n, r) {\n  module.exports = r() ;\n}(commonjsGlobal, function () {\n  //     Underscore.js 1.13.1\n  //     https://underscorejs.org\n  //     (c) 2009-2021 Jeremy Ashkenas, Julian Gonggrijp, and DocumentCloud and Investigative Reporters & Editors\n  //     Underscore may be freely distributed under the MIT license.\n  var n = \"1.13.1\",\n      r = \"object\" == typeof self && self.self === self && self || \"object\" == typeof commonjsGlobal && commonjsGlobal.global === commonjsGlobal && commonjsGlobal || Function(\"return this\")() || {},\n      t = Array.prototype,\n      e = Object.prototype,\n      u = \"undefined\" != typeof Symbol ? Symbol.prototype : null,\n      o = t.push,\n      i = t.slice,\n      a = e.toString,\n      f = e.hasOwnProperty,\n      c = \"undefined\" != typeof ArrayBuffer,\n      l = \"undefined\" != typeof DataView,\n      s = Array.isArray,\n      p = Object.keys,\n      v = Object.create,\n      h = c && ArrayBuffer.isView,\n      y = isNaN,\n      d = isFinite,\n      g = !{\n    toString: null\n  }.propertyIsEnumerable(\"toString\"),\n      b = [\"valueOf\", \"isPrototypeOf\", \"toString\", \"propertyIsEnumerable\", \"hasOwnProperty\", \"toLocaleString\"],\n      m = Math.pow(2, 53) - 1;\n\n  function j(n, r) {\n    return r = null == r ? n.length - 1 : +r, function () {\n      for (var t = Math.max(arguments.length - r, 0), e = Array(t), u = 0; u < t; u++) e[u] = arguments[u + r];\n\n      switch (r) {\n        case 0:\n          return n.call(this, e);\n\n        case 1:\n          return n.call(this, arguments[0], e);\n\n        case 2:\n          return n.call(this, arguments[0], arguments[1], e);\n      }\n\n      var o = Array(r + 1);\n\n      for (u = 0; u < r; u++) o[u] = arguments[u];\n\n      return o[r] = e, n.apply(this, o);\n    };\n  }\n\n  function _(n) {\n    var r = typeof n;\n    return \"function\" === r || \"object\" === r && !!n;\n  }\n\n  function w(n) {\n    return void 0 === n;\n  }\n\n  function A(n) {\n    return !0 === n || !1 === n || \"[object Boolean]\" === a.call(n);\n  }\n\n  function x(n) {\n    var r = \"[object \" + n + \"]\";\n    return function (n) {\n      return a.call(n) === r;\n    };\n  }\n\n  var S = x(\"String\"),\n      O = x(\"Number\"),\n      M = x(\"Date\"),\n      E = x(\"RegExp\"),\n      B = x(\"Error\"),\n      N = x(\"Symbol\"),\n      I = x(\"ArrayBuffer\"),\n      T = x(\"Function\"),\n      k = r.document && r.document.childNodes;\n  \"function\" != typeof /./ && \"object\" != typeof Int8Array && \"function\" != typeof k && (T = function (n) {\n    return \"function\" == typeof n || !1;\n  });\n  var D = T,\n      R = x(\"Object\"),\n      F = l && R(new DataView(new ArrayBuffer(8))),\n      V = \"undefined\" != typeof Map && R(new Map()),\n      P = x(\"DataView\");\n  var q = F ? function (n) {\n    return null != n && D(n.getInt8) && I(n.buffer);\n  } : P,\n      U = s || x(\"Array\");\n\n  function W(n, r) {\n    return null != n && f.call(n, r);\n  }\n\n  var z = x(\"Arguments\");\n  !function () {\n    z(arguments) || (z = function (n) {\n      return W(n, \"callee\");\n    });\n  }();\n  var L = z;\n\n  function $(n) {\n    return O(n) && y(n);\n  }\n\n  function C(n) {\n    return function () {\n      return n;\n    };\n  }\n\n  function K(n) {\n    return function (r) {\n      var t = n(r);\n      return \"number\" == typeof t && t >= 0 && t <= m;\n    };\n  }\n\n  function J(n) {\n    return function (r) {\n      return null == r ? void 0 : r[n];\n    };\n  }\n\n  var G = J(\"byteLength\"),\n      H = K(G),\n      Q = /\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;\n  var X = c ? function (n) {\n    return h ? h(n) && !q(n) : H(n) && Q.test(a.call(n));\n  } : C(!1),\n      Y = J(\"length\");\n\n  function Z(n, r) {\n    r = function (n) {\n      for (var r = {}, t = n.length, e = 0; e < t; ++e) r[n[e]] = !0;\n\n      return {\n        contains: function (n) {\n          return r[n];\n        },\n        push: function (t) {\n          return r[t] = !0, n.push(t);\n        }\n      };\n    }(r);\n\n    var t = b.length,\n        u = n.constructor,\n        o = D(u) && u.prototype || e,\n        i = \"constructor\";\n\n    for (W(n, i) && !r.contains(i) && r.push(i); t--;) (i = b[t]) in n && n[i] !== o[i] && !r.contains(i) && r.push(i);\n  }\n\n  function nn(n) {\n    if (!_(n)) return [];\n    if (p) return p(n);\n    var r = [];\n\n    for (var t in n) W(n, t) && r.push(t);\n\n    return g && Z(n, r), r;\n  }\n\n  function rn(n, r) {\n    var t = nn(r),\n        e = t.length;\n    if (null == n) return !e;\n\n    for (var u = Object(n), o = 0; o < e; o++) {\n      var i = t[o];\n      if (r[i] !== u[i] || !(i in u)) return !1;\n    }\n\n    return !0;\n  }\n\n  function tn(n) {\n    return n instanceof tn ? n : this instanceof tn ? void (this._wrapped = n) : new tn(n);\n  }\n\n  function en(n) {\n    return new Uint8Array(n.buffer || n, n.byteOffset || 0, G(n));\n  }\n\n  tn.VERSION = n, tn.prototype.value = function () {\n    return this._wrapped;\n  }, tn.prototype.valueOf = tn.prototype.toJSON = tn.prototype.value, tn.prototype.toString = function () {\n    return String(this._wrapped);\n  };\n  var un = \"[object DataView]\";\n\n  function on(n, r, t, e) {\n    if (n === r) return 0 !== n || 1 / n == 1 / r;\n    if (null == n || null == r) return !1;\n    if (n != n) return r != r;\n    var o = typeof n;\n    return (\"function\" === o || \"object\" === o || \"object\" == typeof r) && function n(r, t, e, o) {\n      r instanceof tn && (r = r._wrapped);\n      t instanceof tn && (t = t._wrapped);\n      var i = a.call(r);\n      if (i !== a.call(t)) return !1;\n\n      if (F && \"[object Object]\" == i && q(r)) {\n        if (!q(t)) return !1;\n        i = un;\n      }\n\n      switch (i) {\n        case \"[object RegExp]\":\n        case \"[object String]\":\n          return \"\" + r == \"\" + t;\n\n        case \"[object Number]\":\n          return +r != +r ? +t != +t : 0 == +r ? 1 / +r == 1 / t : +r == +t;\n\n        case \"[object Date]\":\n        case \"[object Boolean]\":\n          return +r == +t;\n\n        case \"[object Symbol]\":\n          return u.valueOf.call(r) === u.valueOf.call(t);\n\n        case \"[object ArrayBuffer]\":\n        case un:\n          return n(en(r), en(t), e, o);\n      }\n\n      var f = \"[object Array]\" === i;\n\n      if (!f && X(r)) {\n        if (G(r) !== G(t)) return !1;\n        if (r.buffer === t.buffer && r.byteOffset === t.byteOffset) return !0;\n        f = !0;\n      }\n\n      if (!f) {\n        if (\"object\" != typeof r || \"object\" != typeof t) return !1;\n        var c = r.constructor,\n            l = t.constructor;\n        if (c !== l && !(D(c) && c instanceof c && D(l) && l instanceof l) && \"constructor\" in r && \"constructor\" in t) return !1;\n      }\n\n      o = o || [];\n      var s = (e = e || []).length;\n\n      for (; s--;) if (e[s] === r) return o[s] === t;\n\n      if (e.push(r), o.push(t), f) {\n        if ((s = r.length) !== t.length) return !1;\n\n        for (; s--;) if (!on(r[s], t[s], e, o)) return !1;\n      } else {\n        var p,\n            v = nn(r);\n        if (s = v.length, nn(t).length !== s) return !1;\n\n        for (; s--;) if (p = v[s], !W(t, p) || !on(r[p], t[p], e, o)) return !1;\n      }\n\n      return e.pop(), o.pop(), !0;\n    }(n, r, t, e);\n  }\n\n  function an(n) {\n    if (!_(n)) return [];\n    var r = [];\n\n    for (var t in n) r.push(t);\n\n    return g && Z(n, r), r;\n  }\n\n  function fn(n) {\n    var r = Y(n);\n    return function (t) {\n      if (null == t) return !1;\n      var e = an(t);\n      if (Y(e)) return !1;\n\n      for (var u = 0; u < r; u++) if (!D(t[n[u]])) return !1;\n\n      return n !== hn || !D(t[cn]);\n    };\n  }\n\n  var cn = \"forEach\",\n      ln = \"has\",\n      sn = [\"clear\", \"delete\"],\n      pn = [\"get\", ln, \"set\"],\n      vn = sn.concat(cn, pn),\n      hn = sn.concat(pn),\n      yn = [\"add\"].concat(sn, cn, ln),\n      dn = V ? fn(vn) : x(\"Map\"),\n      gn = V ? fn(hn) : x(\"WeakMap\"),\n      bn = V ? fn(yn) : x(\"Set\"),\n      mn = x(\"WeakSet\");\n\n  function jn(n) {\n    for (var r = nn(n), t = r.length, e = Array(t), u = 0; u < t; u++) e[u] = n[r[u]];\n\n    return e;\n  }\n\n  function _n(n) {\n    for (var r = {}, t = nn(n), e = 0, u = t.length; e < u; e++) r[n[t[e]]] = t[e];\n\n    return r;\n  }\n\n  function wn(n) {\n    var r = [];\n\n    for (var t in n) D(n[t]) && r.push(t);\n\n    return r.sort();\n  }\n\n  function An(n, r) {\n    return function (t) {\n      var e = arguments.length;\n      if (r && (t = Object(t)), e < 2 || null == t) return t;\n\n      for (var u = 1; u < e; u++) for (var o = arguments[u], i = n(o), a = i.length, f = 0; f < a; f++) {\n        var c = i[f];\n        r && void 0 !== t[c] || (t[c] = o[c]);\n      }\n\n      return t;\n    };\n  }\n\n  var xn = An(an),\n      Sn = An(nn),\n      On = An(an, !0);\n\n  function Mn(n) {\n    if (!_(n)) return {};\n    if (v) return v(n);\n\n    var r = function () {};\n\n    r.prototype = n;\n    var t = new r();\n    return r.prototype = null, t;\n  }\n\n  function En(n) {\n    return _(n) ? U(n) ? n.slice() : xn({}, n) : n;\n  }\n\n  function Bn(n) {\n    return U(n) ? n : [n];\n  }\n\n  function Nn(n) {\n    return tn.toPath(n);\n  }\n\n  function In(n, r) {\n    for (var t = r.length, e = 0; e < t; e++) {\n      if (null == n) return;\n      n = n[r[e]];\n    }\n\n    return t ? n : void 0;\n  }\n\n  function Tn(n, r, t) {\n    var e = In(n, Nn(r));\n    return w(e) ? t : e;\n  }\n\n  function kn(n) {\n    return n;\n  }\n\n  function Dn(n) {\n    return n = Sn({}, n), function (r) {\n      return rn(r, n);\n    };\n  }\n\n  function Rn(n) {\n    return n = Nn(n), function (r) {\n      return In(r, n);\n    };\n  }\n\n  function Fn(n, r, t) {\n    if (void 0 === r) return n;\n\n    switch (null == t ? 3 : t) {\n      case 1:\n        return function (t) {\n          return n.call(r, t);\n        };\n\n      case 3:\n        return function (t, e, u) {\n          return n.call(r, t, e, u);\n        };\n\n      case 4:\n        return function (t, e, u, o) {\n          return n.call(r, t, e, u, o);\n        };\n    }\n\n    return function () {\n      return n.apply(r, arguments);\n    };\n  }\n\n  function Vn(n, r, t) {\n    return null == n ? kn : D(n) ? Fn(n, r, t) : _(n) && !U(n) ? Dn(n) : Rn(n);\n  }\n\n  function Pn(n, r) {\n    return Vn(n, r, 1 / 0);\n  }\n\n  function qn(n, r, t) {\n    return tn.iteratee !== Pn ? tn.iteratee(n, r) : Vn(n, r, t);\n  }\n\n  function Un() {}\n\n  function Wn(n, r) {\n    return null == r && (r = n, n = 0), n + Math.floor(Math.random() * (r - n + 1));\n  }\n\n  tn.toPath = Bn, tn.iteratee = Pn;\n\n  var zn = Date.now || function () {\n    return new Date().getTime();\n  };\n\n  function Ln(n) {\n    var r = function (r) {\n      return n[r];\n    },\n        t = \"(?:\" + nn(n).join(\"|\") + \")\",\n        e = RegExp(t),\n        u = RegExp(t, \"g\");\n\n    return function (n) {\n      return n = null == n ? \"\" : \"\" + n, e.test(n) ? n.replace(u, r) : n;\n    };\n  }\n\n  var $n = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    '\"': \"&quot;\",\n    \"'\": \"&#x27;\",\n    \"`\": \"&#x60;\"\n  },\n      Cn = Ln($n),\n      Kn = Ln(_n($n)),\n      Jn = tn.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  },\n      Gn = /(.)^/,\n      Hn = {\n    \"'\": \"'\",\n    \"\\\\\": \"\\\\\",\n    \"\\r\": \"r\",\n    \"\\n\": \"n\",\n    \"\\u2028\": \"u2028\",\n    \"\\u2029\": \"u2029\"\n  },\n      Qn = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  function Xn(n) {\n    return \"\\\\\" + Hn[n];\n  }\n\n  var Yn = /^\\s*(\\w|\\$)+\\s*$/;\n  var Zn = 0;\n\n  function nr(n, r, t, e, u) {\n    if (!(e instanceof r)) return n.apply(t, u);\n    var o = Mn(n.prototype),\n        i = n.apply(o, u);\n    return _(i) ? i : o;\n  }\n\n  var rr = j(function (n, r) {\n    var t = rr.placeholder,\n        e = function () {\n      for (var u = 0, o = r.length, i = Array(o), a = 0; a < o; a++) i[a] = r[a] === t ? arguments[u++] : r[a];\n\n      for (; u < arguments.length;) i.push(arguments[u++]);\n\n      return nr(n, e, this, this, i);\n    };\n\n    return e;\n  });\n  rr.placeholder = tn;\n  var tr = j(function (n, r, t) {\n    if (!D(n)) throw new TypeError(\"Bind must be called on a function\");\n    var e = j(function (u) {\n      return nr(n, e, r, this, t.concat(u));\n    });\n    return e;\n  }),\n      er = K(Y);\n\n  function ur(n, r, t, e) {\n    if (e = e || [], r || 0 === r) {\n      if (r <= 0) return e.concat(n);\n    } else r = 1 / 0;\n\n    for (var u = e.length, o = 0, i = Y(n); o < i; o++) {\n      var a = n[o];\n      if (er(a) && (U(a) || L(a))) {\n        if (r > 1) ur(a, r - 1, t, e), u = e.length;else for (var f = 0, c = a.length; f < c;) e[u++] = a[f++];\n      } else t || (e[u++] = a);\n    }\n\n    return e;\n  }\n\n  var or = j(function (n, r) {\n    var t = (r = ur(r, !1, !1)).length;\n    if (t < 1) throw new Error(\"bindAll must be passed function names\");\n\n    for (; t--;) {\n      var e = r[t];\n      n[e] = tr(n[e], n);\n    }\n\n    return n;\n  });\n  var ir = j(function (n, r, t) {\n    return setTimeout(function () {\n      return n.apply(null, t);\n    }, r);\n  }),\n      ar = rr(ir, tn, 1);\n\n  function fr(n) {\n    return function () {\n      return !n.apply(this, arguments);\n    };\n  }\n\n  function cr(n, r) {\n    var t;\n    return function () {\n      return --n > 0 && (t = r.apply(this, arguments)), n <= 1 && (r = null), t;\n    };\n  }\n\n  var lr = rr(cr, 2);\n\n  function sr(n, r, t) {\n    r = qn(r, t);\n\n    for (var e, u = nn(n), o = 0, i = u.length; o < i; o++) if (r(n[e = u[o]], e, n)) return e;\n  }\n\n  function pr(n) {\n    return function (r, t, e) {\n      t = qn(t, e);\n\n      for (var u = Y(r), o = n > 0 ? 0 : u - 1; o >= 0 && o < u; o += n) if (t(r[o], o, r)) return o;\n\n      return -1;\n    };\n  }\n\n  var vr = pr(1),\n      hr = pr(-1);\n\n  function yr(n, r, t, e) {\n    for (var u = (t = qn(t, e, 1))(r), o = 0, i = Y(n); o < i;) {\n      var a = Math.floor((o + i) / 2);\n      t(n[a]) < u ? o = a + 1 : i = a;\n    }\n\n    return o;\n  }\n\n  function dr(n, r, t) {\n    return function (e, u, o) {\n      var a = 0,\n          f = Y(e);\n      if (\"number\" == typeof o) n > 0 ? a = o >= 0 ? o : Math.max(o + f, a) : f = o >= 0 ? Math.min(o + 1, f) : o + f + 1;else if (t && o && f) return e[o = t(e, u)] === u ? o : -1;\n      if (u != u) return (o = r(i.call(e, a, f), $)) >= 0 ? o + a : -1;\n\n      for (o = n > 0 ? a : f - 1; o >= 0 && o < f; o += n) if (e[o] === u) return o;\n\n      return -1;\n    };\n  }\n\n  var gr = dr(1, vr, yr),\n      br = dr(-1, hr);\n\n  function mr(n, r, t) {\n    var e = (er(n) ? vr : sr)(n, r, t);\n    if (void 0 !== e && -1 !== e) return n[e];\n  }\n\n  function jr(n, r, t) {\n    var e, u;\n    if (r = Fn(r, t), er(n)) for (e = 0, u = n.length; e < u; e++) r(n[e], e, n);else {\n      var o = nn(n);\n\n      for (e = 0, u = o.length; e < u; e++) r(n[o[e]], o[e], n);\n    }\n    return n;\n  }\n\n  function _r(n, r, t) {\n    r = qn(r, t);\n\n    for (var e = !er(n) && nn(n), u = (e || n).length, o = Array(u), i = 0; i < u; i++) {\n      var a = e ? e[i] : i;\n      o[i] = r(n[a], a, n);\n    }\n\n    return o;\n  }\n\n  function wr(n) {\n    var r = function (r, t, e, u) {\n      var o = !er(r) && nn(r),\n          i = (o || r).length,\n          a = n > 0 ? 0 : i - 1;\n\n      for (u || (e = r[o ? o[a] : a], a += n); a >= 0 && a < i; a += n) {\n        var f = o ? o[a] : a;\n        e = t(e, r[f], f, r);\n      }\n\n      return e;\n    };\n\n    return function (n, t, e, u) {\n      var o = arguments.length >= 3;\n      return r(n, Fn(t, u, 4), e, o);\n    };\n  }\n\n  var Ar = wr(1),\n      xr = wr(-1);\n\n  function Sr(n, r, t) {\n    var e = [];\n    return r = qn(r, t), jr(n, function (n, t, u) {\n      r(n, t, u) && e.push(n);\n    }), e;\n  }\n\n  function Or(n, r, t) {\n    r = qn(r, t);\n\n    for (var e = !er(n) && nn(n), u = (e || n).length, o = 0; o < u; o++) {\n      var i = e ? e[o] : o;\n      if (!r(n[i], i, n)) return !1;\n    }\n\n    return !0;\n  }\n\n  function Mr(n, r, t) {\n    r = qn(r, t);\n\n    for (var e = !er(n) && nn(n), u = (e || n).length, o = 0; o < u; o++) {\n      var i = e ? e[o] : o;\n      if (r(n[i], i, n)) return !0;\n    }\n\n    return !1;\n  }\n\n  function Er(n, r, t, e) {\n    return er(n) || (n = jn(n)), (\"number\" != typeof t || e) && (t = 0), gr(n, r, t) >= 0;\n  }\n\n  var Br = j(function (n, r, t) {\n    var e, u;\n    return D(r) ? u = r : (r = Nn(r), e = r.slice(0, -1), r = r[r.length - 1]), _r(n, function (n) {\n      var o = u;\n\n      if (!o) {\n        if (e && e.length && (n = In(n, e)), null == n) return;\n        o = n[r];\n      }\n\n      return null == o ? o : o.apply(n, t);\n    });\n  });\n\n  function Nr(n, r) {\n    return _r(n, Rn(r));\n  }\n\n  function Ir(n, r, t) {\n    var e,\n        u,\n        o = -1 / 0,\n        i = -1 / 0;\n    if (null == r || \"number\" == typeof r && \"object\" != typeof n[0] && null != n) for (var a = 0, f = (n = er(n) ? n : jn(n)).length; a < f; a++) null != (e = n[a]) && e > o && (o = e);else r = qn(r, t), jr(n, function (n, t, e) {\n      ((u = r(n, t, e)) > i || u === -1 / 0 && o === -1 / 0) && (o = n, i = u);\n    });\n    return o;\n  }\n\n  function Tr(n, r, t) {\n    if (null == r || t) return er(n) || (n = jn(n)), n[Wn(n.length - 1)];\n    var e = er(n) ? En(n) : jn(n),\n        u = Y(e);\n    r = Math.max(Math.min(r, u), 0);\n\n    for (var o = u - 1, i = 0; i < r; i++) {\n      var a = Wn(i, o),\n          f = e[i];\n      e[i] = e[a], e[a] = f;\n    }\n\n    return e.slice(0, r);\n  }\n\n  function kr(n, r) {\n    return function (t, e, u) {\n      var o = r ? [[], []] : {};\n      return e = qn(e, u), jr(t, function (r, u) {\n        var i = e(r, u, t);\n        n(o, r, i);\n      }), o;\n    };\n  }\n\n  var Dr = kr(function (n, r, t) {\n    W(n, t) ? n[t].push(r) : n[t] = [r];\n  }),\n      Rr = kr(function (n, r, t) {\n    n[t] = r;\n  }),\n      Fr = kr(function (n, r, t) {\n    W(n, t) ? n[t]++ : n[t] = 1;\n  }),\n      Vr = kr(function (n, r, t) {\n    n[t ? 0 : 1].push(r);\n  }, !0),\n      Pr = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n\n  function qr(n, r, t) {\n    return r in t;\n  }\n\n  var Ur = j(function (n, r) {\n    var t = {},\n        e = r[0];\n    if (null == n) return t;\n    D(e) ? (r.length > 1 && (e = Fn(e, r[1])), r = an(n)) : (e = qr, r = ur(r, !1, !1), n = Object(n));\n\n    for (var u = 0, o = r.length; u < o; u++) {\n      var i = r[u],\n          a = n[i];\n      e(a, i, n) && (t[i] = a);\n    }\n\n    return t;\n  }),\n      Wr = j(function (n, r) {\n    var t,\n        e = r[0];\n    return D(e) ? (e = fr(e), r.length > 1 && (t = r[1])) : (r = _r(ur(r, !1, !1), String), e = function (n, t) {\n      return !Er(r, t);\n    }), Ur(n, e, t);\n  });\n\n  function zr(n, r, t) {\n    return i.call(n, 0, Math.max(0, n.length - (null == r || t ? 1 : r)));\n  }\n\n  function Lr(n, r, t) {\n    return null == n || n.length < 1 ? null == r || t ? void 0 : [] : null == r || t ? n[0] : zr(n, n.length - r);\n  }\n\n  function $r(n, r, t) {\n    return i.call(n, null == r || t ? 1 : r);\n  }\n\n  var Cr = j(function (n, r) {\n    return r = ur(r, !0, !0), Sr(n, function (n) {\n      return !Er(r, n);\n    });\n  }),\n      Kr = j(function (n, r) {\n    return Cr(n, r);\n  });\n\n  function Jr(n, r, t, e) {\n    A(r) || (e = t, t = r, r = !1), null != t && (t = qn(t, e));\n\n    for (var u = [], o = [], i = 0, a = Y(n); i < a; i++) {\n      var f = n[i],\n          c = t ? t(f, i, n) : f;\n      r && !t ? (i && o === c || u.push(f), o = c) : t ? Er(o, c) || (o.push(c), u.push(f)) : Er(u, f) || u.push(f);\n    }\n\n    return u;\n  }\n\n  var Gr = j(function (n) {\n    return Jr(ur(n, !0, !0));\n  });\n\n  function Hr(n) {\n    for (var r = n && Ir(n, Y).length || 0, t = Array(r), e = 0; e < r; e++) t[e] = Nr(n, e);\n\n    return t;\n  }\n\n  var Qr = j(Hr);\n\n  function Xr(n, r) {\n    return n._chain ? tn(r).chain() : r;\n  }\n\n  function Yr(n) {\n    return jr(wn(n), function (r) {\n      var t = tn[r] = n[r];\n\n      tn.prototype[r] = function () {\n        var n = [this._wrapped];\n        return o.apply(n, arguments), Xr(this, t.apply(tn, n));\n      };\n    }), tn;\n  }\n\n  jr([\"pop\", \"push\", \"reverse\", \"shift\", \"sort\", \"splice\", \"unshift\"], function (n) {\n    var r = t[n];\n\n    tn.prototype[n] = function () {\n      var t = this._wrapped;\n      return null != t && (r.apply(t, arguments), \"shift\" !== n && \"splice\" !== n || 0 !== t.length || delete t[0]), Xr(this, t);\n    };\n  }), jr([\"concat\", \"join\", \"slice\"], function (n) {\n    var r = t[n];\n\n    tn.prototype[n] = function () {\n      var n = this._wrapped;\n      return null != n && (n = r.apply(n, arguments)), Xr(this, n);\n    };\n  });\n  var Zr = Yr({\n    __proto__: null,\n    VERSION: n,\n    restArguments: j,\n    isObject: _,\n    isNull: function (n) {\n      return null === n;\n    },\n    isUndefined: w,\n    isBoolean: A,\n    isElement: function (n) {\n      return !(!n || 1 !== n.nodeType);\n    },\n    isString: S,\n    isNumber: O,\n    isDate: M,\n    isRegExp: E,\n    isError: B,\n    isSymbol: N,\n    isArrayBuffer: I,\n    isDataView: q,\n    isArray: U,\n    isFunction: D,\n    isArguments: L,\n    isFinite: function (n) {\n      return !N(n) && d(n) && !isNaN(parseFloat(n));\n    },\n    isNaN: $,\n    isTypedArray: X,\n    isEmpty: function (n) {\n      if (null == n) return !0;\n      var r = Y(n);\n      return \"number\" == typeof r && (U(n) || S(n) || L(n)) ? 0 === r : 0 === Y(nn(n));\n    },\n    isMatch: rn,\n    isEqual: function (n, r) {\n      return on(n, r);\n    },\n    isMap: dn,\n    isWeakMap: gn,\n    isSet: bn,\n    isWeakSet: mn,\n    keys: nn,\n    allKeys: an,\n    values: jn,\n    pairs: function (n) {\n      for (var r = nn(n), t = r.length, e = Array(t), u = 0; u < t; u++) e[u] = [r[u], n[r[u]]];\n\n      return e;\n    },\n    invert: _n,\n    functions: wn,\n    methods: wn,\n    extend: xn,\n    extendOwn: Sn,\n    assign: Sn,\n    defaults: On,\n    create: function (n, r) {\n      var t = Mn(n);\n      return r && Sn(t, r), t;\n    },\n    clone: En,\n    tap: function (n, r) {\n      return r(n), n;\n    },\n    get: Tn,\n    has: function (n, r) {\n      for (var t = (r = Nn(r)).length, e = 0; e < t; e++) {\n        var u = r[e];\n        if (!W(n, u)) return !1;\n        n = n[u];\n      }\n\n      return !!t;\n    },\n    mapObject: function (n, r, t) {\n      r = qn(r, t);\n\n      for (var e = nn(n), u = e.length, o = {}, i = 0; i < u; i++) {\n        var a = e[i];\n        o[a] = r(n[a], a, n);\n      }\n\n      return o;\n    },\n    identity: kn,\n    constant: C,\n    noop: Un,\n    toPath: Bn,\n    property: Rn,\n    propertyOf: function (n) {\n      return null == n ? Un : function (r) {\n        return Tn(n, r);\n      };\n    },\n    matcher: Dn,\n    matches: Dn,\n    times: function (n, r, t) {\n      var e = Array(Math.max(0, n));\n      r = Fn(r, t, 1);\n\n      for (var u = 0; u < n; u++) e[u] = r(u);\n\n      return e;\n    },\n    random: Wn,\n    now: zn,\n    escape: Cn,\n    unescape: Kn,\n    templateSettings: Jn,\n    template: function (n, r, t) {\n      !r && t && (r = t), r = On({}, r, tn.templateSettings);\n      var e = RegExp([(r.escape || Gn).source, (r.interpolate || Gn).source, (r.evaluate || Gn).source].join(\"|\") + \"|$\", \"g\"),\n          u = 0,\n          o = \"__p+='\";\n      n.replace(e, function (r, t, e, i, a) {\n        return o += n.slice(u, a).replace(Qn, Xn), u = a + r.length, t ? o += \"'+\\n((__t=(\" + t + \"))==null?'':_.escape(__t))+\\n'\" : e ? o += \"'+\\n((__t=(\" + e + \"))==null?'':__t)+\\n'\" : i && (o += \"';\\n\" + i + \"\\n__p+='\"), r;\n      }), o += \"';\\n\";\n      var i,\n          a = r.variable;\n\n      if (a) {\n        if (!Yn.test(a)) throw new Error(\"variable is not a bare identifier: \" + a);\n      } else o = \"with(obj||{}){\\n\" + o + \"}\\n\", a = \"obj\";\n\n      o = \"var __t,__p='',__j=Array.prototype.join,\" + \"print=function(){__p+=__j.call(arguments,'');};\\n\" + o + \"return __p;\\n\";\n\n      try {\n        i = new Function(a, \"_\", o);\n      } catch (n) {\n        throw n.source = o, n;\n      }\n\n      var f = function (n) {\n        return i.call(this, n, tn);\n      };\n\n      return f.source = \"function(\" + a + \"){\\n\" + o + \"}\", f;\n    },\n    result: function (n, r, t) {\n      var e = (r = Nn(r)).length;\n      if (!e) return D(t) ? t.call(n) : t;\n\n      for (var u = 0; u < e; u++) {\n        var o = null == n ? void 0 : n[r[u]];\n        void 0 === o && (o = t, u = e), n = D(o) ? o.call(n) : o;\n      }\n\n      return n;\n    },\n    uniqueId: function (n) {\n      var r = ++Zn + \"\";\n      return n ? n + r : r;\n    },\n    chain: function (n) {\n      var r = tn(n);\n      return r._chain = !0, r;\n    },\n    iteratee: Pn,\n    partial: rr,\n    bind: tr,\n    bindAll: or,\n    memoize: function (n, r) {\n      var t = function (e) {\n        var u = t.cache,\n            o = \"\" + (r ? r.apply(this, arguments) : e);\n        return W(u, o) || (u[o] = n.apply(this, arguments)), u[o];\n      };\n\n      return t.cache = {}, t;\n    },\n    delay: ir,\n    defer: ar,\n    throttle: function (n, r, t) {\n      var e,\n          u,\n          o,\n          i,\n          a = 0;\n      t || (t = {});\n\n      var f = function () {\n        a = !1 === t.leading ? 0 : zn(), e = null, i = n.apply(u, o), e || (u = o = null);\n      },\n          c = function () {\n        var c = zn();\n        a || !1 !== t.leading || (a = c);\n        var l = r - (c - a);\n        return u = this, o = arguments, l <= 0 || l > r ? (e && (clearTimeout(e), e = null), a = c, i = n.apply(u, o), e || (u = o = null)) : e || !1 === t.trailing || (e = setTimeout(f, l)), i;\n      };\n\n      return c.cancel = function () {\n        clearTimeout(e), a = 0, e = u = o = null;\n      }, c;\n    },\n    debounce: function (n, r, t) {\n      var e,\n          u,\n          o,\n          i,\n          a,\n          f = function () {\n        var c = zn() - u;\n        r > c ? e = setTimeout(f, r - c) : (e = null, t || (i = n.apply(a, o)), e || (o = a = null));\n      },\n          c = j(function (c) {\n        return a = this, o = c, u = zn(), e || (e = setTimeout(f, r), t && (i = n.apply(a, o))), i;\n      });\n\n      return c.cancel = function () {\n        clearTimeout(e), e = o = a = null;\n      }, c;\n    },\n    wrap: function (n, r) {\n      return rr(r, n);\n    },\n    negate: fr,\n    compose: function () {\n      var n = arguments,\n          r = n.length - 1;\n      return function () {\n        for (var t = r, e = n[r].apply(this, arguments); t--;) e = n[t].call(this, e);\n\n        return e;\n      };\n    },\n    after: function (n, r) {\n      return function () {\n        if (--n < 1) return r.apply(this, arguments);\n      };\n    },\n    before: cr,\n    once: lr,\n    findKey: sr,\n    findIndex: vr,\n    findLastIndex: hr,\n    sortedIndex: yr,\n    indexOf: gr,\n    lastIndexOf: br,\n    find: mr,\n    detect: mr,\n    findWhere: function (n, r) {\n      return mr(n, Dn(r));\n    },\n    each: jr,\n    forEach: jr,\n    map: _r,\n    collect: _r,\n    reduce: Ar,\n    foldl: Ar,\n    inject: Ar,\n    reduceRight: xr,\n    foldr: xr,\n    filter: Sr,\n    select: Sr,\n    reject: function (n, r, t) {\n      return Sr(n, fr(qn(r)), t);\n    },\n    every: Or,\n    all: Or,\n    some: Mr,\n    any: Mr,\n    contains: Er,\n    includes: Er,\n    include: Er,\n    invoke: Br,\n    pluck: Nr,\n    where: function (n, r) {\n      return Sr(n, Dn(r));\n    },\n    max: Ir,\n    min: function (n, r, t) {\n      var e,\n          u,\n          o = 1 / 0,\n          i = 1 / 0;\n      if (null == r || \"number\" == typeof r && \"object\" != typeof n[0] && null != n) for (var a = 0, f = (n = er(n) ? n : jn(n)).length; a < f; a++) null != (e = n[a]) && e < o && (o = e);else r = qn(r, t), jr(n, function (n, t, e) {\n        ((u = r(n, t, e)) < i || u === 1 / 0 && o === 1 / 0) && (o = n, i = u);\n      });\n      return o;\n    },\n    shuffle: function (n) {\n      return Tr(n, 1 / 0);\n    },\n    sample: Tr,\n    sortBy: function (n, r, t) {\n      var e = 0;\n      return r = qn(r, t), Nr(_r(n, function (n, t, u) {\n        return {\n          value: n,\n          index: e++,\n          criteria: r(n, t, u)\n        };\n      }).sort(function (n, r) {\n        var t = n.criteria,\n            e = r.criteria;\n\n        if (t !== e) {\n          if (t > e || void 0 === t) return 1;\n          if (t < e || void 0 === e) return -1;\n        }\n\n        return n.index - r.index;\n      }), \"value\");\n    },\n    groupBy: Dr,\n    indexBy: Rr,\n    countBy: Fr,\n    partition: Vr,\n    toArray: function (n) {\n      return n ? U(n) ? i.call(n) : S(n) ? n.match(Pr) : er(n) ? _r(n, kn) : jn(n) : [];\n    },\n    size: function (n) {\n      return null == n ? 0 : er(n) ? n.length : nn(n).length;\n    },\n    pick: Ur,\n    omit: Wr,\n    first: Lr,\n    head: Lr,\n    take: Lr,\n    initial: zr,\n    last: function (n, r, t) {\n      return null == n || n.length < 1 ? null == r || t ? void 0 : [] : null == r || t ? n[n.length - 1] : $r(n, Math.max(0, n.length - r));\n    },\n    rest: $r,\n    tail: $r,\n    drop: $r,\n    compact: function (n) {\n      return Sr(n, Boolean);\n    },\n    flatten: function (n, r) {\n      return ur(n, r, !1);\n    },\n    without: Kr,\n    uniq: Jr,\n    unique: Jr,\n    union: Gr,\n    intersection: function (n) {\n      for (var r = [], t = arguments.length, e = 0, u = Y(n); e < u; e++) {\n        var o = n[e];\n\n        if (!Er(r, o)) {\n          var i;\n\n          for (i = 1; i < t && Er(arguments[i], o); i++);\n\n          i === t && r.push(o);\n        }\n      }\n\n      return r;\n    },\n    difference: Cr,\n    unzip: Hr,\n    transpose: Hr,\n    zip: Qr,\n    object: function (n, r) {\n      for (var t = {}, e = 0, u = Y(n); e < u; e++) r ? t[n[e]] = r[e] : t[n[e][0]] = n[e][1];\n\n      return t;\n    },\n    range: function (n, r, t) {\n      null == r && (r = n || 0, n = 0), t || (t = r < n ? -1 : 1);\n\n      for (var e = Math.max(Math.ceil((r - n) / t), 0), u = Array(e), o = 0; o < e; o++, n += t) u[o] = n;\n\n      return u;\n    },\n    chunk: function (n, r) {\n      if (null == r || r < 1) return [];\n\n      for (var t = [], e = 0, u = n.length; e < u;) t.push(i.call(n, e, e += r));\n\n      return t;\n    },\n    mixin: Yr,\n    default: tn\n  });\n  return Zr._ = Zr, Zr;\n});\n}(underscoreMin));\n\nvar _ = underscoreMin.exports;\n\nexport { _ as default };\n","import BaseCollection from './courage/models/BaseCollection.js';\nexport { default as BaseModel } from './courage/models/BaseModel.js';\nimport BaseSchema from './courage/models/BaseSchema.js';\nexport { default as Model } from './courage/models/Model.js';\nimport SchemaProperty from './courage/models/SchemaProperty.js';\nimport BaseController from './courage/util/BaseController.js';\nimport BaseRouter from './courage/util/BaseRouter.js';\nimport ButtonFactory from './courage/util/ButtonFactory.js';\nimport Class from './courage/util/Class.js';\nimport Cookie from './courage/util/Cookie.js';\nimport Clipboard from './courage/util/Clipboard.js';\nimport Keys from './courage/util/Keys.js';\nimport Logger from './courage/util/Logger.js';\nimport StringUtil from './courage/util/StringUtil.js';\nimport Util from './courage/util/Util.js';\nexport { default as Handlebars } from '../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport './courage/util/handlebars/handle-url.js';\nimport './courage/util/handlebars/helper-base64.js';\nimport './courage/util/handlebars/helper-i18n.js';\nimport './courage/util/handlebars/helper-img.js';\nimport './courage/util/handlebars/helper-markdown.js';\nimport './courage/util/handlebars/helper-xsrfTokenInput.js';\nexport { default as $ } from './courage/util/jquery-wrapper.js';\nexport { default as _ } from './courage/util/underscore-wrapper.js';\nexport { default as ListView } from './courage/views/Backbone.ListView.js';\nimport BaseView from './courage/views/BaseView.js';\nimport BaseDropDown from './courage/views/components/BaseDropDown.js';\nimport Notification from './courage/views/components/Notification.js';\nimport BaseForm from './courage/views/forms/BaseForm.js';\nimport Toolbar from './courage/views/forms/components/Toolbar.js';\nimport FormUtil from './courage/views/forms/helpers/FormUtil.js';\nimport InputRegistry from './courage/views/forms/helpers/InputRegistry.js';\nimport SchemaFormFactory from './courage/views/forms/helpers/SchemaFormFactory.js';\nimport BaseInput from './courage/views/forms/BaseInput.js';\nimport CheckBox from './courage/views/forms/inputs/CheckBox.js';\nimport PasswordBox from './courage/views/forms/inputs/PasswordBox.js';\nimport Radio from './courage/views/forms/inputs/Radio.js';\nimport Select from './courage/views/forms/inputs/Select.js';\nimport InputGroup from './courage/views/forms/inputs/InputGroup.js';\nimport TextBox from './courage/views/forms/inputs/TextBox.js';\nimport Callout from './courage/views/components/Callout.js';\nexport { default as Backbone } from './courage/vendor/lib/backbone.js';\nimport FrameworkView from './courage/framework/View.js';\nexport { default as FrameworkView } from './courage/framework/View.js';\nimport './util/scrollParent.js';\nexport { isModelPropertySchema } from './courage/framework/Model.js';\nimport './courage/util/SettingsModel.js';\n\nconst Controller = BaseController.extend({\n  // The courage BaseController renders asynchronously in current versions of jQuery\n  // https://github.com/okta/okta-ui/blob/master/packages/courage/src/util/BaseController.ts#L117-L119\n  // https://api.jquery.com/jquery/#jQuery-callback\n  // Override so that render is synchronous\n  render: function (...args) {\n    BaseView.prototype.render.apply(this, args);\n    return this;\n  }\n});\n\nSelect.prototype.remove = function () {\n  // Patched to remove unneeded call to\n  // this.$select.trigger('remove');\n  // which causes error on IE11\n  return BaseInput.prototype.remove.apply(this, arguments);\n}; // The string will be returned unchanged. All templates should be precompiled.\n\n\nFrameworkView.prototype.compileTemplate = function (str) {\n  const compiledTmpl = function fakeTemplate() {\n    return str;\n  };\n\n  compiledTmpl.source = ''; // to satisfy TS\n\n  return compiledTmpl;\n}; // Override events to not support `Enter` submitting the form twice - OKTA-321999 and OKTA-317629\n\n\nconst events = {\n  'input input': 'update',\n  'change input': 'update',\n  'keydown input': 'update',\n  'keyup input': function (e) {\n    if (Keys.isEsc(e)) {\n      this.model.trigger('form:cancel');\n    }\n  }\n};\nconst TextBoxForSigninWidget = TextBox.extend({\n  events: events\n});\nconst PasswordBoxForSigninWidget = PasswordBox.extend({\n  events: events\n});\nconst Form = BaseForm.extend({\n  scrollOnError: function () {\n    // scrollOnError is true by default. Override to false if `scrollOnError` has been set to false in widget settings.\n    const {\n      settings: settings\n    } = this.options;\n\n    if (settings.get('features.scrollOnError') === false) {\n      return false;\n    }\n\n    return true;\n  }\n});\nconst loc = StringUtil.localize;\nconst createButton = ButtonFactory.create;\nconst createCallout = Callout.create;\nconst registerInput = InputRegistry.register;\nconst Collection = BaseCollection;\nconst View = BaseView;\nconst Router = BaseRouter;\nconst internal = {\n  util: {\n    Util: Util,\n    Cookie: Cookie,\n    Clipboard: Clipboard,\n    Logger: Logger,\n    Class: Class,\n    Keys: Keys\n  },\n  views: {\n    components: {\n      BaseDropDown: BaseDropDown,\n      Notification: Notification\n    },\n    forms: {\n      helpers: {\n        FormUtil: FormUtil,\n        SchemaFormFactory: SchemaFormFactory\n      },\n      components: {\n        Toolbar: Toolbar\n      },\n      inputs: {\n        TextBox: TextBoxForSigninWidget,\n        PasswordBox: PasswordBoxForSigninWidget,\n        CheckBox: CheckBox,\n        Radio: Radio,\n        Select: Select,\n        InputGroup: InputGroup\n      }\n    }\n  },\n  models: {\n    BaseSchema: BaseSchema,\n    SchemaProperty: SchemaProperty\n  }\n};\nregisterInput('text', TextBoxForSigninWidget);\nregisterInput('password', PasswordBoxForSigninWidget);\nregisterInput('checkbox', CheckBox);\nregisterInput('radio', Radio);\nregisterInput('select', Select);\nregisterInput('group', InputGroup);\n\nexport { Collection, Controller, Form, Router, View, createButton, createCallout, internal, loc, registerInput };\n","import oktaUnderscore from '../util/underscore-wrapper.js';\nimport Backbone from '../vendor/lib/backbone.js';\n\nvar STATE = '__STATE__';\nvar FETCH_DATA = 'FETCH_DATA';\nvar PAGINATION_DATA = 'PAGINATION_DATA';\nvar DEFAULT_PARAMS = 'DEFAULT_PARAMS';\nvar LINK_BY_HEADER = 'LINK_BY_HEADER';\nvar XHR = 'XHR'; // ################################################\n// # Source: https://gist.github.com/deiu/9335803\n// ################################################\n// unquote string (utility)\n\nfunction unquote(value) {\n  if (value.charAt(0) === '\"' && value.charAt(value.length - 1) === '\"') {\n    return value.substring(1, value.length - 1);\n  }\n\n  return value;\n}\n/*\nparse a Link header\nLink:<https://example.org/.meta>; rel=meta\nvar r = parseLinkHeader(xhr.getResponseHeader('Link');\nr['meta']['href'] outputs https://example.org/.meta\n*/\n\n\nfunction parseLinkHeader(header) {\n  /* eslint max-statements: 0 */\n  var linkexp = /<[^>]*>\\s*(\\s*;\\s*[^()<>@,;:\"/[\\]?={} \\t]+=(([^()<>@,;:\"/[\\]?={} \\t]+)|(\"[^\"]*\")))*(,|$)/g;\n  var paramexp = /[^()<>@,;:\"/[\\]?={} \\t]+=(([^()<>@,;:\"/[\\]?={} \\t]+)|(\"[^\"]*\"))/g;\n  var matches = header.match(linkexp);\n  var rels = {};\n\n  for (var i = 0; i < matches.length; i++) {\n    var split = matches[i].split('>');\n    var href = split[0].substring(1);\n    var link = {\n      href: undefined,\n      rel: undefined\n    };\n    link.href = href;\n    var s = split[1].match(paramexp);\n\n    for (var j = 0; j < s.length; j++) {\n      var paramsplit = s[j].split('=');\n      var name = paramsplit[0];\n      link[name] = unquote(paramsplit[1]);\n    }\n\n    if (link.rel !== undefined) {\n      rels[link.rel] = link;\n    }\n  }\n\n  return rels;\n}\n/*\n * Sets the next page URL on the collection from link headers\n * See: http://www.rfc-editor.org/rfc/rfc5988.txt\n *\n * This method is looking for a link header with `rel=\"next\"`\n * An set's it as the next page's URL.\n *\n * If it doesn't find a next page, and current page is set by a link header\n * it assumes we are at the last page and deletes the current `next`\n */\n\n\nfunction setLinkHeadersPagination(collection, xhr) {\n  try {\n    var links = parseLinkHeader(xhr.getResponseHeader('link'));\n    collection[STATE].set(LINK_BY_HEADER, true);\n    collection.setPagination(links['next'].href);\n  } catch (e) {\n    if (collection[STATE].get(LINK_BY_HEADER)) {\n      collection.setPagination(null);\n    }\n  }\n}\n\nfunction parseQuery(url) {\n  var params = {};\n  var rawQueryStr = url && url.split('?')[1];\n  var queryString = rawQueryStr && decodeURIComponent(rawQueryStr.split('#')[0]).replace(/\\+/g, ' ');\n  var props = queryString ? queryString.split('&') : [];\n\n  for (var i = 0; i < props.length; i++) {\n    var parts = props[i].split('=');\n    params[parts.shift()] = parts.join('=');\n  }\n\n  return params;\n} // ################################################\n// # /Source\n// ################################################\n//\n\n\nconst collectionProps =\n/** @lends src/framework/Collection.prototype */\n{\n  /**\n   * Default fetch parameters\n   * @type {Object|Function}\n   */\n  params: {},\n  preinitialize: function (models, options) {\n    const state = new Backbone.Model();\n\n    const defaultParams = oktaUnderscore.defaults(options && options.params || {}, oktaUnderscore.result(this, 'params') || {});\n\n    state.set(DEFAULT_PARAMS, defaultParams);\n    this[STATE] = state; // Adds support for child class to convert to ES6 Class.\n    // After conversion, `this.model` has to be a pure function to return Model Class.\n    // The changes below is trying to distinguish the ambiguity between a Class and normal function,\n    // as both are JavaScript function essentially.\n    // There are three ways to define class for `this.model`\n    // 1. Object properties: `model: BaseModel.extend({..})`\n    // 2. Function constructor:\n    // See example from\n    // - appversions/src/models/CustomType.js\n    // - appversions/src/models/EnumType.js\n    // - appversions/src/models/SignOnMode.js\n    // - authn-factors/src/models/Feature.js\n    // - shared/src/models/SamlAttribute.js\n    // 3. Function that returns a class.\n    //    model: function() { return BaseModel.extend({..}); }\n    //\n    // option 1 and 2 exists in code base today\n    // option 3 is introduced to support child class to convert to ES6 class.\n    // TODO: think of remove following check\n    // The reason for `this.model !== Backbone.Model` is because `this.model` is default to `Backbone.Model`\n    // set at Backbone.Collection.\n\n    if (oktaUnderscore.isFunction(this.model) && this.model.length === 0 && this.model.isCourageModel !== true) {\n      this.model = oktaUnderscore.result(this, 'model');\n    }\n\n    Backbone.Collection.prototype.preinitialize.apply(this, arguments);\n  },\n\n  /**\n   * See [Backbone Collection.sync](http://backbonejs.org/#Collection-sync).\n   */\n  sync: function (method, collection, options) {\n    var self = this;\n    var success = options.success;\n\n    options.success = function (resp, status, xhr) {\n      // its important to set the pagination data *before* we call the success callback\n      // because we want the pagination data to be ready when the collection triggers the `sync` event\n      setLinkHeadersPagination(self, xhr);\n      success.apply(null, arguments);\n    };\n\n    return Backbone.Collection.prototype.sync.call(this, method, collection, options);\n  },\n\n  /**\n   * See [Backbone Collection.fetch](http://backbonejs.org/#Collection-fetch).\n   */\n  fetch: function (options) {\n    options || (options = {});\n    var state = this[STATE];\n    var xhr = state.get(XHR);\n    options.data = oktaUnderscore.extend({}, state.get(DEFAULT_PARAMS), options.data || {});\n    options.fromFetch = true;\n    state.set(FETCH_DATA, options.data);\n\n    if (xhr && xhr.abort && options.abort !== false) {\n      xhr.abort();\n    }\n\n    xhr = Backbone.Collection.prototype.fetch.call(this, options);\n    state.set(XHR, xhr);\n    return xhr;\n  },\n\n  /**\n   * Set pagination data to get to the next page\n   * @param {Mixed} params\n   * @param {Object} [options]\n   * @param {Boolean} [options.fromFetch] should we include data from the previous fetch call in this object\n   * @example\n   * collection.setPagination({q: 'foo', page: '2'}); //=> {q: 'foo', page: '2'}\n   *\n   * collection.setPagination('/path/to/resource?q=baz&page=4'); //=> {q: 'baz', page: '4'}\n   *\n   * collection.setPagination('/path/to/resource'); //=> {}\n   *\n   * collection.fetch({data: {q: 'foo'}});\n   * collection.setPagination({page: 2}, {fromFetch: true}); //=> {q: 'foo', page: 2}\n   *\n   * any \"falsy\" value resets pagination\n   * collection.setPagination(); //=> {}\n   * collection.setPagination(null); //=> {}\n   * collection.setPagination(false); //=> {}\n   * collection.setPagination(''); //=> {}\n   * collection.setPagination(0); //=> {}\n   * @protected\n   */\n  setPagination: function (params, options) {\n    /* eslint complexity: [2, 8] */\n    if (oktaUnderscore.isString(params) && params) {\n      params = parseQuery(params);\n    }\n\n    if (!oktaUnderscore.isObject(params) || oktaUnderscore.isArray(params) || !oktaUnderscore.size(params)) {\n      params = null;\n    } else if (options && options.fromFetch) {\n      params = oktaUnderscore.extend({}, this.getFetchData(), params);\n    }\n\n    this[STATE].set(PAGINATION_DATA, params);\n  },\n\n  /**\n   * Returns the `data` parameters applied in th most recent `fetch` call\n   * It will include parameters set by {@link #params} and optios.params passed to the constructor\n   * @return {Object}\n   * @protected\n   */\n  getFetchData: function () {\n    return this[STATE].get(FETCH_DATA) || {};\n  },\n\n  /**\n   * Data object for constructing a request to fetch the next page\n   * @return {Object}\n   * @protected\n   */\n  getPaginationData: function () {\n    return this[STATE].get(PAGINATION_DATA) || {};\n  },\n\n  /**\n   * Does this collection have more data on the server (e.g is there a next \"page\")\n   * @return {Boolean}\n   */\n  hasMore: function () {\n    return oktaUnderscore.size(this.getPaginationData()) > 0;\n  },\n\n  /**\n   * Get the next page from the server\n   * @return {Object} xhr returned by {@link #fetch}\n   */\n  fetchMore: function () {\n    if (!this.hasMore()) {\n      throw new Error('Invalid Request');\n    }\n\n    return this.fetch({\n      data: this.getPaginationData(),\n      add: true,\n      remove: false,\n      update: true\n    });\n  },\n\n  /**\n   * See [Backbone Collection.reset](http://backbonejs.org/#Collection-reset).\n   */\n  reset: function (models, options) {\n    options || (options = {}); // only reset the pagination when reset is being called explicitly.\n    // this is to avoid link headers pagination being overriden and reset when\n    // fetching the collection using `collection.fetch({reset: true})`\n\n    if (!options.fromFetch) {\n      this.setPagination(null);\n    }\n\n    return Backbone.Collection.prototype.reset.apply(this, arguments);\n  },\n  // we want \"where\" to be able to search through derived properties as well\n  where: function (attrs, first) {\n    if (oktaUnderscore.isEmpty(attrs)) {\n      return first ? void 0 : [];\n    }\n\n    return this[first ? 'find' : 'filter'](function (model) {\n      for (var key in attrs) {\n        if (attrs[key] !== model.get(key)) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  },\n\n  /**\n   * See [Backbone Collection.create](http://backbonejs.org/#Collection-create).\n   */\n  create: function (model, options) {\n    options || (options = {});\n\n    if (!oktaUnderscore.result(model, 'urlRoot')) {\n      options.url = oktaUnderscore.result(this, 'url');\n    }\n\n    return Backbone.Collection.prototype.create.call(this, model, options);\n  },\n  // Use Object.create instead of {} on _byId to avoid __proto__ functions to return\n  // This can be removed once the issue has addressed in backbone framework\n  // https://github.com/jashkenas/backbone/pull/4225\n  _reset: function () {\n    Backbone.Collection.prototype['_reset'].call(this);\n    this._byId = Object.create(null);\n  }\n};\n/**\n *\n * Archer.Collection is a standard [Backbone.Collection](http://backbonejs.org/#Collection) with pre-set `data`\n * parameters and built in pagination - works with [http link headers](https://tools.ietf.org/html/rfc5988)\n * out of the box:\n *\n * @class src/framework/Collection\n * @extends external:Backbone.Collection\n * @example\n * var Users = Archer.Collection.extend({\n *   url: '/api/v1/users'\n *   params: {expand: true}\n * });\n * var users = new Users(null, {params: {type: 'new'}}),\n *     $button = this.$('a.fetch-more');\n *\n * $button.click(function () {\n *   users.fetchMore();\n * });\n *\n * this.listenTo(users, 'sync', function () {\n *   $button.toggle(users.hasMore());\n * });\n *\n * collection.fetch(); //=> '/api/v1/users?expand=true&type=new'\n */\n\nconst Collection = Backbone.Collection.extend(collectionProps);\n/**\n * It's used for distinguishing the ambiguity from _.isFunction()\n * which returns True for both a JavaScript Class constructor function\n * and normal function. With this flag, we can tell a function is actually\n * a Collection Class.\n * This flag is added in order to support the type of a parameter can be\n * either a Class or pure function that returns a Class.\n */\n\nCollection.isCourageCollection = true;\n\nexport { Collection as default };\n","import FrameworkView from './View.js';\nimport oktaUnderscore from '../util/underscore-wrapper.js';\n\n/* eslint-disable max-statements */\n/**\n   * Archer.ListView is a {@link src/framework/View} that operates on a\n   * collection and builds a list of \"things\" of the same type.\n   *\n   * Automagically adds, removes and sorts upon standard collection events.\n   *\n   * Listen to collection events so the ListView will do the right thing when\n   * a model is added or the collection is reset or sorted.\n   *\n   * @class src/framework/ListView\n   * @extends src/framework/View\n   * @param {Object} options options hash\n   * @param {Object} options.collection The collection which this view operates on\n   * @example\n   * var UserList = Archer.ListView.extend({\n   *   tagName: 'ul',\n   *   item: '<li>{{fname}} {{lname}}</li>'\n   * });\n   *\n   * var users = new Archer.Collection([\n   *   {fname: 'John', lname: 'Doe'},\n   *   {fname: 'Jane', lname: 'Doe'}\n   * ]);\n   *\n   * var userList = new UserList({collection: users}).render();\n   * userList.el; //=> \"<ul><li>John Doe</li><li>Jane Doe</li></ul>\"\n   *\n   * users.push({fname: 'Jim', lname: 'Doe'});\n   * userList.el; //=> \"<ul><li>John Doe</li><li>Jane Doe</li><li>Jim Doe</li></ul>\"\n   *\n   * users.first().destroy();\n   * userList.el; //=> \"<ul><li>Jane Doe</li><li>Jim Doe</li></ul>\"\n   */\n\nvar ListView = FrameworkView.extend(\n/** @lends src/framework/ListView.prototype */\n{\n  constructor: function () {\n    FrameworkView.apply(this, arguments);\n\n    if (!this.collection) {\n      throw new Error('Missing collection');\n    }\n\n    this.listenTo(this.collection, 'reset sort', this.reset);\n    this.listenTo(this.collection, 'add', this.addItem);\n\n    if (this.fetchCollection) {\n      this.collection.fetch();\n    } else {\n      this.collection.each(this.addItem, this);\n    }\n  },\n\n  /**\n     * The view/template we will use to render each model in the collection.\n     * @type {String|module:Okta.View}\n     */\n  item: null,\n\n  /**\n     * A selector in the local template where to append each item\n     * @type {String}\n     */\n  itemSelector: null,\n\n  /**\n     * Empty the list and re-add everything from the collection.\n     * Usefull for handling `collection.reset()` or for handling the initial load\n     * @protected\n     */\n  reset: function () {\n    this.removeChildren();\n    this.collection.each((model, index) => {\n      this.addItem(model, index);\n    });\n    return this;\n  },\n\n  /**\n     * Add an item view to the list that will represent one model from the collection\n     *\n     * Listen to the model so when it is destoyed or removed from the collection\n     * this item will remove itself from the list\n     *\n     * @param {Backbone.Model} model The model this row operates on\n     * @protected\n     */\n  addItem: function (model) {\n    var view = this.add(this.item, this.itemSelector, {\n      options: {\n        model: model\n      }\n    }).last();\n\n    if (this.state && this.state.get('trackItemAdded')) {\n      this.state.trigger('itemAdded', view);\n    }\n\n    view.listenTo(model, 'destroy remove', view.remove);\n    return this;\n  },\n  addShowMore: oktaUnderscore.noop\n});\n\nexport { ListView as default };\n","import oktaUnderscore from '../util/underscore-wrapper.js';\nimport Backbone from '../vendor/lib/backbone.js';\nimport Logger from '../util/Logger.js';\n\nfunction isModelPropertySchema(obj) {\n  return obj && obj.type || obj.deps;\n}\n\n/**\n   * Archer.Model is a standard [Backbone.Model](http://backbonejs.org/#Model) with a few additions:\n   *\n   * - {@link src/framework/Model#derived Derived properties}\n   * - {@link src/framework/Model#props Built in schema validation}\n   * - {@link src/framework/Model#local Private properties (with schema validation)}\n   * - {@link src/framework/Model#flat Flattening of nested objects}\n   *\n   * Both derived and private properties are filtered out when sending the data to the server.\n   *\n   * See [Backbone.Model](http://backbonejs.org/#Model-constructor).\n   *\n   * @class src/framework/Model\n   * @extends external:Backbone.Model\n   * @param {Object} [attributes] - Initial model attributes (data)\n   * @param {Object} [options] - Options hash\n   * @example\n   * var Person = Archer.Model.extend({\n   *   props: {\n   *     'fname': 'string',\n   *     'lname': 'string'\n   *   },\n   *   local: {\n   *     isLoggedIn: 'boolean'\n   *   },\n   *   derived: {\n   *     name: {\n   *       deps: ['fname', 'lname'],\n   *       fn: function (fname, lname) {\n   *         return fname + ' ' + lname;\n   *       }\n   *     }\n   *   }\n   * });\n   * var model = new Person({fname: 'Joe', lname: 'Doe'});\n   * model.get('name'); //=> \"Joe Doe\"\n   * model.toJSON(); //=> {fname: 'Joe', lname: 'Doe'}\n   *\n   * model.set('isLoggedIn', true);\n   * model.get('isLoggedIn'); //=> true\n   * model.toJSON(); //=> {fname: 'Joe', lname: 'Doe'}\n   */\nlet Model;\nconst statics = {\n  ERROR_BLANK: 'model.validation.field.blank',\n  ERROR_WRONG_TYPE: 'model.validation.field.wrong.type',\n  ERROR_NOT_ALLOWED: 'model.validation.field.value.not.allowed',\n  ERROR_INVALID: 'model.validation.field.invalid',\n  ERROR_IARRAY_UNIQUE: 'model.validation.field.array.unique',\n  ERROR_INVALID_FORMAT_EMAIL: 'model.validation.field.invalid.format.email',\n  ERROR_INVALID_FORMAT_URI: 'model.validation.field.invalid.format.uri',\n  ERROR_INVALID_FORMAT_IPV4: 'model.validation.field.invalid.format.ipv4',\n  ERROR_INVALID_FORMAT_HOSTNAME: 'model.validation.field.invalid.format.hostname',\n  ERROR_STRING_STRING_MIN_LENGTH: 'model.validation.field.string.minLength',\n  ERROR_STRING_STRING_MAX_LENGTH: 'model.validation.field.string.maxLength'\n};\n\nfunction flatten(value, objectTypeFields, key, target) {\n  var filter = oktaUnderscore.contains(objectTypeFields, key);\n\n  target || (target = {});\n\n  if (!filter && oktaUnderscore.isObject(value) && !oktaUnderscore.isArray(value) && !oktaUnderscore.isFunction(value)) {\n    oktaUnderscore.each(value, function (val, i) {\n      flatten(val, objectTypeFields, key ? key + '.' + i : i, target);\n    });\n  } // Case where target is an empty object. Guard against returning {undefined: undefined}.\n  else if (key !== undefined) {\n    target[key] = value;\n  }\n\n  return target;\n}\n\nfunction unflatten(data) {\n  oktaUnderscore.each(data, function (value, key, data) {\n    if (key.indexOf('.') === -1) {\n      return;\n    }\n\n    var part;\n    var ref = data;\n    var parts = key.split('.');\n\n    while ((part = parts.shift()) !== undefined) {\n      if (!ref[part]) {\n        ref[part] = parts.length ? {} : value;\n      }\n\n      ref = ref[part];\n    }\n\n    delete data[key];\n  });\n\n  return data;\n}\n\nfunction createMessage(field, msg) {\n  var obj = {};\n  obj[field.name] = msg;\n  return obj;\n}\n\nfunction normalizeSchemaDef(field, name) {\n  var target;\n\n  if (oktaUnderscore.isString(field)) {\n    target = {\n      type: field\n    };\n  } else if (oktaUnderscore.isArray(field)) {\n    target = {\n      type: field[0],\n      required: field[1],\n      value: field[2]\n    };\n  } else {\n    target = oktaUnderscore.clone(field);\n  }\n\n  oktaUnderscore.defaults(target, {\n    required: false,\n    name: name\n  });\n\n  return target;\n}\n\nfunction capitalize(string) {\n  return string.toLowerCase().replace(/\\b[a-z]/g, function (letter) {\n    return letter.toUpperCase();\n  });\n}\n\nfunction _validateRegex(value, pattern, error) {\n  if (!pattern.test(value)) {\n    return error;\n  }\n}\n\nvar StringFormatValidators = {\n  /*eslint max-len: 0 */\n  email: function (value) {\n    // Taken from  http://emailregex.com/ on 2017-03-06.\n    var pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return _validateRegex(value, pattern, Model.ERROR_INVALID_FORMAT_EMAIL);\n  },\n  uri: function (value) {\n    // source: https://mathiasbynens.be/demo/url-regex\n    var pattern = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i;\n    return _validateRegex(value, pattern, Model.ERROR_INVALID_FORMAT_URI);\n  },\n  ipv4: function (value) {\n    // source: https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n    var pattern = /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n    return _validateRegex(value, pattern, Model.ERROR_INVALID_FORMAT_IPV4);\n  },\n  hostname: function (value) {\n    // source: http://www.regextester.com/23\n    var pattern = /^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/;\n    return _validateRegex(value, pattern, Model.ERROR_INVALID_FORMAT_HOSTNAME);\n  }\n};\n\nfunction validateStringFormat(field, value) {\n  var validator = StringFormatValidators[field.format];\n\n  if (field.format && !validator) {\n    throw new TypeError(field.format + ' is not a supported string format');\n  }\n\n  return validator && validator(value);\n}\n\nfunction validateString(field, value) {\n  var createMessageWith = oktaUnderscore.partial(createMessage, field);\n\n  var invalidFormat = validateStringFormat(field, value);\n\n  if (invalidFormat) {\n    return createMessageWith(invalidFormat);\n  }\n\n  if (value && field.minLength && value.length < field.minLength) {\n    return createMessageWith(Model.ERROR_STRING_STRING_MIN_LENGTH);\n  }\n\n  if (value && field.maxLength && value.length > field.maxLength) {\n    return createMessageWith(Model.ERROR_STRING_STRING_MAX_LENGTH);\n  }\n}\n\nfunction validateField(field, value) {\n  /* eslint complexity: [2, 25], max-statements: [2, 30] */\n  var createMessageWith = oktaUnderscore.partial(createMessage, field);\n\n  var isDefined = !oktaUnderscore.isUndefined(value) && !oktaUnderscore.isNull(value);\n  var checkType;\n  var errorMessage; // If using an array validator, perform the validation\n\n  if (Array.isArray(field.validate)) {\n    const output = [];\n    let foundError = false;\n    let result;\n    field.validate.forEach(item => {\n      if (!value) {\n        result = false;\n      } else {\n        switch (item.type.toLowerCase()) {\n          case 'regex':\n            result = new RegExp(item.value.pattern, item.value.flags || '').test(value);\n            break;\n\n          default:\n            result = false;\n        }\n      } // Append the result.\n\n\n      foundError = foundError || !result;\n      output.push({\n        // eslint-disable-next-line no-prototype-builtins\n        message: item.hasOwnProperty('message') ? item.message : '',\n        passed: result\n      });\n    });\n\n    if (foundError) {\n      return createMessageWith(output);\n    }\n\n    return;\n  } // check required fields\n\n\n  if (field.required && (!isDefined || oktaUnderscore.isNull(value) || value === '')) {\n    return createMessageWith(Model.ERROR_BLANK);\n  } // check type\n\n\n  checkType = oktaUnderscore['is' + capitalize(field.type)];\n\n  if (isDefined && field.type !== 'any' && (!oktaUnderscore.isFunction(checkType) || !checkType(value))) {\n    return createMessageWith(Model.ERROR_WRONG_TYPE);\n  } // validate string format\n\n\n  if (value && field.type === 'string') {\n    var error = validateString(field, value);\n\n    if (error) {\n      return error;\n    }\n  } // check pre set values (enum)\n\n\n  if (isDefined && field.values && !oktaUnderscore.contains(field.values, value)) {\n    return createMessageWith(Model.ERROR_NOT_ALLOWED);\n  } // check validate method\n\n\n  if (oktaUnderscore.isFunction(field.validate)) {\n    var result = field.validate(value);\n\n    if (oktaUnderscore.isString(result) && result) {\n      return createMessageWith(result);\n    } else if (result === false) {\n      return createMessageWith(Model.ERROR_INVALID);\n    }\n  } // check array items\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n\n\n  if (isDefined && field.type === 'array' && (errorMessage = validateArrayField(field, value))) {\n    return createMessageWith(errorMessage);\n  }\n}\n\nfunction validateArrayField(field, arr) {\n  if (field.minItems && arr.length < field.minItems) {\n    return 'model.validation.field.array.minItems';\n  } else if (field.maxItems && arr.length > field.maxItems) {\n    return 'model.validation.field.array.maxItems';\n  } else if (field.uniqueItems && arr.length > oktaUnderscore.uniq(arr).length) {\n    return Model.ERROR_IARRAY_UNIQUE;\n  } else if (field.items) {\n    /* eslint max-depth: [2, 3] */\n    var arrayField = normalizeSchemaDef(field.items, 'placeholder');\n\n    for (var i = 0; i < arr.length; i++) {\n      var value = arr[i];\n      var error = validateField(arrayField, value);\n\n      if (error) {\n        return error['placeholder'];\n      }\n    }\n  }\n}\n\nconst props =\n/** @lends src/framework/Model.prototype */\n{\n  /**\n     * Pass props as an object to extend, describing the observable properties of your model. The props\n     * properties should not be set on an instance, as this won't define new properties, they should only be passed to\n     * extend.\n     * Properties can be defined in three different ways:\n     *\n     * - As a string with the expected dataType. One of string, number, boolean, array, object, date, or any.\n     * Eg: `name: 'string'`.\n     * - An array of `[dataType, required, default]`\n     * - An object `{type: 'string', format: '', required: true, value: '', values: [], validate: function() {}`\n     *   - `value` will be the value that the property will be set to if it is undefined, either by not being set during\n     *   initialization, or by being explicitly set to undefined.\n     *   - `format` is a json-schame derived string format. Supported formats are: `email`, `uri`, `hostname` and `ipv4`.\n     *   - If `required` is true, one of two things will happen. If a default is set for the property, the property will\n     *   start with that value. If a default is not set for the property, validation will fail\n     *   - If `values` array is passed, then you'll be able to change a property to one of those values only.\n     *   - If `validate` is defined, it should return false or a custom message string when the validation fails.\n     *   - If the type is defined as `array`, the array elements could be defined by `minItems` (Number),\n     *   `uniqueItems` (Boolean) and `items` (a field definition such as this one that will validate each array member)\n     *   To the `validate` method\n     *   - Trying to set a property to an invalid type will raise an exception.\n     *\n     * @type {Mixed|Function}\n     * @example\n     * var Person = Model.extend({\n     *   props: {\n     *     name: 'string',\n     *     age: 'number',\n     *     paying: ['boolean', true, false], //required attribute, defaulted to false\n     *     type: {\n     *       type: 'string',\n     *       values: ['regular-hero', 'super-hero', 'mega-hero']\n     *     },\n     *     likes: {\n     *       type: 'string',\n     *       validate: function (value) {\n     *         return /^[\\w]+ing$/.test(value)\n     *       }\n     *     }\n     *   }\n     * });\n     */\n  props: {},\n\n  /**\n     * Derived properties (also known as computed properties) are properties of the model that depend on the\n     * other (props, local or even derived properties to determine their value. Best demonstrated with an example:\n     *\n     * Each derived property, is defined as an object with the current properties:\n     *\n     * - `deps` {Array} - An array of property names which the derived property depends on.\n     * - `fn` {Function} - A function which returns the value of the computed property. It is called in the context of\n     * the current object, so that this is set correctly.\n     * - `cache` {Boolean} -  - Whether to cache the property. Uncached properties are computed every time they are\n     * accessed. Useful if it depends on the current time for example. Defaults to `true`.\n     *\n     * Derived properties are retrieved and fire change events just like any other property. They cannot be set\n     * directly.\n     * @type {Object|Function}\n     * @example\n     * var Person = Model.extend({\n     *   props: {\n     *     firstName: 'string',\n     *     lastName: 'string'\n     *   },\n     *   derived: {\n     *     fullName: {\n     *       deps: ['firstName', 'lastName'],\n     *       fn: function (firstName, lastName) {\n     *         return firstName + ' ' + lastName;\n     *       }\n     *     }\n     *   }\n     * });\n     *\n     * var person = new Person({ firstName: 'Phil', lastName: 'Roberts' })\n     * console.log(person.get('fullName')) //=> \"Phil Roberts\"\n     *\n     * person.set('firstName', 'Bob');\n     * console.log(person.get('fullName')) //=> \"Bob Roberts\"\n     */\n  derived: {},\n\n  /**\n     * local properties are defined and work in exactly the same way as {@link src/framework/Model#props|props}, but generally only exist for\n     * the lifetime of the page.\n     * They would not typically be persisted to the server, and are not returned by calls to {@link src/framework/Model#toJSON|toJSON}.\n     *\n     * @type {Object|Function}\n     * @example\n     * var Person = Model.extend({\n     *   props: {\n     *     name: 'string',\n     *   },\n     *   local: {\n     *     isLoggedIn: 'boolean'\n     *   }\n     * );\n     */\n  local: {},\n\n  /**\n     * Flatten the payload into dot notation string keys:\n     *\n     * @type {Boolean|Function}\n     * @example\n     * var Person = Model.extend({\n     *   props: {\n     *     'profile.fname': 'string',\n     *     'profile.lname': 'string',\n     *     'profile.languages': 'object'\n     *   },\n     *   flat: true\n     * });\n     * var person = new Person({'profile': {\n     *                            'fname': 'John',\n     *                            'lname': 'Doe',\n     *                            'languages': {name: \"English\", value: \"EN\"}\n     *                         }}, {parse: true});\n     * person.get('profile'); //=> undefined\n     * person.get('profile.fname'); //=> 'John'\n     * person.get('profile.lname'); //=> 'Doe'\n     * person.get('profile.languages'); //=> {name: \"English\", value: \"EN\"}\n     * person.get('profile.languages.name'); //=> undefined\n     * person.toJSON(); //=> {'profile': {'fname': 'John'} }\n     */\n  flat: true,\n\n  /**\n     * @deprecated\n     * @alias Backbone.Model#defaults\n     */\n  defaults: {},\n  // FIXME: preinitialize takes parameter `attributes` and `options`, which inherit from constructor.\n  preinitialize: function (options, ...rest) {\n    this.options = options || {};\n    var schema = this['__schema__'] = {};\n    var objectTypeFields = [];\n    schema.computedProperties = {};\n    schema.props = oktaUnderscore.clone(oktaUnderscore.result(this, 'props') || {});\n    schema.derived = oktaUnderscore.clone(oktaUnderscore.result(this, 'derived') || {});\n    schema.local = oktaUnderscore.clone(oktaUnderscore.result(this, 'local') || {});\n    var defaults = {};\n\n    oktaUnderscore.each(oktaUnderscore.extend({}, schema.props, schema.local), function (options, name) {\n      var schemaDef = normalizeSchemaDef(options, name);\n\n      if (!oktaUnderscore.isUndefined(schemaDef.value)) {\n        defaults[name] = schemaDef.value;\n      }\n\n      if (schemaDef.type === 'object') {\n        objectTypeFields.push(name);\n      }\n    }, this);\n\n    if (oktaUnderscore.size(defaults)) {\n      var localDefaults = oktaUnderscore.result(this, 'defaults');\n\n      this.defaults = function () {\n        return oktaUnderscore.defaults({}, defaults, localDefaults);\n      };\n    } // override `validate`\n\n\n    this.validate = oktaUnderscore.wrap(this.validate, function (validate) {\n      var args = oktaUnderscore.rest(arguments);\n\n      var res = oktaUnderscore.extend(this._validateSchema.apply(this, args), validate.apply(this, args));\n\n      return oktaUnderscore.size(res) && res || undefined;\n    }); // override `parse`\n\n    this.parse = oktaUnderscore.wrap(this.parse, function (parse) {\n      var target = parse.apply(this, oktaUnderscore.rest(arguments));\n\n      if (oktaUnderscore.result(this, 'flat')) {\n        target = flatten(target, objectTypeFields);\n      }\n\n      return target;\n    });\n    Backbone.Model.prototype.preinitialize.call(this, options, ...rest);\n  },\n  // FIXME:\n  // constructor takes parameter `attributes` and `options`.\n  constructor: function () {\n    Backbone.Model.apply(this, arguments);\n    var schema = this['__schema__'];\n\n    oktaUnderscore.each(schema.derived, function (options, name) {\n      schema.computedProperties[name] = this.__getDerivedValue(name); // set initial value;\n\n      var deps = isModelPropertySchema(options) ? options.deps || [] : [];\n\n      if (deps.length) {\n        this.on('cache:clear change:' + deps.join(' change:'), function () {\n          var value = this.__getDerivedValue(name);\n\n          if (value !== schema.computedProperties[name]) {\n            schema.computedProperties[name] = value;\n            this.trigger('change:' + name, this, value);\n          }\n        }, this);\n      }\n    }, this);\n\n    this.on('sync', function () {\n      this.__syncedData = this.toJSON();\n    }, this);\n  },\n  validate: function () {},\n\n  /**\n     * Check if the schema settings allow this field to exist in the model\n     * @param  {String} key\n     * @return {Boolean}\n     */\n  allows: function (key) {\n    var schema = this['__schema__'];\n\n    var all = oktaUnderscore.extend({}, schema.props, schema.local);\n\n    if (!oktaUnderscore.has(all, key)) {\n      Logger.warn('Field not defined in schema', key);\n    }\n\n    return true;\n  },\n\n  /**\n     * Returns the schema for the specific property\n     *\n     * @param propName - The name of the property\n     * @returns {*} | null\n     */\n  getPropertySchema: function (propName) {\n    var schema = this['__schema__'];\n    return oktaUnderscore.reduce([schema.props, schema.local], function (result, options) {\n      return result || normalizeSchemaDef(options[propName], propName);\n    }, null);\n  },\n  set: function (key, val) {\n    var attrs;\n\n    if (typeof key === 'object') {\n      attrs = key;\n    } else {\n      (attrs = {})[key] = val;\n    } // Don't override a computed properties\n\n\n    oktaUnderscore.each(attrs, function (value, key) {\n      if (oktaUnderscore.has(this['__schema__'].derived, key)) {\n        throw new Error(`overriding derived properties is not supported: ${key}`);\n      }\n    }, this); // Schema validation\n\n\n    var errorFields = [];\n\n    oktaUnderscore.each(attrs, function (value, key) {\n      this.allows(key) || errorFields.push(key);\n    }, this);\n\n    if (errorFields.length) {\n      throw new Error(`field not allowed: ${errorFields.join(', ')}`);\n    }\n\n    return Backbone.Model.prototype.set.apply(this, arguments);\n  },\n  get: function (attr) {\n    var schema = this['__schema__'];\n\n    if (oktaUnderscore.has(schema.derived, attr)) {\n      if (schema.derived[attr].cache !== false) {\n        return schema.computedProperties[attr];\n      } else {\n        return this.__getDerivedValue(attr);\n      }\n    }\n\n    return Backbone.Model.prototype.get.apply(this, arguments);\n  },\n\n  /**\n     * Return a shallow copy of the model's attributes for JSON stringification.\n     * This can be used for persistence, serialization, or for augmentation before being sent to the server.\n     * The name of this method is a bit confusing, as it doesn't actually return a JSON string \n     * but I'm afraid that it's the way that the JavaScript API for JSON.stringify works.\n     *\n     * See [Backbone.Model.toJSON](http://backbonejs.org/#Model-toJSON)\n     *\n     * @param  {Object} options\n     * @return {Object}\n     * @example\n     * var artist = new Model({\n     *   firstName: 'Wassily',\n     *   lastName: 'Kandinsky'\n     * });\n     *\n     * artist.set({birthday: 'December 16, 1866'});\n     * JSON.stringify(artist); //=> {'firstName':'Wassily','lastName':'Kandinsky','birthday':'December 16, 1866'}\n     */\n  toJSON: function (options) {\n    options || (options = {});\n\n    var res = oktaUnderscore.clone(Backbone.Model.prototype.toJSON.apply(this, arguments));\n\n    var schema = this['__schema__']; // cleanup local properties\n\n    if (!options.verbose) {\n      res = oktaUnderscore.omit(res, oktaUnderscore.keys(schema.local));\n    } else {\n      // add derived properties\n      oktaUnderscore.each(schema.derived, function (options, name) {\n        res[name] = this.get(name);\n      }, this);\n    }\n\n    if (this.flat) {\n      res = unflatten(res);\n    }\n\n    return res;\n  },\n\n  /**\n     * Removes all attributes from the model, including the id attribute.\n     * Fires a `\"change\"` event unless `silent` is passed as an option.\n     * Sets the default values to the model\n     * @param {Object} [options]\n     */\n  reset: function (options) {\n    this.clear(options);\n    this.set(oktaUnderscore.result(this, 'defaults'), options);\n  },\n\n  /**\n     * Is the data on the model has local modifications since the last sync event?\n     * @return {Boolean} is the model in sync with the server\n     */\n  isSynced: function () {\n    return oktaUnderscore.isEqual(this.__syncedData, this.toJSON());\n  },\n\n  /**\n     * validate a specific field in the model.\n     * @param  {String} key\n     * @return {Object} returns `{fieldName: errorMessage}` if invalid, otherwise undefined.\n     * @readonly\n     */\n  validateField: function (key) {\n    var schema = key && this.getPropertySchema(key);\n    return schema && validateField(schema, this.get(key));\n  },\n\n  /**\n     * Runs local schema validation. Invoked internally by {@link src/framework/Model#validate|validate}.\n     * @return {Object}\n     * @protected\n     */\n  _validateSchema: function () {\n    var schema = this['__schema__'];\n    return oktaUnderscore.reduce(oktaUnderscore.extend({}, schema.props, schema.local), function (memo, options, name) {\n      return oktaUnderscore.extend(memo, this.validateField(name) || {});\n    }, {}, this);\n  },\n  __getDerivedValue: function (name) {\n    var options = this['__schema__'].derived[name];\n\n    if (oktaUnderscore.isString(options)) {\n      var key = options;\n      options = {\n        deps: [key],\n        fn: function () {\n          return this.get(key);\n        }\n      };\n    }\n\n    var deps = options.deps || [];\n    return options.fn.apply(this, oktaUnderscore.map(deps, this.get, this));\n  }\n};\nModel = Backbone.Model.extend(props, statics);\n/**\n * It's used for distinguishing the ambiguity from _.isFunction()\n * which returns True for both a JavaScript Class constructor function\n * and normal function. With this flag, we can tell a function is actually\n * a Model Class.\n * This flag is added in order to support the type of a parameter can be\n * either a Class or pure function that returns a Class.\n */\n\nModel.isCourageModel = true;\nvar FrameworkModel = Model;\n\nexport { FrameworkModel as default, isModelPropertySchema };\n","import oktaUnderscore from '../util/underscore-wrapper.js';\nimport Backbone from '../vendor/lib/backbone.js';\n\nvar CHILDREN = '__children__';\nvar RENDERED = '__rendered__';\nvar PARENT = '__parent__';\nvar CHILD_DEFINITIONS = '__children_definitions__';\nvar ADD_TO_CONTAINER = '__add_to_container__';\n\nfunction getIndex(container, view) {\n  for (var i = 0; i < container[CHILDREN].length; i++) {\n    if (view.cid === container[CHILDREN][i].cid) {\n      return i;\n    }\n  }\n}\n\nfunction noop() {}\n\nfunction doRender(view) {\n  view[RENDERED] = true;\n  var html = view.renderTemplate(view.template);\n\n  if (html) {\n    view.$el.html(html);\n  } else if (view.length) {\n    view.$el.empty();\n  }\n\n  view.each(function (view) {\n    view[ADD_TO_CONTAINER]();\n  });\n}\n\nfunction subscribeEvents(view) {\n  var isEventPropertyRe = /^(?!(?:delegate|undelegate|_))([a-zA-Z0-9]+)(?:Events)$/;\n\n  oktaUnderscore.each(oktaUnderscore.allKeys(view), function (key) {\n    var matchKeys = key.match(isEventPropertyRe);\n\n    if (!matchKeys) {\n      return;\n    }\n\n    var bindings = oktaUnderscore.result(view, key);\n\n    var entity = view.options[matchKeys[1]] || view[matchKeys[1]];\n\n    if (!entity || !oktaUnderscore.isObject(bindings) || !oktaUnderscore.isFunction(entity.trigger)) {\n      return;\n    }\n\n    oktaUnderscore.each(bindings, function (callback, event) {\n      var callbacks = oktaUnderscore.isFunction(callback) ? [callback] : oktaUnderscore.reduce(callback.split(/\\s+/), (arr, name) => {\n        if (oktaUnderscore.isFunction(view[name])) {\n          arr.push(view[name]);\n        }\n\n        return arr;\n      }, []);\n\n      oktaUnderscore.each(callbacks, function (cb) {\n        view.listenTo(entity, event, cb);\n      });\n    });\n  });\n}\n/**\n   * A View operates on a string template, an token based template, or a model based template, with a few added hooks.\n   * It provides a collection of child views, when a child view could be a View or another View.\n   * Conceptually, if we were in a file system, the View is a folder, when the concrete child views are files,\n   * and the child Views are sub folders.\n   *\n   * *Technically, when using a View as a container, it could have its own concrete logic,\n   * but conceptually we like to keep it separated so a view is either a concrete view or a collection of child views.*\n   *\n   * In addition to the standard backbone options, we added `settings` and `state` as first class options.\n   * it will automatically assign `options` to `this.options` as an instance member.\n   *\n   * See [Backbone.View](http://backbonejs.org/#View).\n   *\n   * @class src/framework/View\n   * @extends external:Backbone.View\n   * @param {Object} [options] options hash\n   * @example\n   * var DocumentView = Archer.View.extend({\n   *   template: [\n   *     '<header></header>',\n   *     '<article></article>',\n   *     '<footer></footer>'\n   *   ].join(''),\n   *   children: [[HeaderView, 'header'], [ContentView, 'article'], [FooterView, 'footer']]\n   * });\n   */\n\n\nlet View;\nconst proto = {\n  /**\n     * An object listing events and callback bind to this.{entity}\n     * @name *Events\n     * @memberof src/framework/View\n     * @type {(Object|Function)}\n     * @instance\n     * @example\n     * var FooView = View.extend({\n     *   modelEvents: {\n     *     'change:name': 'render'\n     *   }\n     * })\n     * //equivalent to ==>\n     * var FooView = View.extend({\n     *   initialize: function() {\n     *     this.listenTo(this.model, 'change:name', this.render);\n     *   }\n     * });\n     *\n     *\n     * //Multiple callbacks:\n     * var FooView = View.extend({\n     *   modelEvents: {\n     *     'change:name': 'render foo'\n     *   },\n     *   foo: function() {}\n     * });\n     *\n     * //Callbacks As Function:\n     * var FooView = View.extend({\n     *   stateEvents: {\n     *     'change': function() {\n     *   }\n     * });\n     *\n     * //Event Configuration As Function\n     * var FooView = View.extend({\n     *   collectionEvents: function() {\n     *     var events = { 'change:name deleteItem': 'render' };\n     *     events['changeItem'] = 'spin';\n     *     events['addItem'] = function() {};\n     *     return events;\n     *   }\n     * });\n     */\n  preinitialize: function (options) {\n    /* eslint max-statements: [2, 17] */\n    this.options = options || {};\n\n    oktaUnderscore.extend(this, oktaUnderscore.pick(this.options, 'state', 'settings')); // init per-instance children collection\n\n\n    this[CHILDREN] = [];\n    this[RENDERED] = false;\n    this[PARENT] = null;\n    this[CHILD_DEFINITIONS] = this.children; // we want to make sure initialize is triggered *after* we append the views from the `this.views` array\n    // FIXME:\n    // It's actually can be done by override initialize method\n    //  initialize() { run extra login; super.initialize(); }\n    // BUT the problem is child classes would override initialize without invoke super.\n    // hence we have to also looking into (refactoring) ALL child classes.\n\n    this.__original_initialize__ = this.initialize;\n    this.initialize = noop;\n  },\n  constructor: function (options, ...rest) {\n    Backbone.View.call(this, options);\n\n    oktaUnderscore.each(oktaUnderscore.result(this, CHILD_DEFINITIONS), function (childDefinition) {\n      this.add.apply(this, oktaUnderscore.isArray(childDefinition) ? childDefinition : [childDefinition]);\n    }, this);\n\n    delete this[CHILD_DEFINITIONS];\n\n    const autoRender = oktaUnderscore.result(this, 'autoRender');\n\n    if (autoRender && this.model) {\n      var event = oktaUnderscore.isArray(autoRender) ? oktaUnderscore.map(autoRender, function (field) {\n        return 'change:' + field;\n      }).join(' ') : 'change';\n      this.listenTo(this.model, event, function () {\n        this.render();\n      });\n    }\n\n    this.initialize = this.__original_initialize__;\n    this.initialize.call(this, options, ...rest); // initialize in child class may have any number of parameters\n\n    subscribeEvents(this);\n  },\n\n  /**\n     * Unregister view from container\n     * Note: this will not remove the view from the dom\n     * and will not call the `remove` method on the view\n     *\n     * @param {src/framework/View} view the view to unregister\n     * @private\n     */\n  unregister: function (view) {\n    this.stopListening(view);\n    var viewIndex = getIndex(this, view); // viewIndex is undefined when the view is not found (may have been removed)\n    // check if it is undefined to prevent unexpected thing to happen\n    // array.splice(undefined, x) removes the first x element(s) from the array\n    // this protects us against issues when calling `remove` on a child view multiple times\n\n    if (oktaUnderscore.isNumber(viewIndex)) {\n      this[CHILDREN].splice(viewIndex, 1);\n    }\n  },\n\n  /**\n     * Should we auto render the view upon model change. Boolean or array of field names to listen to.\n     * @type {Boolean|Array}\n     * @deprecated Instead, please use modelEvents\n     * @example\n     * modelEvents: {\n     *   change:name: 'render'\n     * }\n     */\n  autoRender: false,\n\n  /**\n     *\n     * When the template is an underscore template, the render method will pass the options has to the template\n     * And the associated model, if exists, when it will prefer the model over the options in case of a conflict.\n     * {@link #render View.render}\n     * @type {(String|Function)}\n     * @example\n     * var View = View.extend({\n     *   template: '<p class=\"name\">{{name}}</p>'\n     * };\n     */\n  template: null,\n\n  /**\n     * A list of child view definitions to be passed to {@link #add this.add()}.\n     * Note: these definitions will be added **before** the {@link #constructor initiliaze} method invokes.\n     * @type {(Array|Function)}\n     * @example\n     * var Container = View.extend({\n     *    template: '<p class=\"content\"></p>',\n     *    children: [\n     *      [ContentView, '.content'],\n     *      [OtherContentView, '.content'],\n     *      OtherView\n     *    ]\n     *  })\n     *\n     * var Container = View.extend({\n     *    template: '<dov class=\"form-wrap\"></div>',\n     *    children: function () {\n     *      return [\n     *        [FormView, '.form-wrap', {options: {model: this.optiosn.otherModel}}]\n     *      ]\n     *    }\n     *  })\n     */\n  children: [],\n\n  /**\n     * Add a child view to the container.\n     * If the container is already rendered, will also render the view  and append it to the DOM.\n     * Otherwise will render and append once the container is rendered.\n     *\n     * *We believe that for the sake of encapsulation, a view should control its own chilren, so we treat this method as\n     * protected and even though technically you can call `view.add` externally we strongly discourage it.*\n     *\n     * @param {(src/framework/View|String)} view A class (or an instance which is discouraged) of a View - or an HTML\n     * string/template\n     * @param {String} [selector] selector in the view's template on which the view will be added to\n     * @param {Object} [options]\n     * @param {Boolean} [options.bubble=false] Bubble (proxy) events from this view up the chain\n     * @param {Boolean} [options.prepend=false] Prepend the view instend of appending\n     * @param {String} [options.selector] Selector in the view's template on which the view will be added to\n     * @param {Object} [options.options] Extra options to pass to the child constructor\n     * @protected\n     * @returns {src/framework/View} - The instance of itself for the sake of chaining\n     * @example\n     * var Container = View.extend({\n     *\n     *   template: [\n     *     '<h1></h1>',\n     *     '<section></section>',\n     *   ].join(''),\n     *\n     *   initalize: function () {\n     *\n     *     this.add(TitleView, 'h1'); // will be added to <h1>\n     *\n     *     this.add(ContentView1, 'section'); // will be added to <section>\n     *\n     *     this.add(ContentView2, 'section', {prepend: true}); // will be add into <section> **before** ContentView1\n     *\n     *     this.add(OtherView, {\n     *       options: {\n     *         model: new Model()\n     *       }\n     *     }); // will be added **after** the <section> element\n     *\n     *     this.add('<p class=\"name\">some html</p>'); //=> \"<p class=\"name\">some html</p>\"\n     *     this.add('<p class=\"name\">{{name}}</p>'); //=> \"<p class=\"name\">John Doe</p>\"\n     *     this.add('{{name}}') //=> \"<div>John Doe</div>\"\n     *     this.add('<span>{{name}}</span> w00t') //=> \"<div><span>John Doe</span> w00t</div>\"\n     *   }\n     *\n     * });\n     *\n     * var container - new View({name: 'John Doe'});\n     */\n  add: function (view, selector, bubble, prepend, extraOptions) {\n    /* eslint max-statements: [2, 30], complexity: [2, 12] */\n    var options = {};\n\n    var args = oktaUnderscore.toArray(arguments); // This will throw if a compiled template function is passed accidentally\n\n\n    if (oktaUnderscore.isFunction(view) && (!view.prototype || !view.prototype.render)) {\n      throw new Error('Type passed to add() is not a View');\n    }\n\n    if (oktaUnderscore.isObject(selector)) {\n      options = selector;\n      selector = options.selector;\n      bubble = options.bubble;\n      prepend = options.prepend;\n      extraOptions = options.options;\n    } else if (oktaUnderscore.isObject(bubble)) {\n      options = bubble;\n      bubble = options.bubble;\n      prepend = options.prepend;\n      extraOptions = options.options;\n    } // TODO: This will be deprecated at some point. Views should use precompiled templates\n\n\n    if (oktaUnderscore.isString(view)) {\n      view = function (template) {\n        return View.extend({\n          constructor: function () {\n            try {\n              var $el = Backbone.$(template);\n\n              if ($el.length !== 1) {\n                throw new Error('invalid Element');\n              }\n\n              var unescapingRexExp = /&(\\w+|#x\\d+);/g;\n              var elementUnescapedOuterHTMLLength = $el.prop('outerHTML').replace(unescapingRexExp, ' ').length;\n              var templateUnescapedLength = template.replace(unescapingRexExp, ' ').length;\n\n              if (elementUnescapedOuterHTMLLength !== templateUnescapedLength) {\n                throw new Error('invalid Element');\n              }\n\n              this.template = $el.html(); // Template string will be compiled by handlebars\n\n              this.el = $el.empty()[0];\n            } catch (e) {\n              // not a valid html tag.\n              this.template = template;\n            }\n\n            View.apply(this, arguments);\n          }\n        });\n      }(view);\n    }\n\n    if (view.prototype && view.prototype instanceof View) {\n      /* eslint new-cap: 0 */\n      var viewOptions = oktaUnderscore.omit(oktaUnderscore.extend({}, this.options, extraOptions), 'el');\n\n      args[0] = new view(viewOptions);\n      return this.add.apply(this, args);\n    } // prevent dups\n\n\n    if (oktaUnderscore.isNumber(getIndex(this, view))) {\n      throw new Error('Duplicate child');\n    }\n\n    view[PARENT] = this; // make the view responsible for adding itself to the parent:\n    // * register the selector in the closure\n    // * register a reference the parent in the closure\n\n    view[ADD_TO_CONTAINER] = function (selector) {\n      return function () {\n        if (selector && view[PARENT].$(selector).length !== 1) {\n          throw new Error('Invalid selector: ' + selector);\n        }\n\n        var $el = selector ? this[PARENT].$(selector) : this[PARENT].$el;\n        this.render(); // we need to delegate events in case\n        // the view was added and removed before\n\n        this.delegateEvents(); // this[PARENT].at(index).$el.before(this.el);\n\n        prepend ? $el.prepend(this.el) : $el.append(this.el);\n      };\n    }.call(view, selector); // if flag to bubble events is set\n    // proxy all child view events\n\n\n    if (bubble) {\n      this.listenTo(view, 'all', function () {\n        this.trigger.apply(this, arguments);\n      });\n    } // add to the dom if `render` has been called\n\n\n    if (this.rendered()) {\n      view[ADD_TO_CONTAINER]();\n    } // add view to child views collection\n\n\n    this[CHILDREN].push(view);\n    return this;\n  },\n\n  /**\n     * Remove all children from container\n     */\n  removeChildren: function () {\n    this.each(function (view) {\n      view.remove();\n    });\n    return this;\n  },\n\n  /**\n     *  Removes a view from the DOM, and calls stopListening to remove any bound events that the view has listenTo'd.\n     *  Also removes all childern of the view if any, and removes itself from its parent view(s)\n     */\n  remove: function () {\n    this.removeChildren();\n\n    if (this[PARENT]) {\n      this[PARENT].unregister(this);\n    }\n\n    return Backbone.View.prototype.remove.apply(this, arguments);\n  },\n\n  /**\n     * Compile the template to function you can apply tokens on on render time.\n     * Uses the underscore tempalting engine by default\n     * @protected\n     * @param  {String} template\n     * @return {Function} a compiled template\n     */\n  // TODO: This will be deprecated at some point. Views should use precompiled templates\n  compileTemplate: function (template) {\n    /* eslint  @okta/okta-ui/no-specific-methods: 0*/\n    return oktaUnderscore.template(template, undefined);\n  },\n\n  /**\n     * Render a template with `this.model` and `this.options` as parameters\n     * preferring the model over the options.\n     *\n     * @param  {(String|Function)} template The template to build\n     * @return {String} An HTML string\n     * @protected\n     */\n  renderTemplate: function (template) {\n    if (oktaUnderscore.isString(template)) {\n      // TODO: This will be deprecated at some point. Views should use precompiled templates\n      template = this.compileTemplate(template);\n    }\n\n    if (oktaUnderscore.isFunction(template)) {\n      return template(this.getTemplateData());\n    }\n  },\n\n  /**\n     * The data hash passed to the compiled template\n     * @return {Object}\n     * @protected\n     */\n  getTemplateData: function () {\n    var modelData = this.model && this.model.toJSON({\n      verbose: true\n    }) || {};\n\n    var options = oktaUnderscore.omit(this.options, ['state', 'settings', 'model', 'collection']);\n\n    return oktaUnderscore.defaults({}, modelData, options);\n  },\n\n  /**\n     * Renders the template to `$el` and append all children in order\n     * {@link #template View.template}\n     */\n  render: function () {\n    this.preRender();\n    doRender(this);\n    this.postRender();\n    return this;\n  },\n\n  /**\n     * Pre render routine. Will be called right *before* the logic in {@link #render} is executed\n     * @method\n     */\n  preRender: noop,\n\n  /**\n     * Post render routine. Will be called right *after* the logic in {@link #render} is executed\n     * @method\n     */\n  postRender: noop,\n\n  /**\n     * Was this instance rendered\n     */\n  rendered: function () {\n    return this[RENDERED];\n  },\n\n  /**\n     * Get all direct child views.\n     * @returns {src/framework/View[]}\n     * @example\n     * var container = View.extend({\n     *   children: [View1, View2]\n     * }).render();\n     * container.getChildren() //=> [view1, view2];\n     */\n  getChildren: function () {\n    return this.toArray();\n  },\n\n  /**\n     * Get a child by index\n     * @param {number} index\n     * @returns {src/framework/View} The child view\n     */\n  at: function (index) {\n    return this.getChildren()[index];\n  },\n\n  /**\n     * Invokes a method on all children down the tree\n     *\n     * @param {String} method The method to invoke\n     */\n  invoke: function (methodName) {\n    var args = oktaUnderscore.toArray(arguments);\n\n    this.each(function (child) {\n      // if child has children, bubble down the tree\n      if (child.size()) {\n        child.invoke.apply(child, args);\n      } // run the function on the child\n\n\n      if (oktaUnderscore.isFunction(child[methodName])) {\n        child[methodName].apply(child, args.slice(1));\n      }\n    });\n    return this;\n  }\n};\nView = Backbone.View.extend(\n/** @lends src/framework/View.prototype */\nproto); // Code borrowed from Backbone.js source\n// Underscore methods that we want to implement on the Container.\n\nvar methods = ['each', 'map', 'reduce', 'reduceRight', 'find', 'filter', 'reject', 'every', 'some', 'contains', 'toArray', 'size', 'first', 'initial', 'rest', 'last', 'without', 'indexOf', 'shuffle', 'lastIndexOf', 'isEmpty', 'chain', 'where', 'findWhere'];\n\noktaUnderscore.each(methods, function (method) {\n  View.prototype[method] = function () {\n    var args = oktaUnderscore.toArray(arguments);\n\n    args.unshift(oktaUnderscore.toArray(this[CHILDREN]));\n    return oktaUnderscore[method].apply(oktaUnderscore, args);\n  };\n});\n/**\n   * See [_.each](http://underscorejs.org/#each)\n   * @name each\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.map](http://underscorejs.org/#map)\n   * @name map\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.reduce](http://underscorejs.org/#reduce)\n   * @name reduce\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Mixed} memo\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.reduceRight](http://underscorejs.org/#reduceRight)\n   * @name reduceRight\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} iterator\n   * @param {Mixed} memo\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.find](http://underscorejs.org/#find)\n   * @name find\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} predicate\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.filter](http://underscorejs.org/#filter)\n   * @name filter\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} predicate\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.reject](http://underscorejs.org/#reject)\n   * @name reject\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} predicate\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.every](http://underscorejs.org/#every)\n   * @name every\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} [predicate]\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.some](http://underscorejs.org/#some)\n   * @name some\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Function} [predicate]\n   * @param {Object} [context]\n   */\n\n/**\n   * See [_.contains](http://underscorejs.org/#contains)\n   * @name contains\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Mixed} value\n   */\n\n/**\n   * See [_.toArray](http://underscorejs.org/#toArray)\n   * @name toArray\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.size](http://underscorejs.org/#size)\n   * @name size\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.first](http://underscorejs.org/#first)\n   * @name first\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [n]\n   */\n\n/**\n   * See [_.initial](http://underscorejs.org/#initial)\n   * @name initial\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [n]\n   */\n\n/**\n   * See [_.last](http://underscorejs.org/#last)\n   * @name last\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [n]\n   */\n\n/**\n   * See [_.rest](http://underscorejs.org/#rest)\n   * @name rest\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Number} [index]\n   */\n\n/**\n   * See [_.without](http://underscorejs.org/#without)\n   * @name without\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.indexOf](http://underscorejs.org/#indexOf)\n   * @name indexOf\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Mixed} value\n   * @param {Boolean} [isSorted]\n   */\n\n/**\n   * See [_.shuffle](http://underscorejs.org/#shuffle)\n   * @name shuffle\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.shuffle](http://underscorejs.org/#lastIndexOf)\n   * @name lastIndexOf\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Mixed} value\n   * @param {Number} [fromIndex]\n   */\n\n/**\n   * See [_.isEmpty](http://underscorejs.org/#isEmpty)\n   * @name isEmpty\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.chain](http://underscorejs.org/#chain)\n   * @name chain\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   */\n\n/**\n   * See [_.where](http://underscorejs.org/#where)\n   * @name where\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Object} properties\n   */\n\n/**\n   * See [_.findWhere](http://underscorejs.org/#findWhere)\n   * @name findWhere\n   * @memberof src/framework/View\n   * @method\n   * @instance\n   * @param {Object} properties\n   */\n\n/**\n * It's used for distinguishing the ambiguity from _.isFunction()\n * which returns True for both a JavaScript Class constructor function\n * and normal function. With this flag, we can tell a function is actually\n * a View Class.\n * This flag is added in order to support the type of a parameter can be\n * either a Class or pure function that returns a Class.\n */\n\n\nView.isCourageView = true;\nvar FrameworkView = View;\n\nexport { FrameworkView as default };\n","import oktaUnderscore from '../util/underscore-wrapper.js';\nimport Collection from '../framework/Collection.js';\n\nconst baseCollectionProps =\n/** @lends module:Okta.Collection.prototype */\n{\n  /**\n   * Is the end point using the legacy \"secureJSON\" format\n   * @type {Function|Boolean}\n   */\n  secureJSON: false,\n  // TODO: may not be simplily moved to initialize as\n  // child class override initialize but didn't invoke parent.initialize.\n  // need to refactor child classes first.\n  constructor: function () {\n    Collection.apply(this, arguments);\n\n    if (oktaUnderscore.result(this, 'secureJSON')) {\n      this.sync = oktaUnderscore.wrap(this.sync, function (sync, method, collection, options) {\n        return sync.call(this, method, collection, oktaUnderscore.extend({\n          dataType: 'secureJSON'\n        }, options));\n      });\n    }\n  }\n};\n/**\n * Wrapper around the more generic {@link src/framework/Collection} that\n * contains Okta-specific logic.\n * @class module:Okta.Collection\n * @extends src/framework/Collection\n */\n\nvar BaseCollection = Collection.extend(baseCollectionProps);\n\nexport { BaseCollection as default };\n","import oktaUnderscore from '../util/underscore-wrapper.js';\nimport Model from './Model.js';\n\nconst hasProps = function (model) {\n  const local = oktaUnderscore.omit(model.local, oktaUnderscore.keys(model._builtInLocalProps));\n\n  return oktaUnderscore.size(model.props) + oktaUnderscore.size(local) > 0;\n};\n\nconst props =\n/** @lends module:Okta.BaseModel.prototype */\n{\n  /**\n   * @type {Boolean}\n   */\n  flat: false,\n  constructor: function () {\n    Model.apply(this, arguments);\n    this.on('sync', this._setSynced);\n  },\n  allows: function () {\n    if (hasProps(this)) {\n      return Model.prototype.allows.apply(this, arguments);\n    } else {\n      return true;\n    }\n  },\n  // bw compatibility support for old computed properties\n  set: function (key, val) {\n    let attrs;\n\n    if (typeof key === 'object') {\n      attrs = key;\n    } else {\n      (attrs = {})[key] = val;\n    } // computed properties\n\n\n    oktaUnderscore(attrs).each(function (fn, attr) {\n      if (!fn || !oktaUnderscore.isArray(fn.__attributes)) {\n        return;\n      }\n\n      this.on('change:' + fn.__attributes.join(' change:'), function () {\n        const val = this.get(attr);\n\n        if (val !== this['__schema__'].computedProperties[attr]) {\n          this['__schema__'].computedProperties[attr] = val;\n          this.trigger('change:' + attr, val);\n        }\n      }, this);\n    }, this);\n\n    return Model.prototype.set.apply(this, arguments);\n  },\n\n  /**\n   * Get the current value of an attribute from the model. For example: `note.get(\"title\")`\n   *\n   * See [Model.get](http://backbonejs.org/#Model-get)\n   * @param {String} attribute\n   * @return {Mixed} The value of the model attribute\n   */\n  get: function () {\n    const value = Model.prototype.get.apply(this, arguments);\n\n    if (oktaUnderscore.isFunction(value)) {\n      return value.apply(this, oktaUnderscore.map(value.__attributes || [], this.get, this));\n    }\n\n    return value;\n  },\n\n  /**\n   * Return a shallow copy of the model's attributes for JSON stringification.\n   * This can be used for persistence, serialization, or for augmentation before being sent to the server.\n   * The name of this method is a bit confusing, as it doesn't actually return a JSON string \n   *  but I'm afraid that it's the way that the JavaScript API for JSON.stringify works.\n   *\n   * ```javascript\n   * var artist = new Model({\n   *   firstName: \"Wassily\",\n   *   lastName: \"Kandinsky\"\n   * });\n   *\n   * artist.set({birthday: \"December 16, 1866\"});\n   * alert(JSON.stringify(artist)); // {\"firstName\":\"Wassily\",\"lastName\":\"Kandinsky\",\"birthday\":\"December 16, 1866\"}\n   * ```\n   * See [Model.toJSON](http://backbonejs.org/#Model-toJSON)\n   * @param  {Object} options\n   * @return {Object}\n   */\n  toJSON: function (options) {\n    options || (options = {});\n    const res = Model.prototype.toJSON.apply(this, arguments); // cleanup computed properties\n\n    oktaUnderscore(res).each(function (value, key) {\n      if (typeof value === 'function') {\n        if (options.verbose) {\n          res[key] = this.get(key);\n        } else {\n          delete res[key];\n        }\n      }\n    }, this); // cleanup private properties\n\n\n    if (!options.verbose) {\n      oktaUnderscore(res).each(function (value, key) {\n        if (/^__\\w+__$/.test(key)) {\n          delete res[key];\n        }\n      });\n    }\n\n    return res;\n  },\n  sanitizeAttributes: function (attributes) {\n    const attrs = {};\n\n    oktaUnderscore.each(attributes, function (value, key) {\n      if (!oktaUnderscore.isFunction(value)) {\n        attrs[key] = value;\n      }\n    });\n\n    return attrs;\n  },\n  reset: function (options) {\n    this.clear(options);\n    this.set(this.sanitizeAttributes(this.defaults), options);\n  },\n  clear: function (options) {\n    const attrs = {};\n\n    oktaUnderscore.each(this.sanitizeAttributes(this.attributes), function (value, key) {\n      attrs[key] = void 0;\n    });\n\n    return this.set(attrs, oktaUnderscore.extend({}, options, {\n      unset: true\n    }));\n  },\n\n  /**\n   * @private\n   */\n  _setSynced: function (newModel) {\n    this._syncedData = newModel && oktaUnderscore.isFunction(newModel.toJSON) ? newModel.toJSON() : {};\n  },\n\n  /**\n   * @private\n   */\n  _getSynced: function () {\n    return this._syncedData;\n  },\n  isSynced: function () {\n    return oktaUnderscore.isEqual(this._getSynced(), this.toJSON());\n  }\n};\nconst statics =\n/** @lends module:Okta.BaseModel.prototype */\n{\n  /**\n   * @static\n   *\n   * Example:\n   *\n   * ```javascript\n   * var Model = BaseModel.extend({\n   *   defaults: {\n   *     name: BaseModel.ComputedProperty(['fname', 'lname'], function (fname, lname) {\n   *       return fname + ' ' + lname;\n   *     })\n   *   }\n   * });\n   * var model = new Model({fname: 'Joe', lname: 'Doe'});\n   * model.get('name'); // Joe Doe\n   * model.toJSON(); // {fname: 'Joe', lname: 'Doe'}\n   * ```\n   *\n   * @param {Array} attributes (optional) - an array of the attribute names this method depends on\n   * @param {Function} callback the function that computes the value of the property\n   *\n   * @deprecated Use {@link #derived} instead\n   */\n  ComputedProperty: function (attributes, fn) {\n    // First parameter is optional\n    if (!fn && typeof attributes === 'function') {\n      fn = attributes;\n    } else {\n      fn.__attributes = attributes;\n    }\n\n    return fn;\n  }\n};\n/**\n * @class module:Okta.BaseModel\n * @extends module:Okta.Model\n * @deprecated Use {@link module:Okta.Model|Okta.Model} instead\n * @example\n * var Model = BaseModel.extend({\n *   defaults: {\n *     name: BaseModel.ComputedProperty(['fname', 'lname'], function (fname, lname) {\n *       return fname + ' ' + lname;\n *     })\n *   }\n * });\n * var model = new Model({fname: 'Joe', lname: 'Doe'});\n * model.get('name'); //=> \"Joe Doe\"\n * model.toJSON(); //=> {fname: 'Joe', lname: 'Doe'}\n *\n * model.set('__private__', 'private property');\n * model.get('__private__'); //=> \"private property\"\n * model.toJSON(); //=> {fname: 'Joe', lname: 'Doe'}\n */\n\nvar BaseModel = Model.extend(props, statics);\n\nexport { BaseModel as default };\n","import oktaUnderscore from '../util/underscore-wrapper.js';\nimport BaseCollection from './BaseCollection.js';\nimport BaseModel from './BaseModel.js';\nimport SchemaProperty from './SchemaProperty.js';\n\nconst parseProperties = function (resp) {\n  const schemaMeta = oktaUnderscore.pick(resp, 'id', 'name', 'displayName');\n\n  const properties = oktaUnderscore.map(resp.schema.properties, function (property, name) {\n    return oktaUnderscore.extend({\n      name: name\n    }, property);\n  });\n\n  oktaUnderscore.each(properties, function (property) {\n    property['__schemaMeta__'] = schemaMeta;\n\n    if (property.__metadata) {\n      property['__metadata__'] = property.__metadata;\n      delete property.__metadata;\n    }\n  });\n\n  return properties;\n};\n\nconst BaseSchemaSchema = BaseModel.extend({\n  defaults: {\n    id: undefined,\n    displayName: undefined,\n    name: undefined\n  },\n  constructor: function () {\n    this.properties = new SchemaProperty.Collection();\n    BaseModel.apply(this, arguments);\n  },\n  getProperties: function () {\n    return this.properties;\n  },\n  clone: function () {\n    const model = BaseModel.prototype.clone.apply(this, arguments);\n    model.getProperties().set(this.getProperties().toJSON({\n      verbose: true\n    }));\n    return model;\n  },\n  parse: function (resp) {\n    const properties = parseProperties(resp);\n    this.properties.set(properties, {\n      parse: true\n    });\n    return oktaUnderscore.omit(resp, 'schema');\n  },\n  trimProperty: function (property) {\n    return oktaUnderscore.omit(property, 'name');\n  },\n  toJSON: function () {\n    const json = BaseModel.prototype.toJSON.apply(this, arguments);\n    json.schema = {\n      properties: {}\n    };\n    this.getProperties().each(function (model) {\n      const property = model.toJSON();\n      json.schema.properties[property.name] = this.trimProperty(property);\n    }, this);\n    return json;\n  },\n  save: function () {\n    this.getProperties().each(function (model) {\n      model.cleanup();\n    });\n    return BaseModel.prototype.save.apply(this, arguments);\n  }\n});\nconst BaseSchemaSchemas = BaseCollection.extend({\n  model: BaseSchemaSchema\n});\nvar BaseSchema = {\n  parseProperties: parseProperties,\n  Model: BaseSchemaSchema,\n  Collection: BaseSchemaSchemas\n};\n\nexport { BaseSchema as default };\n","import oktaUnderscore from '../util/underscore-wrapper.js';\nimport FrameworkModel from '../framework/Model.js';\n\n/**\n * Wrapper around the more generic {@link src/framework/Model} that\n * contains Okta-specific logic.\n * @class module:Okta.Model\n * @extends src/framework/Model\n */\nvar Model = FrameworkModel.extend(\n/** @lends module:Okta.Model.prototype */\n{\n  /**\n   * Is the end point using the legacy \"secureJSON\" format\n   * @type {Function|Boolean}\n   */\n  secureJSON: false,\n  _builtInLocalProps: {\n    __edit__: 'boolean',\n    __pending__: 'boolean'\n  },\n  preinitialize: function () {\n    this.local = oktaUnderscore.defaults({}, oktaUnderscore.result(this, 'local'), this._builtInLocalProps);\n    FrameworkModel.prototype.preinitialize.apply(this, arguments);\n  },\n  constructor: function () {\n    FrameworkModel.apply(this, arguments);\n\n    if (oktaUnderscore.result(this, 'secureJSON')) {\n      this.sync = oktaUnderscore.wrap(this.sync, function (sync, method, model, options) {\n        return sync.call(this, method, model, oktaUnderscore.extend({\n          dataType: 'secureJSON'\n        }, options));\n      });\n    }\n  }\n});\n\nexport { Model as default };\n","import oktaJQueryStatic from '../util/jquery-wrapper.js';\nimport oktaUnderscore from '../util/underscore-wrapper.js';\nimport BaseCollection from './BaseCollection.js';\nimport BaseModel from './BaseModel.js';\nimport Logger from '../util/Logger.js';\nimport SchemaUtils from '../util/SchemaUtil.js';\nimport StringUtil from '../util/StringUtil.js';\nimport EnumTypeHelper from '../views/forms/helpers/EnumTypeHelper.js';\n\n/* eslint-disable @okta/okta/no-exclusive-language */\nconst loc = StringUtil.localize;\nconst STRING = SchemaUtils.STRING;\nconst NUMBER = SchemaUtils.NUMBER;\nconst INTEGER = SchemaUtils.INTEGER;\nconst OBJECT = SchemaUtils.OBJECT;\n\nconst getArrayTypeName = function (type, elementType) {\n  return type + 'of' + elementType;\n};\n\nconst SchemaPropertySubSchema = BaseModel.extend({\n  defaults: {\n    description: undefined,\n    minLength: undefined,\n    maxLength: undefined,\n    format: undefined\n  },\n  parse: function (resp) {\n    if (oktaUnderscore.isString(resp.format)) {\n      const matcher = /^\\/(.+)\\/$/.exec(resp.format);\n\n      if (matcher) {\n        resp.format = matcher[1];\n      }\n    }\n\n    return resp;\n  }\n});\nconst SchemaPropertySubSchemaCollection = BaseCollection.extend({\n  model: SchemaPropertySubSchema\n});\nconst SchemaPropertySubSchemaAllOfCollection = SchemaPropertySubSchemaCollection.extend({\n  _type: 'allOf'\n});\nconst SchemaPropertySubSchemaOneOfCollection = SchemaPropertySubSchemaCollection.extend({\n  _type: 'oneOf'\n});\nconst SchemaPropertySubSchemaNoneOfCollection = SchemaPropertySubSchemaCollection.extend({\n  _type: 'noneOf'\n});\nconst constraintTypeErrorMessages = {\n  string: loc('schema.validation.field.value.must.string', 'courage'),\n  number: loc('schema.validation.field.value.must.number', 'courage'),\n  integer: loc('schema.validation.field.value.must.integer', 'courage'),\n  object: loc('schema.validation.field.value.must.object', 'courage')\n};\nconst loginFormatNonePattern = '.+';\nconst escapedLoginCharsRe = /[^a-zA-Z0-9-]/;\nconst constraintHandlers = {\n  between: '_checkBetweenConstraints',\n  greaterThan: '_checkGreaterThanConstraint',\n  lessThan: '_checkLessThanConstraint',\n  equals: '_checkEqualsConstraint'\n};\nconst SchemaPropertySchemaProperty = BaseModel.extend({\n  idAttribute: 'name',\n  local: {\n    __oneOf__: {\n      type: 'array',\n      minItems: 1\n    }\n  },\n  defaults: {\n    // OKTA-28445, set empty string by default as the key for each property when syncing with server\n    // so that server can respond with error when a name is not provided\n    name: '',\n    title: undefined,\n    type: undefined,\n    description: undefined,\n    required: false,\n    format: undefined,\n    // choose disable option be default.\n    union: undefined,\n    subSchemas: undefined,\n    settings: {\n      permissions: {\n        SELF: SchemaUtils.PERMISSION.READ_ONLY\n      }\n    },\n    unique: undefined,\n    __metadata__: undefined,\n    __isSensitive__: BaseModel.ComputedProperty(['settings'], function (settings) {\n      return !!(settings && settings.sensitive && settings.sensitive !== 'NOT_SENSITIVE');\n    }),\n    __isPendingSensitive__: BaseModel.ComputedProperty(['settings'], function (settings) {\n      return !!(settings && settings.sensitive && settings.sensitive === 'PENDING_SENSITIVE');\n    }),\n    __unique__: false,\n    __isUniqueValidated__: BaseModel.ComputedProperty(['unique'], function (unique) {\n      return unique === SchemaUtils.UNIQUENESS.UNIQUE_VALIDATED;\n    }),\n    __isPendingUniqueness__: BaseModel.ComputedProperty(['unique'], function (unique) {\n      return unique === SchemaUtils.UNIQUENESS.PENDING_UNIQUENESS;\n    }),\n    __isUniqueness__: BaseModel.ComputedProperty(['__isUniqueValidated__', '__isPendingUniqueness__'], function (isValidated, isPending) {\n      return isValidated || isPending;\n    }),\n    __canBeSensitive__: BaseModel.ComputedProperty(['__metadata__'], function (metadata) {\n      return !!(metadata && metadata.sensitivizable);\n    }),\n    __userPermission__: SchemaUtils.PERMISSION.READ_ONLY,\n    __displayType__: undefined,\n    __displayTypeLabel__: BaseModel.ComputedProperty(['__displayType__'], function (displayType) {\n      return SchemaUtils.DATATYPE[displayType] || displayType;\n    }),\n    __supportsMinMax__: false,\n    // use the private naming convention for these computed properties,\n    // to deal with the complexity in cloning schema with properties (toJSON({verbose: true})),\n    // to make sure these attributes are being excluded from api request\n    __isReadOnly__: BaseModel.ComputedProperty(['mutability'], function (mutability) {\n      return mutability === SchemaUtils.MUTABILITY.READONLY;\n    }),\n    __isWriteOnly__: BaseModel.ComputedProperty(['mutability'], function (mutability) {\n      return mutability === SchemaUtils.MUTABILITY.WRITEONLY;\n    }),\n    __displayScope__: undefined,\n    __isScopeSelf__: BaseModel.ComputedProperty(['scope'], function (scope) {\n      return scope === SchemaUtils.SCOPE.SELF;\n    }),\n    __isNoneScopeArrayType__: BaseModel.ComputedProperty(['__isScopeSelf__', '__displayType__'], function (isScopeSelf, displayType) {\n      return !isScopeSelf && SchemaUtils.isArrayDataType(displayType);\n    }),\n    __isImported__: BaseModel.ComputedProperty(['externalName'], function (externalName) {\n      return !!externalName;\n    }),\n    __isFromBaseSchema__: BaseModel.ComputedProperty(['__schemaMeta__'], function (schemaMeta) {\n      return schemaMeta && schemaMeta.name === 'base';\n    }),\n    // Only UI can turn on __enumDefined__ and reprocess the enum/oneOf value; otherwise,\n    // it should leave existing value untouch\n    __enumDefined__: false,\n    __supportEnum__: BaseModel.ComputedProperty(['__displayType__'], function (displayType) {\n      return oktaUnderscore.contains(SchemaUtils.SUPPORTENUM, displayType);\n    }),\n    __isNumberTypeEnum__: BaseModel.ComputedProperty(['__displayType__'], function (displayType) {\n      return oktaUnderscore.contains([SchemaUtils.NUMBER, SchemaUtils.ARRAYDISPLAYTYPE.arrayofnumber], displayType);\n    }),\n    __isIntegerTypeEnum__: BaseModel.ComputedProperty(['__displayType__'], function (displayType) {\n      return oktaUnderscore.contains([SchemaUtils.INTEGER, SchemaUtils.ARRAYDISPLAYTYPE.arrayofinteger], displayType);\n    }),\n    __isObjectTypeEnum__: BaseModel.ComputedProperty(['__displayType__'], function (displayType) {\n      return oktaUnderscore.contains([SchemaUtils.OBJECT, SchemaUtils.ARRAYDISPLAYTYPE.arrayofobject], displayType);\n    }),\n    __isStringTypeEnum__: BaseModel.ComputedProperty(['__displayType__'], function (displayType) {\n      return oktaUnderscore.contains([SchemaUtils.STRING, SchemaUtils.ARRAYDISPLAYTYPE.arrayofstring], displayType);\n    }),\n    __enumConstraintType__: BaseModel.ComputedProperty(['__isStringTypeEnum__', '__isNumberTypeEnum__', '__isIntegerTypeEnum__', '__isObjectTypeEnum__'], function (isStringType, isNumberType, isIntegerType, isObjectType) {\n      if (isStringType) {\n        return STRING;\n      }\n\n      if (isNumberType) {\n        return NUMBER;\n      }\n\n      if (isIntegerType) {\n        return INTEGER;\n      }\n\n      if (isObjectType) {\n        return OBJECT;\n      }\n    }),\n    __isEnumDefinedAndSupported__: BaseModel.ComputedProperty(['__enumDefined__', '__supportEnum__'], function (enumDefined, supportEnum) {\n      return enumDefined && supportEnum;\n    }),\n    __isLoginOfBaseSchema__: BaseModel.ComputedProperty(['__isFromBaseSchema__', 'name'], function (isFromBaseSchema, name) {\n      return isFromBaseSchema && name === 'login';\n    }),\n    __isLoginFormatRestrictionToEmail__: BaseModel.ComputedProperty(['__loginFormatRestriction__'], function (loginFormatRestriction) {\n      return loginFormatRestriction === SchemaUtils.LOGINPATTERNFORMAT.EMAIL;\n    })\n  },\n  initialize: function () {\n    BaseModel.prototype.initialize.apply(this, arguments);\n    this.listenTo(this, 'change:__displayType__', this._updateTypeFormatConstraints);\n    this.listenTo(this, 'change:type change:format change:items', this._updateDisplayType);\n    this.listenTo(this, 'change:__minVal__ change:__maxVal__', this._updateMinMax);\n    this.listenTo(this, 'change:__equals__', this._convertEqualsToMinMax);\n    this.listenTo(this, 'change:__constraint__', this._setConstraintText);\n\n    this._setConstraintText();\n\n    this._setLoginPattern();\n  },\n  parse: function (resp) {\n    /* eslint complexity: [2, 9] */\n    resp = oktaUnderscore.clone(resp);\n\n    if (resp.type === 'object' && resp.extendedType === 'image') {\n      resp.type = 'image';\n    }\n\n    resp['__displayType__'] = SchemaUtils.getDisplayType(resp.type, resp.format, resp.items ? resp.items.format ? resp.items.format : resp.items.type : undefined);\n\n    this._setRangeConstraints(resp);\n\n    resp['__supportsMinMax__'] = SchemaUtils.SUPPORTSMINMAX.indexOf(resp['__displayType__']) !== -1;\n    resp['__displayScope__'] = SchemaUtils.DISPLAYSCOPE[resp.scope] || SchemaUtils.DISPLAYSCOPE.NA;\n\n    if (resp.settings && resp.settings.permissions && resp.settings.permissions.SELF) {\n      resp['__userPermission__'] = resp.settings.permissions.SELF;\n    }\n\n    this._setMasterOverride(resp);\n\n    this._setSubSchemas(resp);\n\n    this._setUniqueness(resp);\n\n    return resp;\n  },\n  validate: function () {\n    const enumValidationError = this._validateEnumOneOf();\n\n    if (enumValidationError) {\n      return enumValidationError;\n    }\n\n    if (!this.get('__supportsMinMax__') || !this.get('__constraint__')) {\n      return undefined;\n    }\n\n    const constraitType = this.get('__constraint__');\n    const constraitHandler = this[constraintHandlers[constraitType]];\n\n    if (oktaUnderscore.isFunction(constraitHandler)) {\n      return constraitHandler.call(this);\n    } else {\n      Logger.warn('No constraint handler found for: ' + constraitType);\n      return undefined;\n    }\n  },\n  _checkBetweenConstraints: function () {\n    const minVal = this.get('__minVal__');\n    const maxVal = this.get('__maxVal__');\n\n    if (!minVal && !maxVal) {\n      return;\n    }\n\n    if (!minVal) {\n      return {\n        __minVal__: 'Min value is required'\n      };\n    }\n\n    if (!maxVal) {\n      return {\n        __maxVal__: 'Max value is required'\n      };\n    }\n\n    let val = this._checkIntegerConstraints('__minVal__', 'Min value');\n\n    if (val) {\n      return val;\n    }\n\n    val = this._checkIntegerConstraints('__maxVal__', 'Max value');\n\n    if (val) {\n      return val;\n    }\n\n    if (+minVal >= +maxVal) {\n      return {\n        __maxVal__: 'Max val must be greater than min val'\n      };\n    }\n  },\n  _checkGreaterThanConstraint: function () {\n    const minVal = this.get('__minVal__');\n\n    if (!minVal) {\n      return;\n    }\n\n    const val = this._checkIntegerConstraints('__minVal__', 'Min value');\n\n    if (val) {\n      return val;\n    }\n  },\n  _checkLessThanConstraint: function () {\n    const maxVal = this.get('__maxVal__');\n\n    if (!maxVal) {\n      return;\n    }\n\n    const val = this._checkIntegerConstraints('__maxVal__', 'Max value');\n\n    if (val) {\n      return val;\n    }\n  },\n  _checkEqualsConstraint: function () {\n    const equals = this.get('__equals__');\n\n    if (!equals) {\n      return;\n    }\n\n    const val = this._checkIntegerConstraints('__equals__', 'Constraint');\n\n    if (val) {\n      return val;\n    }\n  },\n  _checkIntegerConstraints: function (field, name) {\n    const val = this.get(field);\n    const error = {}; // eslint-disable-next-line no-restricted-globals\n\n    if (isNaN(val)) {\n      error[field] = name + ' must be a number';\n      return error;\n    }\n\n    if (+val < 0) {\n      error[field] = name + ' must be greater than 0';\n      return error;\n    }\n  },\n  _setMasterOverride: function (resp) {\n    if (resp.settings && resp.settings.masterOverride && resp.settings.masterOverride) {\n      const masterOverrideValue = resp.settings.masterOverride.value;\n\n      if (oktaUnderscore.isArray(masterOverrideValue) && !oktaUnderscore.isEmpty(masterOverrideValue)) {\n        resp['__masterOverrideType__'] = 'OVERRIDE';\n        resp['__masterOverrideValue__'] = masterOverrideValue || [];\n      } else {\n        resp['__masterOverrideType__'] = resp.settings.masterOverride.type;\n      }\n    } else {\n      resp['__masterOverrideType__'] = 'INHERIT';\n    }\n  },\n  _setRangeConstraints: function (resp) {\n    /* eslint complexity: [2, 11] */\n    if (resp['__displayType__'] === STRING) {\n      resp['__minVal__'] = resp.minLength;\n      resp['__maxVal__'] = resp.maxLength;\n    } else if (resp['__displayType__'] === INTEGER || resp['__displayType__'] === NUMBER) {\n      resp['__minVal__'] = resp.minimum;\n      resp['__maxVal__'] = resp.maximum;\n    }\n\n    if (resp['__minVal__'] && resp['__maxVal__']) {\n      if (resp['__minVal__'] === resp['__maxVal__']) {\n        resp['__constraint__'] = 'equals';\n        resp['__equals__'] = resp['__minVal__'];\n      } else {\n        resp['__constraint__'] = 'between';\n      }\n    } else if (!resp['__minVal__'] && resp['__maxVal__']) {\n      resp['__constraint__'] = 'lessThan';\n    } else if (!resp['__maxVal__'] && resp['__minVal__']) {\n      resp['__constraint__'] = 'greaterThan';\n    }\n  },\n  _setSubSchemas: function (resp) {\n    if (resp.allOf) {\n      resp['subSchemas'] = new SchemaPropertySubSchemaAllOfCollection(resp.allOf, {\n        parse: true\n      });\n    } else if (resp.oneOf) {\n      resp['subSchemas'] = new SchemaPropertySubSchemaOneOfCollection(resp.oneOf, {\n        parse: true\n      });\n    } else if (resp.noneOf) {\n      resp['subSchemas'] = new SchemaPropertySubSchemaNoneOfCollection(resp.noneOf, {\n        parse: true\n      });\n    }\n  },\n  _setUniqueness: function (resp) {\n    const unique = resp && resp.unique;\n    resp['__unique__'] = !!(unique && (unique === SchemaUtils.UNIQUENESS.UNIQUE_VALIDATED || unique === SchemaUtils.UNIQUENESS.PENDING_UNIQUENESS));\n  },\n  _setLoginPattern: function () {\n    if (!this.get('__isLoginOfBaseSchema__')) {\n      return;\n    }\n\n    const pattern = this.get('pattern');\n\n    if (pattern === loginFormatNonePattern) {\n      this.set('__loginFormatRestriction__', SchemaUtils.LOGINPATTERNFORMAT.NONE);\n    } else if (pattern) {\n      this.set('__loginFormatRestriction__', SchemaUtils.LOGINPATTERNFORMAT.CUSTOM);\n      this.set('__loginFormatRestrictionCustom__', this._extractLoginPattern(pattern));\n    } else {\n      this.set('__loginFormatRestriction__', SchemaUtils.LOGINPATTERNFORMAT.EMAIL);\n    }\n  },\n  _updateDisplayType: function () {\n    const type = this.get('type');\n\n    if (type === STRING && this.get('format')) {\n      this.set('__displayType__', SchemaUtils.FORMATDISPLAYTYPE[this.get('format')]);\n    } else {\n      const items = this.get('items');\n      const arraytype = items && (items.format ? items.format : items.type);\n\n      if (type && arraytype) {\n        this.set('__displayType__', SchemaUtils.ARRAYDISPLAYTYPE[getArrayTypeName(type, arraytype)]);\n      } else {\n        this.set('__displayType__', type);\n      }\n    }\n  },\n  _validateEnumOneOf: function () {\n    if (!this.get('__isEnumDefinedAndSupported__')) {\n      return;\n    }\n\n    const enumOneOf = this.get('__oneOf__') || [];\n\n    if (oktaUnderscore.isEmpty(enumOneOf)) {\n      return {\n        __oneOf__: loc('model.validation.field.blank', 'courage')\n      };\n    }\n\n    if (!this._isValidateOneOfConstraint(enumOneOf)) {\n      const constraintType = this.get('__enumConstraintType__');\n      const errorTypeMsg = constraintTypeErrorMessages[constraintType];\n      return {\n        __oneOf__: errorTypeMsg\n      };\n    }\n  },\n  _isValidateOneOfConstraint: function (values) {\n    const constraintType = this.get('__enumConstraintType__');\n    return oktaUnderscore.all(values, function (value) {\n      return EnumTypeHelper.isConstraintValueMatchType(value.const, constraintType);\n    });\n  },\n  toJSON: function () {\n    let json = BaseModel.prototype.toJSON.apply(this, arguments);\n    json.settings = {\n      permissions: {}\n    };\n    json.settings.permissions['SELF'] = this.get('__userPermission__'); // omit \"sensitive\" filed will have default it value to false.\n\n    if (this.get('__isSensitive__')) {\n      json.settings.sensitive = this.get('__isSensitive__');\n    }\n\n    if (this.get('type') === 'image') {\n      json.type = 'object';\n      json.extendedType = 'image';\n    }\n\n    json = this._enumAssignment(json);\n    json = this._attributeOverrideToJson(json);\n    json = this._normalizeUnionValue(json);\n    json = this._patternAssignment(json);\n    json = this._uniquenessAssignment(json);\n    return json;\n  },\n  _attributeOverrideToJson: function (json) {\n    const masterOverrideType = this.get('__masterOverrideType__');\n    const masterOverrideValue = this.get('__masterOverrideValue__');\n\n    if (masterOverrideType === 'OKTA_MASTERED') {\n      json.settings.masterOverride = {\n        type: 'OKTA_MASTERED'\n      };\n    } else if (masterOverrideType === 'OVERRIDE') {\n      json.settings.masterOverride = {\n        type: 'ORDERED_LIST',\n        value: []\n      };\n\n      if (masterOverrideValue instanceof BaseCollection) {\n        oktaUnderscore.each(masterOverrideValue.toJSON(), function (overrideProfile) {\n          json.settings.masterOverride.value.push(overrideProfile.id);\n        });\n      } else if (masterOverrideValue instanceof Array) {\n        json.settings.masterOverride.value = masterOverrideValue;\n      }\n\n      if (oktaUnderscore.isEmpty(json.settings.masterOverride.value)) {\n        delete json.settings.masterOverride;\n      }\n    }\n\n    if (masterOverrideType === 'INHERIT') {\n      delete json.settings.masterOverride;\n    }\n\n    return json;\n  },\n\n  /**\n   * Only allow set \"union\" value when isScopeSelf is NONE and displayType is\n   * array of (string/number/integer), otherwise reset to default.\n   *\n   * @see /universal-directory/shared/views/components/UnionGroupValuesRadio.js\n   */\n  _normalizeUnionValue: function (json) {\n    if (!this.get('__isNoneScopeArrayType__')) {\n      json['union'] = undefined;\n    }\n\n    return json;\n  },\n  _enumAssignment: function (json) {\n    if (!this.get('__isEnumDefinedAndSupported__')) {\n      return json;\n    } // backfill empty title by constraint\n\n\n    const enumOneOf = this._getEnumOneOfWithTitleCheck();\n\n    if (this.get('type') === 'array') {\n      delete json.items.enum;\n      json.items.oneOf = enumOneOf;\n    } else {\n      delete json.enum;\n      json.oneOf = enumOneOf;\n    }\n\n    return json;\n  },\n  _patternAssignment: function (json) {\n    if (!this.get('__isLoginOfBaseSchema__') || !this.get('__loginFormatRestriction__')) {\n      return json;\n    }\n\n    switch (this.get('__loginFormatRestriction__')) {\n      case SchemaUtils.LOGINPATTERNFORMAT.EMAIL:\n        delete json.pattern;\n        break;\n\n      case SchemaUtils.LOGINPATTERNFORMAT.CUSTOM:\n        json.pattern = this._buildLoginPattern(this.get('__loginFormatRestrictionCustom__'));\n        break;\n\n      case SchemaUtils.LOGINPATTERNFORMAT.NONE:\n        json.pattern = loginFormatNonePattern;\n        break;\n    }\n\n    return json;\n  },\n  _uniquenessAssignment: function (json) {\n    if (!this.get('__unique__')) {\n      delete json.unique;\n    } else if (!this.get('__isUniqueness__')) {\n      json.unique = SchemaUtils.UNIQUENESS.UNIQUE_VALIDATED;\n    }\n\n    return json;\n  },\n\n  /**\n   * Character should be escaped except letters, digits and hyphen\n   */\n  _escapedRegexChar: function (pattern, index) {\n    const char = pattern.charAt(index);\n\n    if (escapedLoginCharsRe.test(char)) {\n      return '\\\\' + char;\n    }\n\n    return char;\n  },\n  _buildLoginPattern: function (pattern) {\n    let result = '';\n\n    for (var i = 0; i < pattern.length; i++) {\n      result += this._escapedRegexChar(pattern, i);\n    }\n\n    return '[' + result + ']+';\n  },\n  _extractLoginPattern: function (pattern) {\n    const re = /^\\[(.*)\\]\\+/;\n    const matches = pattern.match(re);\n    return matches ? matches[1].replace(/\\\\(.)/g, '$1') : pattern;\n  },\n  _getEnumOneOfWithTitleCheck: function () {\n    const enumOneOf = this.get('__oneOf__');\n    return oktaUnderscore.map(enumOneOf, function (value) {\n      if (oktaJQueryStatic.trim(value.title) !== '') {\n        return value;\n      }\n\n      value.title = !oktaUnderscore.isString(value.const) ? JSON.stringify(value.const) : value.const;\n      return value;\n    });\n  },\n  _updateTypeFormatConstraints: function () {\n    const displayType = this.get('__displayType__'); // OKTA-31952 reset format according to its displayType\n\n    this.unset('format', {\n      silent: true\n    });\n    this.unset('items', {\n      silent: true\n    });\n    this.set(SchemaUtils.DISPLAYTYPES[displayType]);\n\n    if (displayType !== NUMBER && displayType !== INTEGER) {\n      this.unset('minimum');\n      this.unset('maximum');\n    }\n\n    if (displayType !== STRING) {\n      this.unset('minLength');\n      this.unset('maxLength');\n    }\n\n    this.unset('__minVal__');\n    this.unset('__maxVal__');\n    this.unset('__equals__');\n    this.set('__supportsMinMax__', SchemaUtils.SUPPORTSMINMAX.indexOf(this.get('__displayType__')) !== -1);\n  },\n  _updateMinMax: function () {\n    let min;\n    let max;\n    const displayType = this.get('__displayType__');\n\n    if (displayType === STRING) {\n      min = 'minLength';\n      max = 'maxLength';\n    } else if (displayType === INTEGER || displayType === NUMBER) {\n      min = 'minimum';\n      max = 'maximum';\n    }\n\n    if (this.get('__minVal__')) {\n      this.set(min, parseInt(this.get('__minVal__'), 10));\n    } else {\n      this.unset(min);\n    }\n\n    if (this.get('__maxVal__')) {\n      this.set(max, parseInt(this.get('__maxVal__'), 10));\n    } else {\n      this.unset(max);\n    }\n  },\n  _convertEqualsToMinMax: function () {\n    const equals = this.get('__equals__');\n\n    if (equals) {\n      this.set('__minVal__', equals);\n      this.set('__maxVal__', equals);\n    }\n  },\n\n  /*\n   Normally we would use a derived property here but derived properties do not work with the model Clone function\n   so we use this workaround instead.\n   */\n  _setConstraintText: function () {\n    const constraint = this.get('__constraint__');\n    const min = this.get('__minVal__');\n    const max = this.get('__maxVal__');\n    const equals = this.get('__equals__');\n\n    switch (constraint) {\n      case 'between':\n        this.set('__constraintText__', 'Between ' + min + ' and ' + max);\n        break;\n\n      case 'greaterThan':\n        this.set('__constraintText__', 'Greater than ' + min);\n        break;\n\n      case 'lessThan':\n        this.set('__constraintText__', 'Less than ' + max);\n        break;\n\n      case 'equals':\n        this.set('__constraintText__', 'Equals ' + equals);\n        break;\n\n      default:\n        this.set('__constraintText__', '');\n        break;\n    }\n  },\n  cleanup: function () {\n    if (this.get('__constraint__') === 'lessThan') {\n      this.unset('__minVal__');\n    } else if (this.get('__constraint__') === 'greaterThan') {\n      this.unset('__maxVal__');\n    }\n\n    if (this.get('scope') !== SchemaUtils.SCOPE.SYSTEM) {\n      if (this.get('__isScopeSelf__') === true) {\n        this.set({\n          scope: SchemaUtils.SCOPE.SELF\n        }, {\n          silent: true\n        });\n      } else {\n        this.unset('scope');\n      }\n    }\n\n    if (!this.get('__unique__')) {\n      this.unset('unique');\n    }\n  },\n\n  /**\n   * Since there is not an dedicated attribute to flag enum type,\n   * use enum values to determine whether the property is enum type or not.\n   */\n  isEnumType: function () {\n    return !!this.getEnumValues();\n  },\n  getEnumValues: function () {\n    return this.get('oneOf') || this.get('enum') || this.get('items') && this.get('items')['oneOf'] || this.get('items') && this.get('items')['enum'];\n  },\n  detectHasEnumDefined: function () {\n    const enumValues = this.getEnumValues();\n\n    if (!enumValues) {\n      return;\n    }\n\n    this.set('__oneOf__', EnumTypeHelper.convertToOneOf(enumValues));\n    this.set('__enumDefined__', true);\n  }\n});\nconst SchemaPropertySchemaProperties = BaseCollection.extend({\n  model: SchemaPropertySchemaProperty,\n  clone: function () {\n    return new this.constructor(this.toJSON({\n      verbose: true\n    }), {\n      parse: true\n    });\n  },\n  areAllReadOnly: function () {\n    return oktaUnderscore.all(this.pluck('__isReadOnly__'));\n  },\n  createModelProperties: function () {\n    return this.reduce(function (p, schemaProperty) {\n      const type = schemaProperty.get('type');\n      p[schemaProperty.id] = oktaUnderscore.clone(SchemaUtils.DISPLAYTYPES[type]);\n\n      if (SchemaUtils.SUPPORTSMINMAX.indexOf(type) !== -1) {\n        p[schemaProperty.id].minLength = schemaProperty.get('minLength');\n        p[schemaProperty.id].maxLength = schemaProperty.get('maxLength');\n      }\n\n      if (type === 'string') {\n        p[schemaProperty.id].format = schemaProperty.get('format');\n      }\n\n      return p;\n    }, {});\n  }\n});\nvar SchemaProperty = {\n  Model: SchemaPropertySchemaProperty,\n  Collection: SchemaPropertySchemaProperties\n};\n\nexport { SchemaProperty as default };\n","import oktaJQueryStatic from './jquery-wrapper.js';\nimport oktaUnderscore from './underscore-wrapper.js';\nimport BaseRouter from './BaseRouter.js';\nimport SettingsModel from './SettingsModel.js';\nimport StateMachine from './StateMachine.js';\nimport BaseView from '../views/BaseView.js';\n\nfunction clean(obj) {\n  const res = {};\n\n  oktaUnderscore.each(obj, function (value, key) {\n    if (!oktaUnderscore.isNull(value)) {\n      res[key] = value;\n    }\n  });\n\n  return res;\n}\n\nconst proto =\n/** @lends module:Okta.Controller.prototype */\n{\n  preinitialize: function (options = {}) {\n    // If 'state' is passed down as options, use it, else create a 'new StateMachine()'\n    this.state = oktaUnderscore.result(this, 'state');\n    const hasStateBeenInitialized = this.state instanceof StateMachine || options.state instanceof StateMachine;\n\n    if (!hasStateBeenInitialized) {\n      const stateData = oktaUnderscore.defaults(clean(options.state), this.state || {}); // TODO:\n      // `framework/View.js set `this.state = options.state.`.\n      // Therefore we could consider to do\n      // 1. `options.state = new StateMachine()`\n      // 2. remove `delete options.state`\n\n\n      this.state = new StateMachine(stateData);\n      delete options.state;\n    }\n\n    if (!options.settings) {\n      // allow the controller to live without a router\n      options.settings = new SettingsModel(oktaUnderscore.omit(options || {}, 'el'));\n      this.listen('notification', BaseRouter.prototype._notify);\n      this.listen('confirmation', BaseRouter.prototype._confirm);\n    }\n\n    BaseView.prototype.preinitialize.call(this, options);\n  },\n  constructor: function (options = {}) {\n    BaseView.call(this, options);\n    this.listenTo(this.state, '__invoke__', function () {\n      const args = oktaUnderscore.toArray(arguments);\n\n      const method = args.shift();\n\n      if (oktaUnderscore.isFunction(this[method])) {\n        this[method].apply(this, args);\n      }\n    });\n    let MainView; // if `this.View` is already a Backbone View\n\n    if (this.View && this.View.isCourageView) {\n      MainView = this.View;\n    } // if `this.View` is a pure function that returns a Backbone View\n    else if (oktaUnderscore.result(this, 'View') && oktaUnderscore.result(this, 'View').isCourageView) {\n      MainView = oktaUnderscore.result(this, 'View');\n    }\n\n    if (MainView) {\n      this.add(new MainView(this.toJSON()));\n    }\n  },\n\n  /**\n   * The default values of our application state\n   * @type {Object}\n   * @default {}\n   */\n  state: {},\n\n  /**\n   * The main view this controller operate on\n   * @type {module:Okta.View}\n   * @default null\n   */\n  View: null,\n\n  /**\n   * Renders the {@link module:Okta.Controller#View|main view} after the DOM is ready\n   * in case the controller is the root component of the page (e.g there's no router)\n   */\n  render: function () {\n    const args = arguments;\n    const self = this;\n    oktaJQueryStatic(function () {\n      BaseView.prototype.render.apply(self, args);\n    });\n    return this;\n  },\n\n  /**\n   * Creates the view constructor options\n   * @param {Object} [options] Extra options\n   * @return {Object} The view constructor options\n   */\n  toJSON: function (options) {\n    return oktaUnderscore.extend(oktaUnderscore.pick(this, 'state', 'settings', 'collection', 'model'), options || {});\n  },\n\n  /**\n   * Removes the child views, empty the DOM element and stop listening to events\n   */\n  remove: function () {\n    this.removeChildren();\n    this.stopListening();\n    this.$el.empty();\n    return this;\n  }\n};\n/**\n * A Controller is our application control flow component.\n *\n * Typically it will:\n * - Initialize the models, controller and main views\n * - Listen to events\n * - Create, read, update and delete models\n * - Create modal dialogs, confirmation dialogs and alert dialogs\n * - Control the application flow\n *\n * The constructor is responsible for:\n * - Create the application state object\n * - Assign or creates the application settings object\n * - Create an instance of the main view with the relevant parameters\n *\n * See:\n * [Hello World Tutorial](https://github.com/okta/courage/wiki/Hello-World),\n * [Test Spec](https://github.com/okta/okta-ui/blob/master/packages/courage/test/spec/util/BaseController_spec.js)\n *\n * @class module:Okta.Controller\n * @param {Object} options Options Hash\n * @param {SettingsModel} [options.settings] Application Settings Model\n * @param {String} options.el a jQuery selector string stating where to attach the controller in the DOM\n */\n\nvar BaseController = BaseView.extend(proto);\n\nexport { BaseController as default };\n","import Backbone from '../vendor/lib/backbone.js';\nimport ConfirmationDialog from '../../empty.js';\nimport oktaJQueryStatic from './jquery-wrapper.js';\nimport oktaUnderscore from './underscore-wrapper.js';\nimport Logger from './Logger.js';\nimport SettingsModel from './SettingsModel.js';\nimport Notification from '../views/components/Notification.js';\n\nfunction getRoute(router, route) {\n  const root = oktaUnderscore.result(router, 'root') || '';\n\n  if (root && oktaUnderscore.isString(route)) {\n    return [root, route].join('/').replace(/\\/{2,}/g, '/');\n  }\n\n  return route;\n}\n/**\n * BaseRouter is a standard [Backbone.Router](http://backbonejs.org/#Router)\n * with a few additions:\n * - Explicit mapping between routes and controllers\n * - Support for rendering notification and confirmation dialogs\n *\n * Checkout the [Hello World Tutorial](https://github.com/okta/courage/wiki/Hello-World)\n * for a step-by-step guide to using this.\n *\n * @class module:Okta.Router\n * @extends external:Backbone.Router\n * @param {Object} options options hash\n * @param {String} options.el a jQuery selector string stating where to attach the controller in the DOM\n */\n\n\nconst props =\n/** @lends module:Okta.Router.prototype */\n{\n  /**\n   * The root URL for the router. When setting {@link http://backbonejs.org/#Router-routes|routes},\n   * it will be prepended to each route.\n   * @type {String|Function}\n   */\n  root: '',\n  listen: Notification.prototype.listen,\n  constructor: function (options = {}) {\n    this.el = options.el;\n    /**\n     * Make sure `this.settings` has been set before invoke super - `Backbone.Router.apply`,\n     * which will invoke `this.initialize`, which could use `this.settings`.\n     *\n     * In theory we can set `this.settings` in `this.initialize` and assume `child.initialize`\n     * will invoke `super.initialize` first. But in reality, `child.initialize` doesn't call\n     * `super.initialize` at all.\n     */\n\n    this.settings = new SettingsModel(oktaUnderscore.omit(options, 'el'));\n\n    if (options.root) {\n      this.root = options.root;\n    }\n\n    Backbone.Router.apply(this, arguments);\n    this.listen('notification', this._notify);\n    this.listen('confirmation', this._confirm);\n  },\n\n  /**\n   * Fires up a confirmation dialog\n   *\n   * @param  {Object} options Options Hash\n   * @param  {String} options.title The title\n   * @param  {Array<string>} buttonOrder The order of the buttons\n   * @param  {String} options.subtitle The explain text\n   * @param  {String} options.save The text for the save button\n   * @param  {Function} options.ok The callback function to run when hitting \"OK\"\n   * @param  {String} options.cancel The text for the cancel button\n   * @param  {Function} options.cancelFn The callback function to run when hitting \"Cancel\"\n   * @param  {Boolean} options.noCancelButton Don't render the cancel button (useful for alert dialogs)\n   * @param  {Boolean} options.noSubmitButton Don't render the primary button (useful for alert dialogs)\n   * @private\n   *\n   * @return {Okta.View} the dialog view\n   */\n  _confirm: function (options = {}) {\n    const Dialog = ConfirmationDialog.extend(oktaUnderscore.pick(options, 'title', 'subtitle', 'save', 'ok', 'cancel', 'cancelFn', 'noCancelButton', 'noSubmitButton', 'content', 'danger', 'type', 'closeOnOverlayClick', 'buttonOrder'));\n    const dialog = new Dialog({\n      model: this.settings\n    }); // The model is here because itsa part of the BaseForm paradigm.\n    // It will be ignored in the context of a confirmation dialog.\n\n    dialog.render();\n    return dialog; // test hook\n  },\n\n  /**\n   * Fires up a notification banner\n   *\n   * @param  {Object} options Options Hash\n   * @return {Okta.View} the notification view\n   * @private\n   */\n  _notify: function (options) {\n    const notification = new Notification(options);\n    oktaJQueryStatic('#content').prepend(notification.render().el);\n    return notification; // test hook\n  },\n\n  /**\n   * Renders a Controller\n   * This will initialize new instance of a controller and call render on it\n   *\n   * @param  {Okta.Controller} Controller The controller Class we which to render\n   * @param  {Object} [options] Extra options to the controller constructor\n   */\n  render: function (Controller, options) {\n    this.unload();\n    options = oktaUnderscore.extend(oktaUnderscore.pick(this, 'settings', 'el'), options || {});\n    this.controller = new Controller(options);\n    this.controller.render();\n  },\n\n  /**\n   * Starts the backbone history object\n   *\n   * Waits for the dom to be ready before calling `Backbone.history.start()` (IE issue).\n   *\n   * See [Backbone History](http://backbonejs.org/#History) for more information.\n   */\n  start: function (...args) {\n    oktaJQueryStatic(function () {\n      if (Backbone.History.started) {\n        Logger.error('History has already been started');\n        return;\n      }\n\n      Backbone.history.start(...args);\n    });\n  },\n\n  /**\n   * Removes active controller and frees up event listeners\n   */\n  unload: function () {\n    if (this.controller) {\n      this.stopListening(this.controller);\n      this.stopListening(this.controller.state);\n      this.controller.remove();\n    }\n  },\n  route: function (route, name, callback) {\n    return Backbone.Router.prototype.route.call(this, getRoute(this, route), name, callback);\n  },\n  navigate: function (fragment, options) {\n    return Backbone.Router.prototype.navigate.call(this, getRoute(this, fragment), options);\n  }\n};\nvar BaseRouter = Backbone.Router.extend(props);\n\nexport { BaseRouter as default };\n","import oktaUnderscore from './underscore-wrapper.js';\nimport BaseButtonLink from '../views/components/BaseButtonLink.js';\n\n/* eslint '@okta/okta-ui/no-deprecated-methods': [0, [{ name: 'BaseButtonLink.extend', use: 'Okta.createButton'}, ]] */\n/**\n * A factory method wrapper for {@link BaseButtonLink} creation\n * @class module:Okta.internal.util.ButtonFactory\n */\n\nfunction normalizeEvents(options) {\n  const events = oktaUnderscore.extend(options.click ? {\n    click: options.click\n  } : {}, options.events || {});\n\n  const target = {};\n\n  oktaUnderscore.each(events, function (fn, eventName) {\n    target[eventName] = function (e) {\n      if (!options.href) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n\n      if (!(this.disabled && eventName === 'click')) {\n        fn.apply(this, arguments);\n      }\n    };\n  });\n\n  return target;\n}\n\nvar ButtonFactory = /** @lends module:Okta.internal.util.ButtonFactory */\n{\n  /**\n   * Creates a {@link module:Okta.internal.views.components.BaseButtonLink|BaseButtonLink}.\n   * @param  {Object} options Options hash\n   * @param  {String} [options.title] The button text\n   * @param  {String} [options.icon]\n   * CSS class for the icon to display. See [Style guide](http://rain.okta1.com:1802/su/dev/style-guide#icons)\n   * @param {String} [options.href] The button link\n   * @param {Function} [options.click] On click callback\n   * @param {Object} [options.events] a [Backbone events](http://backbonejs.org/#View-delegateEvents) hash\n   * @returns {module:Okta.internal.views.components.BaseButtonLink} BaseButtonLink prototype (\"class\")\n   */\n  create: function (options) {\n    options = oktaUnderscore.clone(options);\n    options.attrs = options.attributes;\n    delete options.attributes;\n    return BaseButtonLink.extend(oktaUnderscore.extend(options, {\n      events: normalizeEvents(options)\n    }));\n  }\n};\n\nexport { ButtonFactory as default };\n","import Backbone from '../vendor/lib/backbone.js';\nimport oktaUnderscore from './underscore-wrapper.js';\n\nfunction Class(options) {\n  this.options = oktaUnderscore.clone(options || {});\n  this.cid = oktaUnderscore.uniqueId('class');\n  this.initialize.apply(this, arguments);\n}\n\noktaUnderscore.extend(Class.prototype, Backbone.Events, {\n  initialize: function () {}\n});\n\nClass.extend = Backbone.Model.extend;\n\nexport { Class as default };\n","import clipboard from 'clipboard';\nimport oktaJQueryStatic from './jquery-wrapper.js';\nimport oktaUnderscore from './underscore-wrapper.js';\nimport FrameworkView from '../framework/View.js';\nimport Class from './Class.js';\n\nconst Clipboard = clipboard;\nconst OPTIONS = ['success', 'error', 'target', 'text'];\nconst ClipboardClipboardWrapper = Class.extend({\n  initialize: function (el, options) {\n    /* eslint complexity:0, max-statements: [2, 24] */\n    options = oktaUnderscore.pick(options || {}, OPTIONS);\n    let trigger;\n    let target;\n    let text;\n\n    if (oktaUnderscore.isString(el)) {\n      trigger = el;\n    }\n\n    if (oktaUnderscore.isElement(el)) {\n      trigger = el;\n    }\n\n    if (el instanceof oktaJQueryStatic) {\n      trigger = el.selector; // TODO: use stronger type\n    }\n\n    if (el instanceof FrameworkView) {\n      trigger = el.el;\n    }\n\n    if (oktaUnderscore.isFunction(options.target)) {\n      target = options.target;\n    }\n\n    if (oktaUnderscore.isElement(options.target)) {\n      target = oktaUnderscore.constant(options.target);\n    }\n\n    if (oktaUnderscore.isString(options.text)) {\n      text = oktaUnderscore.constant(options.text);\n    } else if (oktaUnderscore.isFunction(options.text)) {\n      text = options.text;\n    }\n\n    this.__instance = new Clipboard(trigger, {\n      target: target,\n      text: text\n    });\n    this.done = oktaUnderscore.partial(this.__setCallback, 'success');\n    this.error = oktaUnderscore.partial(this.__setCallback, 'error');\n    this.done(options.success);\n    this.error(options.error);\n  },\n  __setCallback: function (event, callback) {\n    if (!oktaUnderscore.isFunction(callback)) {\n      return;\n    }\n\n    this.__instance.on(event, callback);\n\n    return this.__instance;\n  }\n});\n/**\n * @class Clipboard\n * @abstract\n *\n * Abstract class that initializes a Clipboard\n *   https://clipboardjs.com/\n *\n * ### Example:\n *\n *  ```javascript\n *  //attach a selector\n *  Clipboard.attach('.copy-button');\n *\n *  //attach a node, and set a constant string\n *  Clipboard.attach(buttonView.el, {\n *    text: 'this is the content'\n *  });\n *\n *  //attach a view, set text dynamically, and set callback\n *  Clipboard.attach(buttonView, {\n *    text: function (triggerNode) {\n *      return $(triggerNode).attr('foo') + model.get('userName');\n *    }\n *  }).done(function (targetNode) {\n *    var msg = ['\"', targetNode.text, '\" is copied'].join('');\n *    view.notify('success', msg);\n *  });\n *\n *  //attach a jquery object, set the target node, and set callback\n *  Clipboard.attach($('.customizeTarget'), {\n *    target: function (triggerNode) {\n *      return triggerNode;\n *    },\n *    success: function (targetNode) {\n *      view.notify('success', 'copied!');\n *    }\n *  });\n *\n * ```\n */\n\nvar Clipboard$1 = {\n  /**\n   * @param {String|Node|View|jQuery} [el] el could be a selector (recommended),\n   *           a dom node, a view or a jquery object\n   * @param {Object} [options] Options hash\n   * @param  {Node|Function} [options.target] a static dom node\n   *           or a function that takes trigger node and returns a target node\n   * @param {String|Function} [options.text] a static string or a function that returns a string dynamically\n   * @param {Function} [options.success] success callback\n   * @param {Function} [options.error] error callback\n   * @return {Object} The clipboard object\n   */\n  attach: function (el, options) {\n    return new ClipboardClipboardWrapper(el, options);\n  }\n};\n\nexport { Clipboard$1 as default };\n","import oktaUnderscore from './underscore-wrapper.js';\nimport Cookie$1 from '../vendor/lib/js.cookie.js';\n\nconst SECURED_COOKIE = /^https/.test(window.location.href);\nvar Cookie = {\n  setCookie: function (name, value, options) {\n    Cookie$1.set(name, value, oktaUnderscore.defaults(options || {}, {\n      secure: SECURED_COOKIE,\n      path: '/'\n    }));\n  },\n  getCookie: function () {\n    return Cookie$1.get.apply(Cookie$1, arguments);\n  },\n  removeCookie: function () {\n    return Cookie$1.remove.apply(Cookie$1, arguments);\n  }\n};\n\nexport { Cookie as default };\n","var Keys = {\n  UP: 38,\n  DOWN: 40,\n  DEL: 46,\n  TAB: 9,\n  RETURN: 13,\n  ENTER: 13,\n  ESC: 27,\n  COMMA: 188,\n  PAGEUP: 33,\n  PAGEDOWN: 34,\n  SPACE: 32,\n  BACKSPACE: 8,\n  __isKey: function (e, key) {\n    return (e.which || e.keyCode) === this[key];\n  },\n  isEnter: function (e) {\n    return this.__isKey(e, 'ENTER');\n  },\n  isEsc: function (e) {\n    return this.__isKey(e, 'ESC');\n  },\n  isSpaceBar: function (e) {\n    return this.__isKey(e, 'SPACE');\n  }\n};\n\nexport { Keys as default };\n","function log(level, ...args) {\n  if (window.console && window.okta && window.okta.debug) {\n    window.console[level](...args);\n  }\n}\n/**\n * Utility library of logging functions.\n * @class module:Okta.Logger\n */\n\n\nvar Logger = /** @lends module:Okta.Logger */\n{\n  /**\n   * See [console.trace](https://developer.mozilla.org/en-US/docs/Web/API/Console.trace)\n   * @static\n   */\n  trace: function (...args) {\n    return log('trace', ...args);\n  },\n\n  /**\n   * See [console.dir](https://developer.mozilla.org/en-US/docs/Web/API/Console.dir)\n   * @static\n   */\n  dir: function (...args) {\n    return log('dir', ...args);\n  },\n\n  /**\n   * See [console.time](https://developer.mozilla.org/en-US/docs/Web/API/Console.time)\n   * @static\n   */\n  time: function (...args) {\n    return log('time', ...args);\n  },\n\n  /**\n   * See [console.timeEnd](https://developer.mozilla.org/en-US/docs/Web/API/Console.timeEnd)\n   * @static\n   */\n  timeEnd: function (...args) {\n    return log('timeEnd', ...args);\n  },\n\n  /**\n   * See [console.group](https://developer.mozilla.org/en-US/docs/Web/API/Console.group)\n   * @static\n   */\n  group: function (...args) {\n    return log('group', ...args);\n  },\n\n  /**\n   * See [console.groupEnd](https://developer.mozilla.org/en-US/docs/Web/API/Console.groupEnd)\n   * @static\n   */\n  groupEnd: function (...args) {\n    return log('groupEnd', ...args);\n  },\n\n  /**\n   * See [console.assert](https://developer.mozilla.org/en-US/docs/Web/API/Console.assert)\n   * @static\n   */\n  assert: function (...args) {\n    return log('assert', ...args);\n  },\n\n  /**\n   * See [console.log](https://developer.mozilla.org/en-US/docs/Web/API/Console.log)\n   * @static\n   */\n  log: function (...args) {\n    return log('log', ...args);\n  },\n\n  /**\n   * See [console.info](https://developer.mozilla.org/en-US/docs/Web/API/Console.info)\n   * @static\n   */\n  info: function (...args) {\n    return log('info', ...args);\n  },\n\n  /**\n   * See [console.warn](https://developer.mozilla.org/en-US/docs/Web/API/Console.warn)\n   * @static\n   */\n  warn: function (...args) {\n    return log('warn', ...args);\n  },\n\n  /**\n   * See [console.error](https://developer.mozilla.org/en-US/docs/Web/API/Console.error)\n   * @static\n   */\n  error: function (...args) {\n    return log('error', ...args);\n  }\n};\n\nexport { Logger as default };\n","import oktaUnderscore from './underscore-wrapper.js';\nimport StringUtil from './StringUtil.js';\n\nconst loc = StringUtil.localize;\nconst SchemaUtils = {\n  STRING: 'string',\n  NUMBER: 'number',\n  INTEGER: 'integer',\n  BOOLEAN: 'boolean',\n  OBJECT: 'object',\n  FORMATDISPLAYTYPE: {\n    'date-time': 'date',\n    uri: 'uri',\n    email: 'email',\n    // TODO: settle on using EITHER underscores OR hyphens --- not both (OKTA-202818)\n    'country-code': 'country-code',\n    'language-code': 'language-code',\n    'country_code': 'country_code',\n    'language_code': 'language_code',\n    locale: 'locale',\n    timezone: 'timezone',\n    'ref-id': 'reference'\n  },\n  ARRAYDISPLAYTYPE: {\n    arrayofobject: 'arrayofobject',\n    arrayofstring: 'arrayofstring',\n    arrayofnumber: 'arrayofnumber',\n    arrayofinteger: 'arrayofinteger',\n    'arrayofref-id': 'arrayofref-id'\n  },\n  DISPLAYTYPES: {\n    date: {\n      type: 'string',\n      format: 'date-time'\n    },\n    uri: {\n      type: 'string',\n      format: 'uri'\n    },\n    email: {\n      type: 'string',\n      format: 'email'\n    },\n    // TODO: Resolve inconsistencies in hyphens vs. underscores for these properties (OKTA-202818)\n    // use country-code if attribute should be restricted to country code type\n    'country-code': {\n      type: 'string',\n      format: 'country-code'\n    },\n    'language-code': {\n      type: 'string',\n      format: 'language-code'\n    },\n    'country_code': {\n      type: 'string'\n    },\n    'language_code': {\n      type: 'string'\n    },\n    locale: {\n      type: 'string',\n      format: 'locale'\n    },\n    timezone: {\n      type: 'string',\n      format: 'timezone'\n    },\n    string: {\n      type: 'string'\n    },\n    number: {\n      type: 'number'\n    },\n    boolean: {\n      type: 'boolean'\n    },\n    integer: {\n      type: 'integer'\n    },\n    reference: {\n      type: 'string',\n      format: 'ref-id'\n    },\n    arrayofobject: {\n      type: 'array',\n      items: {\n        type: 'object'\n      }\n    },\n    arrayofstring: {\n      type: 'array',\n      items: {\n        type: 'string'\n      }\n    },\n    arrayofnumber: {\n      type: 'array',\n      items: {\n        type: 'number'\n      }\n    },\n    arrayofinteger: {\n      type: 'array',\n      items: {\n        type: 'integer'\n      }\n    },\n    'arrayofref-id': {\n      type: 'array',\n      items: {\n        type: 'string',\n        format: 'ref-id'\n      }\n    },\n    image: {\n      type: 'image'\n    },\n    password: {\n      type: 'string'\n    }\n  },\n  SUPPORTSMINMAX: ['string', 'number', 'integer', 'password'],\n  SUPPORTENUM: ['string', 'number', 'integer', 'object', 'arrayofstring', 'arrayofnumber', 'arrayofinteger', 'arrayofobject'],\n  DATATYPE: {\n    string: 'string',\n    number: 'number',\n    boolean: 'boolean',\n    integer: 'integer',\n    date: 'datetime',\n    object: 'object',\n    arrayofobject: 'object array',\n    arrayofstring: 'string array',\n    arrayofnumber: 'number array',\n    arrayofinteger: 'integer array',\n    'arrayofref-id': 'reference array',\n    // TODO: settle on using EITHER underscores OR hyphens --- not both (OKTA-202818)\n    'country-code': 'country code',\n    'language-code': 'language code',\n    'country_code': 'country code',\n    'language_code': 'language code',\n    reference: 'reference',\n    timezone: 'timezone',\n    image: 'image'\n  },\n  MUTABILITY: {\n    READONLY: 'READ_ONLY',\n    WRITEONLY: 'WRITE_ONLY',\n    READWRITE: 'READ_WRITE',\n    IMMUTABLE: 'IMMUTABLE'\n  },\n  SCOPE: {\n    NONE: 'NONE',\n    SELF: 'SELF',\n    SYSTEM: 'SYSTEM'\n  },\n  DISPLAYSCOPE: {\n    SELF: 'User personal',\n    SYSTEM: 'System',\n    NA: 'None'\n  },\n  UNION: {\n    DISABLE: 'DISABLE',\n    ENABLE: 'ENABLE'\n  },\n  UNION_OPTIONS: {\n    DISABLE: loc('universal-directory.profiles.attribute.form.union.enable.display', 'courage'),\n    ENABLE: loc('universal-directory.profiles.attribute.form.union.disable.display', 'courage')\n  },\n  PERMISSION: {\n    HIDE: 'HIDE',\n    READ_ONLY: 'READ_ONLY',\n    WRITE_ONLY: 'WRITE_ONLY',\n    READ_WRITE: 'READ_WRITE'\n  },\n  ENDUSER_ATTRIBUTE_PERMISSION_OPTIONS: {\n    HIDE: loc('universal-directory.profiles.attribute.enduser.permission.hide', 'courage'),\n    READ_ONLY: loc('universal-directory.profiles.attribute.enduser.permission.readonly', 'courage'),\n    READ_WRITE: loc('universal-directory.profiles.attribute.enduser.permission.readwrite', 'courage')\n  },\n  ATTRIBUTE_LEVEL_MASTERING_OPTIONS: {\n    INHERIT: loc('universal-directory.profiles.attribute.source.inherit', 'courage'),\n    // eslint-disable-next-line @okta/okta/no-exclusive-language\n    OKTA_MASTERED: loc('universal-directory.profiles.attribute.source.oktamastered', 'courage'),\n    OVERRIDE: loc('universal-directory.profiles.attribute.source.override', 'courage')\n  },\n  USERNAMETYPE: {\n    NONE: 'non-username',\n    OKTA_TO_APP: 'okta-to-app-username',\n    OKTA_TO_AD: 'okta-to-ad-username',\n    APP_TO_OKTA: 'app-to-okta-username',\n    IDP_TO_OKTA: 'idp-to-okta-username'\n  },\n  LOGINPATTERNFORMAT: {\n    EMAIL: 'EMAIL',\n    CUSTOM: 'CUSTOM',\n    NONE: 'NONE'\n  },\n  UNIQUENESS: {\n    NOT_UNIQUE: 'NOT_UNIQUE',\n    PENDING_UNIQUENESS: 'PENDING_UNIQUENESS',\n    UNIQUE_VALIDATED: 'UNIQUE_VALIDATED'\n  },\n\n  /*\n   * Get a display string for a schema attribute type.\n   * @param {String} type Type of an attribute\n   * @param {String} format Format of an attribute\n   * @param {String} itemType Item type of an attribute if an array\n   * @param {String} defaultValue The default value if an attribute type is undefined\n   * @return {String} the display value\n   */\n  getDisplayType: function (type, format, itemType, defaultValue) {\n    let displayType; // type is undefined for\n    // - an un-mapped source attribute from mapping\n    // - an source attribute which is mapped to username target attribute\n\n    if (type) {\n      // format is only defined for complicated types (ex. reference, date time, array)\n      // not for simple types (ex. string, integer, boolean)\n      if (format) {\n        displayType = this.FORMATDISPLAYTYPE[format];\n      } else {\n        // itemType is only defined for array type\n        // to specify an array element type (ex. string, integer, number)\n        displayType = itemType ? this.ARRAYDISPLAYTYPE[type + 'of' + itemType] : type;\n      }\n    }\n\n    if (!displayType) {\n      displayType = typeof defaultValue === 'undefined' ? '' : defaultValue;\n    }\n\n    return displayType;\n  },\n\n  /*\n   * Get attribute mapping source attribute username type\n   * @param {String} mappingDirection\n   * @param {String} targetName The mapping target attribute name\n   * @param {String} appName The app name that's mapped to/from Okta\n   * @return {String} the source attribute username type value\n   */\n  getSourceUsernameType: function (mappingDirection, targetName, appName) {\n    let sourceUsernameType = this.USERNAMETYPE.NONE;\n    /* eslint complexity: [2, 7] */\n\n    if (mappingDirection === 'oktaToApp') {\n      if (targetName === 'userName') {\n        sourceUsernameType = this.USERNAMETYPE.OKTA_TO_APP;\n      } else if (targetName === 'cn') {\n        sourceUsernameType = this.USERNAMETYPE.OKTA_TO_AD;\n      }\n    } else if (mappingDirection === 'appToOkta' && targetName === 'login') {\n      if (appName === 'saml_idp') {\n        sourceUsernameType = this.USERNAMETYPE.IDP_TO_OKTA;\n      } else {\n        sourceUsernameType = this.USERNAMETYPE.APP_TO_OKTA;\n      }\n    }\n\n    return sourceUsernameType;\n  },\n  isArrayDataType: function (type) {\n    return oktaUnderscore.contains(oktaUnderscore.values(this.ARRAYDISPLAYTYPE), type);\n  },\n  isObjectDataType: function (type) {\n    return this.DATATYPE.object === type;\n  }\n};\n\nexport { SchemaUtils as default };\n","import oktaUnderscore from './underscore-wrapper.js';\nimport Model from '../models/Model.js';\n\n/**\n * @class SettingsModel\n * @extends {Okta.Model}\n * @private\n */\nconst props = {\n  local: function () {\n    const settings = window.okta && window.okta.settings || {};\n    const theme = window.okta && window.okta.theme || '';\n    return {\n      orgId: ['string', false, settings.orgId],\n      orgName: ['string', false, settings.orgName],\n      serverStatus: ['string', false, settings.serverStatus],\n      persona: ['string', false, settings.persona],\n      isDeveloperConsole: ['boolean', false, settings.isDeveloperConsole],\n      isPreview: ['boolean', false, settings.isPreview],\n      permissions: ['array', true, settings.permissions || []],\n      theme: ['string', false, theme]\n    };\n  },\n  constructor: function () {\n    Model.apply(this, arguments);\n    this.features = window._features || [];\n  },\n\n  /**\n   * Checks if the user have a feature flag enabled (Based of the org level feature flag)\n   * @param  {String}  feature Feature name\n   * @return {Boolean}\n   */\n  hasFeature: function (feature) {\n    return oktaUnderscore.contains(this.features, feature);\n  },\n\n  /**\n   * Checks if any of the given feature flags are enabled (Based of the org level feature flags)\n   * @param  {Array}  featureArray Features names\n   * @return {Boolean} true if any of the give features are enabled. False otherwise\n   */\n  hasAnyFeature: function (featureArray) {\n    return oktaUnderscore.some(featureArray, this.hasFeature, this);\n  },\n\n  /**\n   * Checks if the user have a specific permission (based on data passed from JSP)\n   * @param  {String}  permission Permission name\n   * @return {Boolean}\n   */\n  hasPermission: function (permission) {\n    return oktaUnderscore.contains(this.get('permissions'), permission);\n  },\n\n  /**\n   * Checks if the org has ds theme set\n   * @return {Boolean}\n   */\n  isDsTheme: function () {\n    return this.get('theme') === 'dstheme';\n  }\n};\nvar SettingsModel = Model.extend(props);\n\nexport { SettingsModel as default };\n","import oktaUnderscore from './underscore-wrapper.js';\nimport Model from '../models/Model.js';\n\n/**\n * @class StateMachine\n * @extends Okta.Model\n * @private\n *\n * A state object that holds the applciation state\n */\nvar StateMachine = Model.extend({\n  /**\n   * Invokes a method on the applicable {@link Okta.Controller}\n   *\n   * ```javascript\n   * state.invoke('methodName', 'param1', 'param2')\n   * // Will call\n   * contoller.methodName('param1', 'param2')\n   * ```\n   * @param {String} methodName the name of the controller method to invoke on the controller\n   */\n  invoke: function () {\n    const args = oktaUnderscore.toArray(arguments);\n\n    args.unshift('__invoke__');\n    this.trigger.apply(this, args);\n  }\n});\n\nexport { StateMachine as default };\n","import oktaJQueryStatic from './jquery-wrapper.js';\nimport oktaUnderscore from './underscore-wrapper.js';\nimport Bundles from 'okta-i18n-bundles';\n\nconst entityMap = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': '\\'',\n  '&#039;': '\\'',\n  '&#x2F;': '/'\n};\nconst emailValidator = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@(?!-)((\\[?[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\]?)|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n/**\n* Converts the locale code identifier from \"${languageCode}-${countryCode}\" to \"${languageCode}_${countryCode}\"\n* Follows the ISO-639-1 language code and 2-letter ISO-3166-1-alpha-2 country code structure.\n* @param {String} locale code identifier\n* @return {String} converted locale code identifier\n*/\n\nconst parseLocale = locale => {\n  if (/-/.test(locale)) {\n    const parts = locale.split('-');\n    parts[1] = parts[1].toUpperCase();\n    return parts.join('_');\n  }\n\n  return locale;\n};\n/* eslint max-len: 0*/\n\n/**\n * Returns the language bundle based on the current locale.\n * - If a locale is not provided, default to English ('en')\n * - Legacy Support: If the named language bundle does not exist, fall back to the default named bundle.\n *\n * @param {*} bundleName\n */\n\n\nfunction getBundle(bundleName) {\n  if (!bundleName) {\n    return Bundles[oktaUnderscore.keys(Bundles)[0]];\n  }\n\n  const locale = parseLocale(window && window.okta && window.okta.locale) || 'en';\n  return Bundles[`${bundleName}_${locale}`] || Bundles[bundleName];\n}\n/**\n *\n * CustomEvent polyfill for IE\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#polyfill\n */\n\n\nfunction IECustomEvent(event, params) {\n  params = params || {\n    bubbles: false,\n    cancelable: false,\n    detail: null\n  };\n  var evt = document.createEvent('CustomEvent');\n  evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n  return evt;\n}\n/**\n * Call the window.okta.emitL10nError function if it is defined\n * @param {String} key The i18n key\n * @param {String} bundleName The i18n bundle name\n * @param {String} reason Could be 'bundle' (Bundle not found), 'key' (Key not found) or 'parameters' (Parameters mismatch).\n */\n\n\nfunction emitL10nError(key, bundleName, reason) {\n  // CustomEvent polyfill for IE\n  if (!window.CustomEvent) {\n    window.CustomEvent = IECustomEvent;\n  } // dispatchEvent for sentry\n\n\n  if (typeof window.CustomEvent === 'function') {\n    const event = new CustomEvent('okta-i18n-error', {\n      detail: {\n        type: 'l10n-error',\n        key: key,\n        bundleName: bundleName,\n        reason: reason\n      }\n    });\n    document.dispatchEvent(event);\n  }\n}\n\nconst StringUtil =\n/** @lends module:Okta.internal.util.StringUtil */\n{\n  /** @static */\n  sprintf: function () {\n    const args = Array.prototype.slice.apply(arguments);\n    let value = args.shift();\n    let oldValue = value;\n    /* eslint max-statements: [2, 15] */\n\n    function triggerError() {\n      throw new Error('Mismatch number of variables: ' + arguments[0] + ', ' + JSON.stringify(args));\n    }\n\n    for (var i = 0, l = args.length; i < l; i++) {\n      const entity = args[i];\n      const regex = new RegExp('\\\\{' + i + '\\\\}', 'g');\n      value = value.replace(regex, entity);\n\n      if (entity === undefined || entity === null || value === oldValue) {\n        triggerError();\n      }\n\n      oldValue = value;\n    }\n\n    if (/\\{[\\d+]\\}/.test(value)) {\n      triggerError();\n    }\n\n    return value;\n  },\n\n  /**\n   * Converts a URI encoded query string into a hash map\n   * @param  {String} query The query string\n   * @return {Object} The map\n   * @static\n   * @example\n   * StringUtil.parseQuery('foo=bar&baz=qux') // {foo: 'bar', baz: 'qux'}\n   */\n  parseQuery: function (query) {\n    const params = {};\n    const pairs = decodeURIComponent(query.replace(/\\+/g, ' ')).split('&');\n\n    for (var i = 0; i < pairs.length; i++) {\n      const pair = pairs[i];\n      const data = pair.split('=');\n      params[data.shift()] = data.join('=');\n    }\n\n    return params;\n  },\n\n  /** @static */\n  encodeJSObject: function (jsObj) {\n    return encodeURIComponent(JSON.stringify(jsObj));\n  },\n\n  /** @static */\n  decodeJSObject: function (jsObj) {\n    try {\n      return JSON.parse(decodeURIComponent(jsObj));\n    } catch (e) {\n      return null;\n    }\n  },\n\n  /** @static */\n  unescapeHtml: function (string) {\n    return String(string).replace(/&[\\w#\\d]{2,};/g, function (s) {\n      return entityMap[s] || s;\n    });\n  },\n\n  /**\n   * Get the original i18n template directly without string format with parameters\n   * @param {String} key The key\n   * @param {String} bundle=\"messages\"] The name of the i18n bundle. Defaults to the first bundle in the list.\n   */\n  getTemplate: function (key, bundleName) {\n    const bundle = getBundle(bundleName);\n\n    if (!bundle) {\n      emitL10nError(key, bundleName, 'bundle');\n      return 'L10N_ERROR[' + bundleName + ']';\n    }\n\n    if (bundle[key]) {\n      return bundle[key];\n    } else {\n      emitL10nError(key, bundleName, 'key');\n      return 'L10N_ERROR[' + key + ']';\n    }\n  },\n\n  /**\n   * Translate a key to the localized value\n   * @static\n   * @param  {String} key The key\n   * @param  {String} [bundle=\"messages\"] The name of the i18n bundle. Defaults to the first bundle in the list.\n   * @param  {Array} [params] A list of parameters to apply as tokens to the i18n value\n   * @return {String} The localized value\n   */\n  localize: function (key, bundleName, params) {\n    const bundle = getBundle(bundleName);\n    /* eslint complexity: [2, 6] */\n\n    if (!bundle) {\n      emitL10nError(key, bundleName, 'bundle');\n      return 'L10N_ERROR[' + bundleName + ']';\n    }\n\n    let value = bundle[key];\n\n    try {\n      params = params && params.slice ? params.slice(0) : [];\n      params.unshift(value);\n      value = StringUtil.sprintf.apply(null, params);\n\n      if (value) {\n        return value;\n      } else {\n        emitL10nError(key, bundleName, 'key');\n        return 'L10N_ERROR[' + key + ']';\n      }\n    } catch (e) {\n      emitL10nError(key, bundleName, 'parameters');\n      return 'L10N_ERROR[' + key + ']';\n    }\n  },\n\n  /**\n   * Convert a string to a float if valid, otherwise return the string.\n   * Valid numbers may contain a negative sign and a decimal point.\n   * @static\n   * @param {String} string The string to convert to a number\n   * @return {String|Number} Returns a number if the string can be casted, otherwise returns the original string\n   */\n  parseFloat: function (string) {\n    const number = +string;\n    return typeof string === 'string' && number === parseFloat(string) ? number : string;\n  },\n\n  /**\n   * Convert a string to an integer if valid, otherwise return the string\n   * @static\n   * @param {String} string The string to convert to an integer\n   * @return {String|integer} Returns an integer if the string can be casted, otherwise, returns the original string\n   */\n  parseInt: function (string) {\n    const int = +string;\n    return oktaUnderscore.isString(string) && int === parseInt(string, 10) ? int : string;\n  },\n\n  /**\n   * Convert a string to an object if valid, otherwise return the string\n   * @static\n   * @param {String} string The string to convert to an object\n   * @return {String|object} Returns an object if the string can be casted, otherwise, returns the original string\n   */\n  parseObject: function (string) {\n    if (!oktaUnderscore.isString(string)) {\n      return string;\n    }\n\n    try {\n      const object = JSON.parse(string);\n      return oktaJQueryStatic.isPlainObject(object) ? object : string;\n    } catch (e) {\n      return string;\n    }\n  },\n\n  /**\n   * Returns a random string from [a-z][A-Z][0-9] of a given length\n   * @static\n   * @param {Number} length The length of the random string.\n   * @return {String} Returns a random string from [a-z][A-Z][0-9] of a given length\n   */\n  randomString: function (length) {\n    const characters = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';\n\n    if (length === undefined) {\n      length = oktaUnderscore.random(characters.length);\n    } else if (length === 0) {\n      return '';\n    }\n\n    const stringArray = [];\n\n    while (length--) {\n      stringArray.push(characters[oktaUnderscore.random(characters.length - 1)]);\n    }\n\n    return stringArray.join('');\n  },\n\n  /**\n   * Returns if a str ends with another string\n   * @static\n   * @param {String} str The string to search\n   * @param {String} ends The string it should end with\n   *\n   * @return {Boolean} Returns if the str ends with ends\n   */\n  endsWith: function (str, ends) {\n    str += '';\n    ends += '';\n    return str.length >= ends.length && str.substring(str.length - ends.length) === ends;\n  },\n\n  /** @static */\n  isEmail: function (str) {\n    const target = oktaJQueryStatic.trim(str);\n    return !oktaUnderscore.isEmpty(target) && emailValidator.test(target);\n  }\n};\n\nexport { StringUtil as default };\n","import _Handlebars2 from '../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from './underscore-wrapper.js';\n\n/* eslint @okta/okta-ui/no-specific-methods: 0 */\n/**\n * @class module:Okta.internal.util.TemplateUtil\n * @hideconstructor\n */\n\nvar TemplateUtil = /** @lends module:Okta.internal.util.TemplateUtil */\n{\n  /**\n   * Compiles a Handlebars template\n   * @static\n   * @method\n   */\n  // TODO: This will be deprecated at some point. Views should use pre-compiled templates\n  tpl: oktaUnderscore.memoize(function (tpl) {\n    /* eslint @okta/okta-ui/no-specific-methods: 0 */\n    return function (context) {\n      return _Handlebars2.compile(tpl)(context);\n    };\n  })\n};\n\nexport { TemplateUtil as default };\n","var Time = {\n  DEBOUNCE_DELAY: 200,\n  LOADING_FADE: 400,\n  UNLOADING_FADE: 400,\n  ROW_EXPANDER_TRANSITION: 150,\n  HIDE_ADD_MAPPING_FORM: 300\n};\n\nexport { Time as default };\n","import oktaUnderscore from './underscore-wrapper.js';\nimport BaseView from '../views/BaseView.js';\n\nvar Util = {\n  redirect: function (url) {\n    window.location = url;\n  },\n  reloadPage: function () {\n    window.location.reload();\n  },\n  constantError: function (errorMessage) {\n    return function () {\n      throw new Error(errorMessage);\n    };\n  },\n\n  /**\n   * Simply convert an URL query key value pair object into an URL query string.\n   * Remember NOT to escape the query string when using this util.\n   * example:\n   * input: {userId: 123, instanceId: undefined, expand: 'schema,app'}\n   * output: '?userId=123&expand=schema,app'\n   */\n  getUrlQueryString: function (queries) {\n    oktaUnderscore.isObject(queries) || (queries = {});\n\n    const queriesString = oktaUnderscore.without(oktaUnderscore.map(queries, function (value, key) {\n      if (value !== undefined && value !== null) {\n        return key + '=' + encodeURIComponent(value);\n      }\n    }), undefined).join('&');\n\n    return oktaUnderscore.isEmpty(queriesString) ? '' : '?' + queriesString;\n  },\n  isABaseView: function (obj) {\n    return obj instanceof BaseView || obj.prototype instanceof BaseView || obj === BaseView;\n  },\n  isSafari: function () {\n    // All native, android and iOS chrome browsers has \"Safari\" in their userAgent string, so this regex should\n    // evaluate to true for only Safari browser and not any chrome browsers.\n    // https://stackoverflow.com/questions/7944460/detect-safari-browser\n    // https://stackoverflow.com/questions/13807810/ios-chrome-detection/13808053#13808053\n    return /^((?!chrome|android|crios).)*safari/i.test(navigator.userAgent);\n  }\n};\n\nexport { Util as default };\n","import oktaUnderscore from './underscore-wrapper.js';\n\nfunction changeEventString(doWhen) {\n  return 'change:' + oktaUnderscore.keys(doWhen).join(' change:');\n}\n\nfunction calcDoWhen(value, key) {\n  const modelValue = this.model.get(key);\n\n  if (oktaUnderscore.isFunction(value)) {\n    return value.call(this, modelValue);\n  } else {\n    return value === modelValue;\n  }\n}\n\nfunction _doWhen(view, doWhen, fn) {\n  const toggle = oktaUnderscore.bind(fn, view, view, doWhen);\n\n  view.render = oktaUnderscore.wrap(view.render, function (render) {\n    const val = render.call(view);\n    toggle({\n      animate: false\n    });\n    return val;\n  });\n  view.listenTo(view.model, changeEventString(doWhen), function () {\n    toggle({\n      animate: true\n    });\n  });\n}\n\nvar ViewUtil = {\n  applyDoWhen: function (view, doWhen, fn) {\n    if (!(view.model && oktaUnderscore.isObject(doWhen) && oktaUnderscore.size(doWhen) && oktaUnderscore.isFunction(fn))) {\n      return;\n    }\n\n    _doWhen(view, doWhen, function (view, doWhen, options) {\n      const result = oktaUnderscore.every(oktaUnderscore.map(doWhen, calcDoWhen, view));\n\n      fn.call(view, result, options);\n    });\n  }\n};\n\nexport { ViewUtil as default };\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nexport { default } from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\n\nconst clonedEscapeExpression = _Handlebars2.Utils.escapeExpression;\n\n_Handlebars2.Utils.escapeExpression = function (string) {\n  return clonedEscapeExpression(string).replace(/&#x3D;/g, '=');\n};\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nexport { default } from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\n\n/* eslint @okta/okta-ui/no-specific-modules: 0 */\n\n_Handlebars2.registerHelper('base64ToHex', function base64ToHex(base64String) {\n  const raw = atob(base64String);\n  let result = '';\n\n  if (raw.length > 0) {\n    const firstHex = raw.charCodeAt(0).toString(16);\n    result += firstHex.length === 2 ? firstHex : `0${firstHex}`;\n\n    for (let i = 1; i < raw.length; i += 1) {\n      let hex = raw.charCodeAt(i).toString(16);\n      hex = hex.length === 2 ? hex : `0${hex}`;\n      result += ` ${hex}`;\n    }\n  }\n\n  return result.toUpperCase();\n});\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nexport { default } from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../underscore-wrapper.js';\nimport Logger from '../Logger.js';\nimport StringUtil from '../StringUtil.js';\n\n/* eslint @okta/okta-ui/no-specific-modules: 0 */\nconst hbsEscape = _Handlebars2.Utils.escapeExpression;\n\nfunction trim(str) {\n  return str && str.replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction replaceTagsWithPlaceholders(source, tag, tagValue) {\n  const escapedBeginningTag = hbsEscape(`<${tag}>`);\n  const escapedEndTag = hbsEscape(`</${tag}>`);\n  const [beginningTag, endTag] = tagValue.split(tag);\n\n  if (!source.includes(escapedBeginningTag) && !source.includes(escapedEndTag)) {\n    throw Error(`Parsed tag \"${tag}\" is not present in \"${source}\"`);\n  } else if (!tagValue.includes(tag)) {\n    throw Error(`Parsed tag \"${tag}\" is not present in \"${tagValue}\"`);\n  } else if (!beginningTag || !endTag) {\n    throw Error(`Template value \"${tagValue}\" must contain beginning and closing tags`);\n  }\n\n  return source.replace(escapedBeginningTag, beginningTag).replace(escapedEndTag, endTag);\n}\n/* eslint max-statements: [2, 18] */\n\n\n_Handlebars2.registerHelper('i18n', function i18n(options) {\n  let params;\n  const key = trim(options.hash.code);\n  const bundle = trim(options.hash.bundle);\n  const args = trim(options.hash.arguments);\n  const tags = Object.keys(options.hash).filter(prop => prop.match(/^\\$\\d+/)).map(prop => ({\n    tag: prop,\n    value: options.hash[prop]\n  }));\n\n  if (args) {\n    params = oktaUnderscore.map(trim(args).split(';'), function mapParam(param) {\n      param = trim(param);\n      let val;\n      /*\n       * the context(data) may be a deep object, ex {user: {name: 'John', gender: 'M'}}\n       * arguments may be 'user.name'\n       * return data['user']['name']\n       */\n\n      oktaUnderscore.each(param.split('.'), p => {\n        val = val ? val[p] : this[p];\n      });\n\n      return val;\n    }, this);\n  }\n\n  const localizedValue = StringUtil.localize(key, bundle, params);\n\n  if (tags.length < 1) {\n    // No HTML tags provided - return the localized and escaped string\n    return localizedValue;\n  }\n\n  let escapedString = hbsEscape(localizedValue);\n\n  try {\n    tags.forEach(tag => {\n      escapedString = replaceTagsWithPlaceholders(escapedString, tag.tag, tag.value);\n    });\n    return new _Handlebars2.SafeString(escapedString);\n  } catch (err) {\n    Logger.error(err.toString());\n    return localizedValue;\n  }\n});\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nexport { default } from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../underscore-wrapper.js';\n\n/* eslint @okta/okta-ui/no-specific-modules: 0 */\nconst CACHE_BUST_URL_PREFIX = '/assets';\n\nfunction prependCachebustPrefix(path) {\n  if (path.indexOf(CACHE_BUST_URL_PREFIX) === 0) {\n    return path;\n  }\n\n  return CACHE_BUST_URL_PREFIX + path;\n}\n\n_Handlebars2.registerHelper('img', function img(options) {\n  const cdn = typeof okta !== 'undefined' && okta.cdnUrlHostname || '';\n\n  const hash = oktaUnderscore.pick(options.hash, ['src', 'alt', 'width', 'height', 'class', 'title']);\n\n  hash.src = `${cdn}${prependCachebustPrefix(hash.src)}`;\n\n  const attrs = oktaUnderscore.map(hash, (value, attr) => {\n    const encodedValue = attr === 'src' ? encodeURI(value) : _Handlebars2.Utils.escapeExpression(value);\n    return `${attr}=\"${encodedValue}\"`;\n  });\n\n  return new _Handlebars2.SafeString(`<img ${attrs.join(' ')}/>`);\n});\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nexport { default } from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport mdToHtml from '../markdownToHtml.js';\n\n/* eslint @okta/okta-ui/no-specific-modules: 0 */\n_Handlebars2.registerHelper('markdown', function markdown(mdText) {\n  return mdToHtml(_Handlebars2, mdText);\n});\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nexport { default } from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../jquery-wrapper.js';\n\n/* eslint @okta/okta-ui/no-specific-modules: 0 */\n_Handlebars2.registerHelper('xsrfTokenInput', function xsrfTokenInput() {\n  return new _Handlebars2.SafeString(`<input type=\"hidden\" class=\"hide\" name=\"_xsrfToken\" value=\"${oktaJQueryStatic('#_xsrfToken').text()}\">`);\n});\n","import $ from 'jquery';\n\n/* eslint-disable @okta/okta-ui/enforce-requirejs-names, @okta/okta-ui/no-specific-modules */\n$.ajaxSetup({\n  beforeSend: function (xhr) {\n    xhr.setRequestHeader('X-Okta-XsrfToken', $('#_xsrfToken').text());\n  },\n  converters: {\n    'text secureJSON': function (str) {\n      if (str.substring(0, 11) === 'while(1){};') {\n        str = str.substring(11);\n      }\n\n      return JSON.parse(str);\n    }\n  }\n}); // Selenium Hook\n// Widget such as autocomplete and autosuggest needs to be triggered from the running version of jQuery.\n// We have 2 versions of jQuery running in parallel and they don't share the same events bus\n\nconst oktaJQueryStatic = $;\nwindow.jQueryCourage = oktaJQueryStatic;\n\nexport { oktaJQueryStatic as default };\n","import oktaUnderscore from './underscore-wrapper.js';\n\n// Simple \"markdown parser\" - just handles markdown formatted links. If we\nconst RE_LINK = /\\[[^\\]]*\\]\\([^)]*\\)/gi;\nconst RE_LINK_HREF = /\\]\\(([^)]*)\\)/i;\nconst RE_LINK_TEXT = /\\[([^\\]]*)\\]/i;\nconst RE_LINK_JS = /javascript:/gi; // Converts links\n// FROM:\n// [some link text](http://the/link/url)\n// TO:\n// <a href=\"http://the/link/url\">some link text</a>\n\nfunction mdToHtml(Handlebars, markdownText) {\n  // TODO: use precompiled templates OKTA-309852\n  // eslint-disable-next-line @okta/okta-ui/no-bare-templates\n  const linkTemplate = Handlebars.compile('<a href=\"{{href}}\">{{text}}</a>');\n  /* eslint  @okta/okta-ui/no-specific-methods: 0*/\n\n  let res;\n\n  if (!oktaUnderscore.isString(markdownText)) {\n    res = '';\n  } else {\n    res = Handlebars.Utils.escapeExpression(markdownText).replace(RE_LINK_JS, '').replace(RE_LINK, function (mdLink) {\n      return linkTemplate({\n        href: mdLink.match(RE_LINK_HREF)[1],\n        text: mdLink.match(RE_LINK_TEXT)[1]\n      });\n    });\n  }\n\n  return new Handlebars.SafeString(res);\n}\n\nexport { mdToHtml as default };\n","import _Handlebars2 from '../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport _ from '../../../lib/underscore/underscore-min.js';\n\n/* eslint @okta/okta-ui/no-specific-methods: 0, @okta/okta-ui/no-specific-modules: 0 */\n\n_.mixin({\n  resultCtx: function (object, property, context, defaultValue) {\n    let value = _.isObject(object) ? object[property] : void 0;\n\n    if (_.isFunction(value)) {\n      value = value.call(context || object);\n    }\n\n    if (value) {\n      return value;\n    } else {\n      return !_.isUndefined(defaultValue) ? defaultValue : value;\n    }\n  },\n  isInteger: function (x) {\n    return _.isNumber(x) && x % 1 === 0;\n  },\n  // TODO: This will be deprecated at some point. Views should use precompiled templates\n  // eslint-disable-next-line @okta/okta-ui/no-bare-templates\n  template: function (source, data) {\n    const template = _Handlebars2.compile(source);\n\n    if (data) {\n      return template(data);\n    }\n\n    const fn = function (data) {\n      return template(data);\n    };\n\n    fn.source = ''; // to conform with \"CompiledTemplate\" type definition\n\n    return fn;\n  }\n});\n\nconst oktaUnderscore = _;\n\nexport { oktaUnderscore as default };\n","import { commonjsGlobal } from '../../../../_virtual/_commonjsHelpers.js';\nimport { b as backbone } from '../../../../_virtual/backbone.js';\nimport $ from 'jquery';\nimport '../../../../lib/underscore/underscore-min.js';\nimport { u as underscoreMin } from '../../../../_virtual/underscore-min.js';\n\n(function (module, exports) {\n//     Backbone.js 1.4.0\n//     (c) 2010-2019 Jeremy Ashkenas and DocumentCloud\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\nconst jQuery = $;\n(function (factory) {\n  // Establish the root object, `window` (`self`) in the browser, or `global` on the server.\n  // We use `self` instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self || typeof commonjsGlobal == 'object' && commonjsGlobal.global === commonjsGlobal && commonjsGlobal; // Set up Backbone appropriately for the environment. Start with AMD.\n\n  {\n    var _ = underscoreMin.exports,\n        $;\n\n    try {\n      $ = jQuery;\n    } catch (e) {}\n\n    factory(root, exports, _, $); // Finally, as a browser global.\n  }\n})(function (root, Backbone, _, $) {\n  // Initial Setup\n  // -------------\n  // Save the previous value of the `Backbone` variable, so that it can be\n  // restored later on, if `noConflict` is used.\n  var previousBackbone = root.Backbone; // Create a local reference to a common array method we'll want to use later.\n\n  var slice = Array.prototype.slice; // Current version of the library. Keep in sync with `package.json`.\n\n  Backbone.VERSION = '1.4.0'; // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n  // the `$` variable.\n\n  Backbone.$ = $; // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n  // to its previous owner. Returns a reference to this Backbone object.\n\n  Backbone.noConflict = function () {\n    root.Backbone = previousBackbone;\n    return this;\n  }; // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n  // will fake `\"PATCH\"`, `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n  // set a `X-Http-Method-Override` header.\n\n\n  Backbone.emulateHTTP = false; // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n  // `application/json` requests ... this will encode the body as\n  // `application/x-www-form-urlencoded` instead and will send the model in a\n  // form param named `model`.\n\n  Backbone.emulateJSON = false; // Backbone.Events\n  // ---------------\n  // A module that can be mixed in to *any object* in order to provide it with\n  // a custom event channel. You may bind a callback to an event with `on` or\n  // remove with `off`; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n\n  var Events = Backbone.Events = {}; // Regular expression used to split event strings.\n\n  var eventSplitter = /\\s+/; // A private global variable to share between listeners and listenees.\n\n  var _listening; // Iterates over the standard `event, callback` (as well as the fancy multiple\n  // space-separated events `\"change blur\", callback` and jQuery-style event\n  // maps `{event: callback}`).\n\n\n  var eventsApi = function (iteratee, events, name, callback, opts) {\n    var i = 0,\n        names;\n\n    if (name && typeof name === 'object') {\n      // Handle event maps.\n      if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\n\n      for (names = _.keys(name); i < names.length; i++) {\n        events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n      }\n    } else if (name && eventSplitter.test(name)) {\n      // Handle space-separated event names by delegating them individually.\n      for (names = name.split(eventSplitter); i < names.length; i++) {\n        events = iteratee(events, names[i], callback, opts);\n      }\n    } else {\n      // Finally, standard events.\n      events = iteratee(events, name, callback, opts);\n    }\n\n    return events;\n  }; // Bind an event to a `callback` function. Passing `\"all\"` will bind\n  // the callback to all events fired.\n\n\n  Events.on = function (name, callback, context) {\n    this._events = eventsApi(onApi, this._events || {}, name, callback, {\n      context: context,\n      ctx: this,\n      listening: _listening\n    });\n\n    if (_listening) {\n      var listeners = this._listeners || (this._listeners = {});\n      listeners[_listening.id] = _listening; // Allow the listening to use a counter, instead of tracking\n      // callbacks for library interop\n\n      _listening.interop = false;\n    }\n\n    return this;\n  }; // Inversion-of-control versions of `on`. Tell *this* object to listen to\n  // an event in another object... keeping track of what it's listening to\n  // for easier unbinding later.\n\n\n  Events.listenTo = function (obj, name, callback) {\n    if (!obj) return this;\n\n    var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n\n    var listeningTo = this._listeningTo || (this._listeningTo = {});\n    var listening = _listening = listeningTo[id]; // This object is not listening to any other events on `obj` yet.\n    // Setup the necessary references to track the listening callbacks.\n\n    if (!listening) {\n      this._listenId || (this._listenId = _.uniqueId('l'));\n      listening = _listening = listeningTo[id] = new Listening(this, obj);\n    } // Bind callbacks on obj.\n\n\n    var error = tryCatchOn(obj, name, callback, this);\n    _listening = void 0;\n    if (error) throw error; // If the target obj is not Backbone.Events, track events manually.\n\n    if (listening.interop) listening.on(name, callback);\n    return this;\n  }; // The reducing API that adds a callback to the `events` object.\n\n\n  var onApi = function (events, name, callback, options) {\n    if (callback) {\n      var handlers = events[name] || (events[name] = []);\n      var context = options.context,\n          ctx = options.ctx,\n          listening = options.listening;\n      if (listening) listening.count++;\n      handlers.push({\n        callback: callback,\n        context: context,\n        ctx: context || ctx,\n        listening: listening\n      });\n    }\n\n    return events;\n  }; // An try-catch guarded #on function, to prevent poisoning the global\n  // `_listening` variable.\n\n\n  var tryCatchOn = function (obj, name, callback, context) {\n    try {\n      obj.on(name, callback, context);\n    } catch (e) {\n      return e;\n    }\n  }; // Remove one or many callbacks. If `context` is null, removes all\n  // callbacks with that function. If `callback` is null, removes all\n  // callbacks for the event. If `name` is null, removes all bound\n  // callbacks for all events.\n\n\n  Events.off = function (name, callback, context) {\n    if (!this._events) return this;\n    this._events = eventsApi(offApi, this._events, name, callback, {\n      context: context,\n      listeners: this._listeners\n    });\n    return this;\n  }; // Tell this object to stop listening to either specific events ... or\n  // to every object it's currently listening to.\n\n\n  Events.stopListening = function (obj, name, callback) {\n    var listeningTo = this._listeningTo;\n    if (!listeningTo) return this;\n    var ids = obj ? [obj._listenId] : _.keys(listeningTo);\n\n    for (var i = 0; i < ids.length; i++) {\n      var listening = listeningTo[ids[i]]; // If listening doesn't exist, this object is not currently\n      // listening to obj. Break out early.\n\n      if (!listening) break;\n      listening.obj.off(name, callback, this);\n      if (listening.interop) listening.off(name, callback);\n    }\n\n    if (_.isEmpty(listeningTo)) this._listeningTo = void 0;\n    return this;\n  }; // The reducing API that removes a callback from the `events` object.\n\n\n  var offApi = function (events, name, callback, options) {\n    if (!events) return;\n    var context = options.context,\n        listeners = options.listeners;\n    var i = 0,\n        names; // Delete all event listeners and \"drop\" events.\n\n    if (!name && !context && !callback) {\n      for (names = _.keys(listeners); i < names.length; i++) {\n        listeners[names[i]].cleanup();\n      }\n\n      return;\n    }\n\n    names = name ? [name] : _.keys(events);\n\n    for (; i < names.length; i++) {\n      name = names[i];\n      var handlers = events[name]; // Bail out if there are no events stored.\n\n      if (!handlers) break; // Find any remaining events.\n\n      var remaining = [];\n\n      for (var j = 0; j < handlers.length; j++) {\n        var handler = handlers[j];\n\n        if (callback && callback !== handler.callback && callback !== handler.callback._callback || context && context !== handler.context) {\n          remaining.push(handler);\n        } else {\n          var listening = handler.listening;\n          if (listening) listening.off(name, callback);\n        }\n      } // Replace events if there are any remaining.  Otherwise, clean up.\n\n\n      if (remaining.length) {\n        events[name] = remaining;\n      } else {\n        delete events[name];\n      }\n    }\n\n    return events;\n  }; // Bind an event to only be triggered a single time. After the first time\n  // the callback is invoked, its listener will be removed. If multiple events\n  // are passed in using the space-separated syntax, the handler will fire\n  // once for each event, not once for a combination of all events.\n\n\n  Events.once = function (name, callback, context) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, this.off.bind(this));\n    if (typeof name === 'string' && context == null) callback = void 0;\n    return this.on(events, callback, context);\n  }; // Inversion-of-control versions of `once`.\n\n\n  Events.listenToOnce = function (obj, name, callback) {\n    // Map the event into a `{event: once}` object.\n    var events = eventsApi(onceMap, {}, name, callback, this.stopListening.bind(this, obj));\n    return this.listenTo(obj, events);\n  }; // Reduces the event callbacks into a map of `{event: onceWrapper}`.\n  // `offer` unbinds the `onceWrapper` after it has been called.\n\n\n  var onceMap = function (map, name, callback, offer) {\n    if (callback) {\n      var once = map[name] = _.once(function () {\n        offer(name, once);\n        callback.apply(this, arguments);\n      });\n\n      once._callback = callback;\n    }\n\n    return map;\n  }; // Trigger one or many events, firing all bound callbacks. Callbacks are\n  // passed the same arguments as `trigger` is, apart from the event name\n  // (unless you're listening on `\"all\"`, which will cause your callback to\n  // receive the true name of the event as the first argument).\n\n\n  Events.trigger = function (name) {\n    if (!this._events) return this;\n    var length = Math.max(0, arguments.length - 1);\n    var args = Array(length);\n\n    for (var i = 0; i < length; i++) args[i] = arguments[i + 1];\n\n    eventsApi(triggerApi, this._events, name, void 0, args);\n    return this;\n  }; // Handles triggering the appropriate event callbacks.\n\n\n  var triggerApi = function (objEvents, name, callback, args) {\n    if (objEvents) {\n      var events = objEvents[name];\n      var allEvents = objEvents.all;\n      if (events && allEvents) allEvents = allEvents.slice();\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, [name].concat(args));\n    }\n\n    return objEvents;\n  }; // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n\n\n  var triggerEvents = function (events, args) {\n    var ev,\n        i = -1,\n        l = events.length,\n        a1 = args[0],\n        a2 = args[1],\n        a3 = args[2];\n\n    switch (args.length) {\n      case 0:\n        while (++i < l) (ev = events[i]).callback.call(ev.ctx);\n\n        return;\n\n      case 1:\n        while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1);\n\n        return;\n\n      case 2:\n        while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2);\n\n        return;\n\n      case 3:\n        while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3);\n\n        return;\n\n      default:\n        while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n\n        return;\n    }\n  }; // A listening class that tracks and cleans up memory bindings\n  // when all callbacks have been offed.\n\n\n  var Listening = function (listener, obj) {\n    this.id = listener._listenId;\n    this.listener = listener;\n    this.obj = obj;\n    this.interop = true;\n    this.count = 0;\n    this._events = void 0;\n  };\n\n  Listening.prototype.on = Events.on; // Offs a callback (or several).\n  // Uses an optimized counter if the listenee uses Backbone.Events.\n  // Otherwise, falls back to manual tracking to support events\n  // library interop.\n\n  Listening.prototype.off = function (name, callback) {\n    var cleanup;\n\n    if (this.interop) {\n      this._events = eventsApi(offApi, this._events, name, callback, {\n        context: void 0,\n        listeners: void 0\n      });\n      cleanup = !this._events;\n    } else {\n      this.count--;\n      cleanup = this.count === 0;\n    }\n\n    if (cleanup) this.cleanup();\n  }; // Cleans up memory bindings between the listener and the listenee.\n\n\n  Listening.prototype.cleanup = function () {\n    delete this.listener._listeningTo[this.obj._listenId];\n    if (!this.interop) delete this.obj._listeners[this.id];\n  }; // Aliases for backwards compatibility.\n\n\n  Events.bind = Events.on;\n  Events.unbind = Events.off; // Allow the `Backbone` object to serve as a global event bus, for folks who\n  // want global \"pubsub\" in a convenient place.\n\n  _.extend(Backbone, Events); // Backbone.Model\n  // --------------\n  // Backbone **Models** are the basic data object in the framework --\n  // frequently representing a row in a table in a database on your server.\n  // A discrete chunk of data and a bunch of useful, related methods for\n  // performing computations and transformations on that data.\n  // Create a new model with the specified attributes. A client id (`cid`)\n  // is automatically generated and assigned for you.\n\n\n  var Model = Backbone.Model = function (attributes, options) {\n    var attrs = attributes || {};\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    this.cid = _.uniqueId(this.cidPrefix);\n    this.attributes = {};\n    if (options.collection) this.collection = options.collection;\n    if (options.parse) attrs = this.parse(attrs, options) || {};\n\n    var defaults = _.result(this, 'defaults');\n\n    attrs = _.defaults(_.extend({}, defaults, attrs), defaults);\n    this.set(attrs, options);\n    this.changed = {};\n    this.initialize.apply(this, arguments);\n  }; // Attach all inheritable methods to the Model prototype.\n\n\n  _.extend(Model.prototype, Events, {\n    // A hash of attributes whose current and previous value differ.\n    changed: null,\n    // The value returned during the last failed validation.\n    validationError: null,\n    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n    // CouchDB users may want to set this to `\"_id\"`.\n    idAttribute: 'id',\n    // The prefix is used to create the client id which is used to identify models locally.\n    // You may want to override this if you're experiencing name clashes with model ids.\n    cidPrefix: 'c',\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Model.\n    preinitialize: function () {},\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function () {},\n    // Return a copy of the model's `attributes` object.\n    toJSON: function (options) {\n      return _.clone(this.attributes);\n    },\n    // Proxy `Backbone.sync` by default -- but override this if you need\n    // custom syncing semantics for *this* particular model.\n    sync: function () {\n      return Backbone.sync.apply(this, arguments);\n    },\n    // Get the value of an attribute.\n    get: function (attr) {\n      return this.attributes[attr];\n    },\n    // Get the HTML-escaped value of an attribute.\n    escape: function (attr) {\n      return _.escape(this.get(attr));\n    },\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n    has: function (attr) {\n      return this.get(attr) != null;\n    },\n    // Special-cased proxy to underscore's `_.matches` method.\n    matches: function (attrs) {\n      return !!_.iteratee(attrs, this)(this.attributes);\n    },\n    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n    // the core primitive operation of a model, updating the data and notifying\n    // anyone who needs to know about the change in state. The heart of the beast.\n    set: function (key, val, options) {\n      if (key == null) return this; // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\n      var attrs;\n\n      if (typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options || (options = {}); // Run validation.\n\n      if (!this._validate(attrs, options)) return false; // Extract attributes and options.\n\n      var unset = options.unset;\n      var silent = options.silent;\n      var changes = [];\n      var changing = this._changing;\n      this._changing = true;\n\n      if (!changing) {\n        this._previousAttributes = _.clone(this.attributes);\n        this.changed = {};\n      }\n\n      var current = this.attributes;\n      var changed = this.changed;\n      var prev = this._previousAttributes; // For each `set` attribute, update or delete the current value.\n\n      for (var attr in attrs) {\n        val = attrs[attr];\n        if (!_.isEqual(current[attr], val)) changes.push(attr);\n\n        if (!_.isEqual(prev[attr], val)) {\n          changed[attr] = val;\n        } else {\n          delete changed[attr];\n        }\n\n        unset ? delete current[attr] : current[attr] = val;\n      } // Update the `id`.\n\n\n      if (this.idAttribute in attrs) this.id = this.get(this.idAttribute); // Trigger all relevant attribute changes.\n\n      if (!silent) {\n        if (changes.length) this._pending = options;\n\n        for (var i = 0; i < changes.length; i++) {\n          this.trigger('change:' + changes[i], this, current[changes[i]], options);\n        }\n      } // You might be wondering why there's a `while` loop here. Changes can\n      // be recursively nested within `\"change\"` events.\n\n\n      if (changing) return this;\n\n      if (!silent) {\n        while (this._pending) {\n          options = this._pending;\n          this._pending = false;\n          this.trigger('change', this, options);\n        }\n      }\n\n      this._pending = false;\n      this._changing = false;\n      return this;\n    },\n    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n    // if the attribute doesn't exist.\n    unset: function (attr, options) {\n      return this.set(attr, void 0, _.extend({}, options, {\n        unset: true\n      }));\n    },\n    // Clear all attributes on the model, firing `\"change\"`.\n    clear: function (options) {\n      var attrs = {};\n\n      for (var key in this.attributes) attrs[key] = void 0;\n\n      return this.set(attrs, _.extend({}, options, {\n        unset: true\n      }));\n    },\n    // Determine if the model has changed since the last `\"change\"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n    hasChanged: function (attr) {\n      if (attr == null) return !_.isEmpty(this.changed);\n      return _.has(this.changed, attr);\n    },\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n    changedAttributes: function (diff) {\n      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n      var old = this._changing ? this._previousAttributes : this.attributes;\n      var changed = {};\n      var hasChanged;\n\n      for (var attr in diff) {\n        var val = diff[attr];\n        if (_.isEqual(old[attr], val)) continue;\n        changed[attr] = val;\n        hasChanged = true;\n      }\n\n      return hasChanged ? changed : false;\n    },\n    // Get the previous value of an attribute, recorded at the time the last\n    // `\"change\"` event was fired.\n    previous: function (attr) {\n      if (attr == null || !this._previousAttributes) return null;\n      return this._previousAttributes[attr];\n    },\n    // Get all of the attributes of the model at the time of the previous\n    // `\"change\"` event.\n    previousAttributes: function () {\n      return _.clone(this._previousAttributes);\n    },\n    // Fetch the model from the server, merging the response with the model's\n    // local attributes. Any changed attributes will trigger a \"change\" event.\n    fetch: function (options) {\n      options = _.extend({\n        parse: true\n      }, options);\n      var model = this;\n      var success = options.success;\n\n      options.success = function (resp) {\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (!model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model's\n    // state will be `set` again.\n    save: function (key, val, options) {\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      var attrs;\n\n      if (key == null || typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options = _.extend({\n        validate: true,\n        parse: true\n      }, options);\n      var wait = options.wait; // If we're not waiting and attributes exist, save acts as\n      // `set(attr).save(null, opts)` with validation. Otherwise, check if\n      // the model will be valid when the attributes, if any, are set.\n\n      if (attrs && !wait) {\n        if (!this.set(attrs, options)) return false;\n      } else if (!this._validate(attrs, options)) {\n        return false;\n      } // After a successful server-side save, the client is (optionally)\n      // updated with the server-side state.\n\n\n      var model = this;\n      var success = options.success;\n      var attributes = this.attributes;\n\n      options.success = function (resp) {\n        // Ensure attributes are restored during synchronous saves.\n        model.attributes = attributes;\n        var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n        if (wait) serverAttrs = _.extend({}, attrs, serverAttrs);\n        if (serverAttrs && !model.set(serverAttrs, options)) return false;\n        if (success) success.call(options.context, model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n\n      wrapError(this, options); // Set temporary attributes if `{wait: true}` to properly find new ids.\n\n      if (attrs && wait) this.attributes = _.extend({}, attributes, attrs);\n      var method = this.isNew() ? 'create' : options.patch ? 'patch' : 'update';\n      if (method === 'patch' && !options.attrs) options.attrs = attrs;\n      var xhr = this.sync(method, this, options); // Restore attributes.\n\n      this.attributes = attributes;\n      return xhr;\n    },\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n    destroy: function (options) {\n      options = options ? _.clone(options) : {};\n      var model = this;\n      var success = options.success;\n      var wait = options.wait;\n\n      var destroy = function () {\n        model.stopListening();\n        model.trigger('destroy', model, model.collection, options);\n      };\n\n      options.success = function (resp) {\n        if (wait) destroy();\n        if (success) success.call(options.context, model, resp, options);\n        if (!model.isNew()) model.trigger('sync', model, resp, options);\n      };\n\n      var xhr = false;\n\n      if (this.isNew()) {\n        _.defer(options.success);\n      } else {\n        wrapError(this, options);\n        xhr = this.sync('delete', this, options);\n      }\n\n      if (!wait) destroy();\n      return xhr;\n    },\n    // Default URL for the model's representation on the server -- if you're\n    // using Backbone's restful methods, override this to change the endpoint\n    // that will be called.\n    url: function () {\n      var base = _.result(this, 'urlRoot') || _.result(this.collection, 'url') || urlError();\n      if (this.isNew()) return base;\n      var id = this.get(this.idAttribute);\n      return base.replace(/[^\\/]$/, '$&/') + encodeURIComponent(id);\n    },\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n    parse: function (resp, options) {\n      return resp;\n    },\n    // Create a new model with identical attributes to this one.\n    clone: function () {\n      return new this.constructor(this.attributes);\n    },\n    // A model is new if it has never been saved to the server, and lacks an id.\n    isNew: function () {\n      return !this.has(this.idAttribute);\n    },\n    // Check if the model is currently in a valid state.\n    isValid: function (options) {\n      return this._validate({}, _.extend({}, options, {\n        validate: true\n      }));\n    },\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n    _validate: function (attrs, options) {\n      if (!options.validate || !this.validate) return true;\n      attrs = _.extend({}, this.attributes, attrs);\n      var error = this.validationError = this.validate(attrs, options) || null;\n      if (!error) return true;\n      this.trigger('invalid', this, error, _.extend(options, {\n        validationError: error\n      }));\n      return false;\n    }\n  }); // Backbone.Collection\n  // -------------------\n  // If models tend to represent a single row of data, a Backbone Collection is\n  // more analogous to a table full of data ... or a small slice or page of that\n  // table, or a collection of rows that belong together for a particular reason\n  // -- all of the messages in this particular folder, all of the documents\n  // belonging to this particular author, and so on. Collections maintain\n  // indexes of their models, both in order, and for lookup by `id`.\n  // Create a new **Collection**, perhaps to contain a specific type of `model`.\n  // If a `comparator` is specified, the Collection will maintain\n  // its models in sort order, as they're added and removed.\n\n\n  var Collection = Backbone.Collection = function (models, options) {\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    if (options.model) this.model = options.model;\n    if (options.comparator !== void 0) this.comparator = options.comparator;\n\n    this._reset();\n\n    this.initialize.apply(this, arguments);\n    if (models) this.reset(models, _.extend({\n      silent: true\n    }, options));\n  }; // Default options for `Collection#set`.\n\n\n  var setOptions = {\n    add: true,\n    remove: true,\n    merge: true\n  };\n  var addOptions = {\n    add: true,\n    remove: false\n  }; // Splices `insert` into `array` at index `at`.\n\n  var splice = function (array, insert, at) {\n    at = Math.min(Math.max(at, 0), array.length);\n    var tail = Array(array.length - at);\n    var length = insert.length;\n    var i;\n\n    for (i = 0; i < tail.length; i++) tail[i] = array[i + at];\n\n    for (i = 0; i < length; i++) array[i + at] = insert[i];\n\n    for (i = 0; i < tail.length; i++) array[i + length + at] = tail[i];\n  }; // Define the Collection's inheritable methods.\n\n\n  _.extend(Collection.prototype, Events, {\n    // The default model for a collection is just a **Backbone.Model**.\n    // This should be overridden in most cases.\n    model: Model,\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Collection.\n    preinitialize: function () {},\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function () {},\n    // The JSON representation of a Collection is an array of the\n    // models' attributes.\n    toJSON: function (options) {\n      return this.map(function (model) {\n        return model.toJSON(options);\n      });\n    },\n    // Proxy `Backbone.sync` by default.\n    sync: function () {\n      return Backbone.sync.apply(this, arguments);\n    },\n    // Add a model, or list of models to the set. `models` may be Backbone\n    // Models or raw JavaScript objects to be converted to Models, or any\n    // combination of the two.\n    add: function (models, options) {\n      return this.set(models, _.extend({\n        merge: false\n      }, options, addOptions));\n    },\n    // Remove a model, or a list of models from the set.\n    remove: function (models, options) {\n      options = _.extend({}, options);\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n\n      var removed = this._removeModels(models, options);\n\n      if (!options.silent && removed.length) {\n        options.changes = {\n          added: [],\n          merged: [],\n          removed: removed\n        };\n        this.trigger('update', this, options);\n      }\n\n      return singular ? removed[0] : removed;\n    },\n    // Update a collection by `set`-ing a new list of models, adding new ones,\n    // removing models that are no longer present, and merging models that\n    // already exist in the collection, as necessary. Similar to **Model#set**,\n    // the core operation for updating the data contained by the collection.\n    set: function (models, options) {\n      if (models == null) return;\n      options = _.extend({}, setOptions, options);\n\n      if (options.parse && !this._isModel(models)) {\n        models = this.parse(models, options) || [];\n      }\n\n      var singular = !_.isArray(models);\n      models = singular ? [models] : models.slice();\n      var at = options.at;\n      if (at != null) at = +at;\n      if (at > this.length) at = this.length;\n      if (at < 0) at += this.length + 1;\n      var set = [];\n      var toAdd = [];\n      var toMerge = [];\n      var toRemove = [];\n      var modelMap = {};\n      var add = options.add;\n      var merge = options.merge;\n      var remove = options.remove;\n      var sort = false;\n      var sortable = this.comparator && at == null && options.sort !== false;\n      var sortAttr = _.isString(this.comparator) ? this.comparator : null; // Turn bare objects into model references, and prevent invalid models\n      // from being added.\n\n      var model, i;\n\n      for (i = 0; i < models.length; i++) {\n        model = models[i]; // If a duplicate is found, prevent it from being added and\n        // optionally merge it into the existing model.\n\n        var existing = this.get(model);\n\n        if (existing) {\n          if (merge && model !== existing) {\n            var attrs = this._isModel(model) ? model.attributes : model;\n            if (options.parse) attrs = existing.parse(attrs, options);\n            existing.set(attrs, options);\n            toMerge.push(existing);\n            if (sortable && !sort) sort = existing.hasChanged(sortAttr);\n          }\n\n          if (!modelMap[existing.cid]) {\n            modelMap[existing.cid] = true;\n            set.push(existing);\n          }\n\n          models[i] = existing; // If this is a new, valid model, push it to the `toAdd` list.\n        } else if (add) {\n          model = models[i] = this._prepareModel(model, options);\n\n          if (model) {\n            toAdd.push(model);\n\n            this._addReference(model, options);\n\n            modelMap[model.cid] = true;\n            set.push(model);\n          }\n        }\n      } // Remove stale models.\n\n\n      if (remove) {\n        for (i = 0; i < this.length; i++) {\n          model = this.models[i];\n          if (!modelMap[model.cid]) toRemove.push(model);\n        }\n\n        if (toRemove.length) this._removeModels(toRemove, options);\n      } // See if sorting is needed, update `length` and splice in new models.\n\n\n      var orderChanged = false;\n      var replace = !sortable && add && remove;\n\n      if (set.length && replace) {\n        orderChanged = this.length !== set.length || _.some(this.models, function (m, index) {\n          return m !== set[index];\n        });\n        this.models.length = 0;\n        splice(this.models, set, 0);\n        this.length = this.models.length;\n      } else if (toAdd.length) {\n        if (sortable) sort = true;\n        splice(this.models, toAdd, at == null ? this.length : at);\n        this.length = this.models.length;\n      } // Silently sort the collection if appropriate.\n\n\n      if (sort) this.sort({\n        silent: true\n      }); // Unless silenced, it's time to fire all appropriate add/sort/update events.\n\n      if (!options.silent) {\n        for (i = 0; i < toAdd.length; i++) {\n          if (at != null) options.index = at + i;\n          model = toAdd[i];\n          model.trigger('add', model, this, options);\n        }\n\n        if (sort || orderChanged) this.trigger('sort', this, options);\n\n        if (toAdd.length || toRemove.length || toMerge.length) {\n          options.changes = {\n            added: toAdd,\n            removed: toRemove,\n            merged: toMerge\n          };\n          this.trigger('update', this, options);\n        }\n      } // Return the added (or merged) model (or models).\n\n\n      return singular ? models[0] : models;\n    },\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any granular `add` or `remove` events. Fires `reset` when finished.\n    // Useful for bulk operations and optimizations.\n    reset: function (models, options) {\n      options = options ? _.clone(options) : {};\n\n      for (var i = 0; i < this.models.length; i++) {\n        this._removeReference(this.models[i], options);\n      }\n\n      options.previousModels = this.models;\n\n      this._reset();\n\n      models = this.add(models, _.extend({\n        silent: true\n      }, options));\n      if (!options.silent) this.trigger('reset', this, options);\n      return models;\n    },\n    // Add a model to the end of the collection.\n    push: function (model, options) {\n      return this.add(model, _.extend({\n        at: this.length\n      }, options));\n    },\n    // Remove a model from the end of the collection.\n    pop: function (options) {\n      var model = this.at(this.length - 1);\n      return this.remove(model, options);\n    },\n    // Add a model to the beginning of the collection.\n    unshift: function (model, options) {\n      return this.add(model, _.extend({\n        at: 0\n      }, options));\n    },\n    // Remove a model from the beginning of the collection.\n    shift: function (options) {\n      var model = this.at(0);\n      return this.remove(model, options);\n    },\n    // Slice out a sub-array of models from the collection.\n    slice: function () {\n      return slice.apply(this.models, arguments);\n    },\n    // Get a model from the set by id, cid, model object with id or cid\n    // properties, or an attributes object that is transformed through modelId.\n    get: function (obj) {\n      if (obj == null) return void 0;\n      return this._byId[obj] || this._byId[this.modelId(this._isModel(obj) ? obj.attributes : obj)] || obj.cid && this._byId[obj.cid];\n    },\n    // Returns `true` if the model is in the collection.\n    has: function (obj) {\n      return this.get(obj) != null;\n    },\n    // Get the model at the given index.\n    at: function (index) {\n      if (index < 0) index += this.length;\n      return this.models[index];\n    },\n    // Return models with matching attributes. Useful for simple cases of\n    // `filter`.\n    where: function (attrs, first) {\n      return this[first ? 'find' : 'filter'](attrs);\n    },\n    // Return the first model with matching attributes. Useful for simple cases\n    // of `find`.\n    findWhere: function (attrs) {\n      return this.where(attrs, true);\n    },\n    // Force the collection to re-sort itself. You don't need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n    sort: function (options) {\n      var comparator = this.comparator;\n      if (!comparator) throw new Error('Cannot sort a set without a comparator');\n      options || (options = {});\n      var length = comparator.length;\n      if (_.isFunction(comparator)) comparator = comparator.bind(this); // Run sort based on type of `comparator`.\n\n      if (length === 1 || _.isString(comparator)) {\n        this.models = this.sortBy(comparator);\n      } else {\n        this.models.sort(comparator);\n      }\n\n      if (!options.silent) this.trigger('sort', this, options);\n      return this;\n    },\n    // Pluck an attribute from each model in the collection.\n    pluck: function (attr) {\n      return this.map(attr + '');\n    },\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `reset: true` is passed, the response\n    // data will be passed through the `reset` method instead of `set`.\n    fetch: function (options) {\n      options = _.extend({\n        parse: true\n      }, options);\n      var success = options.success;\n      var collection = this;\n\n      options.success = function (resp) {\n        var method = options.reset ? 'reset' : 'set';\n        collection[method](resp, options);\n        if (success) success.call(options.context, collection, resp, options);\n        collection.trigger('sync', collection, resp, options);\n      };\n\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n    create: function (model, options) {\n      options = options ? _.clone(options) : {};\n      var wait = options.wait;\n      model = this._prepareModel(model, options);\n      if (!model) return false;\n      if (!wait) this.add(model, options);\n      var collection = this;\n      var success = options.success;\n\n      options.success = function (m, resp, callbackOpts) {\n        if (wait) collection.add(m, callbackOpts);\n        if (success) success.call(callbackOpts.context, m, resp, callbackOpts);\n      };\n\n      model.save(null, options);\n      return model;\n    },\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n    parse: function (resp, options) {\n      return resp;\n    },\n    // Create a new collection with an identical list of models as this one.\n    clone: function () {\n      return new this.constructor(this.models, {\n        model: this.model,\n        comparator: this.comparator\n      });\n    },\n    // Define how to uniquely identify models in the collection.\n    modelId: function (attrs) {\n      return attrs[this.model.prototype.idAttribute || 'id'];\n    },\n    // Get an iterator of all models in this collection.\n    values: function () {\n      return new CollectionIterator(this, ITERATOR_VALUES);\n    },\n    // Get an iterator of all model IDs in this collection.\n    keys: function () {\n      return new CollectionIterator(this, ITERATOR_KEYS);\n    },\n    // Get an iterator of all [ID, model] tuples in this collection.\n    entries: function () {\n      return new CollectionIterator(this, ITERATOR_KEYSVALUES);\n    },\n    // Private method to reset all internal state. Called when the collection\n    // is first initialized or reset.\n    _reset: function () {\n      this.length = 0;\n      this.models = [];\n      this._byId = {};\n    },\n    // Prepare a hash of attributes (or other model) to be added to this\n    // collection.\n    _prepareModel: function (attrs, options) {\n      if (this._isModel(attrs)) {\n        if (!attrs.collection) attrs.collection = this;\n        return attrs;\n      }\n\n      options = options ? _.clone(options) : {};\n      options.collection = this;\n      var model = new this.model(attrs, options);\n      if (!model.validationError) return model;\n      this.trigger('invalid', this, model.validationError, options);\n      return false;\n    },\n    // Internal method called by both remove and set.\n    _removeModels: function (models, options) {\n      var removed = [];\n\n      for (var i = 0; i < models.length; i++) {\n        var model = this.get(models[i]);\n        if (!model) continue;\n        var index = this.indexOf(model);\n        this.models.splice(index, 1);\n        this.length--; // Remove references before triggering 'remove' event to prevent an\n        // infinite loop. #3693\n\n        delete this._byId[model.cid];\n        var id = this.modelId(model.attributes);\n        if (id != null) delete this._byId[id];\n\n        if (!options.silent) {\n          options.index = index;\n          model.trigger('remove', model, this, options);\n        }\n\n        removed.push(model);\n\n        this._removeReference(model, options);\n      }\n\n      return removed;\n    },\n    // Method for checking whether an object should be considered a model for\n    // the purposes of adding to the collection.\n    _isModel: function (model) {\n      return model instanceof Model;\n    },\n    // Internal method to create a model's ties to a collection.\n    _addReference: function (model, options) {\n      this._byId[model.cid] = model;\n      var id = this.modelId(model.attributes);\n      if (id != null) this._byId[id] = model;\n      model.on('all', this._onModelEvent, this);\n    },\n    // Internal method to sever a model's ties to a collection.\n    _removeReference: function (model, options) {\n      delete this._byId[model.cid];\n      var id = this.modelId(model.attributes);\n      if (id != null) delete this._byId[id];\n      if (this === model.collection) delete model.collection;\n      model.off('all', this._onModelEvent, this);\n    },\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. \"add\" and \"remove\" events that originate\n    // in other collections are ignored.\n    _onModelEvent: function (event, model, collection, options) {\n      if (model) {\n        if ((event === 'add' || event === 'remove') && collection !== this) return;\n        if (event === 'destroy') this.remove(model, options);\n\n        if (event === 'change') {\n          var prevId = this.modelId(model.previousAttributes());\n          var id = this.modelId(model.attributes);\n\n          if (prevId !== id) {\n            if (prevId != null) delete this._byId[prevId];\n            if (id != null) this._byId[id] = model;\n          }\n        }\n      }\n\n      this.trigger.apply(this, arguments);\n    }\n  }); // Defining an @@iterator method implements JavaScript's Iterable protocol.\n  // In modern ES2015 browsers, this value is found at Symbol.iterator.\n\n  /* global Symbol */\n\n\n  var $$iterator = typeof Symbol === 'function' && Symbol.iterator;\n\n  if ($$iterator) {\n    Collection.prototype[$$iterator] = Collection.prototype.values;\n  } // CollectionIterator\n  // ------------------\n  // A CollectionIterator implements JavaScript's Iterator protocol, allowing the\n  // use of `for of` loops in modern browsers and interoperation between\n  // Backbone.Collection and other JavaScript functions and third-party libraries\n  // which can operate on Iterables.\n\n\n  var CollectionIterator = function (collection, kind) {\n    this._collection = collection;\n    this._kind = kind;\n    this._index = 0;\n  }; // This \"enum\" defines the three possible kinds of values which can be emitted\n  // by a CollectionIterator that correspond to the values(), keys() and entries()\n  // methods on Collection, respectively.\n\n\n  var ITERATOR_VALUES = 1;\n  var ITERATOR_KEYS = 2;\n  var ITERATOR_KEYSVALUES = 3; // All Iterators should themselves be Iterable.\n\n  if ($$iterator) {\n    CollectionIterator.prototype[$$iterator] = function () {\n      return this;\n    };\n  }\n\n  CollectionIterator.prototype.next = function () {\n    if (this._collection) {\n      // Only continue iterating if the iterated collection is long enough.\n      if (this._index < this._collection.length) {\n        var model = this._collection.at(this._index);\n\n        this._index++; // Construct a value depending on what kind of values should be iterated.\n\n        var value;\n\n        if (this._kind === ITERATOR_VALUES) {\n          value = model;\n        } else {\n          var id = this._collection.modelId(model.attributes);\n\n          if (this._kind === ITERATOR_KEYS) {\n            value = id;\n          } else {\n            // ITERATOR_KEYSVALUES\n            value = [id, model];\n          }\n        }\n\n        return {\n          value: value,\n          done: false\n        };\n      } // Once exhausted, remove the reference to the collection so future\n      // calls to the next method always return done.\n\n\n      this._collection = void 0;\n    }\n\n    return {\n      value: void 0,\n      done: true\n    };\n  }; // Backbone.View\n  // -------------\n  // Backbone Views are almost more convention than they are actual code. A View\n  // is simply a JavaScript object that represents a logical chunk of UI in the\n  // DOM. This might be a single item, an entire list, a sidebar or panel, or\n  // even the surrounding frame which wraps your whole app. Defining a chunk of\n  // UI as a **View** allows you to define your DOM events declaratively, without\n  // having to worry about render order ... and makes it easy for the view to\n  // react to specific changes in the state of your models.\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n\n\n  var View = Backbone.View = function (options) {\n    this.cid = _.uniqueId('view');\n    this.preinitialize.apply(this, arguments);\n\n    _.extend(this, _.pick(options, viewOptions));\n\n    this._ensureElement();\n\n    this.initialize.apply(this, arguments);\n  }; // Cached regex to split keys for `delegate`.\n\n\n  var delegateEventSplitter = /^(\\S+)\\s*(.*)$/; // List of view options to be set as properties.\n\n  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events']; // Set up all inheritable **Backbone.View** properties and methods.\n\n  _.extend(View.prototype, Events, {\n    // The default `tagName` of a View's element is `\"div\"`.\n    tagName: 'div',\n    // jQuery delegate for element lookup, scoped to DOM elements within the\n    // current view. This should be preferred to global lookups where possible.\n    $: function (selector) {\n      return this.$el.find(selector);\n    },\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the View\n    preinitialize: function () {},\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function () {},\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n    render: function () {\n      return this;\n    },\n    // Remove this view by taking the element out of the DOM, and removing any\n    // applicable Backbone.Events listeners.\n    remove: function () {\n      this._removeElement();\n\n      this.stopListening();\n      return this;\n    },\n    // Remove this view's element from the document and all event listeners\n    // attached to it. Exposed for subclasses using an alternative DOM\n    // manipulation API.\n    _removeElement: function () {\n      this.$el.remove();\n    },\n    // Change the view's element (`this.el` property) and re-delegate the\n    // view's events on the new element.\n    setElement: function (element) {\n      this.undelegateEvents();\n\n      this._setElement(element);\n\n      this.delegateEvents();\n      return this;\n    },\n    // Creates the `this.el` and `this.$el` references for this view using the\n    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n    // context or an element. Subclasses can override this to utilize an\n    // alternative DOM manipulation API and are only required to set the\n    // `this.el` property.\n    _setElement: function (el) {\n      this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);\n      this.el = this.$el[0];\n    },\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{\"event selector\": \"callback\"}*\n    //\n    //     {\n    //       'mousedown .title':  'edit',\n    //       'click .button':     'save',\n    //       'click .open':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n    delegateEvents: function (events) {\n      events || (events = _.result(this, 'events'));\n      if (!events) return this;\n      this.undelegateEvents();\n\n      for (var key in events) {\n        var method = events[key];\n        if (!_.isFunction(method)) method = this[method];\n        if (!method) continue;\n        var match = key.match(delegateEventSplitter);\n        this.delegate(match[1], match[2], method.bind(this));\n      }\n\n      return this;\n    },\n    // Add a single event listener to the view's element (or a child element\n    // using `selector`). This only works for delegate-able events: not `focus`,\n    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n    delegate: function (eventName, selector, listener) {\n      this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n    // Clears all callbacks previously bound to the view by `delegateEvents`.\n    // You usually don't need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n    undelegateEvents: function () {\n      if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n      return this;\n    },\n    // A finer-grained `undelegateEvents` for removing a single delegated event.\n    // `selector` and `listener` are both optional.\n    undelegate: function (eventName, selector, listener) {\n      this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n      return this;\n    },\n    // Produces a DOM element to be assigned to your view. Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _createElement: function (tagName) {\n      return document.createElement(tagName);\n    },\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n    _ensureElement: function () {\n      if (!this.el) {\n        var attrs = _.extend({}, _.result(this, 'attributes'));\n\n        if (this.id) attrs.id = _.result(this, 'id');\n        if (this.className) attrs['class'] = _.result(this, 'className');\n        this.setElement(this._createElement(_.result(this, 'tagName')));\n\n        this._setAttributes(attrs);\n      } else {\n        this.setElement(_.result(this, 'el'));\n      }\n    },\n    // Set attributes from a hash on this view's element.  Exposed for\n    // subclasses using an alternative DOM manipulation API.\n    _setAttributes: function (attributes) {\n      this.$el.attr(attributes);\n    }\n  }); // Proxy Backbone class methods to Underscore functions, wrapping the model's\n  // `attributes` object or collection's `models` array behind the scenes.\n  //\n  // collection.filter(function(model) { return model.get('age') > 10 });\n  // collection.each(this.addView);\n  //\n  // `Function#apply` can be slow so we use the method's arg count, if we know it.\n\n\n  var addMethod = function (base, length, method, attribute) {\n    switch (length) {\n      case 1:\n        return function () {\n          return base[method](this[attribute]);\n        };\n\n      case 2:\n        return function (value) {\n          return base[method](this[attribute], value);\n        };\n\n      case 3:\n        return function (iteratee, context) {\n          return base[method](this[attribute], cb(iteratee, this), context);\n        };\n\n      case 4:\n        return function (iteratee, defaultVal, context) {\n          return base[method](this[attribute], cb(iteratee, this), defaultVal, context);\n        };\n\n      default:\n        return function () {\n          var args = slice.call(arguments);\n          args.unshift(this[attribute]);\n          return base[method].apply(base, args);\n        };\n    }\n  };\n\n  var addUnderscoreMethods = function (Class, base, methods, attribute) {\n    _.each(methods, function (length, method) {\n      if (base[method]) Class.prototype[method] = addMethod(base, length, method, attribute);\n    });\n  }; // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.\n\n\n  var cb = function (iteratee, instance) {\n    if (_.isFunction(iteratee)) return iteratee;\n    if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);\n    if (_.isString(iteratee)) return function (model) {\n      return model.get(iteratee);\n    };\n    return iteratee;\n  };\n\n  var modelMatcher = function (attrs) {\n    var matcher = _.matches(attrs);\n\n    return function (model) {\n      return matcher(model.attributes);\n    };\n  }; // Underscore methods that we want to implement on the Collection.\n  // 90% of the core usefulness of Backbone Collections is actually implemented\n  // right here:\n\n\n  var collectionMethods = {\n    forEach: 3,\n    each: 3,\n    map: 3,\n    collect: 3,\n    reduce: 0,\n    foldl: 0,\n    inject: 0,\n    reduceRight: 0,\n    foldr: 0,\n    find: 3,\n    detect: 3,\n    filter: 3,\n    select: 3,\n    reject: 3,\n    every: 3,\n    all: 3,\n    some: 3,\n    any: 3,\n    include: 3,\n    includes: 3,\n    contains: 3,\n    invoke: 0,\n    max: 3,\n    min: 3,\n    toArray: 1,\n    size: 1,\n    first: 3,\n    head: 3,\n    take: 3,\n    initial: 3,\n    rest: 3,\n    tail: 3,\n    drop: 3,\n    last: 3,\n    without: 0,\n    difference: 0,\n    indexOf: 3,\n    shuffle: 1,\n    lastIndexOf: 3,\n    isEmpty: 1,\n    chain: 1,\n    sample: 3,\n    partition: 3,\n    groupBy: 3,\n    countBy: 3,\n    sortBy: 3,\n    indexBy: 3,\n    findIndex: 3,\n    findLastIndex: 3\n  }; // Underscore methods that we want to implement on the Model, mapped to the\n  // number of arguments they take.\n\n  var modelMethods = {\n    keys: 1,\n    values: 1,\n    pairs: 1,\n    invert: 1,\n    pick: 0,\n    omit: 0,\n    chain: 1,\n    isEmpty: 1\n  }; // Mix in each Underscore method as a proxy to `Collection#models`.\n\n  _.each([[Collection, collectionMethods, 'models'], [Model, modelMethods, 'attributes']], function (config) {\n    var Base = config[0],\n        methods = config[1],\n        attribute = config[2];\n\n    Base.mixin = function (obj) {\n      var mappings = _.reduce(_.functions(obj), function (memo, name) {\n        memo[name] = 0;\n        return memo;\n      }, {});\n\n      addUnderscoreMethods(Base, obj, mappings, attribute);\n    };\n\n    addUnderscoreMethods(Base, _, methods, attribute);\n  }); // Backbone.sync\n  // -------------\n  // Override this function to change the manner in which Backbone persists\n  // models to the server. You will be passed the type of request, and the\n  // model in question. By default, makes a RESTful Ajax request\n  // to the model's `url()`. Some possible customizations could be:\n  //\n  // * Use `setTimeout` to batch rapid-fire updates into a single request.\n  // * Send up the models as XML instead of JSON.\n  // * Persist models via WebSockets instead of Ajax.\n  //\n  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n  // as `POST`, with a `_method` parameter containing the true HTTP method,\n  // as well as all requests with the body as `application/x-www-form-urlencoded`\n  // instead of `application/json` with the model in a param named `model`.\n  // Useful when interfacing with server-side languages like **PHP** that make\n  // it difficult to read the body of `PUT` requests.\n\n\n  Backbone.sync = function (method, model, options) {\n    var type = methodMap[method]; // Default options, unless specified.\n\n    _.defaults(options || (options = {}), {\n      emulateHTTP: Backbone.emulateHTTP,\n      emulateJSON: Backbone.emulateJSON\n    }); // Default JSON-request options.\n\n\n    var params = {\n      type: type,\n      dataType: 'json'\n    }; // Ensure that we have a URL.\n\n    if (!options.url) {\n      params.url = _.result(model, 'url') || urlError();\n    } // Ensure that we have the appropriate request data.\n\n\n    if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n      params.contentType = 'application/json';\n      params.data = JSON.stringify(options.attrs || model.toJSON(options));\n    } // For older servers, emulate JSON by encoding the request into an HTML-form.\n\n\n    if (options.emulateJSON) {\n      params.contentType = 'application/x-www-form-urlencoded';\n      params.data = params.data ? {\n        model: params.data\n      } : {};\n    } // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n    // And an `X-HTTP-Method-Override` header.\n\n\n    if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n      params.type = 'POST';\n      if (options.emulateJSON) params.data._method = type;\n      var beforeSend = options.beforeSend;\n\n      options.beforeSend = function (xhr) {\n        xhr.setRequestHeader('X-HTTP-Method-Override', type);\n        if (beforeSend) return beforeSend.apply(this, arguments);\n      };\n    } // Don't process data on a non-GET request.\n\n\n    if (params.type !== 'GET' && !options.emulateJSON) {\n      params.processData = false;\n    } // Pass along `textStatus` and `errorThrown` from jQuery.\n\n\n    var error = options.error;\n\n    options.error = function (xhr, textStatus, errorThrown) {\n      options.textStatus = textStatus;\n      options.errorThrown = errorThrown;\n      if (error) error.call(options.context, xhr, textStatus, errorThrown);\n    }; // Make the request, allowing the user to override any Ajax options.\n\n\n    var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n    model.trigger('request', model, xhr, options);\n    return xhr;\n  }; // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n\n\n  var methodMap = {\n    create: 'POST',\n    update: 'PUT',\n    patch: 'PATCH',\n    delete: 'DELETE',\n    read: 'GET'\n  }; // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n  // Override this if you'd like to use a different library.\n\n  Backbone.ajax = function () {\n    return Backbone.$.ajax.apply(Backbone.$, arguments);\n  }; // Backbone.Router\n  // ---------------\n  // Routers map faux-URLs to actions, and fire events when routes are\n  // matched. Creating a new one sets its `routes` hash, if not set statically.\n\n\n  var Router = Backbone.Router = function (options) {\n    options || (options = {});\n    this.preinitialize.apply(this, arguments);\n    if (options.routes) this.routes = options.routes;\n\n    this._bindRoutes();\n\n    this.initialize.apply(this, arguments);\n  }; // Cached regular expressions for matching named param parts and splatted\n  // parts of route strings.\n\n\n  var optionalParam = /\\((.*?)\\)/g;\n  var namedParam = /(\\(\\?)?:\\w+/g;\n  var splatParam = /\\*\\w+/g;\n  var escapeRegExp = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g; // Set up all inheritable **Backbone.Router** properties and methods.\n\n  _.extend(Router.prototype, Events, {\n    // preinitialize is an empty function by default. You can override it with a function\n    // or object.  preinitialize will run before any instantiation logic is run in the Router.\n    preinitialize: function () {},\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function () {},\n    // Manually bind a single named route to a callback. For example:\n    //\n    //     this.route('search/:query/p:num', 'search', function(query, num) {\n    //       ...\n    //     });\n    //\n    route: function (route, name, callback) {\n      if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n\n      if (_.isFunction(name)) {\n        callback = name;\n        name = '';\n      }\n\n      if (!callback) callback = this[name];\n      var router = this;\n      Backbone.history.route(route, function (fragment) {\n        var args = router._extractParameters(route, fragment);\n\n        if (router.execute(callback, args, name) !== false) {\n          router.trigger.apply(router, ['route:' + name].concat(args));\n          router.trigger('route', name, args);\n          Backbone.history.trigger('route', router, name, args);\n        }\n      });\n      return this;\n    },\n    // Execute a route handler with the provided parameters.  This is an\n    // excellent place to do pre-route setup or post-route cleanup.\n    execute: function (callback, args, name) {\n      if (callback) callback.apply(this, args);\n    },\n    // Simple proxy to `Backbone.history` to save a fragment into the history.\n    navigate: function (fragment, options) {\n      Backbone.history.navigate(fragment, options);\n      return this;\n    },\n    // Bind all defined routes to `Backbone.history`. We have to reverse the\n    // order of the routes here to support behavior where the most general\n    // routes can be defined at the bottom of the route map.\n    _bindRoutes: function () {\n      if (!this.routes) return;\n      this.routes = _.result(this, 'routes');\n\n      var route,\n          routes = _.keys(this.routes);\n\n      while ((route = routes.pop()) != null) {\n        this.route(route, this.routes[route]);\n      }\n    },\n    // Convert a route string into a regular expression, suitable for matching\n    // against the current location hash.\n    _routeToRegExp: function (route) {\n      route = route.replace(escapeRegExp, '\\\\$&').replace(optionalParam, '(?:$1)?').replace(namedParam, function (match, optional) {\n        return optional ? match : '([^/?]+)';\n      }).replace(splatParam, '([^?]*?)');\n      return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n    },\n    // Given a route, and a URL fragment that it matches, return the array of\n    // extracted decoded parameters. Empty or unmatched parameters will be\n    // treated as `null` to normalize cross-browser behavior.\n    _extractParameters: function (route, fragment) {\n      var params = route.exec(fragment).slice(1);\n      return _.map(params, function (param, i) {\n        // Don't decode the search params.\n        if (i === params.length - 1) return param || null;\n        return param ? decodeURIComponent(param) : null;\n      });\n    }\n  }); // Backbone.History\n  // ----------------\n  // Handles cross-browser history management, based on either\n  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n  // and URL fragments. If the browser supports neither (old IE, natch),\n  // falls back to polling.\n\n\n  var History = Backbone.History = function () {\n    this.handlers = [];\n    this.checkUrl = this.checkUrl.bind(this); // Ensure that `History` can be used outside of the browser.\n\n    if (typeof window !== 'undefined') {\n      this.location = window.location;\n      this.history = window.history;\n    }\n  }; // Cached regex for stripping a leading hash/slash and trailing space.\n\n\n  var routeStripper = /^[#\\/]|\\s+$/g; // Cached regex for stripping leading and trailing slashes.\n\n  var rootStripper = /^\\/+|\\/+$/g; // Cached regex for stripping urls of hash.\n\n  var pathStripper = /#.*$/; // Has the history handling already been started?\n\n  History.started = false; // Set up all inheritable **Backbone.History** properties and methods.\n\n  _.extend(History.prototype, Events, {\n    // The default interval to poll for hash changes, if necessary, is\n    // twenty times a second.\n    interval: 50,\n    // Are we at the app root?\n    atRoot: function () {\n      var path = this.location.pathname.replace(/[^\\/]$/, '$&/');\n      return path === this.root && !this.getSearch();\n    },\n    // Does the pathname match the root?\n    matchRoot: function () {\n      var path = this.decodeFragment(this.location.pathname);\n      var rootPath = path.slice(0, this.root.length - 1) + '/';\n      return rootPath === this.root;\n    },\n    // Unicode characters in `location.pathname` are percent encoded so they're\n    // decoded for comparison. `%25` should not be decoded since it may be part\n    // of an encoded parameter.\n    decodeFragment: function (fragment) {\n      return decodeURI(fragment.replace(/%25/g, '%2525'));\n    },\n    // In IE6, the hash fragment and search params are incorrect if the\n    // fragment contains `?`.\n    getSearch: function () {\n      var match = this.location.href.replace(/#.*/, '').match(/\\?.+/);\n      return match ? match[0] : '';\n    },\n    // Gets the true hash value. Cannot use location.hash directly due to bug\n    // in Firefox where location.hash will always be decoded.\n    getHash: function (window) {\n      var match = (window || this).location.href.match(/#(.*)$/);\n      return match ? match[1] : '';\n    },\n    // Get the pathname and search params, without the root.\n    getPath: function () {\n      var path = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);\n      return path.charAt(0) === '/' ? path.slice(1) : path;\n    },\n    // Get the cross-browser normalized URL fragment from the path or hash.\n    getFragment: function (fragment) {\n      if (fragment == null) {\n        if (this._usePushState || !this._wantsHashChange) {\n          fragment = this.getPath();\n        } else {\n          fragment = this.getHash();\n        }\n      }\n\n      return fragment.replace(routeStripper, '');\n    },\n    // Start the hash change handling, returning `true` if the current URL matches\n    // an existing route, and `false` otherwise.\n    start: function (options) {\n      if (History.started) throw new Error('Backbone.history has already been started');\n      History.started = true; // Figure out the initial configuration. Do we need an iframe?\n      // Is pushState desired ... is it available?\n\n      this.options = _.extend({\n        root: '/'\n      }, this.options, options);\n      this.root = this.options.root;\n      this._wantsHashChange = this.options.hashChange !== false;\n      this._hasHashChange = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);\n      this._useHashChange = this._wantsHashChange && this._hasHashChange;\n      this._wantsPushState = !!this.options.pushState;\n      this._hasPushState = !!(this.history && this.history.pushState);\n      this._usePushState = this._wantsPushState && this._hasPushState;\n      this.fragment = this.getFragment(); // Normalize root to always include a leading and trailing slash.\n\n      this.root = ('/' + this.root + '/').replace(rootStripper, '/'); // Transition from hashChange to pushState or vice versa if both are\n      // requested.\n\n      if (this._wantsHashChange && this._wantsPushState) {\n        // If we've started off with a route from a `pushState`-enabled\n        // browser, but we're currently in a browser that doesn't support it...\n        if (!this._hasPushState && !this.atRoot()) {\n          var rootPath = this.root.slice(0, -1) || '/';\n          this.location.replace(rootPath + '#' + this.getPath()); // Return immediately as browser will do redirect to new url\n\n          return true; // Or if we've started out with a hash-based route, but we're currently\n          // in a browser where it could be `pushState`-based instead...\n        } else if (this._hasPushState && this.atRoot()) {\n          this.navigate(this.getHash(), {\n            replace: true\n          });\n        }\n      } // Proxy an iframe to handle location events if the browser doesn't\n      // support the `hashchange` event, HTML5 history, or the user wants\n      // `hashChange` but not `pushState`.\n\n\n      if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\n        this.iframe = document.createElement('iframe');\n        this.iframe.src = 'javascript:0';\n        this.iframe.style.display = 'none';\n        this.iframe.tabIndex = -1;\n        var body = document.body; // Using `appendChild` will throw on IE < 9 if the document is not ready.\n\n        var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;\n        iWindow.document.open();\n        iWindow.document.close();\n        iWindow.location.hash = '#' + this.fragment;\n      } // Add a cross-platform `addEventListener` shim for older browsers.\n\n\n      var addEventListener = window.addEventListener || function (eventName, listener) {\n        return attachEvent('on' + eventName, listener);\n      }; // Depending on whether we're using pushState or hashes, and whether\n      // 'onhashchange' is supported, determine how we check the URL state.\n\n\n      if (this._usePushState) {\n        addEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        addEventListener('hashchange', this.checkUrl, false);\n      } else if (this._wantsHashChange) {\n        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n      }\n\n      if (!this.options.silent) return this.loadUrl();\n    },\n    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n    // but possibly useful for unit testing Routers.\n    stop: function () {\n      // Add a cross-platform `removeEventListener` shim for older browsers.\n      var removeEventListener = window.removeEventListener || function (eventName, listener) {\n        return detachEvent('on' + eventName, listener);\n      }; // Remove window listeners.\n\n\n      if (this._usePushState) {\n        removeEventListener('popstate', this.checkUrl, false);\n      } else if (this._useHashChange && !this.iframe) {\n        removeEventListener('hashchange', this.checkUrl, false);\n      } // Clean up the iframe if necessary.\n\n\n      if (this.iframe) {\n        document.body.removeChild(this.iframe);\n        this.iframe = null;\n      } // Some environments will throw when clearing an undefined interval.\n\n\n      if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);\n      History.started = false;\n    },\n    // Add a route to be tested when the fragment changes. Routes added later\n    // may override previous routes.\n    route: function (route, callback) {\n      this.handlers.unshift({\n        route: route,\n        callback: callback\n      });\n    },\n    // Checks the current URL to see if it has changed, and if it has,\n    // calls `loadUrl`, normalizing across the hidden iframe.\n    checkUrl: function (e) {\n      var current = this.getFragment(); // If the user pressed the back button, the iframe's hash will have\n      // changed and we should use that for comparison.\n\n      if (current === this.fragment && this.iframe) {\n        current = this.getHash(this.iframe.contentWindow);\n      }\n\n      if (current === this.fragment) return false;\n      if (this.iframe) this.navigate(current);\n      this.loadUrl();\n    },\n    // Attempt to load the current URL fragment. If a route succeeds with a\n    // match, returns `true`. If no defined routes matches the fragment,\n    // returns `false`.\n    loadUrl: function (fragment) {\n      // If the root doesn't match, no routes can match either.\n      if (!this.matchRoot()) return false;\n      fragment = this.fragment = this.getFragment(fragment);\n      return _.some(this.handlers, function (handler) {\n        if (handler.route.test(fragment)) {\n          handler.callback(fragment);\n          return true;\n        }\n      });\n    },\n    // Save a fragment into the hash history, or replace the URL state if the\n    // 'replace' option is passed. You are responsible for properly URL-encoding\n    // the fragment in advance.\n    //\n    // The options object can contain `trigger: true` if you wish to have the\n    // route callback be fired (not usually desirable), or `replace: true`, if\n    // you wish to modify the current URL without adding an entry to the history.\n    navigate: function (fragment, options) {\n      if (!History.started) return false;\n      if (!options || options === true) options = {\n        trigger: !!options\n      }; // Normalize the fragment.\n\n      fragment = this.getFragment(fragment || ''); // Don't include a trailing slash on the root.\n\n      var rootPath = this.root;\n\n      if (fragment === '' || fragment.charAt(0) === '?') {\n        rootPath = rootPath.slice(0, -1) || '/';\n      }\n\n      var url = rootPath + fragment; // Strip the fragment of the query and hash for matching.\n\n      fragment = fragment.replace(pathStripper, ''); // Decode for matching.\n\n      var decodedFragment = this.decodeFragment(fragment);\n      if (this.fragment === decodedFragment) return;\n      this.fragment = decodedFragment; // If pushState is available, we use it to set the fragment as a real URL.\n\n      if (this._usePushState) {\n        this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url); // If hash changes haven't been explicitly disabled, update the hash\n        // fragment to store history.\n      } else if (this._wantsHashChange) {\n        this._updateHash(this.location, fragment, options.replace);\n\n        if (this.iframe && fragment !== this.getHash(this.iframe.contentWindow)) {\n          var iWindow = this.iframe.contentWindow; // Opening and closing the iframe tricks IE7 and earlier to push a\n          // history entry on hash-tag change.  When replace is true, we don't\n          // want this.\n\n          if (!options.replace) {\n            iWindow.document.open();\n            iWindow.document.close();\n          }\n\n          this._updateHash(iWindow.location, fragment, options.replace);\n        } // If you've told us that you explicitly don't want fallback hashchange-\n        // based history, then `navigate` becomes a page refresh.\n\n      } else {\n        return this.location.assign(url);\n      }\n\n      if (options.trigger) return this.loadUrl(fragment);\n    },\n    // Update the hash location, either replacing the current entry, or adding\n    // a new one to the browser history.\n    _updateHash: function (location, fragment, replace) {\n      if (replace) {\n        var href = location.href.replace(/(javascript:|#).*$/, '');\n        location.replace(href + '#' + fragment);\n      } else {\n        // Some browsers require that `hash` contains a leading #.\n        location.hash = '#' + fragment;\n      }\n    }\n  }); // Create the default Backbone.history.\n\n\n  Backbone.history = new History(); // Helpers\n  // -------\n  // Helper function to correctly set up the prototype chain for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n\n  var extend = function (protoProps, staticProps) {\n    var parent = this;\n    var child; // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent constructor.\n\n    if (protoProps && _.has(protoProps, 'constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function () {\n        return parent.apply(this, arguments);\n      };\n    } // Add static properties to the constructor function, if supplied.\n\n\n    _.extend(child, parent, staticProps); // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function and add the prototype properties.\n\n\n    child.prototype = _.create(parent.prototype, protoProps);\n    child.prototype.constructor = child; // Set a convenience property in case the parent's prototype is needed\n    // later.\n\n    child.__super__ = parent.prototype;\n    return child;\n  }; // Set up inheritance for the model, collection, router, view and history.\n\n\n  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend; // Throw an error when a URL is needed, and none is supplied.\n\n  var urlError = function () {\n    throw new Error('A \"url\" property or function must be specified');\n  }; // Wrap an optional error callback with a fallback error event.\n\n\n  var wrapError = function (model, options) {\n    var error = options.error;\n\n    options.error = function (resp) {\n      if (error) error.call(options.context, model, resp, options);\n      model.trigger('error', model, resp, options);\n    };\n  };\n\n  return Backbone;\n});\n}(backbone, backbone.exports));\n\nvar Backbone = backbone.exports;\n\nexport { Backbone as default };\n","import { j as js_cookie } from '../../../../_virtual/js.cookie.js';\n\n/*!\n * JavaScript Cookie v2.1.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n\n(function (module, exports) {\n(function (factory) {\n  {\n    module.exports = factory();\n  }\n})(function () {\n  function extend() {\n    var i = 0;\n    var result = {};\n\n    for (; i < arguments.length; i++) {\n      var attributes = arguments[i];\n\n      for (var key in attributes) {\n        result[key] = attributes[key];\n      }\n    }\n\n    return result;\n  }\n\n  function init(converter) {\n    function api(key, value, attributes) {\n      var result; // Write\n\n      if (arguments.length > 1) {\n        attributes = extend({\n          path: '/'\n        }, api.defaults, attributes);\n\n        if (typeof attributes.expires === 'number') {\n          var expires = new Date();\n          expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n          attributes.expires = expires;\n        }\n\n        try {\n          result = JSON.stringify(value);\n\n          if (/^[\\{\\[]/.test(result)) {\n            value = result;\n          }\n        } catch (e) {}\n\n        if (!converter.write) {\n          value = encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n        } else {\n          value = converter.write(value, key);\n        }\n\n        key = encodeURIComponent(String(key));\n        key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n        key = key.replace(/[\\(\\)]/g, escape);\n        return document.cookie = [key, '=', value, attributes.expires && '; expires=' + attributes.expires.toUTCString(), // use expires attribute, max-age is not supported by IE\n        attributes.path && '; path=' + attributes.path, attributes.domain && '; domain=' + attributes.domain, attributes.secure ? '; secure' : ''].join('');\n      } // Read\n\n\n      if (!key) {\n        result = {};\n      } // To prevent the for loop in the first place assign an empty array\n      // in case there are no cookies at all. Also prevents odd result when\n      // calling \"get()\"\n\n\n      var cookies = document.cookie ? document.cookie.split('; ') : [];\n      var rdecode = /(%[0-9A-Z]{2})+/g;\n      var i = 0;\n\n      for (; i < cookies.length; i++) {\n        var parts = cookies[i].split('=');\n        var name = parts[0].replace(rdecode, decodeURIComponent);\n        var cookie = parts.slice(1).join('=');\n\n        if (cookie.charAt(0) === '\"') {\n          cookie = cookie.slice(1, -1);\n        }\n\n        try {\n          cookie = converter.read ? converter.read(cookie, name) : converter(cookie, name) || cookie.replace(rdecode, decodeURIComponent);\n\n          if (this.json) {\n            try {\n              cookie = JSON.parse(cookie);\n            } catch (e) {}\n          }\n\n          if (key === name) {\n            result = cookie;\n            break;\n          }\n\n          if (!key) {\n            result[name] = cookie;\n          }\n        } catch (e) {}\n      }\n\n      return result;\n    }\n\n    api.get = api.set = api;\n\n    api.getJSON = function () {\n      return api.apply({\n        json: true\n      }, [].slice.call(arguments));\n    };\n\n    api.defaults = {};\n\n    api.remove = function (key, attributes) {\n      api(key, '', extend(attributes, {\n        expires: -1\n      }));\n    };\n\n    api.withConverter = init;\n    return api;\n  }\n\n  return init(function () {});\n});\n}(js_cookie));\n\nvar Cookie = js_cookie.exports;\n\nexport { Cookie as default };\n","import $ from 'jquery';\n\n(function () {\n  var SelectParser;\n\n  SelectParser = function () {\n    function SelectParser() {\n      this.options_index = 0;\n      this.parsed = [];\n    }\n\n    SelectParser.prototype.add_node = function (child) {\n      if (child.nodeName.toUpperCase() === \"OPTGROUP\") {\n        return this.add_group(child);\n      } else {\n        return this.add_option(child);\n      }\n    };\n\n    SelectParser.prototype.add_group = function (group) {\n      var group_position, option, _i, _len, _ref, _results;\n\n      group_position = this.parsed.length;\n      this.parsed.push({\n        array_index: group_position,\n        group: true,\n        label: group.label,\n        children: 0,\n        disabled: group.disabled\n      });\n      _ref = group.childNodes;\n      _results = [];\n\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        option = _ref[_i];\n\n        _results.push(this.add_option(option, group_position, group.disabled));\n      }\n\n      return _results;\n    };\n\n    SelectParser.prototype.add_option = function (option, group_position, group_disabled) {\n      if (option.nodeName.toUpperCase() === \"OPTION\") {\n        if (option.text !== \"\") {\n          if (group_position != null) {\n            this.parsed[group_position].children += 1;\n          }\n\n          this.parsed.push({\n            array_index: this.parsed.length,\n            options_index: this.options_index,\n            value: option.value,\n            text: option.text,\n            html: option.innerHTML,\n            selected: option.selected,\n            disabled: group_disabled === true ? group_disabled : option.disabled,\n            group_array_index: group_position,\n            classes: option.className,\n            style: option.style.cssText\n          });\n        } else {\n          this.parsed.push({\n            array_index: this.parsed.length,\n            options_index: this.options_index,\n            empty: true\n          });\n        }\n\n        return this.options_index += 1;\n      }\n    };\n\n    return SelectParser;\n  }();\n\n  SelectParser.select_to_array = function (select) {\n    var child, parser, _i, _len, _ref;\n\n    parser = new SelectParser();\n    _ref = select.childNodes;\n\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      child = _ref[_i];\n      parser.add_node(child);\n    }\n\n    return parser.parsed;\n  };\n\n  this.SelectParser = SelectParser;\n}).call($);\n(function () {\n  var AbstractChosen, root;\n  root = this;\n\n  AbstractChosen = function () {\n    function AbstractChosen(form_field, options) {\n      this.form_field = form_field;\n      this.options = options != null ? options : {};\n\n      if (!AbstractChosen.browser_is_supported()) {\n        return;\n      }\n\n      this.is_multiple = this.form_field.multiple;\n      this.set_default_text();\n      this.set_default_values();\n      this.setup();\n      this.set_up_html();\n      this.register_observers();\n      this.finish_setup();\n    }\n\n    AbstractChosen.prototype.set_default_values = function () {\n      var _this = this;\n\n      this.click_test_action = function (evt) {\n        return _this.test_active_click(evt);\n      };\n\n      this.activate_action = function (evt) {\n        return _this.activate_field(evt);\n      };\n\n      this.active_field = false;\n      this.mouse_on_container = false;\n      this.results_showing = false;\n      this.result_highlighted = null;\n      this.result_single_selected = null;\n      this.allow_single_deselect = this.options.allow_single_deselect != null && this.form_field.options[0] != null && this.form_field.options[0].text === \"\" ? this.options.allow_single_deselect : false;\n      this.disable_search_threshold = this.options.disable_search_threshold || 0;\n      this.disable_search = this.options.disable_search || false;\n      this.enable_split_word_search = this.options.enable_split_word_search != null ? this.options.enable_split_word_search : true;\n      this.search_contains = this.options.search_contains || false;\n      this.single_backstroke_delete = this.options.single_backstroke_delete || false;\n      this.max_selected_options = this.options.max_selected_options || Infinity;\n      return this.inherit_select_classes = this.options.inherit_select_classes || false;\n    };\n\n    AbstractChosen.prototype.set_default_text = function () {\n      if (this.form_field.getAttribute(\"data-placeholder\")) {\n        this.default_text = this.form_field.getAttribute(\"data-placeholder\");\n      } else if (this.is_multiple) {\n        this.default_text = this.options.placeholder_text_multiple || this.options.placeholder_text || AbstractChosen.default_multiple_text;\n      } else {\n        this.default_text = this.options.placeholder_text_single || this.options.placeholder_text || AbstractChosen.default_single_text;\n      }\n\n      return this.results_none_found = this.form_field.getAttribute(\"data-no_results_text\") || this.options.no_results_text || AbstractChosen.default_no_result_text;\n    };\n\n    AbstractChosen.prototype.mouse_enter = function () {\n      return this.mouse_on_container = true;\n    };\n\n    AbstractChosen.prototype.mouse_leave = function () {\n      return this.mouse_on_container = false;\n    };\n\n    AbstractChosen.prototype.input_focus = function (evt) {\n      var _this = this;\n\n      if (this.is_multiple) {\n        if (!this.active_field) {\n          return setTimeout(function () {\n            return _this.container_mousedown();\n          }, 50);\n        }\n      } else {\n        if (!this.active_field) {\n          return this.activate_field();\n        }\n      }\n    };\n\n    AbstractChosen.prototype.input_blur = function (evt) {\n      var _this = this;\n\n      if (!this.mouse_on_container) {\n        this.active_field = false;\n        return setTimeout(function () {\n          return _this.blur_test();\n        }, 100);\n      }\n    };\n\n    AbstractChosen.prototype.result_add_option = function (option) {\n      var classes, style;\n      option.dom_id = this.container_id + \"_o_\" + option.array_index;\n      classes = [];\n\n      if (!option.disabled && !(option.selected && this.is_multiple)) {\n        classes.push(\"active-result\");\n      }\n\n      if (option.disabled && !(option.selected && this.is_multiple)) {\n        classes.push(\"disabled-result\");\n      }\n\n      if (option.selected) {\n        classes.push(\"result-selected\");\n      }\n\n      if (option.group_array_index != null) {\n        classes.push(\"group-option\");\n      }\n\n      if (option.classes !== \"\") {\n        classes.push(option.classes);\n      }\n\n      style = option.style.cssText !== \"\" && option.style !== \"\" ? \" style=\\\"\" + option.style + \"\\\"\" : \"\";\n      return \"<li id=\\\"\" + option.dom_id + \"\\\" class=\\\"\" + classes.join(\" \") + \"\\\"\" + style + \">\" + option.html + \"</li>\";\n    };\n\n    AbstractChosen.prototype.results_update_field = function () {\n      this.set_default_text();\n\n      if (!this.is_multiple) {\n        this.results_reset_cleanup();\n      }\n\n      this.result_clear_highlight();\n      this.result_single_selected = null;\n      return this.results_build();\n    };\n\n    AbstractChosen.prototype.results_toggle = function () {\n      if (this.results_showing) {\n        return this.results_hide();\n      } else {\n        return this.results_show();\n      }\n    };\n\n    AbstractChosen.prototype.results_search = function (evt) {\n      if (this.results_showing) {\n        return this.winnow_results();\n      } else {\n        return this.results_show();\n      }\n    };\n\n    AbstractChosen.prototype.choices_count = function () {\n      var option, _i, _len, _ref;\n\n      if (this.selected_option_count != null) {\n        return this.selected_option_count;\n      }\n\n      this.selected_option_count = 0;\n      _ref = this.form_field.options;\n\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        option = _ref[_i];\n\n        if (option.selected) {\n          this.selected_option_count += 1;\n        }\n      }\n\n      return this.selected_option_count;\n    };\n\n    AbstractChosen.prototype.choices_click = function (evt) {\n      evt.preventDefault();\n\n      if (!(this.results_showing || this.is_disabled)) {\n        return this.results_show();\n      }\n    };\n\n    AbstractChosen.prototype.keyup_checker = function (evt) {\n      var stroke, _ref;\n\n      stroke = (_ref = evt.which) != null ? _ref : evt.keyCode;\n      this.search_field_scale();\n\n      switch (stroke) {\n        case 8:\n          if (this.is_multiple && this.backstroke_length < 1 && this.choices_count() > 0) {\n            return this.keydown_backstroke();\n          } else if (!this.pending_backstroke) {\n            this.result_clear_highlight();\n            return this.results_search();\n          }\n\n          break;\n\n        case 13:\n          evt.preventDefault();\n\n          if (this.results_showing) {\n            return this.result_select(evt);\n          }\n\n          break;\n\n        case 27:\n          if (this.results_showing) {\n            this.results_hide();\n          }\n\n          return true;\n\n        case 9:\n        case 38:\n        case 40:\n        case 16:\n        case 91:\n        case 17:\n          break;\n\n        default:\n          return this.results_search();\n      }\n    };\n\n    AbstractChosen.prototype.generate_field_id = function () {\n      var new_id;\n      new_id = this.generate_random_id();\n      this.form_field.id = new_id;\n      return new_id;\n    };\n\n    AbstractChosen.prototype.generate_random_char = function () {\n      var chars, rand;\n      chars = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n      rand = Math.floor(Math.random() * chars.length);\n      return chars.substring(rand, rand + 1);\n    };\n\n    AbstractChosen.prototype.container_width = function () {\n      if (this.options.width != null) {\n        return this.options.width;\n      } else {\n        return \"\" + this.form_field.offsetWidth + \"px\";\n      }\n    };\n\n    AbstractChosen.browser_is_supported = function () {\n      var _ref;\n\n      if (window.navigator.appName === \"Microsoft Internet Explorer\") {\n        return null !== (_ref = document.documentMode) && _ref >= 8;\n      }\n\n      return true;\n    };\n\n    AbstractChosen.default_multiple_text = \"Select Some Options\";\n    AbstractChosen.default_single_text = \"Select an Option\";\n    AbstractChosen.default_no_result_text = \"No results match\";\n    return AbstractChosen;\n  }();\n\n  root.AbstractChosen = AbstractChosen;\n}).call($);\n(function () {\n  var $$1,\n      Chosen,\n      root,\n      _ref,\n      __hasProp = {}.hasOwnProperty,\n      __extends = function (child, parent) {\n    for (var key in parent) {\n      if (__hasProp.call(parent, key)) child[key] = parent[key];\n    }\n\n    function ctor() {\n      this.constructor = child;\n    }\n\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n    child.__super__ = parent.prototype;\n    return child;\n  };\n\n  root = this;\n  var AbstractChosen = root.AbstractChosen;\n  $$1 = $;\n  $$1.fn.extend({\n    chosen: function (options) {\n      if (!AbstractChosen.browser_is_supported()) {\n        return this;\n      }\n\n      return this.each(function (input_field) {\n        var $this;\n        $this = $$1(this);\n\n        if (!$this.hasClass(\"chzn-done\")) {\n          return $this.data(\"chosen\", new Chosen(this, options));\n        }\n      });\n    }\n  });\n\n  Chosen = function (_super) {\n    __extends(Chosen, _super);\n\n    function Chosen() {\n      _ref = Chosen.__super__.constructor.apply(this, arguments);\n      return _ref;\n    }\n\n    Chosen.prototype.setup = function () {\n      this.form_field_jq = $$1(this.form_field);\n      this.current_selectedIndex = this.form_field.selectedIndex;\n      return this.is_rtl = this.form_field_jq.hasClass(\"chzn-rtl\");\n    };\n\n    Chosen.prototype.finish_setup = function () {\n      return this.form_field_jq.addClass(\"chzn-done\");\n    };\n\n    Chosen.prototype.set_up_html = function () {\n      var container_classes, container_props;\n      this.container_id = this.form_field.id.length ? this.form_field.id.replace(/[^\\w]/g, \"_\") : this.generate_field_id();\n      this.container_id += \"_chzn\";\n      container_classes = [\"chzn-container\"];\n      container_classes.push(\"chzn-container-\" + (this.is_multiple ? \"multi\" : \"single\"));\n\n      if (this.inherit_select_classes && this.form_field.className) {\n        container_classes.push(this.form_field.className);\n      }\n\n      if (this.is_rtl) {\n        container_classes.push(\"chzn-rtl\");\n      }\n\n      container_props = {\n        \"id\": this.container_id,\n        \"class\": container_classes.join(\" \"),\n        \"style\": \"width: \" + this.container_width() + \";\",\n        \"title\": this.form_field.title\n      };\n      this.container = $$1(\"<div></div>\", container_props);\n\n      if (this.is_multiple) {\n        this.container.html(\"<ul class=\\\"chzn-choices\\\"><li class=\\\"search-field\\\"><input type=\\\"text\\\" value=\\\"\" + this.default_text + \"\\\" class=\\\"default\\\" autocomplete=\\\"off\\\" style=\\\"width:25px;\\\" /></li></ul><div class=\\\"chzn-drop\\\"><ul class=\\\"chzn-results\\\"></ul></div>\");\n      } else {\n        this.container.html(\"<a href=\\\"javascript:void(0)\\\" class=\\\"chzn-single chzn-default\\\" tabindex=\\\"-1\\\"><span>\" + this.default_text + \"</span><div><b></b></div></a><div class=\\\"chzn-drop\\\"><div class=\\\"chzn-search\\\"><input type=\\\"text\\\" autocomplete=\\\"off\\\" /></div><ul class=\\\"chzn-results\\\"></ul></div>\");\n      }\n\n      this.form_field_jq.hide().after(this.container);\n      this.dropdown = this.container.find(\"div.chzn-drop\").first();\n      this.search_field = this.container.find(\"input\").first();\n      this.search_results = this.container.find(\"ul.chzn-results\").first();\n      this.search_field_scale();\n      this.search_no_results = this.container.find(\"li.no-results\").first();\n\n      if (this.is_multiple) {\n        this.search_choices = this.container.find(\"ul.chzn-choices\").first();\n        this.search_container = this.container.find(\"li.search-field\").first();\n      } else {\n        this.search_container = this.container.find(\"div.chzn-search\").first();\n        this.selected_item = this.container.find(\".chzn-single\").first();\n      }\n\n      this.results_build();\n      this.set_tab_index();\n      this.set_label_behavior();\n      return this.form_field_jq.trigger(\"liszt:ready\", {\n        chosen: this\n      });\n    };\n\n    Chosen.prototype.register_observers = function () {\n      var _this = this;\n\n      this.container.mousedown(function (evt) {\n        _this.container_mousedown(evt);\n      });\n      this.container.mouseup(function (evt) {\n        _this.container_mouseup(evt);\n      });\n      this.container.mouseenter(function (evt) {\n        _this.mouse_enter(evt);\n      });\n      this.container.mouseleave(function (evt) {\n        _this.mouse_leave(evt);\n      });\n      this.search_results.mouseup(function (evt) {\n        _this.search_results_mouseup(evt);\n      });\n      this.search_results.mouseover(function (evt) {\n        _this.search_results_mouseover(evt);\n      });\n      this.search_results.mouseout(function (evt) {\n        _this.search_results_mouseout(evt);\n      });\n      this.search_results.bind(\"mousewheel DOMMouseScroll\", function (evt) {\n        _this.search_results_mousewheel(evt);\n      });\n      this.form_field_jq.bind(\"liszt:updated\", function (evt) {\n        _this.results_update_field(evt);\n      });\n      this.form_field_jq.bind(\"liszt:activate\", function (evt) {\n        _this.activate_field(evt);\n      });\n      this.form_field_jq.bind(\"liszt:open\", function (evt) {\n        _this.container_mousedown(evt);\n      });\n      this.search_field.blur(function (evt) {\n        _this.input_blur(evt);\n      });\n      this.search_field.keyup(function (evt) {\n        _this.keyup_checker(evt);\n      });\n      this.search_field.keydown(function (evt) {\n        _this.keydown_checker(evt);\n      });\n      this.search_field.focus(function (evt) {\n        _this.input_focus(evt);\n      });\n\n      if (this.is_multiple) {\n        return this.search_choices.click(function (evt) {\n          _this.choices_click(evt);\n        });\n      } else {\n        return this.container.click(function (evt) {\n          evt.preventDefault();\n        });\n      }\n    };\n\n    Chosen.prototype.search_field_disabled = function () {\n      this.is_disabled = this.form_field_jq[0].disabled;\n\n      if (this.is_disabled) {\n        this.container.addClass(\"chzn-disabled\");\n        this.search_field[0].disabled = true;\n\n        if (!this.is_multiple) {\n          this.selected_item.unbind(\"focus\", this.activate_action);\n        }\n\n        return this.close_field();\n      } else {\n        this.container.removeClass(\"chzn-disabled\");\n        this.search_field[0].disabled = false;\n\n        if (!this.is_multiple) {\n          return this.selected_item.bind(\"focus\", this.activate_action);\n        }\n      }\n    };\n\n    Chosen.prototype.container_mousedown = function (evt) {\n      if (!this.is_disabled) {\n        if (evt && evt.type === \"mousedown\" && !this.results_showing) {\n          evt.preventDefault();\n        }\n\n        if (!(evt != null && $$1(evt.target).hasClass(\"search-choice-close\"))) {\n          if (!this.active_field) {\n            if (this.is_multiple) {\n              this.search_field.val(\"\");\n            }\n\n            $$1(document).click(this.click_test_action);\n            this.results_show();\n          } else if (!this.is_multiple && evt && ($$1(evt.target)[0] === this.selected_item[0] || $$1(evt.target).parents(\"a.chzn-single\").length)) {\n            evt.preventDefault();\n            this.results_toggle();\n          }\n\n          return this.activate_field();\n        }\n      }\n    };\n\n    Chosen.prototype.container_mouseup = function (evt) {\n      if (evt.target.nodeName === \"ABBR\" && !this.is_disabled) {\n        return this.results_reset(evt);\n      }\n    };\n\n    Chosen.prototype.search_results_mousewheel = function (evt) {\n      var delta, _ref1, _ref2;\n\n      delta = -((_ref1 = evt.originalEvent) != null ? _ref1.wheelDelta : void 0) || ((_ref2 = evt.originialEvent) != null ? _ref2.detail : void 0);\n\n      if (delta != null) {\n        evt.preventDefault();\n\n        if (evt.type === \"DOMMouseScroll\") {\n          delta = delta * 40;\n        }\n\n        return this.search_results.scrollTop(delta + this.search_results.scrollTop());\n      }\n    };\n\n    Chosen.prototype.blur_test = function (evt) {\n      if (!this.active_field && this.container.hasClass(\"chzn-container-active\")) {\n        return this.close_field();\n      }\n    };\n\n    Chosen.prototype.close_field = function () {\n      $$1(document).unbind(\"click\", this.click_test_action);\n      this.active_field = false;\n      this.results_hide();\n      this.container.removeClass(\"chzn-container-active\");\n      this.clear_backstroke();\n      this.show_search_field_default();\n      return this.search_field_scale();\n    };\n\n    Chosen.prototype.activate_field = function () {\n      this.container.addClass(\"chzn-container-active\");\n      this.active_field = true;\n      this.search_field.val(this.search_field.val());\n      return this.search_field.focus();\n    };\n\n    Chosen.prototype.test_active_click = function (evt) {\n      if ($$1(evt.target).parents(\"#\" + this.container_id).length) {\n        return this.active_field = true;\n      } else {\n        return this.close_field();\n      }\n    };\n\n    Chosen.prototype.results_build = function () {\n      var content, data, _i, _len, _ref1;\n\n      this.parsing = true;\n      this.selected_option_count = null;\n      this.results_data = root.SelectParser.select_to_array(this.form_field);\n\n      if (this.is_multiple) {\n        this.search_choices.find(\"li.search-choice\").remove();\n      } else if (!this.is_multiple) {\n        this.selected_item.addClass(\"chzn-default\").find(\"span\").text(this.default_text);\n\n        if (this.disable_search || this.form_field.options.length <= this.disable_search_threshold) {\n          this.search_field[0].readOnly = true;\n          this.container.addClass(\"chzn-container-single-nosearch\");\n        } else {\n          this.search_field[0].readOnly = false;\n          this.container.removeClass(\"chzn-container-single-nosearch\");\n        }\n      }\n\n      content = \"\";\n      _ref1 = this.results_data;\n\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        data = _ref1[_i];\n\n        if (data.group) {\n          content += this.result_add_group(data);\n        } else if (!data.empty) {\n          content += this.result_add_option(data);\n\n          if (data.selected && this.is_multiple) {\n            this.choice_build(data);\n          } else if (data.selected && !this.is_multiple) {\n            this.selected_item.removeClass(\"chzn-default\").find(\"span\").text(data.text);\n\n            if (this.allow_single_deselect) {\n              this.single_deselect_control_build();\n            }\n          }\n        }\n      }\n\n      this.search_field_disabled();\n      this.show_search_field_default();\n      this.search_field_scale();\n      this.search_results.html(content);\n      return this.parsing = false;\n    };\n\n    Chosen.prototype.result_add_group = function (group) {\n      group.dom_id = this.container_id + \"_g_\" + group.array_index;\n      return \"<li id=\\\"\" + group.dom_id + \"\\\" class=\\\"group-result\\\">\" + $$1(\"<div></div>\").text(group.label).html() + \"</li>\";\n    };\n\n    Chosen.prototype.result_do_highlight = function (el) {\n      var high_bottom, high_top, maxHeight, visible_bottom, visible_top;\n\n      if (el.length) {\n        this.result_clear_highlight();\n        this.result_highlight = el;\n        this.result_highlight.addClass(\"highlighted\");\n        maxHeight = parseInt(this.search_results.css(\"maxHeight\"), 10);\n        visible_top = this.search_results.scrollTop();\n        visible_bottom = maxHeight + visible_top;\n        high_top = this.result_highlight.position().top + this.search_results.scrollTop();\n        high_bottom = high_top + this.result_highlight.outerHeight();\n\n        if (high_bottom >= visible_bottom) {\n          return this.search_results.scrollTop(high_bottom - maxHeight > 0 ? high_bottom - maxHeight : 0);\n        } else if (high_top < visible_top) {\n          return this.search_results.scrollTop(high_top);\n        }\n      }\n    };\n\n    Chosen.prototype.result_clear_highlight = function () {\n      if (this.result_highlight) {\n        this.result_highlight.removeClass(\"highlighted\");\n      }\n\n      return this.result_highlight = null;\n    };\n\n    Chosen.prototype.results_show = function () {\n      if (this.is_multiple && this.max_selected_options <= this.choices_count()) {\n        this.form_field_jq.trigger(\"liszt:maxselected\", {\n          chosen: this\n        });\n        return false;\n      }\n\n      this.container.addClass(\"chzn-with-drop\");\n      this.form_field_jq.trigger(\"liszt:showing_dropdown\", {\n        chosen: this\n      });\n      this.results_showing = true;\n      this.search_field.focus();\n      this.search_field.val(this.search_field.val());\n      return this.winnow_results();\n    };\n\n    Chosen.prototype.results_hide = function () {\n      if (this.results_showing) {\n        this.result_clear_highlight();\n        this.container.removeClass(\"chzn-with-drop\");\n        this.form_field_jq.trigger(\"liszt:hiding_dropdown\", {\n          chosen: this\n        });\n      }\n\n      return this.results_showing = false;\n    };\n\n    Chosen.prototype.set_tab_index = function (el) {\n      var ti;\n\n      if (this.form_field_jq.attr(\"tabindex\")) {\n        ti = this.form_field_jq.attr(\"tabindex\");\n        this.form_field_jq.attr(\"tabindex\", -1);\n        return this.search_field.attr(\"tabindex\", ti);\n      }\n    };\n\n    Chosen.prototype.set_label_behavior = function () {\n      var _this = this;\n\n      this.form_field_label = this.form_field_jq.parents(\"label\");\n\n      if (!this.form_field_label.length && this.form_field.id.length) {\n        this.form_field_label = $$1(\"label[for='\" + this.form_field.id + \"']\");\n      }\n\n      if (this.form_field_label.length > 0) {\n        return this.form_field_label.click(function (evt) {\n          if (_this.is_multiple) {\n            return _this.container_mousedown(evt);\n          } else {\n            return _this.activate_field();\n          }\n        });\n      }\n    };\n\n    Chosen.prototype.show_search_field_default = function () {\n      if (this.is_multiple && this.choices_count() < 1 && !this.active_field) {\n        this.search_field.val(this.default_text);\n        return this.search_field.addClass(\"default\");\n      } else {\n        this.search_field.val(\"\");\n        return this.search_field.removeClass(\"default\");\n      }\n    };\n\n    Chosen.prototype.search_results_mouseup = function (evt) {\n      var target;\n      target = $$1(evt.target).hasClass(\"active-result\") ? $$1(evt.target) : $$1(evt.target).parents(\".active-result\").first();\n\n      if (target.length) {\n        this.result_highlight = target;\n        this.result_select(evt);\n        return this.search_field.focus();\n      }\n    };\n\n    Chosen.prototype.search_results_mouseover = function (evt) {\n      var target;\n      target = $$1(evt.target).hasClass(\"active-result\") ? $$1(evt.target) : $$1(evt.target).parents(\".active-result\").first();\n\n      if (target) {\n        return this.result_do_highlight(target);\n      }\n    };\n\n    Chosen.prototype.search_results_mouseout = function (evt) {\n      if ($$1(evt.target).hasClass(\"active-result\" )) {\n        return this.result_clear_highlight();\n      }\n    };\n\n    Chosen.prototype.choice_build = function (item) {\n      var choice,\n          close_link,\n          _this = this;\n\n      choice = $$1(\"<li></li>\", {\n        \"class\": \"search-choice\"\n      }).html(\"<span>\" + item.html + \"</span>\");\n\n      if (item.disabled) {\n        choice.addClass(\"search-choice-disabled\");\n      } else {\n        close_link = $$1(\"<a></a>\", {\n          href: \"#\",\n          \"class\": \"search-choice-close\",\n          rel: item.array_index\n        });\n        close_link.click(function (evt) {\n          return _this.choice_destroy_link_click(evt);\n        });\n        choice.append(close_link);\n      }\n\n      return this.search_container.before(choice);\n    };\n\n    Chosen.prototype.choice_destroy_link_click = function (evt) {\n      evt.preventDefault();\n      evt.stopPropagation();\n\n      if (!this.is_disabled) {\n        return this.choice_destroy($$1(evt.target));\n      }\n    };\n\n    Chosen.prototype.choice_destroy = function (link) {\n      if (this.result_deselect(link.attr(\"rel\"))) {\n        this.show_search_field_default();\n\n        if (this.is_multiple && this.choices_count() > 0 && this.search_field.val().length < 1) {\n          this.results_hide();\n        }\n\n        link.parents(\"li\").first().remove();\n        return this.search_field_scale();\n      }\n    };\n\n    Chosen.prototype.results_reset = function () {\n      this.form_field.options[0].selected = true;\n      this.selected_option_count = null;\n      this.selected_item.find(\"span\").text(this.default_text);\n\n      if (!this.is_multiple) {\n        this.selected_item.addClass(\"chzn-default\");\n      }\n\n      this.show_search_field_default();\n      this.results_reset_cleanup();\n      this.form_field_jq.trigger(\"change\");\n\n      if (this.active_field) {\n        return this.results_hide();\n      }\n    };\n\n    Chosen.prototype.results_reset_cleanup = function () {\n      this.current_selectedIndex = this.form_field.selectedIndex;\n      return this.selected_item.find(\"abbr\").remove();\n    };\n\n    Chosen.prototype.result_select = function (evt) {\n      var high, high_id, item, position;\n\n      if (this.result_highlight) {\n        high = this.result_highlight;\n        high_id = high.attr(\"id\");\n        this.result_clear_highlight();\n\n        if (this.is_multiple && this.max_selected_options <= this.choices_count()) {\n          this.form_field_jq.trigger(\"liszt:maxselected\", {\n            chosen: this\n          });\n          return false;\n        }\n\n        if (this.is_multiple) {\n          high.removeClass(\"active-result\");\n        } else {\n          this.search_results.find(\".result-selected\").removeClass(\"result-selected\");\n          this.result_single_selected = high;\n          this.selected_item.removeClass(\"chzn-default\");\n        }\n\n        high.addClass(\"result-selected\");\n        position = high_id.substr(high_id.lastIndexOf(\"_\") + 1);\n        item = this.results_data[position];\n        item.selected = true;\n        this.form_field.options[item.options_index].selected = true;\n        this.selected_option_count = null;\n\n        if (this.is_multiple) {\n          this.choice_build(item);\n        } else {\n          this.selected_item.find(\"span\").first().text(item.text);\n\n          if (this.allow_single_deselect) {\n            this.single_deselect_control_build();\n          }\n        }\n\n        if (!((evt.metaKey || evt.ctrlKey) && this.is_multiple)) {\n          this.results_hide();\n        }\n\n        this.search_field.val(\"\");\n\n        if (this.is_multiple || this.form_field.selectedIndex !== this.current_selectedIndex) {\n          this.form_field_jq.trigger(\"change\", {\n            \"selected\": this.form_field.options[item.options_index].value\n          });\n        }\n\n        this.current_selectedIndex = this.form_field.selectedIndex;\n        return this.search_field_scale();\n      }\n    };\n\n    Chosen.prototype.result_activate = function (el, option) {\n      if (option.disabled) {\n        return el.addClass(\"disabled-result\");\n      } else if (this.is_multiple && option.selected) {\n        return el.addClass(\"result-selected\");\n      } else {\n        return el.addClass(\"active-result\");\n      }\n    };\n\n    Chosen.prototype.result_deactivate = function (el) {\n      return el.removeClass(\"active-result result-selected disabled-result\");\n    };\n\n    Chosen.prototype.result_deselect = function (pos) {\n      var result, result_data;\n      result_data = this.results_data[pos];\n\n      if (!this.form_field.options[result_data.options_index].disabled) {\n        result_data.selected = false;\n        this.form_field.options[result_data.options_index].selected = false;\n        this.selected_option_count = null;\n        result = $$1(\"#\" + this.container_id + \"_o_\" + pos);\n        result.removeClass(\"result-selected\").addClass(\"active-result\").show();\n        this.result_clear_highlight();\n        this.winnow_results();\n        this.form_field_jq.trigger(\"change\", {\n          deselected: this.form_field.options[result_data.options_index].value\n        });\n        this.search_field_scale();\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    Chosen.prototype.single_deselect_control_build = function () {\n      if (!this.allow_single_deselect) {\n        return;\n      }\n\n      if (!this.selected_item.find(\"abbr\").length) {\n        this.selected_item.find(\"span\").first().after(\"<abbr class=\\\"search-choice-close\\\"></abbr>\");\n      }\n\n      return this.selected_item.addClass(\"chzn-single-with-deselect\");\n    };\n\n    Chosen.prototype.winnow_results = function () {\n      var found, option, part, parts, regex, regexAnchor, result, result_id, results, searchText, startpos, text, zregex, _i, _j, _len, _len1, _ref1;\n\n      this.no_results_clear();\n      results = 0;\n      searchText = this.search_field.val() === this.default_text ? \"\" : $$1(\"<div></div>\").text($$1.trim(this.search_field.val())).html();\n      regexAnchor = this.search_contains ? \"\" : \"^\";\n      regex = new RegExp(regexAnchor + searchText.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"), \"i\");\n      zregex = new RegExp(searchText.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"), \"i\");\n      _ref1 = this.results_data;\n\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        option = _ref1[_i];\n\n        if (!option.empty) {\n          if (option.group) {\n            $$1(\"#\" + option.dom_id).css(\"display\", \"none\");\n          } else {\n            found = false;\n            result_id = option.dom_id;\n            result = $$1(\"#\" + result_id);\n\n            if (regex.test(option.html)) {\n              found = true;\n              results += 1;\n            } else if (this.enable_split_word_search && (option.html.indexOf(\" \") >= 0 || option.html.indexOf(\"[\") === 0)) {\n              parts = option.html.replace(/\\[|\\]/g, \"\").split(\" \");\n\n              if (parts.length) {\n                for (_j = 0, _len1 = parts.length; _j < _len1; _j++) {\n                  part = parts[_j];\n\n                  if (regex.test(part)) {\n                    found = true;\n                    results += 1;\n                  }\n                }\n              }\n            }\n\n            if (found) {\n              if (searchText.length) {\n                startpos = option.html.search(zregex);\n                text = option.html.substr(0, startpos + searchText.length) + \"</em>\" + option.html.substr(startpos + searchText.length);\n                text = text.substr(0, startpos) + \"<em>\" + text.substr(startpos);\n              } else {\n                text = option.html;\n              }\n\n              result.html(text);\n              this.result_activate(result, option);\n\n              if (option.group_array_index != null) {\n                $$1(\"#\" + this.results_data[option.group_array_index].dom_id).css(\"display\", \"list-item\");\n              }\n            } else {\n              if (this.result_highlight && result_id === this.result_highlight.attr(\"id\")) {\n                this.result_clear_highlight();\n              }\n\n              this.result_deactivate(result);\n            }\n          }\n        }\n      }\n\n      if (results < 1 && searchText.length) {\n        return this.no_results(searchText);\n      } else {\n        return this.winnow_results_set_highlight();\n      }\n    };\n\n    Chosen.prototype.winnow_results_set_highlight = function () {\n      var do_high, selected_results;\n\n      if (!this.result_highlight) {\n        selected_results = !this.is_multiple ? this.search_results.find(\".result-selected.active-result\") : [];\n        do_high = selected_results.length ? selected_results.first() : this.search_results.find(\".active-result\").first();\n\n        if (do_high != null) {\n          return this.result_do_highlight(do_high);\n        }\n      }\n    };\n\n    Chosen.prototype.no_results = function (terms) {\n      var no_results_html;\n      no_results_html = $$1(\"<li class=\\\"no-results\\\">\" + this.results_none_found + \" \\\"<span></span>\\\"</li>\");\n      no_results_html.find(\"span\").first().html(terms);\n      return this.search_results.append(no_results_html);\n    };\n\n    Chosen.prototype.no_results_clear = function () {\n      return this.search_results.find(\".no-results\").remove();\n    };\n\n    Chosen.prototype.keydown_arrow = function () {\n      var next_sib;\n\n      if (this.results_showing && this.result_highlight) {\n        next_sib = this.result_highlight.nextAll(\"li.active-result\").first();\n\n        if (next_sib) {\n          return this.result_do_highlight(next_sib);\n        }\n      } else {\n        return this.results_show();\n      }\n    };\n\n    Chosen.prototype.keyup_arrow = function () {\n      var prev_sibs;\n\n      if (!this.results_showing && !this.is_multiple) {\n        return this.results_show();\n      } else if (this.result_highlight) {\n        prev_sibs = this.result_highlight.prevAll(\"li.active-result\");\n\n        if (prev_sibs.length) {\n          return this.result_do_highlight(prev_sibs.first());\n        } else {\n          if (this.choices_count() > 0) {\n            this.results_hide();\n          }\n\n          return this.result_clear_highlight();\n        }\n      }\n    };\n\n    Chosen.prototype.keydown_backstroke = function () {\n      var next_available_destroy;\n\n      if (this.pending_backstroke) {\n        this.choice_destroy(this.pending_backstroke.find(\"a\").first());\n        return this.clear_backstroke();\n      } else {\n        next_available_destroy = this.search_container.siblings(\"li.search-choice\").last();\n\n        if (next_available_destroy.length && !next_available_destroy.hasClass(\"search-choice-disabled\")) {\n          this.pending_backstroke = next_available_destroy;\n\n          if (this.single_backstroke_delete) {\n            return this.keydown_backstroke();\n          } else {\n            return this.pending_backstroke.addClass(\"search-choice-focus\");\n          }\n        }\n      }\n    };\n\n    Chosen.prototype.clear_backstroke = function () {\n      if (this.pending_backstroke) {\n        this.pending_backstroke.removeClass(\"search-choice-focus\");\n      }\n\n      return this.pending_backstroke = null;\n    };\n\n    Chosen.prototype.keydown_checker = function (evt) {\n      var stroke, _ref1;\n\n      stroke = (_ref1 = evt.which) != null ? _ref1 : evt.keyCode;\n      this.search_field_scale();\n\n      if (stroke !== 8 && this.pending_backstroke) {\n        this.clear_backstroke();\n      }\n\n      switch (stroke) {\n        case 8:\n          this.backstroke_length = this.search_field.val().length;\n          break;\n\n        case 9:\n          if (this.results_showing && !this.is_multiple) {\n            this.result_select(evt);\n          }\n\n          this.mouse_on_container = false;\n          break;\n\n        case 13:\n          evt.preventDefault();\n          break;\n\n        case 38:\n          evt.preventDefault();\n          this.keyup_arrow();\n          break;\n\n        case 40:\n          evt.preventDefault();\n          this.keydown_arrow();\n          break;\n      }\n    };\n\n    Chosen.prototype.search_field_scale = function () {\n      var div, style, style_block, styles, w, _i, _len;\n\n      if (this.is_multiple) {\n        w = 0;\n        style_block = \"position:absolute; left: -1000px; top: -1000px; display:none;\";\n        styles = [\"font-size\", \"font-style\", \"font-weight\", \"font-family\", \"line-height\", \"text-transform\", \"letter-spacing\"];\n\n        for (_i = 0, _len = styles.length; _i < _len; _i++) {\n          style = styles[_i];\n          style_block += style + \":\" + this.search_field.css(style) + \";\";\n        }\n\n        div = $$1(\"<div></div>\", {\n          \"style\": style_block\n        });\n        div.text(this.search_field.val());\n        $$1(\"body\").append(div);\n        w = div.width() + 25;\n        div.remove();\n\n        if (!this.f_width) {\n          this.f_width = this.container.outerWidth();\n        }\n\n        if (w > this.f_width - 10) {\n          w = this.f_width - 10;\n        }\n\n        return this.search_field.css({\n          \"width\": w + \"px\"\n        });\n      }\n    };\n\n    Chosen.prototype.generate_random_id = function () {\n      var string;\n      string = \"sel\" + this.generate_random_char() + this.generate_random_char() + this.generate_random_char();\n\n      while ($$1(\"#\" + string).length > 0) {\n        string += this.generate_random_char();\n      }\n\n      return string;\n    };\n\n    return Chosen;\n  }(AbstractChosen);\n\n  root.Chosen = Chosen;\n}).call($);\n","import $ from 'jquery';\n\n/**\n * There are following local modifications:\n * - Author: Uzi Kilon ukilon@okta.com\n *   Bug: OKTA-20830 - solves the conflict when there are multiple labels\n */\n\n/**\n * --------------------------------------------------------------------\n * jQuery customInput plugin\n * Author: Maggie Costello Wachs maggie@filamentgroup.com, Scott Jehl, scott@filamentgroup.com\n * Copyright (c) 2009 Filament Group\n * licensed under MIT (filamentgroup.com/examples/mit-license.txt)\n * --------------------------------------------------------------------\n*/\n(function () {\n  var jQuery = $;\n\n  var $$1 = jQuery;\n\n  jQuery.fn.customInput = function () {\n    return $$1(this).each(function () {\n      if ($$1(this).is('[type=checkbox],[type=radio]')) {\n        var input = $$1(this); // get the associated label using the input's id\n\n        var label = input.siblings('label[for=\"' + input.attr('id') + '\"]:first');\n\n        if (!label.length) {\n          label = input.closest('label[for=\"' + input.attr('id') + '\"]:first');\n        } // wrap the input + label in a div\n\n\n        input.add(label).wrapAll('<div class=\"custom-' + input.attr('type') + '\"></div>'); // necessary for browsers that don't support the :hover pseudo class on labels\n\n        label.hover(function () {\n          $$1(this).addClass('hover');\n        }, function () {\n          $$1(this).removeClass('hover');\n        }); //bind custom event, trigger it, bind click,focus,blur events\n\n        input.bind('updateState', function () {\n          input.is(':checked') ? label.addClass('checked') : label.removeClass('checked checkedHover checkedFocus');\n        }).trigger('updateState').click(function () {\n          $$1('input[name=\"' + $$1(this).attr('name') + '\"]').trigger('updateState');\n        }).focus(function () {\n          label.addClass('focus');\n\n          if (input.is(':checked')) {\n            $$1(this).addClass('checkedFocus');\n          }\n        }).blur(function () {\n          label.removeClass('focus checkedFocus');\n        });\n      }\n    });\n  };\n})();\n","import $ from 'jquery';\n\n/*! http://mths.be/placeholder v2.0.7 by @mathias */\n\n(function () {\n  var $$1 = $;\n\n  var isInputSupported = ('placeholder' in document.createElement('input')),\n      isTextareaSupported = ('placeholder' in document.createElement('textarea')),\n      prototype = $$1.fn,\n      valHooks = $$1.valHooks,\n      hooks,\n      placeholder;\n\n  if (isInputSupported && isTextareaSupported) {\n    placeholder = prototype.placeholder = function () {\n      return this;\n    };\n\n    placeholder.input = placeholder.textarea = true;\n  } else {\n    placeholder = prototype.placeholder = function () {\n      var $this = this;\n      $this.filter((isInputSupported ? 'textarea' : ':input') + '[placeholder]').not('.placeholder').bind({\n        'focus.placeholder': clearPlaceholder,\n        'blur.placeholder': setPlaceholder\n      }).data('placeholder-enabled', true).trigger('blur.placeholder');\n      return $this;\n    };\n\n    placeholder.input = isInputSupported;\n    placeholder.textarea = isTextareaSupported;\n    hooks = {\n      'get': function (element) {\n        var $element = $$1(element);\n        return $element.data('placeholder-enabled') && $element.hasClass('placeholder') ? '' : element.value;\n      },\n      'set': function (element, value) {\n        var $element = $$1(element);\n\n        if (!$element.data('placeholder-enabled')) {\n          return element.value = value;\n        }\n\n        if (value == '') {\n          element.value = value; // Issue #56: Setting the placeholder causes problems if the element continues to have focus.\n\n          if (element != document.activeElement) {\n            // We can't use `triggerHandler` here because of dummy text/password inputs :(\n            setPlaceholder.call(element);\n          }\n        } else if ($element.hasClass('placeholder')) {\n          clearPlaceholder.call(element, true, value) || (element.value = value);\n        } else {\n          element.value = value;\n        } // `set` can not return `undefined`; see http://jsapi.info/jquery/1.7.1/val#L2363\n\n\n        return $element;\n      }\n    };\n    isInputSupported || (valHooks.input = hooks);\n    isTextareaSupported || (valHooks.textarea = hooks);\n    $$1(function () {\n      // Look for forms\n      $$1(document).delegate('form', 'submit.placeholder', function () {\n        // Clear the placeholder values so they don't get submitted\n        var $inputs = $$1('.placeholder', this).each(clearPlaceholder);\n        setTimeout(function () {\n          $inputs.each(setPlaceholder);\n        }, 10);\n      });\n    }); // Clear placeholder values upon page reload\n\n    $$1(window).bind('beforeunload.placeholder', function () {\n      $$1('.placeholder').each(function () {\n        this.value = '';\n      });\n    });\n  }\n\n  function args(elem) {\n    // Return an object of element attributes\n    var newAttrs = {},\n        rinlinejQuery = /^jQuery\\d+$/;\n    $$1.each(elem.attributes, function (i, attr) {\n      if (attr.specified && !rinlinejQuery.test(attr.name)) {\n        newAttrs[attr.name] = attr.value;\n      }\n    });\n    return newAttrs;\n  }\n\n  function clearPlaceholder(event, value) {\n    var input = this,\n        $input = $$1(input);\n\n    if (input.value == $input.attr('placeholder') && $input.hasClass('placeholder')) {\n      if ($input.data('placeholder-password')) {\n        $input = $input.hide().next().show().attr('id', $input.removeAttr('id').data('placeholder-id')); // If `clearPlaceholder` was called from `$.valHooks.input.set`\n\n        if (event === true) {\n          return $input[0].value = value;\n        }\n\n        $input.focus();\n      } else {\n        input.value = '';\n        $input.removeClass('placeholder');\n        input == document.activeElement && input.select();\n      }\n    }\n  }\n\n  function setPlaceholder() {\n    var $replacement,\n        input = this,\n        $input = $$1(input),\n        id = this.id;\n\n    if (input.value == '') {\n      if (input.type == 'password') {\n        if (!$input.data('placeholder-textinput')) {\n          try {\n            $replacement = $input.clone().attr({\n              'type': 'text'\n            });\n          } catch (e) {\n            $replacement = $$1('<input>').attr($$1.extend(args(this), {\n              'type': 'text'\n            }));\n          }\n\n          $replacement.removeAttr('name').data({\n            'placeholder-password': true,\n            'placeholder-id': id\n          }).bind('focus.placeholder', clearPlaceholder);\n          $input.data({\n            'placeholder-textinput': $replacement,\n            'placeholder-id': id\n          }).before($replacement);\n        }\n\n        $input = $input.removeAttr('id').hide().prev().attr('id', id).show(); // Note: `$input[0] != input` now!\n      }\n\n      $input.addClass('placeholder');\n      $input[0].value = $input.attr('placeholder');\n    } else {\n      $input.removeClass('placeholder');\n    }\n  }\n})();\n","import ListView from '../framework/ListView.js';\nimport BaseView from './BaseView.js';\n\n/**\n * See {@link src/framework/ListView} for more detail and examples from the base class.\n * @class module:Okta.ListView\n * @extends src/framework/ListView\n * @mixes module:Okta.View\n */\n\nvar Backbone_ListView = BaseView.decorate(ListView);\n\nexport { Backbone_ListView as default };\n","import Backbone from '../vendor/lib/backbone.js';\nimport oktaUnderscore from '../util/underscore-wrapper.js';\nimport FrameworkView from '../framework/View.js';\nimport TemplateUtil from '../util/TemplateUtil.js';\n\nconst eventBus = oktaUnderscore.clone(Backbone.Events); // add `broadcast` and `listen` functionality to all views\n// We use one event emitter per all views\n// This means we need to be very careful with event names\n\n\nconst proto = {\n  constructor: function (options, ...rest) {\n    FrameworkView.call(this, options, ...rest);\n    this.module && this.$el.attr('data-view', this.module.id);\n  },\n\n  /**\n   * @deprecated Use {@link #removeChildren}\n   */\n  empty: function () {\n    return this.removeChildren();\n  },\n  compileTemplate: TemplateUtil.tpl,\n\n  /**\n   *\n   * Broadcasts a global event that all views and controllers can subscribe to\n   * for framework use only - prefer using a shared model\n   *\n   * @param {String} eventName A unique identifier for the event\n   * @param {...String} param Parameter to pass with the event (can pass more than one parameter)\n   * @deprecated For internal use only\n   * @private\n   */\n  broadcast: function () {\n    eventBus.trigger.apply(eventBus, arguments);\n    return this;\n  },\n\n  /**\n   * Subscribe to broadcast events\n   * for framework use only - prefer using a shared model\n   *\n   * @param {String} eventName The event identifier to subscribe\n   * @param {Function} fn The callback function to invoke\n   * @deprecated For internal use only\n   * @private\n   */\n  listen: function (name, fn) {\n    eventBus.off(name, fn);\n    this.listenTo(eventBus, name, fn);\n    return this;\n  },\n\n  /**\n   * Shows a notification box\n   * @param {String} level success / warning / error\n   * @param {String} message The message to display\n   * @param {Object} [options]\n   * @param {Number} [options.width] Set a custom width\n   * @param {String} [options.title] Set a custom title\n   * @param {Boolean} [options.hide=true] Do we want to auto-hide this notification?\n   * @param {Boolean} [options.dismissable] Show a dismiss button\n   * @example\n   * view.notify('success', 'Group created successfully');\n   */\n  notify: function (level, message, options) {\n    this.broadcast('notification', oktaUnderscore.defaults({\n      message: message,\n      level: level\n    }, options));\n    return this;\n  },\n\n  /**\n   * Shows a confirmation dialog\n   *\n   * Uses https://www.ericmmartin.com/projects/simplemodal/.\n   * If you want to configure the simplemodal options use ConfirmationDialog instead.\n   *\n   * The main difference between this and the native javascript `confirm` method\n   * Is this method is non blocking (note the callback pattern).\n   *\n   * The callback function will run in the context (`this`) of the invoking view.\n   *\n   * @param {String} [title] The title of the confirmation dialog\n   * @param {String} [message] The message of the confirmation dialog\n   * @param {Function} [okfn] The callback to run when the user hits \"OK\" (runs in the context of the invoking view)\n   * @param {Function} [cancelfn] The callback to run when the user hits \"Cancel\"\n   *        (runs in the context of the invoking view)\n   * @example\n   * view.confirm('Delete Group', 'Are you sure you want to delete the selected group?', function () {\n   *   model.destroy();\n   * });\n   *\n   * // title will be auto-set to \"Okta\"\n   * view.confirm('Are you sure you want to delete the selected group?', function () {\n   *   model.destroy();\n   * });\n   *\n   * view.confirm({\n   *   title: 'Delete Group', //=> Modal title\n   *   subtitle: 'Are you sure you want to delete the selected group?', //=> Modal subtitle\n   *   content: '<h3 color=\"red\">THIS WILL DELETE THE GROUP!</h3>', //=> A template or a view to add to the modal\n   *   save: 'Delete Group', //=> Button label\n   *   ok: _.bind(model.save, model) // Callback function on hitting \"ok\" button\n   *   cancel: 'Cancel', //=> Button label\n   *   cancelFn: _.bind(model.destroy, model) // Callback function on hitting \"cancel\" button\n   * });\n   */\n  confirm: function (title, message, okfn, cancelfn) {\n    let options;\n    /* eslint max-statements: [2, 12] */\n\n    if (typeof title === 'object') {\n      options = title;\n    } else {\n      // eslint-disable-next-line no-lonely-if\n      if (arguments.length === 2 && oktaUnderscore.isFunction(message)) {\n        options = {\n          title: 'Okta',\n          // eslint-disable-line @okta/okta/no-unlocalized-text\n          subtitle: title,\n          ok: message\n        };\n      } else {\n        options = {\n          title: title,\n          subtitle: message,\n          ok: okfn,\n          cancelFn: cancelfn\n        };\n      }\n    }\n\n    if (oktaUnderscore.isFunction(options.ok)) {\n      options.ok = oktaUnderscore.bind(options.ok, this);\n    }\n\n    if (oktaUnderscore.isFunction(options.cancelFn)) {\n      options.cancelFn = oktaUnderscore.bind(options.cancelFn, this);\n    }\n\n    this.broadcast('confirmation', options);\n    return this;\n  },\n\n  /**\n   * Shows an alert box\n   *\n   * The main difference between this and the native javascript `alert` method\n   * Is this method is non blocking.\n   *\n   * @param {String} message The message\n   * @example\n   * view.alert('Mission complete');\n   */\n  alert: function (params) {\n    if (oktaUnderscore.isString(params)) {\n      params = {\n        subtitle: params\n      };\n    }\n\n    this.confirm(oktaUnderscore.extend({}, params, {\n      noCancelButton: true\n    }));\n    return this;\n  }\n};\n/**\n * See {@link src/framework/View} for more detail and examples from the base class.\n * @class module:Okta.View\n * @extends src/framework/View\n */\n\n/** @lends module:Okta.View.prototype */\n\nvar BaseView = FrameworkView.extend(proto,\n/** @lends View.prototype */\n{\n  /** @method */\n  decorate: function (TargetView) {\n    const BaseViewView = TargetView.extend({});\n\n    oktaUnderscore.defaults(BaseViewView.prototype, proto);\n\n    return BaseViewView;\n  }\n});\n\nexport { BaseView as default };\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport ViewUtil from '../../util/ViewUtil.js';\nimport BaseView from '../BaseView.js';\n\nconst disabledEvents = {\n  click: function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n};\n/**\n * A configurable button\n * @class module:Okta.internal.views.components.BaseButtonLink\n * @extends module:Okta.View\n * @example\n * var View = BaseButtonLink.extend({\n *   title: 'Click Me',\n *   icon: 'help-text'\n * })\n */\n\nvar BaseButtonLink = BaseView.extend(\n/** @lends module:Okta.internal.views.components.BaseButtonLink.prototype */\n{\n  attributes: function () {\n    const defaultAttrs = {\n      'data-se': 'button'\n    };\n\n    const additionalAttr = this.__getAttribute('attrs');\n\n    return oktaUnderscore.extend(defaultAttrs, additionalAttr);\n  },\n\n  /**\n   * The main text for the button\n   * @name title\n   * @memberof module:Okta.internal.views.components.BaseButtonLink\n   * @type {(String|Function)}\n   * @instance\n   */\n\n  /**\n   * The link for the button\n   * @name href\n   * @memberof module:Okta.internal.views.components.BaseButtonLink\n   * @type {(String|Function)}\n   * @instance\n   */\n\n  /**\n   * CSS class for the icon to display. See [Style guide](http://rain.okta1.com:1802/su/dev/style-guide#icons)\n   * @name icon\n   * @memberof module:Okta.internal.views.components.BaseButtonLink\n   * @type {(String|Function)}\n   * @instance\n   */\n\n  /**\n   * A [Backbone events](http://backbonejs.org/#View-delegateEvents) hash\n   * @name events\n   * @memberof module:Okta.internal.views.components.BaseButtonLink\n   * @type {Object}\n   * @instance\n   */\n  tagName: 'a',\n  template: _Handlebars2.template({\n    \"1\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<span class=\\\"icon \" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"icon\") || (depth0 != null ? lookupProperty(depth0, \"icon\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"icon\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 30\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 38\n          }\n        }\n      }) : helper)) + \"\\\"></span>\";\n    },\n    \"3\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"title\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 67\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 76\n          }\n        }\n      }) : helper));\n    },\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"icon\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(1, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 0\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 54\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"title\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(3, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 54\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 83\n          }\n        }\n      })) != null ? stack1 : \"\");\n    },\n    \"useData\": true\n  }),\n\n  /**\n   * Make this button visible, default to true.\n   * @type {(Boolean|Function)}\n   * @default true\n   */\n  visible: true,\n\n  /**\n   * Make this button enabled, default to true.\n   * @type {(Boolean|Function)}\n   * @default true\n   */\n  enabled: true,\n\n  /**\n   * The setting to determine when the button is enabled, default to {} and\n   * enabled takes a higher priority.\n   * @type {(Object|Function)}\n   * @default {}\n   */\n  enableWhen: {},\n\n  /**\n   * The setting to determine when the button is visible, default to {} and\n   * visible takes a higher priority.\n   * @type {(Object|Function)}\n   * @default {}\n   */\n  showWhen: {},\n  constructor: function (options) {\n    this.options = options || {};\n    const data = this.getTemplateData();\n    this.disabled = false;\n    BaseView.apply(this, arguments);\n    this.$el.addClass('link-button');\n\n    if (data.icon) {\n      this.$el.addClass('link-button-icon');\n\n      if (!data.title) {\n        this.$el.addClass('icon-only');\n      }\n    }\n  },\n  getTemplateData: function () {\n    return {\n      href: this.__getAttribute('href'),\n      title: this.__getAttribute('title'),\n      icon: this.__getAttribute('icon')\n    };\n  },\n  initialize: function () {\n    ViewUtil.applyDoWhen(this, oktaUnderscore.resultCtx(this, 'enableWhen', this), this.toggle);\n    ViewUtil.applyDoWhen(this, oktaUnderscore.resultCtx(this, 'showWhen', this), this.toggleVisible);\n  },\n  render: function () {\n    BaseView.prototype.render.apply(this, arguments);\n\n    if (!oktaUnderscore.result(this, 'enabled')) {\n      this.toggle(false);\n    }\n\n    if (!oktaUnderscore.result(this, 'visible')) {\n      this.toggleVisible(false);\n    }\n\n    const data = this.getTemplateData();\n    this.$el.attr('href', data.href || '#');\n    return this;\n  },\n  __getAttribute: function (name, defaultValue) {\n    let value = oktaUnderscore.resultCtx(this.options, name, this);\n\n    if (oktaUnderscore.isUndefined(value)) {\n      value = oktaUnderscore.result(this, name);\n    }\n\n    return !oktaUnderscore.isUndefined(value) ? value : defaultValue;\n  },\n  enable: function () {\n    this.toggle(true);\n  },\n  disable: function () {\n    this.toggle(false);\n  },\n  show: function () {\n    this.toggleVisible(true);\n  },\n  hide: function () {\n    this.toggleVisible(false);\n  },\n  toggle: function (enable) {\n    const bool = !!enable && oktaUnderscore.result(this, 'enabled'); //this is to toggle the enability\n\n\n    this.disabled = !bool;\n    this.$el.toggleClass('link-button-disabled btn-disabled disabled', this.disabled);\n    this.delegateEvents(this.disabled ? disabledEvents : null);\n  },\n  toggleVisible: function (visible) {\n    const hidden = !visible || !oktaUnderscore.result(this, 'visible');\n    this.$el.toggleClass('hide', hidden);\n  }\n});\n\nexport { BaseButtonLink as default };\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport BaseView from '../BaseView.js';\n\nconst optionsTemplate = _Handlebars2.template({\n  \"1\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<span class=\\\"icon \" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"icon\") || (depth0 != null ? lookupProperty(depth0, \"icon\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"icon\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 96\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 104\n        }\n      }\n    }) : helper)) + \"\\\"></span>\";\n  },\n  \"3\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 133\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 142\n        }\n      }\n    }) : helper));\n  },\n  \"5\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<p class=\\\"option-subtitle\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"subtitle\") || (depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"subtitle\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 192\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 204\n        }\n      }\n    }) : helper)) + \"</p>\";\n  },\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<a href=\\\"\\\" class=\\\"icon-16 \" + alias4((helper = (helper = lookupProperty(helpers, \"className\") || (depth0 != null ? lookupProperty(depth0, \"className\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"className\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 26\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 39\n        }\n      }\n    }) : helper)) + \"\\\" data-se=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"seleniumId\") || (depth0 != null ? lookupProperty(depth0, \"seleniumId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"seleniumId\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 50\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 64\n        }\n      }\n    }) : helper)) + \"\\\">\" + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"icon\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(1, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 66\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 120\n        }\n      }\n    })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"title\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(3, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 120\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 149\n        }\n      }\n    })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(5, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 149\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 215\n        }\n      }\n    })) != null ? stack1 : \"\") + \"</a>\";\n  },\n  \"useData\": true\n});\n\nconst BaseDropDownDropDownOption = BaseView.extend({\n  tagName: 'li',\n  events: {\n    click: function (e) {\n      e.preventDefault();\n      this.action && this.action.call(this);\n    }\n  },\n  constructor: function () {\n    BaseView.apply(this, arguments);\n    this.$el.addClass('okta-dropdown-option option');\n  },\n  render: function () {\n    this.$el.html(optionsTemplate({\n      icon: oktaUnderscore.result(this, 'icon'),\n      className: oktaUnderscore.result(this, 'className') || '',\n      title: oktaUnderscore.result(this, 'title'),\n      subtitle: oktaUnderscore.result(this, 'subtitle'),\n      seleniumId: oktaUnderscore.result(this, 'seleniumId')\n    }));\n\n    if (oktaUnderscore.result(this, 'disabled')) {\n      this.disable();\n    }\n\n    return this;\n  },\n  disable: function () {\n    this.$el.addClass('option-disabled');\n    this.$el.find('a').attr('tabindex', '-1');\n  }\n});\nvar BaseDropDown = BaseView.extend({\n  events: {\n    'click a.option-selected': function (e) {\n      e.preventDefault();\n\n      if (oktaUnderscore.result(this, 'disabled')) {\n        e.stopPropagation();\n      }\n    },\n    'click .dropdown-disabled': function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  },\n  items: [],\n  constructor: function () {\n    const className = this.className; // In this very specific case we want to NOT append className to $el\n    // but to the <a> tag in the template\n    // so we want to disable backbone default functionality.\n\n    this.className = null;\n    BaseView.apply(this, arguments);\n    this.className = className;\n    this.$el.addClass('dropdown more-actions float-l');\n\n    oktaUnderscore.each(oktaUnderscore.result(this, 'items'), function (option) {\n      this.addOption(option, this.options);\n    }, this);\n  },\n  template: _Handlebars2.template({\n    \"1\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<span class=\\\"icon \" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"icon\") || (depth0 != null ? lookupProperty(depth0, \"icon\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"icon\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 176\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 184\n          }\n        }\n      }) : helper)) + \"\\\"></span>\";\n    },\n    \"3\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<span class=\\\"off-screen\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"screenReaderText\") || (depth0 != null ? lookupProperty(depth0, \"screenReaderText\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"screenReaderText\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 249\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 269\n          }\n        }\n      }) : helper)) + \"</span>\";\n    },\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          helper,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          alias2 = container.hooks.helperMissing,\n          alias3 = \"function\",\n          alias4 = container.escapeExpression,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<a href=\\\"#\\\" class=\\\"link-button \" + alias4((helper = (helper = lookupProperty(helpers, \"className\") || (depth0 != null ? lookupProperty(depth0, \"className\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"className\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 31\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 44\n          }\n        }\n      }) : helper)) + \" link-button-icon option-selected center\\\" aria-expanded=\\\"false\\\" aria-controls=\\\"okta-dropdown-options\\\">\" + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"icon\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(1, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 146\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 200\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"screenReaderText\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(3, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 200\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 283\n          }\n        }\n      })) != null ? stack1 : \"\") + \"<span class=\\\"option-selected-text\\\">\" + alias4((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"title\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 318\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 327\n          }\n        }\n      }) : helper)) + \"</span><span class=\\\"icon-dm\\\"></span></a><div id=\\\"okta-dropdown-options\\\" class=\\\"options clearfix\\\" style=\\\"display: none;\\\"><ul class=\\\"okta-dropdown-list options-wrap clearfix\\\"></ul></div>\";\n    },\n    \"useData\": true\n  }),\n  getTemplateData: function () {\n    const className = [oktaUnderscore.result(this, 'className') || '', oktaUnderscore.result(this, 'disabled') ? 'dropdown-disabled' : ''];\n    return {\n      icon: oktaUnderscore.result(this, 'icon'),\n      className: oktaJQueryStatic.trim(className.join(' ')),\n      title: oktaUnderscore.result(this, 'title'),\n      screenReaderText: oktaUnderscore.result(this, 'screenReaderText')\n    };\n  },\n  addOption: function (proto, options) {\n    this.add(BaseDropDownDropDownOption.extend(proto), 'ul.options-wrap', {\n      options: options || {}\n    });\n  }\n});\n\nexport { BaseDropDown as default };\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport Time from '../../util/Time.js';\nimport BaseView from '../BaseView.js';\n\nfunction getOption(callout, option) {\n  return oktaUnderscore.resultCtx(callout.options, option, callout) || oktaUnderscore.result(callout, option);\n}\n\nfunction getTopClass(callout) {\n  let klass = 'infobox clearfix infobox-' + getOption(callout, 'type');\n\n  switch (getOption(callout, 'size')) {\n    case 'standard':\n      klass += '';\n      break;\n\n    case 'slim':\n      klass += ' infobox-slim';\n      break;\n\n    case 'compact':\n      klass += ' infobox-compact';\n      break;\n\n    case 'large':\n      klass += ' infobox-md';\n      break;\n  }\n\n  if (getOption(callout, 'dismissible')) {\n    klass += ' infobox-dismiss';\n  }\n\n  return klass;\n}\n\nconst events = {\n  'click .infobox-dismiss-link': function (e) {\n    e.preventDefault();\n    this.$el.fadeOut(Time.UNLOADING_FADE, () => {\n      this.trigger('dismissed');\n      this.remove();\n    });\n  }\n};\n\nconst template = _Handlebars2.template({\n  \"1\": function (container, depth0, helpers, partials, data) {\n    var lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<a data-se=\\\"dismiss-link\\\" class=\\\"infobox-dismiss-link\\\" title=\\\"\" + container.escapeExpression((lookupProperty(helpers, \"i18n\") || depth0 && lookupProperty(depth0, \"i18n\") || container.hooks.helperMissing).call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"i18n\",\n      \"hash\": {\n        \"bundle\": \"courage\",\n        \"code\": \"component.dismiss\"\n      },\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 81\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 131\n        }\n      }\n    })) + \"\\\" href=\\\"#\\\"><span data-se=\\\"icon\\\" class=\\\"dismiss-icon\\\"></span></a>\";\n  },\n  \"3\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<h3 data-se=\\\"header\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 286\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 295\n        }\n      }\n    }) : helper)) + \"</h3>\";\n  },\n  \"5\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<p data-se=\\\"sub-header\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"subtitle\") || (depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"subtitle\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 347\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 359\n        }\n      }\n    }) : helper)) + \"</p>\";\n  },\n  \"7\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<ul data-se=\\\"list\\\" class=\\\"bullets\\\">\" + ((stack1 = lookupProperty(helpers, \"each\").call(depth0 != null ? depth0 : container.nullContext || {}, depth0 != null ? lookupProperty(depth0, \"bullets\") : depth0, {\n      \"name\": \"each\",\n      \"hash\": {},\n      \"fn\": container.program(8, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 420\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 483\n        }\n      }\n    })) != null ? stack1 : \"\") + \"</ul>\";\n  },\n  \"8\": function (container, depth0, helpers, partials, data) {\n    return \"<li data-se=\\\"list-item\\\">\" + container.escapeExpression(container.lambda(depth0, depth0)) + \"</li>\";\n  },\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"dismissible\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(1, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 0\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 202\n        }\n      }\n    })) != null ? stack1 : \"\") + \"<span data-se=\\\"icon\\\" class=\\\"icon \" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"icon\") || (depth0 != null ? lookupProperty(depth0, \"icon\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(alias1, {\n      \"name\": \"icon\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 235\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 243\n        }\n      }\n    }) : helper)) + \"\\\"></span>\" + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"title\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(3, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 252\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 307\n        }\n      }\n    })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(5, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 307\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 370\n        }\n      }\n    })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"bullets\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(7, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 370\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 495\n        }\n      }\n    })) != null ? stack1 : \"\");\n  },\n  \"useData\": true\n});\n\nconst CalloutCallout = BaseView.extend(\n/** @lends src/views/components/Callout.prototype */\n{\n  attributes: {\n    'data-se': 'callout'\n  },\n\n  /**\n   * Custom HTML or view to inject to the callout\n   * @type {String|Okta.View}\n   */\n  content: null,\n\n  /**\n   * Size of icon. options are standard, large, compact\n   * @type {String}\n   */\n  size: 'standard',\n\n  /**\n   * Type of the callout. Valid values are: info, success, warning, error, tip\n   * @type {String}\n   */\n  type: 'info',\n\n  /**\n   * Can the callout be dismissed\n   * @type {Boolean}\n   */\n  dismissible: false,\n\n  /**\n   * Callout title\n   * @type {String}\n   */\n  title: null,\n\n  /**\n   * Callout subtitle\n   * @type {String}\n   */\n  subtitle: null,\n\n  /**\n   * Array of strings to render as bullet points\n   * @type {Array}\n   */\n  bullets: null,\n\n  /**\n   * Fired after the callout is dismised - applies when\n   * {@link module:Okta.internal.views.components.Callout|dismissible} is set to true\n   * @event src/views/components/Callout#dismissed\n   */\n  constructor: function () {\n    this.events = oktaUnderscore.defaults(this.events || {}, events);\n    BaseView.apply(this, arguments);\n    this.$el.addClass(getTopClass(this));\n    this.template = template;\n    const content = getOption(this, 'content');\n\n    if (content) {\n      this.add(content);\n    }\n  },\n  getTemplateData: function () {\n    let icon = getOption(this, 'type');\n    const size = getOption(this, 'size');\n\n    if (icon === 'tip') {\n      // css is inconsistent\n      icon = 'light-bulb';\n    }\n\n    switch (size) {\n      case 'slim':\n        icon = '';\n        break;\n\n      case 'large':\n        icon = [icon, '-', '24'].join('');\n        break;\n\n      default:\n        icon = [icon, '-', '16'].join('');\n    }\n\n    return {\n      icon: icon,\n      title: getOption(this, 'title'),\n      subtitle: getOption(this, 'subtitle'),\n      bullets: getOption(this, 'bullets'),\n      dismissible: getOption(this, 'dismissible')\n    };\n  }\n});\n/**\n * @class src/views/components/Callout\n * @extends module:Okta.View\n */\n\n/**\n * @class module:Okta.internal.views.components.Callout\n */\n\nvar Callout = /** @lends module:Okta.internal.views.components.Callout */\n{\n  /**\n   * Creates a {@link src/views/components/Callout|Callout}.\n   * @static\n   * @param {Object} options\n   * @param {String|Function} [options.size] Size of icon. options are standard, large, compact, slim\n   * @param {String|Okta.View} [options.content] Custom HTML or view to inject to the callout\n   * @param {String|Function} [options.title] Callout title\n   * @param {String|Function} [options.subtitle] Callout subtitle\n   * @param {Array|Function} [options.bullets] Array of strings to render as bullet points\n   * @param {Boolean|Function} [options.dismissible] Can the callout be dismissed\n   * @param {String|Function} [options.type] Callout type. Valid values are: info, success, warning, error, tip\n   *\n   * @return {src/views/components/Callout}\n   */\n  create: function (options) {\n    return new CalloutCallout(options);\n  }\n};\n\nexport { Callout as default };\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport BaseView from '../BaseView.js';\nimport StringUtil from '../../util/StringUtil.js';\n\nconst defaults = {\n  level: 'success',\n  hide: true,\n  fade: 400,\n  delay: 3000,\n  width: 0,\n  dismissable: false\n};\nvar Notification = BaseView.extend({\n  className: 'infobox infobox-confirm infobox-confirm-fixed',\n  events: {\n    'click .infobox-dismiss-link': function (e) {\n      e.preventDefault();\n      this.fadeOut();\n    }\n  },\n  template: _Handlebars2.template({\n    \"1\": function (container, depth0, helpers, partials, data) {\n      var lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<a class=\\\"infobox-dismiss-link\\\" title=\\\"\" + container.escapeExpression((lookupProperty(helpers, \"i18n\") || depth0 && lookupProperty(depth0, \"i18n\") || container.hooks.helperMissing).call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"i18n\",\n        \"hash\": {\n          \"bundle\": \"courage\",\n          \"code\": \"component.dismiss\"\n        },\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 58\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 108\n          }\n        }\n      })) + \"\\\" href=\\\"#\\\"><span class=\\\"dismiss-icon\\\"></span></a>\";\n    },\n    \"3\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<h3>\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"title\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 220\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 229\n          }\n        }\n      }) : helper)) + \"</h3>\";\n    },\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          helper,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          alias2 = container.hooks.helperMissing,\n          alias3 = \"function\",\n          alias4 = container.escapeExpression,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"dismissable\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(1, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 0\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 164\n          }\n        }\n      })) != null ? stack1 : \"\") + \"<span class=\\\"icon \" + alias4((helper = (helper = lookupProperty(helpers, \"level\") || (depth0 != null ? lookupProperty(depth0, \"level\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"level\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 182\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 191\n          }\n        }\n      }) : helper)) + \"-16\\\"></span>\" + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"title\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(3, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 203\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 241\n          }\n        }\n      })) != null ? stack1 : \"\") + \"<p>\" + alias4((helper = (helper = lookupProperty(helpers, \"message\") || (depth0 != null ? lookupProperty(depth0, \"message\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"message\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 244\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 255\n          }\n        }\n      }) : helper)) + \"</p>\";\n    },\n    \"useData\": true\n  }),\n  initialize: function () {\n    this.options = oktaUnderscore.defaults({}, this.options, defaults);\n\n    if (!this.options.message) {\n      switch (this.options.level) {\n        case 'success':\n          this.options.message = StringUtil.localize('notification.default.message.success', 'courage');\n          break;\n\n        case 'error':\n          this.options.message = StringUtil.localize('notification.default.message.error', 'courage');\n          break;\n\n        case 'warning':\n          this.options.message = StringUtil.localize('notification.default.message.warning', 'courage');\n          break;\n      }\n    }\n\n    this.$el.addClass('infobox-' + this.options.level);\n\n    if (this.options.width) {\n      this.$el.width(this.options.width);\n    }\n  },\n  getTemplateData: function () {\n    return oktaUnderscore.extend(oktaUnderscore.pick(this.options, 'level', 'message', 'title'), {\n      dismissable: this.options.hide === false || this.options.dismissable === true\n    });\n  },\n  postRender: function () {\n    if (this.options.hide) {\n      oktaUnderscore.delay(oktaUnderscore.bind(this.fadeOut, this), this.options.delay);\n    }\n  },\n  fadeOut: function () {\n    this.$el.fadeOut(this.options.fade, oktaUnderscore.bind(this.remove, this));\n  }\n});\n\nexport { Notification as default };\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport StringUtil from '../../util/StringUtil.js';\nimport BaseView from '../BaseView.js';\nimport ReadModeBar from './components/ReadModeBar.js';\nimport Toolbar from './components/Toolbar.js';\nimport ErrorBanner from './helpers/ErrorBanner.js';\nimport ErrorParser from './helpers/ErrorParser.js';\nimport FormUtil from './helpers/FormUtil.js';\nimport InputContainer from './helpers/InputContainer.js';\nimport InputFactory from './helpers/InputFactory.js';\nimport InputLabel from './helpers/InputLabel.js';\nimport InputWrapper from './helpers/InputWrapper.js';\nimport SettingsModel from '../../util/SettingsModel.js';\n\nconst template = _Handlebars2.template({\n  \"1\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<h2 class=\\\"o-form-title-bar\\\" data-se=\\\"o-form-title-bar\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 75\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 84\n        }\n      }\n    }) : helper)) + \"</h2>\";\n  },\n  \"3\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return (stack1 = lookupProperty(helpers, \"if\").call(depth0 != null ? depth0 : container.nullContext || {}, depth0 != null ? lookupProperty(depth0, \"title\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(4, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 192\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 288\n        }\n      }\n    })) != null ? stack1 : \"\";\n  },\n  \"4\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<h2 data-se=\\\"o-form-head\\\" class=\\\"okta-form-title o-form-head\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 267\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 276\n        }\n      }\n    }) : helper)) + \"</h2>\";\n  },\n  \"6\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<p class=\\\"okta-form-subtitle o-form-explain\\\" data-se=\\\"o-form-explain\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"subtitle\") || (depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"subtitle\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 385\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 397\n        }\n      }\n    }) : helper)) + \"</p>\";\n  },\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"hasReadMode\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(1, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 0\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 96\n        }\n      }\n    })) != null ? stack1 : \"\") + \"<div data-se=\\\"o-form-content\\\" class=\\\"o-form-content \" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"layout\") || (depth0 != null ? lookupProperty(depth0, \"layout\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(alias1, {\n      \"name\": \"layout\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 148\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 158\n        }\n      }\n    }) : helper)) + \" clearfix\\\">\" + ((stack1 = lookupProperty(helpers, \"unless\").call(alias1, depth0 != null ? lookupProperty(depth0, \"hasReadMode\") : depth0, {\n      \"name\": \"unless\",\n      \"hash\": {},\n      \"fn\": container.program(3, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 169\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 299\n        }\n      }\n    })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(6, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 299\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 408\n        }\n      }\n    })) != null ? stack1 : \"\") + \"<div class=\\\"o-form-error-container\\\" data-se=\\\"o-form-error-container\\\"></div><div class=\\\"o-form-fieldset-container\\\" data-se=\\\"o-form-fieldset-container\\\"></div></div>\";\n  },\n  \"useData\": true\n});\n\nconst sectionTitleTemplate = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<h2 class=\\\"o-form-head\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 24\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 33\n        }\n      }\n    }) : helper)) + \"</h2>\";\n  },\n  \"useData\": true\n});\n\nconst pointerEventsSupported = oktaJQueryStatic('<div>').css({\n  'pointer-events': 'auto'\n})[0].style.pointerEvents === 'auto'; // polyfill for `pointer-events: none;` in IE < 11\n// Logic borrowed from https://github.com/kmewhort/pointer_events_polyfill (BSD)\n\nfunction pointerEventsPolyfill(e) {\n  if (!pointerEventsSupported && this.$el.hasClass('o-form-saving')) {\n    const $el = oktaJQueryStatic(e.currentTarget);\n    $el.css('display', 'none');\n    const underneathElem = document.elementFromPoint(e.clientX, e.clientY);\n    $el.css('display', 'block');\n    e.target = underneathElem;\n    oktaJQueryStatic(underneathElem).trigger(e);\n    return false;\n  }\n}\n\nconst events = {\n  submit: function (e) {\n    e.preventDefault();\n\n    this.__save();\n  }\n};\n\noktaUnderscore.each(['click', 'dblclick', 'mousedown', 'mouseup'], function (event) {\n  events[event + ' .o-form-input'] = pointerEventsPolyfill;\n});\n\nconst attributes = function (model) {\n  model || (model = {});\n  const collection = model && model.collection || {};\n  return {\n    method: 'POST',\n    action: oktaUnderscore.result(model, 'urlRoot') || oktaUnderscore.result(collection, 'url') || window.location.pathname,\n    'data-se': 'o-form',\n    slot: 'content'\n  };\n};\n\nconst convertSavingState = function (rawSavingStateEvent, defaultEvent) {\n  rawSavingStateEvent || (rawSavingStateEvent = '');\n  let savingStateEvent = [];\n\n  if (oktaUnderscore.isString(rawSavingStateEvent)) {\n    savingStateEvent = rawSavingStateEvent.split(' ');\n  }\n\n  savingStateEvent = oktaUnderscore.union(savingStateEvent, defaultEvent);\n  return savingStateEvent.join(' ');\n};\n\nconst getErrorSummary = function (responseJSON = {}) {\n  if (Array.isArray(responseJSON.errorCauses) && responseJSON.errorCauses.length > 0) {\n    //set errorSummary from first errorCause which is not field specific error\n    return responseJSON.errorCauses[0].errorSummary;\n  } else {\n    //set errorSummary from top level errorSummary\n    return responseJSON.errorSummary;\n  }\n};\n/**\n * A Form utility framework\n *\n * Okta.Form is a form that operates on one flat model\n * It exposes one main factory method, {@link module:Okta.Form#addInput|addInput}, which add inputs to the form,\n * and each input operates on one field in the model, identified by the `name` field.\n *\n * See:\n * [Basic O-Form Tutorial](https://github.com/okta/courage/wiki/Basic-O-Form)\n *\n * @class module:Okta.Form\n * @extends module:Okta.View\n * @param {Object} options options hash (See {@link module:Okta.View|View})\n * @param {Object} options.model the model this form operates on\n * @param {Boolean} [options.label-top=false] position label on top of inputs\n * @param {Boolean} [options.wide=false] Use a wide input layout for all input\n */\n\n/**\n * Fired when the \"Save\" button is clicked\n * @event module:Okta.Form#save\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired after the model is successfully saved - applies when {@link module:Okta.Form#autoSave|autoSave}\n * is set to true\n * @event module:Okta.Form#saved\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired when the model fires an invalid event or an error event;\n * @event module:Okta.Form#error\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired when the form layout is likely to be resized\n * @event module:Okta.Form#resize\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired when the \"Cancel\" button is clicked\n * @event module:Okta.Form#cancel\n */\n\n\nvar BaseForm = BaseView.extend(\n/** @lends module:Okta.Form.prototype */\n{\n  /**\n   * Specifies how to validate form:\n   * - In case \"local\" string provided as a value of the property,\n   * the form will validate only fields added as inputs to the form;\n   * - In case array is provided, the validation will be performed only for fields specified in array;\n   * - In case function is provided, provided function will be used as a validation function,\n   * it must return an error object with the format {fieldName: 'error text'} with as many fields as you need.\n   * @name validate\n   * @memberof module:Okta.Form\n   * @type {String|Array|Function}\n   * @instance\n   */\n  constructor: function (options) {\n    /* eslint max-statements: 0, complexity: 0 */\n    options || (options = {});\n    this.options = options;\n\n    if (options.settings) {\n      this.settings = options.settings;\n    } else {\n      this.settings = options.settings = new SettingsModel();\n    }\n\n    this.id = oktaUnderscore.uniqueId('form');\n    this.tagName = 'form';\n\n    oktaUnderscore.defaults(this.events, events);\n\n    oktaUnderscore.defaults(this.attributes, attributes(options.model));\n\n    this.__buttons = [];\n    this.__errorFields = {};\n\n    this.__saveModelState(options.model);\n\n    const step = oktaUnderscore.result(this, 'step');\n\n    if (step) {\n      // checking exists of `this.save` hence don't have to change to\n      // `_.result(this, 'save')` which will execute the function and\n      // is not the intent.\n      if (!this.save) {\n        const totalStep = oktaUnderscore.result(this, 'totalSteps');\n\n        this.save = !totalStep || step === totalStep ? StringUtil.localize('oform.button.finish', 'courage') : StringUtil.localize('oform.button.next', 'courage');\n      }\n\n      this.className = oktaUnderscore.result(this, 'className') + ' wizard';\n    }\n\n    this.className = oktaUnderscore.result(this, 'className') + ' o-form';\n    this.__toolbar = this.__createToolbar(options);\n    BaseView.call(this, options);\n\n    oktaUnderscore.each(oktaUnderscore.result(this, 'inputs') || [], function (input) {\n      // to ingore extra argumests from `each` iteratee function\n      // http://underscorejs.org/#each\n      this.__addLayoutItem(input);\n    }, this);\n\n    this.add(this.__toolbar, ''); // NOTES: this.model shall be initialized after calling\n    // super (BaseView.call(this, options)) above.\n    //\n\n    this.listenTo(this.model, 'change:__edit__', this.__applyMode);\n    this.listenTo(this.model, 'invalid error', oktaUnderscore.throttle(function (model, resp, showBanner) {\n      this.__showErrors(model, resp, showBanner !== false);\n    }, 100, {\n      trailing: false\n    }));\n    this.listenTo(this.model, 'form:resize', function () {\n      this.trigger('resize');\n    });\n    this.listenTo(this.model, 'form:cancel', oktaUnderscore.throttle(this.__cancel, 100, {\n      trailing: false\n    }));\n    this.listenTo(this.model, 'form:previous', oktaUnderscore.throttle(this.__previous, 100, {\n      trailing: false\n    }));\n    this.__save = oktaUnderscore.throttle(this.__save, 200, {\n      trailing: false\n    });\n    this.listenTo(this.model, 'form:save', function () {\n      this.$el.submit();\n    });\n    this.listenTo(this.model, 'sync', function () {\n      if (this.model.get('__edit__')) {\n        this.model.set('__edit__', false, {\n          silent: true\n        });\n      }\n\n      this.__saveModelState(this.model);\n\n      this.render();\n    });\n    let hasSavingState = this.getAttribute('hasSavingState');\n\n    if (this.getAttribute('autoSave')) {\n      this.listenTo(this, 'save', function (model) {\n        const xhr = model.save();\n\n        if (xhr && xhr.done) {\n          xhr.done(() => {\n            this.trigger('saved', model);\n          });\n        }\n      });\n\n      if (oktaUnderscore.isUndefined(hasSavingState)) {\n        hasSavingState = true;\n      }\n    }\n    /*\n    * Attach model event listeners\n    * by default, model's request event starts the form saving state,\n    * error and sync event stops it\n    * you can define customized saving start and stop state, like\n    * customSavingState: {start: 'requestingAdditionalInfo', stop: 'retrievedAdditionalInfo'}\n    * doing this does not override the default events\n    */\n\n\n    if (hasSavingState) {\n      const customSavingState = this.getAttribute('customSavingState', {});\n      this.listenTo(this.model, convertSavingState(customSavingState.start || '', ['request']), this.__setSavingState);\n      this.listenTo(this.model, convertSavingState(customSavingState.stop || '', ['error', 'sync']), this.__clearSavingState);\n    }\n  },\n\n  /**\n   * Create the bottom button bar\n   * @param  {Object} options options h\n   * @return {Okta.View} The toolbar\n   * @private\n   */\n  __createToolbar: function (options) {\n    const danger = this.getAttribute('danger');\n    const saveBtnClassName = danger === true ? 'button-error' : 'button-primary';\n\n    const step = oktaUnderscore.result(this, 'step');\n\n    const toolbar = new Toolbar(oktaUnderscore.extend({\n      save: this.save || StringUtil.localize('oform.save', 'courage'),\n      saveId: this.saveId,\n      saveClassName: saveBtnClassName,\n      cancel: this.cancel || StringUtil.localize('oform.cancel', 'courage'),\n      noCancelButton: this.noCancelButton || false,\n      noSubmitButton: this.noSubmitButton || false,\n      buttonOrder: this.buttonOrder,\n      hasPrevStep: step && step > 1\n    }, options || this.options));\n\n    oktaUnderscore.each(this.__buttons, function (args) {\n      toolbar.addButton.apply(toolbar, args);\n    });\n\n    return toolbar;\n  },\n  className: '',\n  attributes: {},\n  events: {},\n\n  /**\n   * An array of input configurations to render in the form\n   * @type {Array}\n   */\n  inputs: [],\n  template: null,\n\n  /**\n   * Does the form support read/edit toggle.\n   * @type {Boolean|Function}\n   * @default false\n   */\n  read: false,\n\n  /**\n   * Is the form in readOnly mode.\n   * @type {Boolean|Function}\n   * @default false\n   */\n  readOnly: false,\n\n  /**\n   * Should we not render the button bar\n   * @type {Boolean|Function}\n   * @default false\n   */\n  noButtonBar: false,\n\n  /**\n   * Should we not render a cancel button\n   * @type {Boolean|Function}\n   * @default false\n   */\n  noCancelButton: false,\n\n  /**\n   * Should we not render a save button\n   * @type {Boolean}\n   * @default false\n   */\n  noSubmitButton: false,\n\n  /**\n   * Set the order of the save, cancel and previous buttons (left to right).\n   * @type {Array.<string>}\n   * @default ['previous', 'save', 'cancel']\n   */\n  buttonOrder: ['previous', 'save', 'cancel'],\n\n  /**\n   * The text on the save button\n   * @type {String}\n   * @default \"Save\"\n   */\n  save: null,\n\n  /**\n   * The text on the cancel button\n   * @type {String}\n   * @default \"Cancel\"\n   */\n  cancel: null,\n\n  /**\n   * To use button-error to style the submit button instead of button-primary.\n   * @type {Boolean|Function}\n   * @default false\n   */\n  danger: false,\n\n  /**\n   * A layout CSS class to add to the form\n   * @type {String|Function}\n   * @default \"\"\n   */\n  layout: '',\n\n  /**\n   * The step this form is in the context of a wizard\n   * @type {Number}\n   */\n  step: undefined,\n\n  /**\n   * The total numbers of steps the wizard this form is a part of has\n   * @type {Number}\n   */\n  totalSteps: undefined,\n\n  /**\n   * The form's title\n   * @type {String|Function}\n   */\n  title: null,\n\n  /**\n   * The form's subtitle\n   * @type {String|Function}\n   */\n  subtitle: null,\n\n  /**\n   * Auto-save the model when hitting save. Triggers a `saved` event when done\n   * @type {Boolean}\n   * @default false\n   */\n  autoSave: false,\n\n  /**\n   * Scroll to the top of the form on error\n   * @type {Boolean|Function}\n   * @default true\n   */\n  scrollOnError: true,\n\n  /**\n   * Show the error banner upon error\n   * @type {Boolean|Function}\n   * @default true\n   */\n  showErrors: true,\n\n  /**\n   * The form's scrollable area\n   * @type {String}\n   * @default \".o-form-content\"\n   */\n  resizeSelector: '.o-form-content',\n\n  /**\n   * Sets whether or not the form shows the saving state when\n   * the model is saved.  Has no effect on setSavingState and clearSavingState as those are manual calls\n   * to trigger/clear the saving state.\n   * @name hasSavingState\n   * @memberof module:Okta.Form\n   * @type {Boolean}\n   * @default false\n   * @instance\n   */\n\n  /**\n   * Get an attribute value from options or instance.\n   * Prefer options value over instance value\n   * @param  {String} name Name of the attribute\n   * @param  {Object} defaultValue the default value to return if the attribute is not found\n   * @return {Object} The value\n   */\n  getAttribute: function (name, defaultValue) {\n    let value = oktaUnderscore.resultCtx(this.options, name, this);\n\n    if (oktaUnderscore.isUndefined(value)) {\n      value = oktaUnderscore.result(this, name);\n    }\n\n    return !oktaUnderscore.isUndefined(value) ? value : defaultValue;\n  },\n\n  /**\n   * Does this form have a \"read\" mode\n   * @return {Boolean}\n   */\n  hasReadMode: function () {\n    return !!this.getAttribute('read');\n  },\n\n  /**\n   * Is this form in \"read only\" mode\n   * @return {Boolean}\n   */\n  isReadOnly: function () {\n    return !!this.getAttribute('readOnly');\n  },\n\n  /**\n   * Does this form have a button bar\n   * @return {Boolean}\n   */\n  hasButtonBar: function () {\n    return !(this.getAttribute('noButtonBar') || this.isReadOnly());\n  },\n  render: function () {\n    this.__readModeBar && this.__readModeBar.remove();\n\n    if (this.hasReadMode() && !this.isReadOnly()) {\n      const readModeBar = ReadModeBar.extend({\n        formTitle: this.getAttribute('title', '')\n      });\n      this.__readModeBar = this.add(readModeBar, '.o-form-title-bar').last();\n    }\n\n    const html = template({\n      layout: this.getAttribute('layout', ''),\n      title: this.getAttribute('title', '', true),\n      subtitle: this.getAttribute('subtitle', '', true),\n      hasReadMode: this.hasReadMode()\n    });\n    this.$el.html(html);\n    delete this.template;\n    BaseView.prototype.render.apply(this, arguments);\n\n    this.__applyMode();\n\n    return this;\n  },\n\n  /**\n   * Changes form UI to indicate saving.  Disables all inputs and buttons.  Use this function if you have set\n   * hasSavingState to false on the the form\n   * @private\n   */\n  __setSavingState: function () {\n    this.model.trigger('form:set-saving-state');\n    this.$el.addClass('o-form-saving');\n  },\n\n  /**\n   * Changes form UI back to normal from the saving state.  Use this function if you are have set hasSavingState\n   * to false on the form\n   * @private\n   */\n  __clearSavingState: function () {\n    this.model.trigger('form:clear-saving-state');\n    this.$el.removeClass('o-form-saving');\n  },\n\n  /**\n   * Toggles the visibility of the bottom button bar\n   * @private\n   */\n  __toggleToolbar: function () {\n    this.__toolbar && this.__toolbar.remove();\n\n    if (this.hasButtonBar() && this._editMode()) {\n      this.__toolbar = this.__createToolbar();\n      this.add(this.__toolbar, '');\n    }\n\n    this.trigger('resize');\n  },\n\n  /**\n   * Cancels this form\n   * - Reset the model to the previous state\n   * - Clears all errors\n   * - Triggers a `cancel` event\n   * - Sets the model to read mode (if applicable)\n   * @private\n   * @fires cancel\n   */\n  __cancel: function () {\n    const edit = this.model.get('__edit__');\n    /* eslint max-statements: [2, 12] */\n\n    this.model.clear({\n      silent: true\n    });\n    let data;\n\n    if (this.model.sanitizeAttributes) {\n      data = this.model.sanitizeAttributes(this.__originalModel);\n    } else {\n      data = oktaUnderscore.clone(this.__originalModel);\n    }\n\n    this.model.set(data, {\n      silent: true\n    });\n    this.trigger('cancel', this.model);\n    this.model.trigger('cache:clear');\n\n    if (edit) {\n      this.model.set('__edit__', false, {\n        silent: true\n      });\n      this.model.trigger('change:__edit__', this.model, false);\n    }\n\n    this.clearErrors();\n  },\n\n  /**\n   * Runs {@link module:Okta.Form#validate|validate} to check the model state.\n   * Triggers an \"invalid\" event on the model if validation fails\n   * @returns {Boolean}\n   */\n  isValid: function () {\n    let res;\n    const self = this;\n\n    function validateArray(arr) {\n      return oktaUnderscore.reduce(arr, function (memo, fieldName) {\n        return oktaUnderscore.extend(memo, self.model.validateField(fieldName));\n      }, {});\n    }\n\n    if (oktaUnderscore.isUndefined(this.validate)) {\n      return this.model.isValid();\n    } else if (oktaUnderscore.isFunction(this.validate)) {\n      res = this.validate();\n    } else if (oktaUnderscore.isArray(this.validate)) {\n      res = validateArray(this.validate);\n    } else if (this.validate === 'local') {\n      res = validateArray(this.getInputs().map(function (input) {\n        return input.options.name;\n      }));\n    }\n\n    if (!oktaUnderscore.isEmpty(res)) {\n      this.model.trigger('invalid', this.model, res);\n      return false;\n    } else {\n      return true;\n    }\n  },\n\n  /**\n   * A throttled function that saves the form not more than once every 100 ms\n   * Basically all this method does is trigger a `save` event\n   * @fires save\n   * @private\n   */\n  __save: function () {\n    this.clearErrors();\n\n    if (this.isValid()) {\n      this.trigger('save', this.model);\n    }\n  },\n\n  /**\n   * In the context of a wizard, go to previous state\n   * Technically all this method does is trigger a `previous` event\n   * @param  {Event} e\n   * @private\n   */\n  __previous: function () {\n    this.trigger('previous', this.model);\n  },\n\n  /**\n   * Renders the form in the correct mode based on the model.\n   * @private\n   */\n  __applyMode: function () {\n    this.clearErrors();\n\n    this.__toggleToolbar();\n\n    if (this._editMode()) {\n      this.$el.addClass('o-form-edit-mode');\n      this.$el.removeClass('o-form-read-mode');\n      this.$('.o-form-content').removeClass('rounded-btm-4');\n      this.focus();\n    } else {\n      this.$el.removeClass('o-form-edit-mode');\n      this.$el.addClass('o-form-read-mode');\n      this.$('.o-form-content').addClass('rounded-btm-4');\n    }\n  },\n\n  /**\n   * Is the form in edit mode\n   * @return {Boolean}\n   * @private\n   */\n  _editMode: function () {\n    return this.model.get('__edit__') || !this.hasReadMode();\n  },\n\n  /**\n   * Function can be overridden to alter top level error summary.\n   * @param {Object} responseJSON\n   *\n   * @example\n   * // responseJSON object\n   * {\n   *  errorCauses: [{errorSummary: \"At least one of Proxy Status, Location, or ASN should be configured.\"}]\n   *  errorSummary: \"At least one of Proxy Status, Location, or ASN should be configured.\"\n   *  errorCode: \"E0000001\"\n   *  errorId: \"oaepsrTCHrhT-eIi8XTm6KWWg\"\n   *  errorLink: \"E0000001\"\n   *  errorSummary: \"Api validation failed: networkZone\"\n   * }\n   *\n   * @method\n   * @default _.identity\n   */\n  parseErrorMessage: oktaUnderscore.identity,\n  _handleErrorScroll: function () {\n    if (!this.getAttribute('scrollOnError')) {\n      return;\n    }\n\n    const $el = oktaJQueryStatic('#' + this.id + ' .o-form-error-container');\n\n    if ($el.length) {\n      let $scrollContext = $el.scrollParent();\n      let scrollTop; // scrollParent was almost awesome...\n      // but it returns document if there are no other scrollable parents\n      // document does not have offset, so here we have to replace with html, body\n      // Additionally when the scroll context is html, body, $el.offset().top is fixed\n      // versus when it has a different scroll context it's dynamic and requires the\n      // calculation below.\n\n      if ($scrollContext[0] === document) {\n        $scrollContext = oktaJQueryStatic('html, body');\n        scrollTop = $el.offset().top;\n      } else {\n        scrollTop = $scrollContext.scrollTop() + $el.offset().top - $scrollContext.offset().top;\n      }\n\n      $scrollContext.animate({\n        scrollTop: scrollTop\n      }, 400);\n    }\n  },\n\n  /**\n   * Show an error message based on an XHR error\n   * @param  {Okta.BaseModel} model the model\n   * @param  {jqXHR} xhr The jQuery XmlHttpRequest Object\n   * @private\n   */\n  __showErrors: function (model, resp, showBanner) {\n    this.trigger('error', model);\n    /* eslint max-statements: 0 */\n\n    if (!this.getAttribute('showErrors')) {\n      return;\n    }\n\n    let errorSummary;\n    let responseJSON = ErrorParser.getResponseJSON(resp);\n    const validationErrors = ErrorParser.parseFieldErrors(resp); // trigger events for field validation errors\n\n    if (oktaUnderscore.size(validationErrors)) {\n      oktaUnderscore.each(validationErrors, function (errors, field) {\n        this.model.trigger('form:field-error', this.__errorFields[field] || field, oktaUnderscore.map(errors, function (error) {\n          return /^model\\.validation/.test(error) ? StringUtil.localize(error, 'courage') : error;\n        }));\n      }, this);\n    } else {\n      responseJSON = this.parseErrorMessage(responseJSON);\n      errorSummary = getErrorSummary(responseJSON);\n    } // show the error message\n\n\n    if (showBanner) {\n      this.$('.o-form-error-container').addClass('o-form-has-errors');\n      this.add(ErrorBanner, '.o-form-error-container', {\n        options: {\n          errorSummary: errorSummary\n        }\n      });\n    } // slide to and focus on the error message\n\n\n    this._handleErrorScroll();\n\n    this.model.trigger('form:resize');\n  },\n\n  /**\n   * Clears the error banner\n   * @private\n   */\n  clearErrors: function () {\n    this.$('.o-form-error-container').removeClass('o-form-has-errors');\n    this.model.trigger('form:clear-errors');\n    this.model.trigger('form:resize');\n  },\n\n  /**\n   * Toggles between edit and read mode\n   */\n  toggle: function () {\n    this.model.set('__edit__', !this.hasReadMode() || !this.model.get('__edit__'));\n    return this;\n  },\n  __addLayoutItem: function (input) {\n    if (InputFactory.supports(input)) {\n      this.addInput(input);\n    } else {\n      this.__addNonInputLayoutItem(input);\n    }\n  },\n  __addNonInputLayoutItem: function (item) {\n    const itemOptions = oktaUnderscore.omit(item, 'type');\n\n    switch (item.type) {\n      case 'sectionTitle':\n        this.addSectionTitle(item.title, oktaUnderscore.omit(itemOptions, 'title'));\n        break;\n\n      case 'divider':\n        this.addDivider(itemOptions);\n        break;\n\n      default:\n        throw new Error('unknown input: ' + item.type);\n    }\n  },\n\n  /**\n   * Adds a view to the buttons tool bar\n   * @param {Object} params parameterized button options\n   * @param {Object} options options to send to {@link module:Okta.View#add|View.add}\n   */\n  addButton: function (params, options) {\n    this.__toolbar && this.__toolbar.addButton(params, options);\n\n    this.__buttons.push([params, options]);\n  },\n\n  /**\n   * Adds a divider\n   */\n  addDivider: function (options) {\n    this.add('<div class=\"okta-form-divider form-divider\"></div>');\n    FormUtil.applyShowWhen(this.last(), options && options.showWhen);\n    FormUtil.applyToggleWhen(this.last(), options && options.toggleWhen);\n    return this;\n  },\n\n  /**\n   * Adds section header\n   * @param {String} title\n   */\n  addSectionTitle: function (title, options) {\n    this.add(sectionTitleTemplate({\n      title: title\n    }));\n    FormUtil.applyShowWhen(this.last(), options && options.showWhen);\n    FormUtil.applyToggleWhen(this.last(), options && options.toggleWhen);\n    return this;\n  },\n\n  /**\n   * Add a form input\n   * @param {Object} options Options to describe the input\n   * @param {String} options.type The input type.\n   * The options are: `text`, `textarea`, `select`, `checkbox`, `radio`, `switch`,\n   * `password`, `number`, `textselect`, `date`, `grouppicker`, `admingrouppicker`, `su-orgspicker`\n   * `file/image`, `file/cert`, `checkboxset`, `list`, `group`, `zonepicker`\n   * @param {String} options.name The name of the model field this input mutates\n   * @param {String|Function} [options.label]\n   * The input label text.\n   * When passed as a function, will invoke the function (in the context of the {@link InputLabel})\n   * on render time, and use the returned value.\n   * @param {String} [options.sublabel] The input sub label text\n   * @param {String} [options.tooltip] A popover tooltip to be displayed next to the label\n   * @param {String} [options.placeholder] Placeholder text.\n   * @param {String} [options.explain] Explanation text to render below the input\n   * @param {Okta.View} [options.customExplain] A custom view to render below the input (deprecated)\n   * @param {Boolean} [options.disabled=false] Make this input disabled\n   * @param {Boolean} [options.wide=false] Use a wide input layout\n   * @param {Boolean} [options.label-top=false] position label on top of an input\n   * @param {Boolean} [options.explain-top=false] position explain on top of an input (requires label-top=true)\n   * @param {Number} [options.multi] have multiple in-line inputs. useful when `input` is passed as an array of inputs\n   * @param {String} [options.errorField] The API error field here that maps to this input\n   * @param {Boolean} [options.inlineValidation=true] Validate input on focusout\n   * @param {String} [options.ariaLabel] Used to add aria-label attribute to the input when label is not present.\n   * @param {Boolean} [options.group=false] Grouping set of inputs using fieldset and legend. Mainly for radio\n   * @param {Object} [options.options]\n   * In the context of `radio` and `select`, a key/value set of options\n   *\n   * @param {Object} [options.params]\n   * Widget specific parameters. Varies per input.\n   *\n   * @param {BaseInput|Object[]} [options.input]\n   * - A custom input \"class\" or instance - preferably a **class**, so we can automagically assign the right\n   * parameters when initializing it\n   * - An array of input definition object literals (such as this one)\n   *\n   * @param {Object} [options.showWhen]\n   * Setting to define when to show (or hide) the input. The input is visible by default.\n   *\n   * @param {Object} [options.bindings]\n   * Bind a certain model attribute to a callback function, so the function is being called on render,\n   * and any time this model field changes.\n   * This is similar to `showWhen` but is not limited to toggling.\n   *\n   * @param {Function} [options.render]\n   * A post-render hook that will run upon render on InputWrapper\n   *\n   * @param {String|Function} className   A className to apply on the {@link InputWrapper}\n   *\n   * @param {Function} [options.initialize]\n   * An `initialize` function to run when initializing the {@link InputWrapper}\n   * Useful for state mutation on start time, and complex state logic\n   *\n   * @example\n   * // showhen: the field will be visible when `advanced` is set to `true`\n   * // and `mode` is set to `\"ON\"`.\n   * showWhen: {\n   *   'advanced': true,\n   *   'mode': function (value) {\n   *     return value == 'ON'; // this is identical to this.model.get('mode') == 'ON'\n   *   }\n   * }\n   *\n   * @example\n   * // bindings\n   * bindings: {\n   *   'status mode': function (status, mode) {\n   *      var labelView = this.getLabel();\n   *      if (status == 1) {\n   *        labelView.options.label = 'Something';\n   *      }\n   *      else {\n   *        labelView.options.label = mode;\n   *      }\n   *      labelView.render();\n   *   }\n   * }\n   */\n  addInput: function (_options) {\n    _options = oktaUnderscore.clone(_options);\n    FormUtil.validateInput(_options, this.model);\n    const inputsOptions = FormUtil.generateInputOptions(_options, this, this.__createInput).reverse(); // We need a local variable here to keep track\n    // as addInput can be called either directy or through the inputs array.\n\n    if (oktaUnderscore.isEmpty(this.getInputs().toArray())) {\n      oktaUnderscore.extend(inputsOptions[0], {\n        validateOnlyIfDirty: true\n      });\n    }\n\n    const inputs = oktaUnderscore.map(inputsOptions, this.__createInput, this);\n\n    oktaUnderscore.each(inputsOptions, function (input) {\n      if (input.errorField) {\n        this.__errorFields[input.errorField] = input.name;\n      }\n    }, this);\n\n    const options = {\n      inputId: oktaUnderscore.last(inputs).options.inputId,\n      input: inputs,\n      multi: inputsOptions.length > 1 ? inputsOptions.length : undefined\n    };\n\n    oktaUnderscore.extend(options, oktaUnderscore.omit(this.options, 'input'), oktaUnderscore.omit(_options, 'input'));\n\n    const inputWrapper = this.__createWrapper(options);\n\n    if (options.label !== false) {\n      inputWrapper.add(this.__createLabel(options));\n    }\n\n    inputWrapper.add(this._createContainer(options)); // TODO: there may be a bug here.\n    // options.input will always be an array, so options.input.type will always be undefined\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    /// @ts-ignore\n\n    inputWrapper.type = options.type || options.input.type || 'custom';\n    const args = [inputWrapper].concat(oktaUnderscore.rest(arguments));\n    return this.add.apply(this, args);\n  },\n\n  /**\n   * @private\n   */\n  __createInput: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.INPUT_OPTIONS);\n    return InputFactory.create(options);\n  },\n\n  /**\n   * @private\n   */\n  __createWrapper: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.WRAPPER_OPTIONS);\n    return new InputWrapper(options);\n  },\n\n  /**\n   * @private\n   */\n  __createLabel: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.LABEL_OPTIONS);\n    return new InputLabel(options);\n  },\n\n  /**\n   * @private\n   */\n  _createContainer: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.CONTAINER_OPTIONS);\n    return new InputContainer(options);\n  },\n\n  /**\n   * Stores the current attributes of the model to a private property\n   * @param  {Okta.BaseModel} model The model\n   * @private\n   */\n  __saveModelState: function (model) {\n    this.__originalModel = oktaJQueryStatic.extend(true, {}, model.attributes);\n  },\n\n  /**\n   * @override\n   * @ignore\n   */\n  add: function (...args) {\n    // sets a default element selector\n    typeof args[1] === 'undefined' && (args[1] = '> div.o-form-content > .o-form-fieldset-container');\n    return BaseView.prototype.add.apply(this, args);\n  },\n\n  /**\n   * Set the focus on the first input in the form\n   */\n  focus: function () {\n    const first = this.getInputs().first();\n\n    if (first && first.focus) {\n      first.focus();\n    }\n\n    return this;\n  },\n\n  /**\n   * Disable all inputs in the form\n   * @deprecated not currently in use\n   */\n  disable: function () {\n    this.invoke('disable');\n    return this;\n  },\n\n  /**\n   * Enable all inputs in the form\n   * @deprecated not currently in use\n   */\n  enable: function () {\n    this.invoke('enable');\n  },\n\n  /**\n   * Set the max-height for o-form-content class container within the form if a height is provided,\n   * otherwise, get its computed inner height\n   * @param {Number} the height in pixel to set for class o-form-content\n   * @return {Number}\n   */\n  contentHeight: function (height) {\n    const content = this.$('.o-form-content');\n\n    if (oktaUnderscore.isNumber(height)) {\n      content.css('max-height', height);\n    } else {\n      return content.height();\n    }\n  },\n\n  /**\n   * Get only the input children\n   * @return {InputWrapper[]} An underscore wrapped array of {@link InputWrapper} instances\n   */\n  getInputs: function () {\n    return oktaUnderscore(this.filter(function (view) {\n      return view instanceof InputWrapper;\n    }));\n  }\n});\n\nexport { BaseForm as default };\n","import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport ButtonFactory from '../../util/ButtonFactory.js';\nimport StringUtil from '../../util/StringUtil.js';\nimport BaseView from '../BaseView.js';\nimport Callout from '../components/Callout.js';\nimport Keys from '../../util/Keys.js';\n\nconst props = {\n  tagName: 'span',\n  attributes: function () {\n    return {\n      'data-se': 'o-form-input-' + this.getNameString()\n    };\n  },\n\n  /**\n   * default placeholder text when options.placeholder is not defined\n   */\n  defaultPlaceholder: '',\n  constructor: function (options) {\n    /* eslint complexity: [2, 9] */\n    options = oktaUnderscore.defaults(options || {}, {\n      inputId: options.id || oktaUnderscore.uniqueId('input'),\n      placeholder: this.defaultPlaceholder,\n      inlineValidation: true,\n      validateOnlyIfDirty: false\n    });\n    delete options.id; // decorate the `enable` and `disable` and toggle the `o-form-disabled` class.\n    // so we wont need to worry about this when overriding the methods\n\n    const self = this;\n\n    oktaUnderscore.each({\n      enable: 'removeClass',\n      disable: 'addClass'\n    }, function (method, action) {\n      self[action] = oktaUnderscore.wrap(self[action], function (fn) {\n        fn.apply(self, arguments);\n        self.$el[method]('o-form-disabled');\n      });\n    });\n\n    BaseView.call(this, options);\n\n    if (oktaUnderscore.result(options, 'readOnly') !== true && oktaUnderscore.result(options, 'read') === true) {\n      this.listenTo(this.model, 'change:__edit__', this.render);\n    }\n\n    if (oktaUnderscore.isFunction(this.focus)) {\n      this.focus = oktaUnderscore.debounce(oktaUnderscore.bind(this.focus, this), 50);\n    } // Enable inline validation if this is not the first field in the form.\n\n\n    if (!oktaUnderscore.result(options, 'validateOnlyIfDirty')) {\n      this.addInlineValidation();\n    }\n\n    this.addModelListeners();\n    this.$el.addClass('o-form-input-name-' + this.getNameString());\n  },\n  addAriaLabel: function () {\n    const ariaLabel = this.options.ariaLabel;\n\n    if (ariaLabel) {\n      this.$(':input').attr('aria-label', ariaLabel);\n    }\n  },\n  addInlineValidation: function () {\n    if (oktaUnderscore.result(this.options, 'inlineValidation')) {\n      this.$el.on('focusout', ':input', oktaUnderscore.bind(this.validate, this));\n    }\n  },\n  toModelValue: function () {\n    let value = this.val();\n\n    if (oktaUnderscore.isFunction(this.to)) {\n      value = this.to.call(this, value);\n    }\n\n    if (oktaUnderscore.isFunction(this.options.to)) {\n      value = this.options.to.call(this, value);\n    }\n\n    return value;\n  },\n  __getDependencyCalloutBtn: function (btnConfig) {\n    const self = this;\n\n    const btnOptions = oktaUnderscore.clone(btnConfig);\n\n    const originalClick = btnOptions.click || function () {}; // add onfocus listener to re-evaluate depedency when callout button is clicked\n\n\n    btnOptions.click = function () {\n      oktaJQueryStatic(window).one('focus.dependency', function () {\n        self.__showInputDependencies();\n      });\n      originalClick.call(self);\n    };\n\n    const BaseInputCalloutBtn = BaseView.extend({\n      children: [ButtonFactory.create(btnOptions)]\n    });\n    return new BaseInputCalloutBtn();\n  },\n  getCalloutParent: function () {\n    return this.$('input[value=\"' + this.getModelValue() + '\"]').parent();\n  },\n  __getCalloutMsgContainer: function (calloutMsg) {\n    return BaseView.extend({\n      template: _Handlebars2.template({\n        \"compiler\": [8, \">= 4.3.0\"],\n        \"main\": function (container, depth0, helpers, partials, data) {\n          var helper,\n              lookupProperty = container.lookupProperty || function (parent, propertyName) {\n            if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n              return parent[propertyName];\n            }\n\n            return undefined;\n          };\n\n          return \"<span class=\\\"o-form-explain\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"msg\") || (depth0 != null ? lookupProperty(depth0, \"msg\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n            \"name\": \"msg\",\n            \"hash\": {},\n            \"data\": data,\n            \"loc\": {\n              \"start\": {\n                \"line\": 1,\n                \"column\": 29\n              },\n              \"end\": {\n                \"line\": 1,\n                \"column\": 36\n              }\n            }\n          }) : helper)) + \"</span>\";\n        },\n        \"useData\": true\n      }),\n      getTemplateData: function () {\n        return {\n          msg: calloutMsg\n        };\n      }\n    });\n  },\n  showCallout: function (calloutConfig, dependencyResolved) {\n    const callout = oktaUnderscore.clone(calloutConfig);\n\n    callout.className = 'dependency-callout';\n\n    if (callout.btn) {\n      callout.content = this.__getDependencyCalloutBtn(callout.btn);\n      delete callout.btn;\n    }\n\n    const dependencyCallout = Callout.create(callout);\n\n    if (!dependencyResolved) {\n      dependencyCallout.add(this.__getCalloutMsgContainer(StringUtil.localize('dependency.callout.msg', 'courage')));\n    }\n\n    const calloutParent = this.getCalloutParent();\n    calloutParent.append(dependencyCallout.render().el);\n\n    if (callout.type === 'success') {\n      oktaUnderscore.delay(function () {\n        // fade out success callout\n        dependencyCallout.$el.fadeOut(800);\n      }, 1000);\n    }\n  },\n  removeCallout: function () {\n    this.$el.find('.dependency-callout').remove();\n  },\n  __evaluateCalloutObject: function (dependencyResolved, calloutTitle) {\n    let defaultCallout;\n\n    if (dependencyResolved) {\n      defaultCallout = {\n        title: StringUtil.localize('dependency.action.completed', 'courage'),\n        size: 'large',\n        type: 'success'\n      };\n    } else {\n      defaultCallout = {\n        title: StringUtil.localize('dependency.action.required', 'courage', [calloutTitle]),\n        size: 'large',\n        type: 'warning'\n      };\n    }\n\n    return defaultCallout;\n  },\n  __handleDependency: function (result, callout) {\n    const self = this;\n    const calloutConfig = oktaUnderscore.isFunction(callout) ? callout(result) : oktaUnderscore.extend({}, callout, self.__evaluateCalloutObject(result.resolved, callout.title)); // remove existing callouts if any\n\n    self.removeCallout();\n    self.showCallout(calloutConfig, result.resolved);\n  },\n  __showInputDependencies: function () {\n    const self = this;\n    const fieldDependency = self.options.deps[self.getModelValue()];\n\n    if (fieldDependency && oktaUnderscore.isFunction(fieldDependency.func)) {\n      fieldDependency.func().done(function (data) {\n        self.__handleDependency({\n          resolved: true,\n          data: data\n        }, fieldDependency.callout);\n      }).fail(function (data) {\n        self.__handleDependency({\n          resolved: false,\n          data: data\n        }, fieldDependency.callout);\n      });\n    } else {\n      self.removeCallout();\n    }\n  },\n  _isEdited: false,\n  hasIMESupport: false,\n\n  /**\n   * updates the model with the input's value\n   */\n  update: function (e) {\n    if (!this._isEdited && oktaUnderscore.result(this.options, 'validateOnlyIfDirty')) {\n      this._isEdited = true;\n      this.addInlineValidation();\n    }\n\n    this.model.set(this.options.name, this.toModelValue());\n\n    if (this.options.deps) {\n      // check for dependencies\n      this.__showInputDependencies();\n    }\n    /*\n      To add IME support for more components\n      - Add hasIMESupport boolean flag and compositionend and compositionstart event listeners to the component\n      - Supported components: TextBox.js, TextSelect.js\n      - Additionally window.okta.enableIMESupport is an org level FF to toggle IME support\n    */\n\n\n    if (this.hasIMESupport && window?.okta?.enableIMESupport) {\n      if (this.isComposing) {\n        return;\n      }\n\n      if (e && Keys.isEnter(e)) {\n        this.model.trigger('form:save');\n      }\n    }\n  },\n\n  /**\n   * Is the input in edit mode\n   * @return {Boolean}\n   */\n  isEditMode: function () {\n    const ret = !oktaUnderscore.result(this.options, 'readOnly') && (oktaUnderscore.result(this.options, 'read') !== true || this.model.get('__edit__') === true);\n    return ret;\n  },\n\n  /**\n   * Renders the input\n   * @readonly\n   */\n  render: function () {\n    this.preRender();\n    const params = this.options.params;\n    this.options.params = oktaUnderscore.resultCtx(this.options, 'params', this);\n\n    if (this.isEditMode()) {\n      this.editMode();\n\n      if (oktaUnderscore.resultCtx(this.options, 'disabled', this)) {\n        this.disable();\n      } else {\n        this.enable();\n      }\n    } else {\n      this.readMode();\n    }\n\n    this.options.params = params;\n    this.addAriaLabel();\n    this.postRender();\n    return this;\n  },\n\n  /**\n   * checks if the current value in the model is valid for this field\n   */\n  validate: function () {\n    if (!this.model.get('__pending__') && this.isEditMode() && oktaUnderscore.isFunction(this.model.validateField)) {\n      const validationError = this.model.validateField(this.options.name);\n\n      if (validationError) {\n        oktaUnderscore.delay(function () {\n          this.model.trigger('form:clear-error:' + this.options.name);\n          this.model.trigger('invalid', this.model, validationError, false);\n        }.bind(this), 100);\n      }\n    }\n  },\n\n  /**\n   * Add model event listeners\n   */\n  addModelListeners: function () {\n    this.listenTo(this.model, 'form:field-error', function (name) {\n      if (this.options.name === name) {\n        this.__markError();\n      }\n    });\n    this.listenTo(this.model, 'form:clear-errors change:' + this.options.name, this.__clearError);\n    this.listenTo(this.model, 'form:clear-error:' + this.options.name, this.__clearError);\n  },\n\n  /**\n   * The value of the input\n   * @return {Mixed}\n   */\n  val: function () {\n    throw new Error('val() is an abstract method');\n  },\n\n  /**\n   * Set focus on the input\n   */\n  focus: function () {\n    throw new Error('focus() is an abstract method');\n  },\n\n  /**\n   * Default value in read mode\n   * When model has no value for the field\n   */\n  defaultValue: function () {\n    return '';\n  },\n\n  /**\n   * Renders the input in edit mode\n   */\n  editMode: function () {\n    const options = oktaUnderscore.extend({}, this.options, {\n      value: this.getModelValue()\n    });\n\n    this.$el.html(this.template(options));\n    this.options.multi && this.$el.removeClass('margin-r');\n    return this;\n  },\n\n  /**\n   * Renders the readable value of the input in read mode\n   */\n  readMode: function () {\n    this.$el.text(this.getReadModeString());\n    this.$el.removeClass('error-field');\n    this.options.multi && this.$el.addClass('margin-r');\n    return this;\n  },\n  getReadModeString: function () {\n    const readModeStr = oktaUnderscore.resultCtx(this.options, 'readModeString', this);\n\n    if (readModeStr) {\n      return readModeStr;\n    }\n\n    return this.toStringValue();\n  },\n\n  /**\n   * The model value off the field associated with the input\n   * @return {Mixed}\n   */\n  getModelValue: function () {\n    let value = this.model.get(this.options.name);\n\n    if (oktaUnderscore.isFunction(this.from)) {\n      value = this.from.call(this, value);\n    }\n\n    if (oktaUnderscore.isFunction(this.options.from)) {\n      value = this.options.from.call(this, value);\n    }\n\n    return value;\n  },\n\n  /*\n  * convenience method to get the textual value from the model\n  * will return the textual label rather than value in case of select/radio\n  * @return {String}\n  */\n  toStringValue: function () {\n    let value = this.getModelValue();\n\n    if (this.options.options) {\n      // dropdown or radio\n      value = this.options.options[value];\n    }\n\n    if (Number.isInteger(value) || typeof value === 'boolean') {\n      value = String(value);\n    }\n\n    return value || this.defaultValue();\n  },\n\n  /**\n   * Triggers a form:resize event in order to tell dialogs content size has changed\n   */\n  resize: function () {\n    this.model.trigger('form:resize');\n  },\n\n  /**\n   * Disable the input\n   */\n  disable: function () {\n    this.$(':input').prop('disabled', true);\n  },\n\n  /**\n   * Enable the input\n   */\n  enable: function () {\n    this.$(':input').prop('disabled', false);\n  },\n\n  /**\n   * Change the type of the input field. (e.g., text <--> password)\n   * @param type\n   */\n  changeType: function (type) {\n    this.$(':input').prop('type', type); // Update the options so that it keeps the uptodate state\n\n    this.options.type = type;\n  },\n  getNameString: function () {\n    if (oktaUnderscore.isArray(this.options.name)) {\n      return this.options.name.join('-');\n    }\n\n    return this.options.name;\n  },\n\n  /**\n   * Get parameters, computing _.result\n   * @param  {[type]} options alternative options\n   * @return {Object} the params\n   */\n  getParams: function (options) {\n    const opts = options || this.options || {};\n    return oktaUnderscore.clone(oktaUnderscore.resultCtx(opts, 'params', this) || {});\n  },\n\n  /**\n   * get a parameter from options.params, compute _.result when needed.\n   * @param  {String} key\n   * @param  {Object} defaultValue\n   * @return {Object} the params\n   */\n  getParam: function (key, defaultValue) {\n    const result = oktaUnderscore.resultCtx(this.getParams(), key, this);\n\n    return !oktaUnderscore.isUndefined(result) ? result : defaultValue;\n  },\n\n  /**\n   * Get a parameter from options.params or if empty, object attribute.\n   *\n   * @param  {String} key\n   * @return {Object} the param or attribute\n   */\n  getParamOrAttribute: function (key) {\n    return this.getParam(key) || oktaUnderscore.result(this, key);\n  },\n  __markError: function () {\n    this.$el.addClass('o-form-has-errors');\n  },\n  __clearError: function () {\n    this.$el.removeClass('o-form-has-errors');\n  }\n};\n/**\n * @class BaseInput\n * @private\n * An abstract object that defines an input for {@link Okta.Form}\n *\n * BaseInputs are typically not created directly, but being passed to {@link Okta.Form#addInput}\n * @extends Okta.View\n */\n\nvar BaseInput = BaseView.extend(props);\n\nexport { BaseInput as default };\n","import BaseView from '../../BaseView.js';\nimport FormUtil from '../helpers/FormUtil.js';\n\nvar ReadModeBar = BaseView.extend({\n  el: '<span class=\"o-form-toggle\" data-type=\"header-btn\"></span>',\n  formTitle: '',\n  modelEvents: {\n    'change:__edit__': 'toggle'\n  },\n  initialize: function () {\n    this.addButton();\n  },\n  addButton: function () {\n    if (this.model.get('__edit__')) {\n      this.add(FormUtil.createReadFormButton({\n        type: 'cancel'\n      }));\n    } else {\n      this.add(FormUtil.createReadFormButton({\n        type: 'edit',\n        formTitle: this.formTitle,\n        className: 'disable-in-read-only'\n      }));\n    }\n  },\n  toggle: function () {\n    this.removeChildren();\n    this.addButton();\n  }\n});\n\nexport { ReadModeBar as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport BaseView from '../../BaseView.js';\nimport FormUtil from '../helpers/FormUtil.js';\n\nconst proto = {\n  className: function () {\n    return 'o-form-button-bar';\n  },\n  buttonOrder: ['previous', 'save', 'cancel'],\n  initialize: function (options) {\n    const buttonConfigs = {\n      previous: {\n        type: 'previous'\n      },\n      save: {\n        type: 'save',\n        text: oktaUnderscore.resultCtx(options, 'save', this),\n        id: oktaUnderscore.resultCtx(options, 'saveId', this),\n        className: oktaUnderscore.resultCtx(options, 'saveClassName', this)\n      },\n      cancel: {\n        type: 'cancel',\n        text: oktaUnderscore.resultCtx(options, 'cancel', this)\n      }\n    };\n\n    this.__getButtonOrder(options).forEach(buttonName => {\n      this.addButton(buttonConfigs[buttonName]);\n    });\n  },\n\n  /**\n   * Adds a buttomn to the toolbar\n   * @param {Object} params button parameters\n   * @param {Object} options {@link Okta.View#add} options\n   */\n  addButton: function (params, options) {\n    return this.add(FormUtil.createButton(params), options);\n  },\n  __getButtonOrder: function (options) {\n    const buttonOrder = oktaUnderscore.resultCtx(options, 'buttonOrder', this, this.buttonOrder);\n\n    const buttonsToSkip = [];\n\n    if (options.noSubmitButton) {\n      buttonsToSkip.push('save');\n    }\n\n    if (options.noCancelButton) {\n      buttonsToSkip.push('cancel');\n    }\n\n    if (!options.hasPrevStep) {\n      buttonsToSkip.push('previous');\n    }\n\n    return oktaUnderscore.without(buttonOrder, ...buttonsToSkip);\n  }\n};\nvar Toolbar = BaseView.extend(proto);\n\nexport { Toolbar as default };\n","import oktaJQueryStatic from '../../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport SchemaUtils from '../../../util/SchemaUtil.js';\nimport StringUtil from '../../../util/StringUtil.js';\n\n/* eslint max-statements: 0 */\nconst NAME = 'name';\nconst ENUM_KEY_PREFIX = '_enum_';\n/**\n * Generate Input Options in order to create an input in an Form for Enum type attribute.\n * @param {Object} config informations for creating input options\n *   config.name        schema property name\n *   config.title       schema property title\n *   config.readOnly    create an read only input?\n *   config.explain     sub-title to the input\n *   config.enumValues  list of enum values for creating input options (Dropdown/SimpleCheckBoxSet)\n *   config.displayType display type of schema property\n *\n * @return {Object} inputOptions options for create an Input view. (Dropdown/SimpleCheckBoxSet)\n *\n */\n\nfunction getEnumInputOptions(config) {\n  const enumOneOf = convertToOneOf(config.enumValues);\n  const inputOptions = {\n    name: config.name,\n    label: config.title,\n    readOnly: config.readOnly,\n    customExplain: config.explain,\n    params: {\n      enumOneOf: enumOneOf\n    },\n    options: getDropdownOptionsFromOneOf(enumOneOf)\n  }; // input type\n\n  if (SchemaUtils.isArrayDataType(config.displayType)) {\n    inputOptions.type = 'checkboxset';\n    inputOptions.to = valuesToEnumObjects;\n    inputOptions.from = enumObjectsToValues;\n  } else {\n    inputOptions.type = 'select';\n    inputOptions.to = valueToEnumObject;\n    inputOptions.from = enumObjectToValue;\n  }\n\n  inputOptions.input = null;\n  return inputOptions;\n}\n\nfunction getDropdownOptions(values) {\n  return oktaUnderscore.isArray(values) ? getDropdownOptionsFromOneOf(convertToOneOf(values)) : {};\n}\n\nfunction getDropdownOptionsFromOneOf(values) {\n  if (!isOneOfEnumObject(values)) {\n    return {};\n  }\n\n  return oktaUnderscore.reduce(values, function (options, value, index) {\n    options[convertIndexToEnumIndex(index)] = value.title;\n    return options;\n  }, {});\n}\n\nfunction convertToOneOf(values) {\n  // assume this is a legacy enum array and convert to oneOf object\n  if (!oktaUnderscore.all(values, oktaJQueryStatic.isPlainObject)) {\n    return convertEnumToOneOf(values); // we assume object without const and title is an enum object which need special conversion\n  } else if (!isOneOfEnumObject(values)) {\n    return convertEnumObjectToOneOf(values);\n  }\n\n  return values;\n}\n\nfunction isOneOfEnumObject(values) {\n  return oktaUnderscore.isArray(values) && oktaUnderscore.all(values, function (value) {\n    return oktaUnderscore.has(value, 'const') && oktaUnderscore.has(value, 'title');\n  });\n}\n\nfunction convertEnumToOneOf(values) {\n  return oktaUnderscore.map(values, function (value) {\n    return {\n      const: value,\n      title: valueToTitle(value)\n    };\n  });\n}\n\nfunction valueToTitle(value) {\n  if (oktaUnderscore.isObject(value)) {\n    return JSON.stringify(value);\n  }\n\n  if (oktaUnderscore.isNumber(value)) {\n    return value + '';\n  }\n\n  return value;\n}\n\nfunction convertEnumObjectToOneOf(values) {\n  const findKey = oktaUnderscore.partial(oktaUnderscore.has, oktaUnderscore, NAME); // If all object found the key NAME, use the NAME's value as display name\n\n\n  if (oktaUnderscore.all(values, findKey)) {\n    return oktaUnderscore.chain(values).filter(function (value) {\n      return oktaJQueryStatic.isPlainObject(value) && oktaUnderscore.has(value, NAME);\n    }).map(function (value) {\n      return {\n        const: value,\n        title: value[NAME]\n      };\n    }).value();\n  } // Assume a legacy object array does not need special handling and just convert to const/title enum\n\n\n  return convertEnumToOneOf(values);\n}\n\nfunction convertIndexToEnumIndex(index) {\n  return `${ENUM_KEY_PREFIX}${index}`;\n}\n\nfunction enumObjectToValue(obj) {\n  const index = oktaUnderscore.findIndex(this.options.params.enumOneOf, function (oneOfObj) {\n    return oktaUnderscore.isObject(obj) ? oktaUnderscore.isEqual(oneOfObj.const, obj) : oneOfObj.const === obj;\n  }); // Cannot rely on comparator in findIndex when compare objects so need special handling\n\n\n  return index > -1 ? convertIndexToEnumIndex(index) : obj;\n}\n\nfunction valueToEnumObject(val) {\n  if (!oktaUnderscore.isString(val) || val.indexOf(ENUM_KEY_PREFIX) !== 0) {\n    return val;\n  }\n\n  const index = val.replace(ENUM_KEY_PREFIX, '');\n  const enumValue = this.options.params && oktaUnderscore.isArray(this.options.params.enumOneOf) ? this.options.params.enumOneOf[index] : null; // @see `getEnumInputOptions` how enumValues has been set.\n\n  return oktaUnderscore.has(enumValue, 'const') ? enumValue.const : enumValue;\n}\n\nfunction valuesToEnumObjects(values) {\n  return oktaUnderscore.map(values, valueToEnumObject.bind(this));\n}\n\nfunction enumObjectsToValues(values) {\n  return oktaUnderscore.map(values, enumObjectToValue.bind(this));\n}\n\nfunction isStringConstraint(value) {\n  return oktaUnderscore.isString(value) && oktaJQueryStatic.trim(value) !== '';\n}\n\nfunction isNumberConstraint(value) {\n  return oktaUnderscore.isNumber(value) || oktaUnderscore.isNumber(StringUtil.parseFloat(oktaJQueryStatic.trim(value)));\n}\n\nfunction isIntegerConstraint(value) {\n  const integer = oktaUnderscore.isNumber(value) ? value : StringUtil.parseInt(oktaJQueryStatic.trim(value));\n  return typeof integer === 'number' && isFinite(integer) && Math.floor(integer) === integer;\n}\n\nfunction isObjectConstraint(value) {\n  if (oktaUnderscore.isObject(value) && !oktaUnderscore.isArray(value)) {\n    return true;\n  }\n\n  const object = StringUtil.parseObject(oktaJQueryStatic.trim(value));\n  return oktaUnderscore.isObject(object) && !oktaUnderscore.isArray(object);\n}\n\nfunction isConstraintValueMatchType(value, type) {\n  switch (type) {\n    case SchemaUtils.STRING:\n      return isStringConstraint(value);\n\n    case SchemaUtils.NUMBER:\n      return isNumberConstraint(value);\n\n    case SchemaUtils.INTEGER:\n      return isIntegerConstraint(value);\n\n    case SchemaUtils.OBJECT:\n      return isObjectConstraint(value);\n  }\n}\n\nvar EnumTypeHelper = {\n  getEnumInputOptions: getEnumInputOptions,\n  getDropdownOptions: getDropdownOptions,\n  convertToOneOf: convertToOneOf,\n  isConstraintValueMatchType: isConstraintValueMatchType\n};\n\nexport { EnumTypeHelper as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport BaseView from '../../BaseView.js';\n\nvar ErrorBanner = BaseView.extend({\n  template: _Handlebars2.template({\n    \"1\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<p>\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"errorSummary\") || (depth0 != null ? lookupProperty(depth0, \"errorSummary\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"errorSummary\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 130\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 146\n          }\n        }\n      }) : helper)) + \"</p>\";\n    },\n    \"3\": function (container, depth0, helpers, partials, data) {\n      var lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<p>\" + container.escapeExpression((lookupProperty(helpers, \"i18n\") || depth0 && lookupProperty(depth0, \"i18n\") || container.hooks.helperMissing).call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"i18n\",\n        \"hash\": {\n          \"bundle\": \"courage\",\n          \"code\": \"oform.errorbanner.title\"\n        },\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 161\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 217\n          }\n        }\n      })) + \"</p>\";\n    },\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<div class=\\\"okta-form-infobox-error infobox infobox-error\\\" role=\\\"alert\\\"><span class=\\\"icon error-16\\\"></span>\" + ((stack1 = lookupProperty(helpers, \"if\").call(depth0 != null ? depth0 : container.nullContext || {}, depth0 != null ? lookupProperty(depth0, \"errorSummary\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(1, data, 0),\n        \"inverse\": container.program(3, data, 0),\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 107\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 228\n          }\n        }\n      })) != null ? stack1 : \"\") + \"</div>\";\n    },\n    \"useData\": true\n  }),\n  modelEvents: {\n    'form:clear-errors': 'remove'\n  }\n});\n\nexport { ErrorBanner as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport StringUtil from '../../../util/StringUtil.js';\n\nconst FIELD_REGEX = /^([\\S]+): (.+)$/;\nvar ErrorParser = {\n  /**\n   * Helper function that returns the json output of an xhr objext\n   * @param  {jqXhr} xhr\n   * @return {Object}\n   */\n  getResponseJSON: function (xhr) {\n    try {\n      return xhr.responseJSON || JSON.parse(xhr.responseText);\n    } catch (e) {// ignore error\n    }\n  },\n\n  /**\n   * Parses an error summary to extract a field name and an error message\n   * @param  {String} errorSummary The raw error summary\n   * @return {String[]} An array with two members: [field name, error message]\n   */\n  parseErrorSummary: function (errorSummary) {\n    const matches = errorSummary.match(FIELD_REGEX); // error format is: `fieldName: The field cannot be left blank`\n\n    if (matches) {\n      return [matches[1], matches[2]];\n    }\n  },\n\n  /**\n   * Parses an error cause object to extract a field name from property attribute\n   * and an error message form errorSummary attribute. It looks to see if there is\n   * a custom override/translation for the erorrCause.reason before using the errorSummary\n   * @param  {Object} errorCause object\n   * @return {String[]} An array with two members: [field name, error message]\n   */\n  parseErrorCauseObject: function (errorCause) {\n    if (errorCause.property && errorCause.errorSummary) {\n      const localizedMsg = StringUtil.localize(errorCause.reason);\n      const apiMsg = errorCause.errorSummary;\n      const field = errorCause.property;\n      const errorMessage = localizedMsg.indexOf('L10N_ERROR[') === -1 ? localizedMsg : apiMsg;\n      return [field, errorMessage];\n    }\n  },\n  parseErrors: function (resp) {\n    const responseJSON = this.getResponseJSON(resp);\n    return oktaUnderscore.map(responseJSON && responseJSON.errorCauses || [], function (errorCause) {\n      return ('' + errorCause.errorSummary).replace(FIELD_REGEX, '$2');\n    });\n  },\n\n  /**\n   * Parses the response for errors\n   * Returns a map of field names > array or error messages\n   * Example:\n   * ```javascript\n   * {\n   *   url: ['The field cannot be left blank', 'The field has to be a valid URI'],\n   *   name: ['The field cannot be left blank']\n   * }\n   * ```\n   * @param  {Object} resp\n   * @return {Object}\n   */\n  parseFieldErrors: function (resp) {\n    const responseJSON = this.getResponseJSON(resp);\n    const errors = {}; // xhr error object\n\n    if (responseJSON) {\n      /* eslint complexity: [2, 9] */\n      oktaUnderscore.each(responseJSON.errorCauses || [], function (cause) {\n        let res = [];\n\n        if (cause.property && cause.errorSummary) {\n          res = this.parseErrorCauseObject(cause);\n        } else if (cause.location && cause.errorSummary) {\n          // To handle new api error format for field level errors.\n          // Ignoring the reason attribute as the translation happens in the API layer and not in the client any more.\n          res = [cause.location, cause.errorSummary];\n        } else {\n          res = this.parseErrorSummary(cause && cause.errorSummary || '');\n        }\n\n        if (res) {\n          const fieldName = res[0];\n          const message = res[1];\n          errors[fieldName] || (errors[fieldName] = []);\n          errors[fieldName].push(message);\n        }\n      }, this);\n    } // validation key/value object\n    else if (oktaUnderscore.isObject(resp) && oktaUnderscore.size(resp)) {\n      oktaUnderscore.each(resp, function (msg, field) {\n        errors[field] = [msg];\n      });\n    }\n\n    return oktaUnderscore.size(errors) ? errors : undefined;\n  }\n};\n\nexport { ErrorParser as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport Keys from '../../../util/Keys.js';\nimport Logger from '../../../util/Logger.js';\nimport StringUtil from '../../../util/StringUtil.js';\nimport ViewUtil from '../../../util/ViewUtil.js';\nimport BaseView from '../../BaseView.js';\n\n/* eslint max-params: [2, 6] */\nconst LABEL_OPTIONS = ['model', 'id', 'inputId', 'type', 'label', 'sublabel', 'tooltip', 'name', 'group'];\nconst CONTAINER_OPTIONS = ['wide', 'multi', 'input', 'label-top', 'explain', 'explain-top', 'customExplain', 'model', 'name', 'type', 'autoRender', 'multirowError'];\nconst WRAPPER_OPTIONS = ['model', 'name', 'label-top', 'readOnly', 'events', 'initialize', 'showWhen', 'bindings', 'render', 'className', 'data-se', 'toggleWhen', 'group'];\nconst INPUT_OPTIONS = ['model', 'name', 'inputId', 'type', // base options\n'input', // custom input\n'placeholder', 'label', // labels\n'readOnly', 'read', 'disabled', 'readModeString', // modes\n'options', // select/radio\n'deps', // used to specify inputs that have dependencies and show a callout to user on select\n'from', 'to', // model transformers,\n'autoRender', // model attributes change event to trigger rerendering of the input\n'inlineValidation', // control inline validating against the model on focus lost\n'validateOnlyIfDirty', // check if field has been interacted with and then validate\n'ariaLabel', // 508 compliance for inputs that do not have label associated with them\n'params', 'autoComplete', // autocomplete attribute\n'sortByKey'];\nconst OTHER_OPTIONS = ['errorField' // widgets params - for input specific widgets\n];\n\nconst ALL_OPTIONS = oktaUnderscore.uniq(oktaUnderscore.union(LABEL_OPTIONS, CONTAINER_OPTIONS, WRAPPER_OPTIONS, INPUT_OPTIONS, OTHER_OPTIONS));\n\nconst SAVE_BUTTON_PHASES = ['         ', '        ', '       ', '      ', '       ', '        ', '         ', '          ', '          ', '          '];\n\nfunction decorateDoWhen(doWhen) {\n  if (doWhen && !doWhen['__edit__']) {\n    return oktaUnderscore.extend({\n      __edit__: oktaUnderscore.constant(true)\n    }, doWhen);\n  }\n}\n\nfunction createButton(options) {\n  options = oktaUnderscore.pick(options || {}, 'action', 'id', 'className', 'text', 'type');\n  let timeoutId;\n  let intervalId;\n  let phaseCount;\n  return BaseView.extend({\n    tagName: 'input',\n    className: 'button',\n    events: {\n      click: function () {\n        if (options.action && !this.disabled()) {\n          options.action.call(this);\n        }\n      },\n      keyup: function (e) {\n        if (Keys.isEnter(e) && options.action && !this.disabled()) {\n          options.action.call(this);\n        }\n      }\n    },\n    disabled: function () {\n      return this.$el.prop('disabled') === true;\n    },\n    disable: function () {\n      this.$el.prop('disabled', true);\n      this.$el.addClass('btn-disabled');\n    },\n    enable: function () {\n      this.$el.prop('disabled', false);\n      this.$el.removeClass('btn-disabled');\n    },\n    initialize: function () {\n      const self = this;\n      this.$el.attr('type', options.type === 'save' ? 'submit' : 'button');\n      this.$el.val(options.text);\n\n      if (options.id) {\n        this.$el.attr('id', options.id);\n      }\n\n      if (options.className) {\n        this.$el.addClass(options.className);\n      }\n\n      if (options.type) {\n        this.$el.attr('data-type', options.type);\n      }\n\n      this.$el.mousedown(function () {\n        self.model.set('__pending__', true);\n      });\n      this.$el.mouseup(function () {\n        self.model.set('__pending__', false);\n      });\n      this.listenTo(this.model, 'form:set-saving-state', function () {\n        this.disable();\n\n        if (options.type === 'save') {\n          timeoutId = setTimeout(oktaUnderscore.bind(this.__changeSaveText, this), 1000);\n        }\n      });\n      this.listenTo(this.model, 'form:clear-saving-state', function () {\n        this.enable();\n\n        if (options.type === 'save') {\n          clearTimeout(timeoutId);\n          clearInterval(intervalId);\n          this.$el.val(options.text);\n        }\n      });\n    },\n    __changeSaveText: function () {\n      phaseCount = 0;\n      intervalId = setInterval(oktaUnderscore.bind(this.__showLoadingText, this), 200);\n    },\n    __showLoadingText: function () {\n      this.$el.val(SAVE_BUTTON_PHASES[phaseCount++ % SAVE_BUTTON_PHASES.length]);\n    }\n  });\n}\n\nfunction validateInput(options, model) {\n  /* eslint max-statements: 0, complexity: 0 */\n  options || (options = {});\n\n  if (options.type === 'label') {\n    if (!options.label) {\n      Logger.warn('A label input must have a \"label\" parameter', options);\n    }\n\n    return;\n  }\n\n  if (options.type === 'button') {\n    if (!options.title && !options.icon) {\n      Logger.warn('A button input must have a \"title\" and/or an \"icon\" parameter', options);\n    }\n\n    if (!options.click && !options.href) {\n      Logger.warn('A button input must have a \"click\" and/or an \"href\" parameter', options);\n    }\n\n    return;\n  }\n\n  if (!options.name && !options.input) {\n    Logger.warn('Missing \"name\" or \"input\" parameters', options);\n  }\n\n  if (oktaUnderscore.isArray(options.name) && oktaUnderscore.isArray(options.input)) {\n    throw new Error('Not allowed to have both \"name\" and \"input\" defined as array.');\n  }\n\n  if (options.type !== 'list' && options.name && model && model.allows) {\n    let names = [];\n\n    if (oktaUnderscore.isArray(options.name)) {\n      names = options.name;\n    } else {\n      names.push(options.name);\n    }\n\n    oktaUnderscore.each(names, function (name) {\n      if (!model.allows(name)) {\n        throw new Error('field not allowed: ' + options.name);\n      }\n    });\n  }\n\n  if (oktaUnderscore.isArray(options.input) && options.type !== 'list') {\n    oktaUnderscore.each(options.input, function (input) {\n      validateInput(input, model);\n    });\n  }\n\n  const keys = oktaUnderscore.keys(options);\n\n  const intersection = oktaUnderscore.intersection(keys, ALL_OPTIONS);\n\n  if (oktaUnderscore.size(intersection) !== oktaUnderscore.size(options)) {\n    const fields = oktaUnderscore.clone(ALL_OPTIONS);\n\n    Logger.warn('Invalid input parameters', oktaUnderscore.without(keys, ...fields), options);\n  }\n}\n\nfunction generateInputOptions(options, form, createFn) {\n  options = oktaUnderscore.clone(options);\n\n  if (oktaUnderscore.contains(['list', 'group'], options.type)) {\n    options.params = oktaUnderscore.defaults({\n      create: createFn,\n      inputs: oktaUnderscore.map(oktaUnderscore.isArray(options.input) ? options.input : [options.input], function (input) {\n        return oktaUnderscore.first(generateInputOptions(input, form, createFn));\n      })\n    }, options.params || {});\n    delete options.input;\n  }\n\n  const inputs = oktaUnderscore.isArray(options.input) ? oktaUnderscore.clone(options.input) : [options];\n  return oktaUnderscore.map(inputs, function (input) {\n    const target = oktaUnderscore.defaults({\n      model: form.model\n    }, input, oktaUnderscore.omit(options, 'input', 'inputs'), form.options, {\n      id: oktaUnderscore.uniqueId('input'),\n      readOnly: form.isReadOnly(),\n      read: form.hasReadMode()\n    });\n\n    if (form.isReadOnly()) {\n      target.read = target.readOnly = true;\n    }\n\n    return target;\n  });\n}\n\nvar FormUtil = {\n  LABEL_OPTIONS: LABEL_OPTIONS,\n  CONTAINER_OPTIONS: CONTAINER_OPTIONS,\n  WRAPPER_OPTIONS: WRAPPER_OPTIONS,\n  INPUT_OPTIONS: INPUT_OPTIONS,\n  generateInputOptions: generateInputOptions,\n  changeEventString: function (fieldNames) {\n    return 'change:' + fieldNames.join(' change:');\n  },\n  createReadFormButton: function (options) {\n    let action;\n    let text;\n    let ariaLabel;\n\n    if (options.type === 'cancel') {\n      text = ariaLabel = StringUtil.localize('oform.cancel', 'courage');\n\n      action = function () {\n        this.model.trigger('form:cancel');\n      };\n    } else {\n      text = StringUtil.localize('oform.edit', 'courage');\n      ariaLabel = text + ' ' + options.formTitle;\n\n      action = function () {\n        this.model.set('__edit__', true);\n      };\n    }\n\n    return BaseView.extend({\n      tagName: 'a',\n      className: options.className,\n      attributes: {\n        href: '#',\n        'aria-label': ariaLabel\n      },\n      // TODO: refactor to enforce precompiled templates OKTA-309852\n      // eslint-disable-next-line @okta/okta-ui/no-bare-templates\n      template: function () {\n        return oktaUnderscore.escape(text);\n      },\n      events: {\n        click: function (e) {\n          e.preventDefault();\n          action.call(this);\n        }\n      }\n    });\n  },\n  createButton: function (options) {\n    options = oktaUnderscore.clone(options);\n\n    switch (options.type) {\n      case 'save':\n        oktaUnderscore.defaults(options, {\n          className: 'button-primary'\n        });\n\n        break;\n\n      case 'cancel':\n        oktaUnderscore.defaults(options, {\n          className: 'button-clear',\n          text: StringUtil.localize('oform.cancel', 'courage'),\n          action: function () {\n            this.model.trigger('form:cancel');\n          }\n        });\n\n        break;\n\n      case 'previous':\n        oktaUnderscore.defaults(options, {\n          text: StringUtil.localize('oform.previous', 'courage'),\n          action: function () {\n            this.model.trigger('form:previous');\n          }\n        });\n\n        break;\n    }\n\n    return createButton(options);\n  },\n  validateInput: validateInput,\n\n  /**\n   * Applies a show-when logic on a view instance.\n   * The show-when is a map of a model field name -> a boolean or a function that returns a boolean.\n   * The view will toggle based on the field value.\n   *\n   * @param  {Okta.View} view a view instance that has a this.model attached to it\n   * @param  {Object} showWhen\n   */\n  applyShowWhen: function (view, showWhen) {\n    const toggleAndResize = function (bool) {\n      return function () {\n        // The `toggle` is here since an event may be triggered before the el is in the DOM\n        // and in that case slide events may not function as expected.\n        view.$el.toggle(bool);\n        view.model.trigger('form:resize');\n      };\n    };\n\n    ViewUtil.applyDoWhen(view, decorateDoWhen(showWhen), function (bool, options) {\n      if (!options.animate) {\n        view.$el.toggle(bool);\n      } else {\n        view.$el['slide' + (bool ? 'Down' : 'Up')](200, toggleAndResize(bool));\n      }\n    });\n  },\n  applyToggleWhen: function (view, toggleWhen) {\n    ViewUtil.applyDoWhen(view, decorateDoWhen(toggleWhen), function (bool, options) {\n      view.$el.toggle(bool);\n      view.model.trigger('form:resize');\n\n      if (options.animate) {\n        view.render();\n      }\n    });\n  }\n};\n\nexport { FormUtil as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport Logger from '../../../util/Logger.js';\nimport Util from '../../../util/Util.js';\nimport StringUtil from '../../../util/StringUtil.js';\nimport BaseView from '../../BaseView.js';\n\nconst isABaseView = Util.isABaseView;\n/**\n * @class InputContainer\n * @private\n *\n * TODO: OKTA-80796\n * Attention: Please change with caution since this is used in other places\n */\n\nvar InputContainer = BaseView.extend({\n  attributes: function () {\n    return {\n      'data-se': 'o-form-input-container'\n    };\n  },\n  className: function () {\n    let className = 'o-form-input';\n\n    if (this.options.wide) {\n      className += ' o-form-wide';\n    }\n\n    if (oktaUnderscore.contains([1, 2, 3, 4], this.options.multi)) {\n      className += ' o-form-multi-input-' + this.options.multi;\n\n      if (oktaUnderscore.isArray(this.options.input)) {\n        const inputGroup = oktaUnderscore.find(this.options.input, function (input) {\n          return oktaUnderscore.contains(['text+select', 'select+text'], input.options.type);\n        });\n\n        inputGroup && (className += ' o-form-multi-input-group-' + this.options.multi);\n      }\n    }\n\n    return className;\n  },\n  _getNames: function () {\n    const names = oktaUnderscore.isArray(this.options.name) ? this.options.name : [this.options.name];\n    /*eslint complexity: 0 */\n\n    if (this.options.type === 'group') {\n      names.push.apply(names, oktaUnderscore.pluck(this.options.input[0].options.params.inputs, 'name'));\n    } else if (oktaUnderscore.isArray(this.options.name)) {\n      if (this.options.input && this.options.input.options && this.options.input.options.name) {\n        names.push(this.options.input.options.name);\n      }\n    } else if (this.options.input) {\n      if (oktaUnderscore.isArray(this.options.input)) {\n        oktaUnderscore.each(this.options.input, function (inputItem) {\n          names.push(inputItem.options.name);\n        });\n      } else {\n        names.push(this.options.input.options.name);\n      }\n    }\n\n    return oktaUnderscore.uniq(oktaUnderscore.compact(names));\n  },\n  _getInputElement: function () {\n    // NOTE: this.options.input is sometimes not an array under test\n    const lastInput = Array.isArray(this.options.input) ? oktaUnderscore.last(this.options.input) : this.options.input; // FIXME: replace with _.get\n\n    const id = lastInput && lastInput.options && lastInput.options.inputId;\n    const el = id ? this.$('#' + id) : null;\n    return el && el.length ? el : null;\n  },\n  constructor: function () {\n    /* eslint max-statements: [2, 18] */\n    BaseView.apply(this, arguments);\n    const explainTop = this.options['explain-top'] && this.options['label-top'];\n\n    if (this.options.input) {\n      if (oktaUnderscore.isArray(this.options.input)) {\n        oktaUnderscore.each(this.options.input, function (inputItem) {\n          this.add(inputItem, {\n            prepend: !explainTop\n          });\n        }, this);\n      } else {\n        this.add(this.options.input, {\n          prepend: !explainTop\n        });\n      }\n    }\n\n    this.__setExplain(this.options);\n\n    const names = this._getNames();\n\n    this.listenTo(this.model, 'form:field-error', function (name, errors) {\n      if (oktaUnderscore.contains(names, name)) {\n        this.__setError(errors, explainTop);\n      }\n    });\n    this.listenTo(this.model, 'form:clear-errors change:' + names.join(' change:'), this.__clearError);\n    this.listenTo(this.model, 'form:clear-error:' + names.join(' form:clear-error:'), this.__clearError);\n\n    if (oktaUnderscore.resultCtx(this.options, 'autoRender', this)) {\n      this.listenTo(this.model, 'change:' + this.options.name, this.render);\n    }\n\n    this.__errorState = false;\n  },\n\n  /**\n   * Populates the explain on the input container (if it exists). There are\n   * two ways to use this:\n   * 1. Raw text - wraps in the correct html template\n   * 2. Custom html\n   *    - pass in a View class (preferred)\n   *    - pass in an instance of a View\n   * Some additional notes:\n   * - You can pass a function that returns any of the above\n   * - This maintains support for the deprecated \"customExplain\" property\n   *   that was used before. This pattern is superseded by explain, so use\n   *   that instead.\n   * @private\n   */\n  __setExplain: function (options) {\n    let explain; // Deprecated - if you need custom html, use explain instead\n\n    if (options.customExplain) {\n      Logger.warn('Deprecated - use explain instead of customExplain');\n      this.add(this.options.customExplain);\n      return;\n    }\n\n    explain = options.explain;\n\n    if (oktaUnderscore.isFunction(explain) && !isABaseView(explain)) {\n      explain = oktaUnderscore.resultCtx(this.options, 'explain', this);\n    }\n\n    if (!explain) {\n      return;\n    }\n\n    if (isABaseView(explain)) {\n      this.template = _Handlebars2.template({\n        \"compiler\": [8, \">= 4.3.0\"],\n        \"main\": function (container, depth0, helpers, partials, data) {\n          return \"<p class=\\\"o-form-explain\\\"></p>\";\n        },\n        \"useData\": true\n      });\n      this.add(explain, ' > .o-form-explain');\n    } else {\n      this.template = _Handlebars2.template({\n        \"compiler\": [8, \">= 4.3.0\"],\n        \"main\": function (container, depth0, helpers, partials, data) {\n          var helper,\n              lookupProperty = container.lookupProperty || function (parent, propertyName) {\n            if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n              return parent[propertyName];\n            }\n\n            return undefined;\n          };\n\n          return \"<p class=\\\"o-form-explain\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"explain\") || (depth0 != null ? lookupProperty(depth0, \"explain\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n            \"name\": \"explain\",\n            \"hash\": {},\n            \"data\": data,\n            \"loc\": {\n              \"start\": {\n                \"line\": 1,\n                \"column\": 26\n              },\n              \"end\": {\n                \"line\": 1,\n                \"column\": 37\n              }\n            }\n          }) : helper)) + \"</p>\";\n        },\n        \"useData\": true\n      });\n    }\n  },\n\n  /**\n   * Highlight the input as invalid (validation failed)\n   * Adds an explaination message of the error\n   * @private\n   */\n  __setError: function (errors, explainTop) {\n    this.__errorState = true;\n    this.$el.addClass('o-form-has-errors');\n\n    const errorId = oktaUnderscore.uniqueId('input-container-error');\n\n    const html = this.__getHTMLForError(oktaUnderscore.flatten(errors), errorId);\n\n    const $elExplain = this.$('.o-form-explain').not('.o-form-input-error').first();\n\n    if ($elExplain.length && !explainTop) {\n      $elExplain.before(html);\n    } else {\n      this.$el.append(html);\n    }\n\n    const target = this._getInputElement() || this.$el;\n    target.attr('aria-describedby', errorId);\n    target.attr('aria-invalid', true);\n  },\n  __getHTMLForError: function (errors, errorId) {\n    const tmpl = _Handlebars2.template({\n      \"compiler\": [8, \">= 4.3.0\"],\n      \"main\": function (container, depth0, helpers, partials, data) {\n        var helper,\n            alias1 = depth0 != null ? depth0 : container.nullContext || {},\n            alias2 = container.hooks.helperMissing,\n            alias3 = \"function\",\n            alias4 = container.escapeExpression,\n            lookupProperty = container.lookupProperty || function (parent, propertyName) {\n          if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n            return parent[propertyName];\n          }\n\n          return undefined;\n        };\n\n        return \"<p id=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"errorId\") || (depth0 != null ? lookupProperty(depth0, \"errorId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n          \"name\": \"errorId\",\n          \"hash\": {},\n          \"data\": data,\n          \"loc\": {\n            \"start\": {\n              \"line\": 1,\n              \"column\": 7\n            },\n            \"end\": {\n              \"line\": 1,\n              \"column\": 18\n            }\n          }\n        }) : helper)) + \"\\\" class=\\\"okta-form-input-error o-form-input-error o-form-explain\\\" role=\\\"alert\\\"><span class=\\\"icon icon-16 error-16-small\\\" role=\\\"img\\\" aria-label=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"iconLabel\") || (depth0 != null ? lookupProperty(depth0, \"iconLabel\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n          \"name\": \"iconLabel\",\n          \"hash\": {},\n          \"data\": data,\n          \"loc\": {\n            \"start\": {\n              \"line\": 1,\n              \"column\": 162\n            },\n            \"end\": {\n              \"line\": 1,\n              \"column\": 175\n            }\n          }\n        }) : helper)) + \"\\\"></span>\" + alias4((helper = (helper = lookupProperty(helpers, \"text\") || (depth0 != null ? lookupProperty(depth0, \"text\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n          \"name\": \"text\",\n          \"hash\": {},\n          \"data\": data,\n          \"loc\": {\n            \"start\": {\n              \"line\": 1,\n              \"column\": 184\n            },\n            \"end\": {\n              \"line\": 1,\n              \"column\": 192\n            }\n          }\n        }) : helper)) + \"</p>\";\n      },\n      \"useData\": true\n    });\n\n    const iconLabel = StringUtil.localize('oform.error.icon.ariaLabel', 'courage'); // 'Error'\n\n    if (this.options.multirowError) {\n      let html = '';\n      errors.forEach(error => {\n        html = html + tmpl({\n          errorId: errorId,\n          iconLabel: iconLabel,\n          text: error\n        });\n      });\n      return html;\n    }\n\n    return tmpl({\n      errorId: errorId,\n      iconLabel: iconLabel,\n      text: errors.join(', ')\n    });\n  },\n\n  /**\n   * Un-highlight the input and remove explaination text\n   * @private\n   */\n  __clearError: function () {\n    if (this.__errorState) {\n      this.$('.o-form-input-error').remove();\n      const target = this._getInputElement() || this.$el;\n      target.attr('aria-describedby', null);\n      target.attr('aria-invalid', null);\n      this.$el.removeClass('o-form-has-errors');\n      this.__errorState = false;\n\n      oktaUnderscore.defer(() => {\n        this.model.trigger('form:resize');\n      });\n    }\n  },\n  focus: function () {\n    this.each(function (view) {\n      if (view.focus) {\n        return view.focus();\n      }\n    });\n    return this;\n  }\n});\n\nexport { InputContainer as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport InputRegistry from './InputRegistry.js';\n\n/* eslint complexity: 0, max-statements: 0 */\n\nfunction createInput(Input, options) {\n  if (InputRegistry.isBaseInput(Input)) {\n    return Input.prototype ? new Input(oktaUnderscore.omit(options, 'input')) : Input;\n  } else {\n    return Input;\n  }\n}\n\nfunction create(options) {\n  options = oktaUnderscore.clone(options);\n\n  if (options.input) {\n    return createInput(options.input, options);\n  }\n\n  const Input = InputRegistry.get(options);\n\n  if (!Input) {\n    throw new Error('unknown input: ' + options.type);\n  }\n\n  return createInput(Input, options);\n}\n\nfunction supports(options) {\n  return !!options.input || !!InputRegistry.get(options);\n}\n\nvar InputFactory = {\n  create: create,\n  supports: supports\n};\n\nexport { InputFactory as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport 'qtip';\nimport BaseView from '../../BaseView.js';\n\n/**\n * @class InputLabel\n * @extends {Okta.View}\n * @private\n * The input's label.\n */\nvar InputLabel = BaseView.extend({\n  className: 'okta-form-label o-form-label',\n  attributes: {\n    'data-se': 'o-form-label'\n  },\n\n  /**\n   * @constructor\n   * @param  {Object} options options hash\n   * @param  {String} [options.type] Input type\n   * @param  {String|Function} [options.label] Label text\n   * @param  {String|Function} [options.sublabel] Sub label text\n   * @param  {String|Function} [options.tooltip] Tooltip text\n   * @param  {String|Function} [options.inputId] Id of the inputs\n   * @param  {String|Function} [options.id] Id of the inputs\n   */\n  constructor: function (options) {\n    /* eslint max-statements: [2, 16] complexity: [2, 7]*/\n    oktaUnderscore.defaults(options, {\n      inputId: options.id\n    });\n\n    delete options.id;\n    BaseView.apply(this, arguments);\n  },\n  // standardLabel: space added in the end of the label to avoid selecting label text with double click in read mode\n  template: _Handlebars2.template({\n    \"1\": function (container, depth0, helpers, partials, data) {\n      return \"<legend>\";\n    },\n    \"3\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<label for=\\\"\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"inputId\") || (depth0 != null ? lookupProperty(depth0, \"inputId\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"inputId\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 61\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 72\n          }\n        }\n      }) : helper)) + \"\\\"></label>\";\n    },\n    \"5\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return container.escapeExpression((helper = (helper = lookupProperty(helpers, \"label\") || (depth0 != null ? lookupProperty(depth0, \"label\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"label\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 116\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 125\n          }\n        }\n      }) : helper));\n    },\n    \"7\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          alias2 = container.hooks.helperMissing,\n          alias3 = \"function\",\n          alias4 = container.escapeExpression,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<label for=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"inputId\") || (depth0 != null ? lookupProperty(depth0, \"inputId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"inputId\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 167\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 178\n          }\n        }\n      }) : helper)) + \"\\\">\" + alias4((helper = (helper = lookupProperty(helpers, \"label\") || (depth0 != null ? lookupProperty(depth0, \"label\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"label\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 180\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 189\n          }\n        }\n      }) : helper)) + \"&nbsp;</label>\";\n    },\n    \"9\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<span class=\\\"o-form-explain\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"sublabel\") || (depth0 != null ? lookupProperty(depth0, \"sublabel\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"sublabel\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 256\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 268\n          }\n        }\n      }) : helper)) + \"</span>\";\n    },\n    \"11\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<span class=\\\"o-form-tooltip icon-16 icon-only form-help-16\\\" title=\\\"\" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? lookupProperty(depth0, \"tooltip\") : depth0) != null ? lookupProperty(stack1, \"text\") : stack1, depth0)) + \"\\\"></span>\";\n    },\n    \"13\": function (container, depth0, helpers, partials, data) {\n      return \"</legend>\";\n    },\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"group\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(1, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 0\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 28\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"_isLabelView\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(3, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 28\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 89\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"_isRadioOrCheckbox\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(5, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 89\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 132\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"_standardLabel\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(7, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 132\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 210\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"sublabel\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(9, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 210\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 282\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"tooltip\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(11, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 282\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 397\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"group\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(13, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 397\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 426\n          }\n        }\n      })) != null ? stack1 : \"\");\n    },\n    \"useData\": true\n  }),\n  getTemplateData: function () {\n    const options = {\n      label: ''\n    };\n\n    oktaUnderscore.each(['inputId', 'label', 'sublabel', 'tooltip', 'group'], function (option) {\n      options[option] = oktaUnderscore.resultCtx(this.options, option, this);\n    }, this);\n\n    if (this._isLabelView(options.label)) {\n      options._isLabelView = true;\n    } else if (oktaUnderscore.contains(['radio', 'checkbox'], this.options.type) || !options.label) {\n      options._isRadioOrCheckbox = true;\n    } else {\n      options._standardLabel = true;\n    }\n\n    if (options.tooltip) {\n      if (oktaUnderscore.isString(options.tooltip)) {\n        options.tooltip = {\n          text: options.tooltip\n        };\n      }\n    }\n\n    return options;\n  },\n  _isLabelView: function (label) {\n    return !oktaUnderscore.isUndefined(label) && label instanceof BaseView;\n  },\n  postRender: function () {\n    const options = this.getTemplateData();\n\n    if (this._isLabelView(options.label)) {\n      this.removeChildren();\n      this.add(options.label, 'label');\n    }\n\n    if (options.tooltip) {\n      this.$('.o-form-tooltip').qtip(oktaUnderscore.extend({\n        style: {\n          classes: 'qtip-custom qtip-shadow'\n        },\n        position: {\n          my: window.okta && window.okta.theme === 'dstheme' ? 'bottom center' : 'bottom left',\n          at: 'top center'\n        },\n        hide: {\n          fixed: true\n        },\n        show: {\n          delay: 0\n        }\n      }, options.tooltip.options));\n    }\n  }\n});\n\nexport { InputLabel as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\n\nconst registry = {};\n\nfunction isBaseInput(input) {\n  if (oktaUnderscore.isFunction(input)) {\n    return oktaUnderscore.isFunction(input.prototype.editMode) && oktaUnderscore.isFunction(input.prototype.readMode);\n  } else {\n    return oktaUnderscore.isObject(input) && oktaUnderscore.isFunction(input.editMode) && oktaUnderscore.isFunction(input.readMode);\n  }\n}\n/**\n * @class module:Okta.internal.views.forms.helpers.InputRegistry\n */\n\n\nvar InputRegistry = /** @lends module:Okta.internal.views.forms.helpers.InputRegistry */\n{\n  isBaseInput: isBaseInput,\n\n  /**\n   * Register a form input\n   * @param {String} type string identifier for the input\n   * @param {BaseInput} input the input to register\n   * @return {void}\n   */\n  register: function (type, input) {\n    registry[type] = input;\n  },\n\n  /**\n   * Get a form input by type\n   * @param {Object} options input definition\n   * @param {String} options.type string identifier for the input\n   * @return {BaseInput} a matching input\n   */\n  get: function (options) {\n    const input = registry[options.type];\n    return input && (isBaseInput(input) ? input : input(options));\n  },\n\n  /**\n   * Unregister an input type\n   * @param {String} type\n   */\n  unregister: function (type) {\n    delete registry[type];\n  }\n};\n\nexport { InputRegistry as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport BaseView from '../../BaseView.js';\nimport FormUtil from './FormUtil.js';\n\nfunction runCallback(callback, field) {\n  callback.apply(this, oktaUnderscore.map(field.split(/\\s+/), function (field) {\n    return this.model.get(field);\n  }, this));\n}\n\nfunction runIf(fn, ctx) {\n  if (oktaUnderscore.isFunction(fn)) {\n    fn.call(ctx);\n  }\n}\n/**\n * @class InputWrapper\n * @extends Okta.View\n * @private\n * The outer wrapper that warps the label and the input container\n */\n\n\nvar InputWrapper = BaseView.extend({\n  tagName: function () {\n    if (this.options.group) {\n      return 'fieldset';\n    }\n\n    return 'div';\n  },\n  className: function () {\n    let className = 'o-form-fieldset';\n\n    if (this.options['label-top']) {\n      className += ' o-form-label-top';\n    }\n\n    if (this.options.readOnly) {\n      className += ' o-form-read-mode';\n    }\n\n    return className;\n  },\n  attributes: function () {\n    return {\n      'data-se': this.options['data-se'] || 'o-form-fieldset'\n    };\n  },\n\n  /**\n   * @constructor\n   * @param  {Object} options options hash\n   * @param  {Object} [options.events]\n   * @param  {Object} [options.bindings]\n   * @param  {Object} [options.showWhen]\n   * @param  {Function} [options.initialize] post initialize callback\n   * @param  {Function} [options.render] post render callback\n   */\n  constructor: function (options) {\n    if (options.className) {\n      this.inputWrapperClassName = this.className;\n      this.optionsClassName = options.className;\n\n      options.className = function () {\n        return oktaUnderscore.result(this, 'inputWrapperClassName', '') + ' ' + oktaUnderscore.result(this, 'optionsClassName');\n      };\n    }\n\n    BaseView.apply(this, arguments);\n\n    oktaUnderscore.each(options.events || {}, function (callback, event) {\n      this.listenTo(this.model, event, callback);\n    }, this);\n\n    oktaUnderscore.each(options.bindings || {}, function (callback, field) {\n      this.listenTo(this.model, FormUtil.changeEventString(field.split(/\\s+/)), oktaUnderscore.bind(runCallback, this, callback, field));\n    }, this);\n\n    FormUtil.applyShowWhen(this, options.showWhen);\n    FormUtil.applyToggleWhen(this, options.toggleWhen);\n    runIf(options.initialize, this);\n  },\n  postRender: function () {\n    oktaUnderscore.each(this.options.bindings || {}, runCallback, this);\n\n    runIf(this.options.render, this);\n  },\n\n  /**\n   * @return {InputLabel}\n   */\n  getLabel: function () {\n    return this.size() > 1 ? this.at(0) : null;\n  },\n\n  /**\n   * @deprecated ambiguous naming, use {@link #getInputContainer}\n   */\n  getInput: function () {\n    return this.getInputContainer();\n  },\n\n  /**\n   * @return {InputContainer}\n   */\n  getInputContainer: function () {\n    return this.at(this.size() > 1 ? 1 : 0);\n  },\n\n  /**\n   * @return {BaseInput[]}\n   */\n  getInputs: function () {\n    return this.getInputContainer().toArray();\n  },\n  focus: function () {\n    return this.getInput().focus();\n  }\n});\n\nexport { InputWrapper as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport StringUtil from '../../../util/StringUtil.js';\nimport BooleanSelect from '../inputs/BooleanSelect.js';\nimport TextBoxSet from '../inputs/TextBoxSet.js';\nimport EnumTypeHelper from './EnumTypeHelper.js';\n\n/* eslint max-statements: 0, max-params: 0 */\n\nfunction convertStringToNumber(string) {\n  const number = StringUtil.parseFloat(string);\n  return string === '' ? null : number;\n} // converts possibleValues to choices\n// [a, b, c] => {a: a, b: b, c: c}\n\n\nfunction getChoices(values) {\n  return oktaUnderscore.object(values, values);\n}\n\nfunction isArray(type) {\n  return type && type.indexOf('array') >= 0;\n} // A schema property may have an objectName either\n// at the root level or nested in the items object\n\n\nfunction getObjectName(schemaProp) {\n  const items = schemaProp.get('items');\n\n  if (items) {\n    return items.objectName;\n  }\n\n  return schemaProp.get('objectName');\n}\n/**\n * Checks the validity of a schema property.\n *\n * @param {SchemaProperty} [schemaProp] A schema property backbone model\n * @param {Object} [values] An object of the form { key: [value1, value2]}\n * @return {Boolean} true/false\n * @private\n */\n\n\nfunction isValidSchemaProp(schemaProp, values) {\n  const objectName = getObjectName(schemaProp);\n  const results = values[objectName]; // a schema property that references an empty list of values\n  // Im looking at you, google apps.\n\n  if (objectName && oktaUnderscore(results).isEmpty()) {\n    return false;\n  }\n\n  return true;\n} // Maps each __displayType__ to a basic set of inputOptions.\n\n\nfunction defaultOptions(property) {\n  const type = property.get('__displayType__');\n  const values = property.get('__possibleValues__');\n  const name = property.get('name');\n  const title = property.get('title');\n  /* eslint complexity: [2, 24] */\n\n  const inputOptions = {\n    type: 'text',\n    name: name,\n    label: title || name\n  }; // @see customOptions for enum complex \"object\" type,\n  // a.k.a \"object\" or \"arrayofobject\" type has enum values defined.\n  // Other cases (e.g., nested object type) are not support yet.\n\n  switch (type) {\n    case 'arrayofstring':\n      inputOptions.input = TextBoxSet;\n      inputOptions.params = {\n        itemType: 'string'\n      };\n      break;\n\n    case 'arrayofnumber':\n      inputOptions.input = TextBoxSet;\n      inputOptions.params = {\n        itemType: 'number'\n      };\n      break;\n\n    case 'arrayofinteger':\n      inputOptions.input = TextBoxSet;\n      inputOptions.params = {\n        itemType: 'integer'\n      };\n      break;\n\n    case 'arrayofobject':\n      inputOptions.input = TextBoxSet;\n      inputOptions.params = {\n        itemType: property.get('items').type\n      };\n      break;\n\n    case 'arrayofref-id':\n      inputOptions.input = TextBoxSet;\n      inputOptions.params = {\n        itemType: property.get('items').format\n      };\n      break;\n\n    case 'boolean':\n      inputOptions.input = BooleanSelect;\n      break;\n\n    case 'integer':\n    case 'number':\n      inputOptions.to = convertStringToNumber;\n      break;\n\n    case 'reference':\n      inputOptions.type = 'select';\n      inputOptions.options = getChoices(values);\n      break;\n\n    case 'image':\n      inputOptions.readOnly = true;\n\n      inputOptions.from = function (value) {\n        return oktaUnderscore.isEmpty(value) ? '' : StringUtil.localize('user.profile.image.image_set', 'courage'); // TODO\n      };\n\n      break;\n\n    case 'password':\n      inputOptions.type = 'password';\n      break;\n\n    case 'date':\n      inputOptions.type = 'date';\n      break;\n\n    case 'uri':\n    case 'country-code':\n    case 'country_code':\n    case 'language-code':\n    case 'language_code':\n    case 'email':\n    case 'locale':\n    case 'timezone':\n    case 'string':\n    case 'object':\n      // default input options\n      break;\n\n    default:\n      throw new Error(`unknown type: ${type}`);\n  }\n\n  return inputOptions;\n} // Sets nonbasic inputOptions, such as an array with possible values\n\n\nfunction customOptions(property) {\n  let inputOptions = {};\n  const name = property.get('name');\n  const type = property.get('__displayType__');\n  const values = property.get('__possibleValues__');\n  const prefix = property.get('__fieldNamePrefix__');\n\n  if (prefix) {\n    inputOptions.name = prefix + name;\n    inputOptions.errorField = name;\n  }\n\n  if (property.isEnumType()) {\n    const configs = {\n      displayType: type,\n      title: property.get('title'),\n      enumValues: property.getEnumValues()\n    };\n    inputOptions = oktaUnderscore.extend({}, EnumTypeHelper.getEnumInputOptions(configs), inputOptions);\n  } else if (isArray(type) && values) {\n    inputOptions.type = 'checkboxset';\n    inputOptions.input = null;\n    inputOptions.options = getChoices(values);\n  }\n\n  return inputOptions;\n}\n\nfunction augmentSchemaProp(schemaProp, possibleValues, profile) {\n  const name = schemaProp.get('name');\n  const prefix = profile.__nestedProperty__;\n  let defaultValues = possibleValues[name];\n  const userValues = profile.get(name);\n  let values; // If API responds with a field name that differs from the form-field name\n  // example: Model's 'profile.username' vs. server's 'username'\n\n  if (prefix) {\n    schemaProp.set('__fieldNamePrefix__', prefix);\n  } // case 1: objectName - fixed list of values are set for the input\n\n\n  const fixedValues = possibleValues[getObjectName(schemaProp)]; // case 2: name only - default list of values are provided, user can add more\n  // TODO: this case does not yet exist, so it is not tested\n\n  if (defaultValues && userValues) {\n    defaultValues = oktaUnderscore.union(defaultValues, userValues);\n  } // If both fixed and default values exist,\n  // take the fixed values unless they are empty\n\n\n  if (fixedValues && fixedValues.length) {\n    values = fixedValues;\n  } else if (defaultValues && defaultValues.length) {\n    values = defaultValues;\n  }\n\n  schemaProp.set('__possibleValues__', values);\n}\n\nfunction augmentSchemaProps(schemaProps, possibleValues, profile) {\n  schemaProps.each(function (schemaProp) {\n    augmentSchemaProp(schemaProp, possibleValues, profile);\n  });\n  return schemaProps;\n}\n/**\n * Remove invalid schema properties from a collection\n *\n * @param {SchemaProperties Collection} [properties] A collection of schema properties\n * @param {Object} [values] An object of the form { key: [value1, value2]}\n * @return {Array} An array of valid schema models, this can be used to reset\n * a schema properties collection for example.\n * @private\n */\n\n\nfunction cleanSchema(properties, values) {\n  return properties.filter(function (schema) {\n    return isValidSchemaProp(schema, values);\n  });\n}\n\nvar SchemaFormFactory = {\n  /**\n   * Creates the options hash for BaseForm.addInput from a prepared schema\n   * property.\n   *\n   * @param {Okta.Model} [preparedSchemaProp] A schema property backbone model\n   * that has been standardized by the prepareSchema method.\n   * @return {Object} An object containing all of the options needed by\n   * BaseForm's addInput()\n   */\n  createInputOptions: function (preparedSchemaProp) {\n    const custom = customOptions(preparedSchemaProp);\n    const standard = defaultOptions(preparedSchemaProp); // underscore did not support nested extend\n    // https://github.com/jashkenas/underscore/issues/162\n\n    if (custom.params && standard.params) {\n      custom.params = oktaUnderscore.defaults(custom.params, standard.params);\n    }\n\n    return oktaUnderscore.defaults(custom, standard);\n  },\n  hasValidSchemaProps: function (schemaProps, possibleValues) {\n    if (oktaUnderscore.isEmpty(schemaProps)) {\n      return false;\n    }\n\n    const validSchema = cleanSchema(schemaProps, possibleValues);\n    return !!validSchema.length;\n  },\n\n  /**\n   * This method is responsible for preparing a collection for the form\n   * factory to use by putting all of the information to create an input\n   * into the schema property and removing invalid properties.\n   * The typical UD form takes 3 models:\n   * The data model has the input values.\n   * The schema model describes which input to use, such as a textbox or a checkbox.\n   * The possible values model provide a list of default options to display, for example in a drop down menu.\n   *\n   * @param {SchemaProperty Collection} [schemaProps] A schema property backbone model.\n   * @param {Object} [possibleValues] An object of the form { key: [value1, value2]}\n   * @param {Okta.Model} [profile] A backbone model containing the property described by the schema property.\n   * @return {SchemaProperty Collection} A schema property collection with standardized models.\n   * The standard schema model adds a couple of additional private properties to\n   * allow the form factory to reference lookup values or name prefixes without going to a second model.\n   */\n  prepareSchema: function (schemaProps, possibleValues, profile) {\n    schemaProps.reset(cleanSchema(schemaProps, possibleValues));\n    return augmentSchemaProps(schemaProps, possibleValues, profile);\n  },\n\n  /**\n   * `prepareSchema` will reset the property list which may not be necessary at some case.\n   * like when setting default value for schema properties.\n   * (more detail about such case @see wiki UX, App+Entitlements+for+Provisioning)\n   *\n   * @param { }\n   * @return {String}\n   */\n  augmentSchemaProps: augmentSchemaProps,\n  augmentSchemaProp: augmentSchemaProp\n};\n\nexport { SchemaFormFactory as default };\n","import Select from './Select.js';\n\nconst options = {\n  undefined: 'undefined',\n  true: 'true',\n  false: 'false'\n};\n\nconst from = function (val) {\n  if (val) {\n    return 'true';\n  }\n\n  if (val === false) {\n    return 'false';\n  }\n\n  return 'undefined';\n};\n\nconst to = function (val) {\n  switch (val) {\n    case 'undefined':\n      return null;\n\n    case 'true':\n      return true;\n\n    case 'false':\n      return false;\n\n    default:\n      return null;\n  }\n};\n\nvar BooleanSelect = Select.extend({\n  initialize: function () {\n    this.options.options = options;\n    this.options.from = from;\n    this.options.to = to;\n  }\n});\n\nexport { BooleanSelect as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport Keys from '../../../util/Keys.js';\nimport '../../../vendor/plugins/jquery.custominput.js';\nimport BaseInput from '../BaseInput.js';\n\nvar CheckBox = BaseInput.extend({\n  template: _Handlebars2.template({\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          alias2 = container.hooks.helperMissing,\n          alias3 = \"function\",\n          alias4 = container.escapeExpression,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<input type=\\\"checkbox\\\" name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"name\") || (depth0 != null ? lookupProperty(depth0, \"name\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"name\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 29\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 37\n          }\n        }\n      }) : helper)) + \"\\\" id=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"inputId\") || (depth0 != null ? lookupProperty(depth0, \"inputId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"inputId\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 43\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 54\n          }\n        }\n      }) : helper)) + \"\\\"/><label for=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"inputId\") || (depth0 != null ? lookupProperty(depth0, \"inputId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"inputId\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 69\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 80\n          }\n        }\n      }) : helper)) + \"\\\" data-se-for-name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"name\") || (depth0 != null ? lookupProperty(depth0, \"name\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"name\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 100\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 108\n          }\n        }\n      }) : helper)) + \"\\\">\" + alias4((helper = (helper = lookupProperty(helpers, \"placeholder\") || (depth0 != null ? lookupProperty(depth0, \"placeholder\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"placeholder\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 110\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 125\n          }\n        }\n      }) : helper)) + \"</label>\";\n    },\n    \"useData\": true\n  }),\n\n  /**\n   * @Override\n   */\n  events: {\n    'change :checkbox': 'update',\n    keyup: function (e) {\n      e.preventDefault();\n\n      if (Keys.isSpaceBar(e)) {\n        this.$(':checkbox').click();\n      } else if (Keys.isEnter(e)) {\n        this.model.trigger('form:save');\n      }\n    }\n  },\n\n  /**\n   * @Override\n   */\n  editMode: function () {\n    let placeholder = oktaUnderscore.resultCtx(this.options, 'placeholder', this);\n\n    if (placeholder === '') {\n      placeholder = oktaUnderscore.resultCtx(this.options, 'label', this);\n    } else if (placeholder === false) {\n      placeholder = '';\n    }\n\n    this.$el.html(this.template(oktaUnderscore.extend(oktaUnderscore.omit(this.options, 'placeholder'), {\n      placeholder: placeholder\n    })));\n    const $input = this.$(':checkbox');\n    $input.prop('checked', this.getModelValue() || false);\n    this.$('input').customInput();\n    this.model.trigger('form:resize');\n    return this;\n  },\n\n  /**\n   * @Override\n   */\n  readMode: function () {\n    this.editMode();\n    this.$(':checkbox').prop('disabled', true);\n    return this;\n  },\n\n  /**\n   * @Override\n   */\n  val: function () {\n    return this.$(':checkbox').prop('checked');\n  },\n\n  /**\n   * @Override\n   */\n  focus: function () {\n    return this.$(':checkbox').focus();\n  }\n});\n\nexport { CheckBox as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport SchemaUtils from '../../../util/SchemaUtil.js';\nimport StringUtil from '../../../util/StringUtil.js';\nimport Time from '../../../util/Time.js';\nimport BaseView from '../../BaseView.js';\n\nconst isVowel = function (string) {\n  return /^[aeiou]/.test(string);\n};\n\nconst getArticle = function (string) {\n  return isVowel(string) ? 'an' : 'a';\n};\n\nconst template = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<div class=\\\"o-form-input-group-controls\\\"><span class=\\\"input-fix o-form-control\\\"><input type=\\\"text\\\" class=\\\"o-form-text\\\" name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"key\") || (depth0 != null ? lookupProperty(depth0, \"key\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"key\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 125\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 132\n        }\n      }\n    }) : helper)) + \"\\\" id=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"key\") || (depth0 != null ? lookupProperty(depth0, \"key\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"key\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 138\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 145\n        }\n      }\n    }) : helper)) + \"\\\" value=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"value\") || (depth0 != null ? lookupProperty(depth0, \"value\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"value\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 154\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 163\n        }\n      }\n    }) : helper)) + \"\\\" placeholder=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"placeholder\") || (depth0 != null ? lookupProperty(depth0, \"placeholder\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"placeholder\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 178\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 193\n        }\n      }\n    }) : helper)) + \"\\\"/></span><a href=\\\"#\\\" class=\\\"link-button link-button-icon icon-only\\\"><span class=\\\"icon clear-input-16 \\\"></span></a></div><p class=\\\"o-form-input-error o-form-explain\\\"><span class=\\\"icon icon-16 error-16-small\\\"></span>\" + alias4((helper = (helper = lookupProperty(helpers, \"errorExplain\") || (depth0 != null ? lookupProperty(depth0, \"errorExplain\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"errorExplain\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 408\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 424\n        }\n      }\n    }) : helper)) + \"</p>\";\n  },\n  \"useData\": true\n});\n\nconst errorClass = 'o-form-has-errors';\nconst updateArrayEvent = 'updateArray';\nvar DeletableBox = BaseView.extend({\n  tagName: 'div',\n  className: 'o-form-input-group',\n  events: {\n    'click a': function (e) {\n      e.preventDefault();\n      this.remove();\n    },\n    'keyup input': function () {\n      this.update();\n    }\n  },\n  isEditMode: function () {\n    return !this.options.readOnly && (this.options.read !== true || this.model.get('__edit__') === true);\n  },\n  initialize: function () {\n    this.template = template(oktaUnderscore.extend(this.options, {\n      placeholder: this.getPlaceholderText(),\n      errorExplain: this.getErrorExplainText()\n    }));\n    this.update = oktaUnderscore.debounce(this.update, this.options.debounceDelay || Time.DEBOUNCE_DELAY);\n  },\n  render: function () {\n    if (this.isEditMode()) {\n      this.$el.html(this.template);\n    } else {\n      this.$el.text(this.options.value);\n      this.$('a').hide();\n    }\n\n    return this;\n  },\n  remove: function () {\n    this.trigger(updateArrayEvent, null);\n    this.$el.slideUp(() => {\n      BaseView.prototype.remove.call(this, arguments);\n    });\n  },\n  update: function () {\n    let updatedValue = this.$('input').val();\n\n    const parseFunc = oktaUnderscore.object([SchemaUtils.DATATYPE.number, SchemaUtils.DATATYPE.integer], [StringUtil.parseFloat, this.parseInt]);\n\n    if (oktaUnderscore.has(parseFunc, this.options.itemType)) {\n      updatedValue = parseFunc[this.options.itemType](updatedValue);\n      !oktaUnderscore.isNumber(updatedValue) ? this.markInvalid() : this.clearInvalid();\n    }\n\n    this.trigger(updateArrayEvent, updatedValue);\n  },\n  markInvalid: function () {\n    this.$el.addClass(errorClass);\n  },\n  clearInvalid: function () {\n    this.$el.removeClass(errorClass);\n  },\n  getPlaceholderText: function () {\n    const text = ['Enter'];\n    text.push(getArticle(this.options.itemType));\n    text.push(this.options.itemType.toLowerCase());\n    return text.join(' ');\n  },\n  getErrorExplainText: function () {\n    const text = ['Value must be'];\n    text.push(getArticle(this.options.itemType));\n    text.push(this.options.itemType.toLowerCase());\n    return text.join(' ');\n  },\n  parseInt: function (string) {\n    // native javascript parseInt is aggressive\n    // there're cases we don't want a string to be parsed even though it is convertable\n    // so that we don't convert a string silently before warning a user the potential error\n    // this is to make sure the string is in an integer format before we parse it\n    if (/^-?\\d+$/.test(string)) {\n      const num = parseInt(string, 10);\n      return !oktaUnderscore.isNaN(num) ? num : string;\n    }\n\n    return string;\n  }\n});\n\nexport { DeletableBox as default };\n","import oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport ButtonFactory from '../../../util/ButtonFactory.js';\nimport BaseView from '../../BaseView.js';\nimport BaseInput from '../BaseInput.js';\n\nfunction countInputs(inputs) {\n  return oktaUnderscore.filter(inputs || [], function (input) {\n    return !oktaUnderscore.contains(['label', 'button', 'select'], input.type);\n  }).length;\n}\n\nconst InputGroupLabelInput = BaseInput.extend({\n  tagName: 'span',\n  initialize: function () {\n    this.$el.text(this.getModelValue());\n  },\n  editMode: function () {\n    this.toggle(true);\n  },\n  readMode: function () {\n    this.toggle(false);\n  },\n  getModelValue: function () {\n    return this.options.label;\n  },\n  toggle: function (isEditMode) {\n    this.$el.toggleClass('o-form-label-inline', isEditMode);\n    this.$el.toggleClass('o-form-control', !isEditMode);\n  },\n  focus: oktaUnderscore.noop\n});\n\nfunction createButtonInput(options) {\n  return ButtonFactory.create(oktaUnderscore.defaults({\n    getReadModeString: oktaUnderscore.constant(' '),\n    focus: oktaUnderscore.noop\n  }, oktaUnderscore.pick(options, 'click', 'title', 'href', 'icon')));\n}\n\nconst InputGroupInputGroupView = BaseView.extend({\n  getParams: BaseInput.prototype.getParams,\n  getParam: BaseInput.prototype.getParam,\n  className: function () {\n    let className; // Allows views to group multiple inputs under one label without any of the other\n    // styling/rendering changes that come with using a group input\n\n    if (this.getParam('noBaseClasses')) {\n      return '';\n    }\n\n    if (this.getParam('display') === 'text') {\n      className = 'o-form-input-group-subtle';\n    } else {\n      className = 'o-form-input-group';\n    }\n\n    if (countInputs(this.getParam('inputs')) > 1) {\n      className += ' o-form-input-group-2';\n    }\n\n    return className;\n  },\n  initialize: function () {\n    oktaUnderscore.each(this.getParam('inputs'), function (input) {\n      switch (input.type) {\n        case 'label':\n          this.add(InputGroupLabelInput, {\n            options: input\n          });\n          break;\n\n        case 'button':\n          this.add(createButtonInput(input));\n          break;\n\n        default:\n          input = oktaUnderscore.defaults({\n            model: this.model,\n            params: oktaUnderscore.extend({\n              autoWidth: true\n            }, input.params || {})\n          }, input);\n          this.add(this.getParams().create(input));\n      }\n    }, this);\n  },\n  focus: function () {\n    this.first().focus();\n  }\n});\nvar InputGroup = BaseInput.extend({\n  constructor: function (options) {\n    this.inputGroupView = new InputGroupInputGroupView(options);\n    BaseInput.apply(this, arguments);\n  },\n  editMode: function () {\n    this.inputGroupView.remove();\n    this.inputGroupView = new InputGroupInputGroupView(this.options);\n    this.$el.html(this.inputGroupView.render().el);\n  },\n  readMode: function () {\n    // Allows the user to use to the default \"read mode\" of the child inputs instead of\n    // rendering a single read mode string for all the child inputs\n    if (this.getParam('useChildInputsReadMode')) {\n      this.editMode();\n    } else {\n      BaseInput.prototype.readMode.apply(this, arguments);\n    }\n  },\n  toStringValue: function () {\n    const strings = this.inputGroupView.map(function (input) {\n      return input.getReadModeString();\n    });\n    return strings.length && oktaUnderscore.every(strings) ? strings.join(' ') : ' ';\n  },\n  focus: function () {\n    this.inputGroupView.focus();\n  }\n}, {\n  // test hooks\n  LabelInput: InputGroupLabelInput,\n  InputGroupView: InputGroupInputGroupView\n});\n\nexport { InputGroup as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport TextBox from './TextBox.js';\n\nconst toggleTemplate = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    return \"<span class=\\\"password-toggle\\\"><span class=\\\"eyeicon visibility-16 button-show\\\"></span><span class=\\\"eyeicon visibility-off-16 button-hide\\\"></span></span>\";\n  },\n  \"useData\": true\n});\n\nconst toggleTimeout = 30000;\nvar PasswordBox = TextBox.extend({\n  initialize: function () {\n    if (this.__showPasswordToggle()) {\n      this.events['click .password-toggle .button-show'] = '__showPassword';\n      this.events['click .password-toggle .button-hide'] = '__hidePassword';\n    }\n\n    this.delegateEvents();\n  },\n  postRender: function () {\n    if (this.isEditMode() && this.__showPasswordToggle()) {\n      this.$el.append(toggleTemplate);\n      this.$el.find('input[type=\"password\"]').addClass('password-with-toggle');\n    }\n\n    TextBox.prototype.postRender.apply(this, arguments);\n  },\n  __showPasswordToggle: function () {\n    return this.options.params && this.options.params.showPasswordToggle;\n  },\n  __showPassword: function () {\n    TextBox.prototype.changeType.apply(this, ['text']);\n    this.$('.password-toggle .button-show').hide();\n    this.$('.password-toggle .button-hide').show();\n    this.passwordToggleTimer = oktaUnderscore.delay(() => {\n      this.__hidePassword();\n    }, toggleTimeout);\n  },\n  __hidePassword: function () {\n    TextBox.prototype.changeType.apply(this, ['password']);\n    this.$('.password-toggle .button-show').show();\n    this.$('.password-toggle .button-hide').hide(); // clear timeout\n\n    if (this.passwordToggleTimer) {\n      clearTimeout(this.passwordToggleTimer);\n    }\n  }\n});\n\nexport { PasswordBox as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport Keys from '../../../util/Keys.js';\nimport Util from '../../../util/Util.js';\nimport BaseView from '../../BaseView.js';\nimport '../../../vendor/plugins/jquery.custominput.js';\nimport BaseInput from '../BaseInput.js';\n\nconst isABaseView = Util.isABaseView;\nconst RadioRadioOption = BaseView.extend({\n  template: _Handlebars2.template({\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          alias2 = container.hooks.helperMissing,\n          alias3 = \"function\",\n          alias4 = container.escapeExpression,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<input type=\\\"radio\\\" name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"name\") || (depth0 != null ? lookupProperty(depth0, \"name\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"name\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 26\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 34\n          }\n        }\n      }) : helper)) + \"\\\" data-se-name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"realName\") || (depth0 != null ? lookupProperty(depth0, \"realName\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"realName\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 50\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 62\n          }\n        }\n      }) : helper)) + \"\\\" value=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"value\") || (depth0 != null ? lookupProperty(depth0, \"value\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"value\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 71\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 80\n          }\n        }\n      }) : helper)) + \"\\\" id=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"optionId\") || (depth0 != null ? lookupProperty(depth0, \"optionId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"optionId\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 86\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 98\n          }\n        }\n      }) : helper)) + \"\\\"><label for=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"optionId\") || (depth0 != null ? lookupProperty(depth0, \"optionId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"optionId\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 112\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 124\n          }\n        }\n      }) : helper)) + \"\\\" data-se-for-name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"realName\") || (depth0 != null ? lookupProperty(depth0, \"realName\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"realName\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 144\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 156\n          }\n        }\n      }) : helper)) + \"\\\" class=\\\"radio-label\\\">\" + alias4((helper = (helper = lookupProperty(helpers, \"label\") || (depth0 != null ? lookupProperty(depth0, \"label\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"label\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 178\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 187\n          }\n        }\n      }) : helper)) + \"</label>\";\n    },\n    \"useData\": true\n  }),\n  initialize: function (options) {\n    let explain;\n    explain = options.explain;\n\n    if (oktaUnderscore.isFunction(explain) && !isABaseView(explain)) {\n      explain = oktaUnderscore.resultCtx(this.options, 'explain', this);\n    }\n\n    if (!explain) {\n      return;\n    }\n\n    if (isABaseView(explain)) {\n      this.add('<p class=\"o-form-explain\"></p>', '.radio-label');\n      this.add(explain, '.o-form-explain');\n    } else {\n      this.add(BaseView.extend({\n        className: 'o-form-explain',\n        tagName: 'p',\n        template: _Handlebars2.template({\n          \"compiler\": [8, \">= 4.3.0\"],\n          \"main\": function (container, depth0, helpers, partials, data) {\n            var helper,\n                lookupProperty = container.lookupProperty || function (parent, propertyName) {\n              if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n                return parent[propertyName];\n              }\n\n              return undefined;\n            };\n\n            return container.escapeExpression((helper = (helper = lookupProperty(helpers, \"explain\") || (depth0 != null ? lookupProperty(depth0, \"explain\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n              \"name\": \"explain\",\n              \"hash\": {},\n              \"data\": data,\n              \"loc\": {\n                \"start\": {\n                  \"line\": 1,\n                  \"column\": 0\n                },\n                \"end\": {\n                  \"line\": 1,\n                  \"column\": 11\n                }\n              }\n            }) : helper));\n          },\n          \"useData\": true\n        })\n      }), '.radio-label');\n    }\n  }\n});\nvar Radio = BaseInput.extend({\n  /**\n   * @Override\n   */\n  events: {\n    'change :radio': 'update',\n    keyup: function (e) {\n      if (Keys.isSpaceBar(e)) {\n        oktaJQueryStatic(e.target).click();\n      } else if (Keys.isEnter(e)) {\n        this.model.trigger('form:save');\n      }\n    }\n  },\n\n  /**\n   * @Override\n   */\n  editMode: function () {\n    const templates = [];\n    this.$el.empty();\n\n    oktaUnderscore.each(this.options.options, function (value, key) {\n      const options = {\n        optionId: oktaUnderscore.uniqueId('option'),\n        name: this.options.inputId,\n        realName: this.options.name,\n        value: key\n      };\n\n      if (!oktaUnderscore.isObject(value)) {\n        value = {\n          label: value\n        };\n      }\n\n      oktaUnderscore.extend(options, value);\n\n      templates.push(new RadioRadioOption(options).render().el);\n    }, this);\n\n    this.$el.append(templates);\n    let value = this.getModelValue();\n\n    if (value) {\n      this.$(':radio[value=' + value + ']').prop('checked', true);\n    }\n\n    this.$('input').customInput();\n    this.model.trigger('form:resize');\n\n    if (this.getParam('inline') === true) {\n      this.$('div.custom-radio').addClass('inline');\n    }\n\n    return this;\n  },\n\n  /**\n   * @Override\n   */\n  readMode: function () {\n    this.editMode();\n    this.$(':radio').prop('disabled', true);\n    return this;\n  },\n\n  /**\n   * @Override\n   */\n  val: function () {\n    return this.$(':radio:checked').val();\n  },\n\n  /**\n   * @Override\n   */\n  focus: function () {\n    return this.$('label:eq(0)').focus();\n  }\n});\n\nexport { Radio as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport Keys from '../../../util/Keys.js';\nimport '../../../vendor/plugins/chosen.jquery.js';\nimport BaseInput from '../BaseInput.js';\nimport Util from '../../../util/Util.js';\nimport StringUtil from '../../../util/StringUtil.js';\n\nconst template = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<select id=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"inputId\") || (depth0 != null ? lookupProperty(depth0, \"inputId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"inputId\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 12\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 23\n        }\n      }\n    }) : helper)) + \"\\\" name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"name\") || (depth0 != null ? lookupProperty(depth0, \"name\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"name\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 31\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 39\n        }\n      }\n    }) : helper)) + \"\\\"></select>\";\n  },\n  \"useData\": true\n});\n\nconst option = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<option value=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"key\") || (depth0 != null ? lookupProperty(depth0, \"key\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"key\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 15\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 22\n        }\n      }\n    }) : helper)) + \"\\\">\" + alias4((helper = (helper = lookupProperty(helpers, \"value\") || (depth0 != null ? lookupProperty(depth0, \"value\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"value\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 24\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 33\n        }\n      }\n    }) : helper)) + \"</option>\";\n  },\n  \"useData\": true\n});\n\nconst CHOSEN_WINDOW_MARGIN = 20;\nconst isSafari = Util.isSafari; // Chosen has known problems when it's at the bottom of a container that has\n// overflow:hidden set. Because it attaches to the parent container, its\n// dropdown will be cut off in the UI. Any modal with a chosen select element\n// at the bottom will manifest this behavior.\n//\n// The fix (aside from replacing Chosen) is to change Chosen's behavior -\n// use the existing styles, but attach it to 'body' and position it correctly\n// so that it is not affected by a parent overflow.\n//\n// More details can be found in OKTA-46489, OKTA-83570\n\nconst CHOSEN_MAX_HEIGHT = 240;\nconst CHOSEN_Z_INDEX = 50000;\n\nfunction defer(fn) {\n  if (this.params.autoWidth) {\n    return fn.call(this);\n  } else {\n    return oktaUnderscore.defer(oktaUnderscore.bind(fn, this));\n  }\n}\n\nfunction findSelectWidth(self) {\n  self.$select.hide();\n  const select = oktaJQueryStatic(self.$select[0]).hide();\n  oktaJQueryStatic('body').append(select);\n  const width = self.params.width = select.width() * 1.2 + 'px';\n  self.$el.append(select.show());\n  return width;\n}\n\nfunction recalculateChosen($chosen, $results, $clone) {\n  const offset = $clone.offset();\n  $chosen.css({\n    left: offset.left,\n    top: offset.top\n  }); // Update the max-height to fit within the constraints of the window. This\n  // is especially important for modals because page scrolling is disabled.\n\n  const $win = oktaJQueryStatic(window);\n  const rHeight = $results.outerHeight();\n  const rBottom = rHeight + $results.offset().top - $win.scrollTop();\n  const wHeight = $win.height() - CHOSEN_WINDOW_MARGIN;\n  const maxHeight = Math.min(rHeight + wHeight - rBottom, CHOSEN_MAX_HEIGHT);\n  $results.css('max-height', maxHeight);\n}\n\nfunction handleKeyUpEvent($select, $chosen, $results) {\n  const $highlightedOption = $results.find('.active-result.highlighted');\n  $chosen.find('#' + $select.attr('id') + '_txt').attr('aria-activedescendant', $highlightedOption.attr('id')); // change the old selected item aria-selected to false\n  // and add add it to new item.\n\n  $results.find('[aria-selected=true]').attr('aria-selected', 'false');\n  $highlightedOption.attr('aria-selected', 'true'); // In case of Safari, add message to aria-live node to be read by screenreader.\n  // We need to do this special handling for Safari due to falkiness with aria-activedescendant\n  // handling. https://bit.ly/3z45IZF\n\n  if (isSafari()) {\n    // message read by screenReader i.e optionValue selected(United States selected)\n    const message = StringUtil.localize('oform.selectInput.country', 'courage', [$highlightedOption.text()]);\n    const elementId = $select.attr('id');\n\n    if (message !== '') {\n      oktaJQueryStatic(`#${elementId}_aria_div_id`).text(message);\n    }\n  }\n\n  const noResult = $results.find('li.no-results');\n\n  if (noResult.length) {\n    noResult.attr('role', 'alert');\n  }\n}\n\nfunction fixChosenModal($select, textPlaceholder) {\n  const $chosen = $select.next('.chzn-container');\n  const $clone = $chosen.clone();\n  const $results = $chosen.find('.chzn-results');\n  const $searchInput = $chosen.find('.chzn-search input[type=text]');\n  $searchInput.on('keyup', () => {\n    handleKeyUpEvent($select, $chosen, $results);\n  });\n  $chosen.addClass('closed'); // Will be used in SIW to fix screen reader focus.\n  // Use a hidden clone to maintain layout and calculate offset. This is\n  // necessary for more complex layouts (like adding a group rule) where\n  // the chosen element is floated.\n\n  $clone.css('visibility', 'hidden');\n  $clone.removeAttr('id');\n  $clone.find('li').removeAttr('id'); // Save the original styles - we'll revert to them when the select closes\n\n  const baseStyles = {\n    left: $chosen.css('left'),\n    top: $chosen.css('top'),\n    position: $chosen.css('position'),\n    float: $chosen.css('float'),\n    'z-index': $chosen.css('z-index')\n  };\n  $results.hide(); // Handler for any resize events that happen when the results list is open\n\n  const resizeHandler = oktaUnderscore.debounce(function () {\n    recalculateChosen($chosen, $results, $clone);\n  }, 10); // When the dropdown opens, attach it to body, with the correct absolute\n  // position coordinates\n\n\n  $select.off('.fixChosen'); // Remove events we could have added before\n\n  $select.on('liszt:showing_dropdown.fixChosen', function () {\n    $chosen.width($chosen.width());\n    $select.after($clone); // .chzn-container can trigger the vertical scrollbar if it causes scrollHeight > window height after append to\n    // the body. Force top -999999 to avoid the scrollbar so $chosen can find the right offset for relocation.\n\n    $chosen.css({\n      position: 'absolute',\n      float: 'none',\n      'z-index': CHOSEN_Z_INDEX,\n      top: -999999\n    });\n    oktaJQueryStatic('body').append($chosen);\n    oktaJQueryStatic('.chzn-search > :text').prop('placeholder', textPlaceholder);\n    $results.show();\n    recalculateChosen($chosen, $results, $clone); // Capture scroll events:\n    // - for forms that use fixed positioning (like editing attributes in\n    //   Profile Editor) - window scroll\n    // - for forms that are too long for the modal - o-form-content scroll\n\n    $select.parents().scroll(resizeHandler);\n    oktaJQueryStatic(window).on('resize scroll', resizeHandler);\n  });\n  $select.on('liszt:showing_dropdown', function () {\n    $chosen.removeClass('closed');\n  }); // When the dropdown closes or the element is removed, revert to the\n  // original styles and reattach it to its original placement in the dom.\n\n  $select.on('liszt:hiding_dropdown.fixChosen remove.fixChosen', function () {\n    $select.parents().off('scroll', resizeHandler);\n    oktaJQueryStatic(window).off('resize scroll', resizeHandler);\n    $chosen.css(baseStyles);\n    $results.hide();\n    $chosen.addClass('closed');\n    $results.css('max-height', CHOSEN_MAX_HEIGHT);\n    $clone.remove();\n    $select.after($chosen);\n  }); // Do not change the order of event listeners. This event must execute after \n  // \"liszt:hiding_dropdown.fixChosen remove.fixChosen\"\n\n  $select.on('liszt:hiding_dropdown.fixChosen', function () {\n    $searchInput.focus(); // set focus back to input only when the dropdown is closed\n  });\n}\n\nvar Select = BaseInput.extend({\n  className: 'o-form-select',\n\n  /**\n   * @Override\n   */\n  events: {\n    'change select': 'update',\n    'keyup .chzn-search > :text': function (e) {\n      if (Keys.isEsc(e)) {\n        this.$('.chzn-search > :text').val('');\n        e.stopPropagation();\n      }\n    }\n  },\n  constructor: function () {\n    this.template = template;\n    this.option = this.option || option;\n    BaseInput.apply(this, arguments);\n    this.params = this.options.params || {};\n  },\n\n  /**\n   * @Override\n   */\n  editMode: function () {\n    /* eslint max-statements: [2, 17] */\n    this.$el.html(template(this.options));\n    this.$select = this.$('select');\n    this.appendOptions(); // Fix a regression in jQuery 1.x on Firefox\n    // jQuery.val(value) prepends an empty option to the dropdown\n    // if value doesnt exist in the dropdown.\n    // http://bugs.jquery.com/ticket/13514\n\n    const value = this.getModelValue();\n\n    if (value) {\n      this.$select.val(value);\n    } else {\n      this.$('option:first-child').prop('selected', true);\n    }\n\n    this.$el.addClass('o-form-control');\n\n    if (this.params.chosen !== false) {\n      this.__applyChosen();\n    }\n\n    return this;\n  },\n  appendOptions: function () {\n    if (!this.getOptions()) {\n      return;\n    }\n\n    const options = this.getOptions();\n    const keys = Object.keys(options);\n    this.applySortByKey(keys);\n    keys.forEach(key => {\n      this.$select.append(this.option({\n        key: key,\n        value: options[key]\n      }));\n    });\n  },\n  applySortByKey: function (keys) {\n    const sortByKey = this.options.sortByKey;\n\n    if (!sortByKey) {\n      return;\n    }\n\n    if (sortByKey instanceof Function) {\n      keys.sort(sortByKey);\n    }\n\n    if (sortByKey === 'asc') {\n      keys.sort();\n    }\n\n    if (sortByKey === 'desc') {\n      keys.sort();\n      keys.reverse();\n    }\n  },\n  __applyChosen: function (update) {\n    let width = this.options.wide ? '100%' : this.params.width || '62%';\n\n    if (this.params.autoWidth) {\n      width = findSelectWidth(this);\n    }\n\n    defer.call(this, function () {\n      const searchThreshold = this.getParam('searchThreshold', 10);\n\n      if (!oktaUnderscore.result(this.options, 'autoRender') && update !== false) {\n        this.update();\n      }\n\n      this.$select.chosen({\n        width: width,\n        disable_search_threshold: searchThreshold,\n        //eslint-disable-line camelcase\n        placeholder_text: this.options['placeholder'],\n        //eslint-disable-line camelcase\n        search_contains: true //eslint-disable-line camelcase\n\n      }); //if options are more than search threshold, consider it as a combobox\n\n      const isComboBox = this.options && this.options.options && Object.keys(this.options.options).length > searchThreshold;\n      this.accessibilityUpdate(isComboBox, this.params);\n      fixChosenModal(this.$select, this.searchPlaceholder);\n\n      if (this.params.autoWidth) {\n        // fix a chosen css bug\n        this.$el.width(0);\n      }\n\n      this.model.trigger('form:resize');\n    });\n  },\n\n  /**\n   * @Override\n   */\n  val: function () {\n    return this.$select && this.$select.val();\n  },\n\n  /**\n   * @Override\n   */\n  focus: function () {\n    if (this.$select) {\n      return this.$select.focus();\n    }\n  },\n\n  /**\n   * @Override\n   */\n  toStringValue: function () {\n    const selectedOption = this.getModelValue();\n    let displayString = selectedOption;\n    const options = this.getOptions();\n\n    if (!oktaUnderscore.isEmpty(options)) {\n      displayString = options[selectedOption];\n    }\n\n    if (oktaUnderscore.isUndefined(displayString)) {\n      displayString = this.defaultValue();\n    }\n\n    return displayString || '';\n  },\n\n  /**\n   * Convert options to an object\n   * support input options that is a\n   * 1. a static object such as {key1: val1, key2: val2...}\n   * 2. a function to be called to return a static object\n   * will return an object with key-value pairs or with empty content\n   * @return {Object} The value\n   */\n  getOptions: function () {\n    let options = this.options.options;\n\n    if (oktaUnderscore.isFunction(options)) {\n      options = options.call(this);\n    }\n\n    return oktaUnderscore.isObject(options) ? options : {};\n  },\n  remove: function () {\n    if (this.$select) {\n      this.$select.trigger('remove');\n    }\n\n    return BaseInput.prototype.remove.apply(this, arguments);\n  },\n\n  /**\n   * @param ariaDivId id for div element\n   * Create a div element and add it to chosen container.\n   */\n  createAriaLiveNode: function (ariaDivId) {\n    const $chosen = this.$select.next('.chzn-container'); // set this to off-screen such that no user will see this and only screenReaders will pick this up.\n    // we should announce to user only on additions and not on removals.\n\n    const $node = oktaJQueryStatic('<div></div>').attr('role', 'log').attr('aria-live', 'polite').attr('id', ariaDivId).attr('aria-relevant', 'additions').attr('aria-atomic', 'false').attr('class', 'off-screen');\n    $node.insertAfter($chosen);\n  },\n\n  /**\n   * Code to make the select/combobox component accessible with screen readers.\n   *\n   * @param {boolean} isComboBox - Is the select a combobox?\n   * @param {object} params - params like aria label\n   */\n  // eslint-disable-next-line max-statements\n  accessibilityUpdate: function (isComboBox, params) {\n    const txtBoxId = this.$select.attr('id') + '_txt';\n    const ariaDivId = this.$select.attr('id') + '_aria_div_id';\n    const ulTagId = this.$select.attr('id') + '_ul'; // this is to fix(OKTA-506711) the accessibility issue due to partial support of aria-activedescendant\n    // by Safari. Make use of aria-live to make screenReader announce the option selected by user as a workaround.\n\n    if (isSafari()) {\n      this.createAriaLiveNode(ariaDivId);\n    }\n\n    this.$('ul[class=chzn-results]').attr('role', 'listbox').attr('id', ulTagId);\n\n    if (isComboBox) {\n      this.$('input[type=text]').attr('id', txtBoxId).attr('aria-autocomplete', 'list').attr('aria-activedescendant', '').attr('role', 'combobox').attr('aria-expanded', 'true').attr('aria-controls', ulTagId);\n    } else {\n      this.$('input[type=text]').attr('id', txtBoxId).attr('role', 'listbox');\n    }\n\n    if (params && params.aria && params.aria.label) {\n      const ariaLabel = params.aria.label.trim();\n      this.$('input[type=text]').attr('id', txtBoxId).attr('aria-label', ariaLabel);\n      this.$('ul[class=chzn-results]').attr('aria-label', ariaLabel);\n    } else {\n      const ariaLabel = this.$el.parent().prev('.o-form-label').find('label').text().trim();\n      this.$('input[type=text]').attr('id', txtBoxId).attr('aria-label', ariaLabel);\n      this.$('ul[class=chzn-results]').attr('aria-label', ariaLabel);\n    }\n\n    this.$('.chzn-results .active-result').attr('role', 'option').attr('aria-selected', 'false');\n  }\n});\n\nexport { Select as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../../util/jquery-wrapper.js';\nimport 'qtip';\nimport Keys from '../../../util/Keys.js';\nimport '../../../vendor/plugins/jquery.placeholder.js';\nimport BaseInput from '../BaseInput.js';\n\nconst className = 'okta-form-input-field input-fix';\n\nfunction hasTitleAndText(options) {\n  const title = options.title;\n  const text = options.text;\n  return title && text && title !== text;\n} // options may be a string or an object.\n\n\nfunction createQtipContent(options) {\n  if (hasTitleAndText(options)) {\n    return options;\n  }\n\n  return {\n    text: options.text || options\n  };\n}\n\nvar TextBox = BaseInput.extend({\n  template: _Handlebars2.template({\n    \"1\": function (container, depth0, helpers, partials, data) {\n      return \"<span class=\\\"input-tooltip icon form-help-16\\\"></span>\";\n    },\n    \"3\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<span class=\\\"icon input-icon \" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? lookupProperty(depth0, \"params\") : depth0) != null ? lookupProperty(stack1, \"icon\") : stack1, depth0)) + \"\\\"></span>\";\n    },\n    \"5\": function (container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return container.escapeExpression((helper = (helper = lookupProperty(helpers, \"autoComplete\") || (depth0 != null ? lookupProperty(depth0, \"autoComplete\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"autoComplete\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 333\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 349\n          }\n        }\n      }) : helper));\n    },\n    \"7\": function (container, depth0, helpers, partials, data) {\n      return \"off\";\n    },\n    \"9\": function (container, depth0, helpers, partials, data) {\n      return \"<span class=\\\"input-icon-divider\\\"></span>\";\n    },\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var stack1,\n          helper,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          alias2 = container.hooks.helperMissing,\n          alias3 = \"function\",\n          alias4 = container.escapeExpression,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return ((stack1 = lookupProperty(helpers, \"if\").call(alias1, (stack1 = depth0 != null ? lookupProperty(depth0, \"params\") : depth0) != null ? lookupProperty(stack1, \"innerTooltip\") : stack1, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(1, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 0\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 87\n          }\n        }\n      })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, (stack1 = depth0 != null ? lookupProperty(depth0, \"params\") : depth0) != null ? lookupProperty(stack1, \"icon\") : stack1, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(3, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 87\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 166\n          }\n        }\n      })) != null ? stack1 : \"\") + \"<input type=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"type\") || (depth0 != null ? lookupProperty(depth0, \"type\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"type\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 179\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 187\n          }\n        }\n      }) : helper)) + \"\\\" placeholder=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"placeholder\") || (depth0 != null ? lookupProperty(depth0, \"placeholder\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"placeholder\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 202\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 217\n          }\n        }\n      }) : helper)) + \"\\\" name=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"name\") || (depth0 != null ? lookupProperty(depth0, \"name\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"name\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 225\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 233\n          }\n        }\n      }) : helper)) + \"\\\" id=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"inputId\") || (depth0 != null ? lookupProperty(depth0, \"inputId\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"inputId\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 239\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 250\n          }\n        }\n      }) : helper)) + \"\\\" value=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"value\") || (depth0 != null ? lookupProperty(depth0, \"value\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"value\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 259\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 268\n          }\n        }\n      }) : helper)) + \"\\\" aria-label=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"placeholder\") || (depth0 != null ? lookupProperty(depth0, \"placeholder\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n        \"name\": \"placeholder\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 282\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 297\n          }\n        }\n      }) : helper)) + \"\\\" autocomplete=\\\"\" + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"autoComplete\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(5, data, 0),\n        \"inverse\": container.program(7, data, 0),\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 313\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 367\n          }\n        }\n      })) != null ? stack1 : \"\") + \"\\\" />\" + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, (stack1 = depth0 != null ? lookupProperty(depth0, \"params\") : depth0) != null ? lookupProperty(stack1, \"iconDivider\") : stack1, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(9, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 371\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 444\n          }\n        }\n      })) != null ? stack1 : \"\");\n    },\n    \"useData\": true\n  }),\n\n  /**\n   * @Override\n   */\n  events: {\n    'input input': 'update',\n    'change input': 'update',\n    'keydown input': 'update',\n    'compositionend input': function () {\n      this.isComposing = false;\n    },\n    'compositionstart input': function () {\n      this.isComposing = true;\n    },\n    'keyup input': function (e) {\n      if (Keys.isEnter(e) && !(window.okta && window.okta.enableIMESupport)) {\n        this.model.trigger('form:save');\n      } else if (Keys.isEsc(e)) {\n        this.model.trigger('form:cancel');\n      }\n    }\n  },\n  hasIMESupport: true,\n  constructor: function () {\n    BaseInput.apply(this, arguments);\n    this.$el.addClass('o-form-control');\n  },\n\n  /**\n   * @Override\n   */\n  editMode: function () {\n    this.$el.addClass(className);\n    BaseInput.prototype.editMode.apply(this, arguments);\n    this.$('input').placeholder();\n  },\n\n  /**\n   * @Override\n   */\n  readMode: function () {\n    BaseInput.prototype.readMode.apply(this, arguments);\n\n    if (this.options.type === 'password') {\n      this.$el.text('********');\n    }\n\n    this.$el.removeClass(className);\n  },\n\n  /**\n   * @Override\n   */\n  val: function () {\n    let inputValue = this.$('input[type=\"' + this.options.type + '\"]').val(); //IE will only read clear text pw if type=\"password\" is explicitly in selector\n\n    if (this.options.type !== 'password') {\n      inputValue = oktaJQueryStatic.trim(inputValue);\n    }\n\n    return inputValue;\n  },\n\n  /**\n   * @Override\n   */\n  focus: function () {\n    return this.$('input').focus();\n  },\n  postRender: function () {\n    const {\n      params: params\n    } = this.options;\n\n    if (params && params.innerTooltip) {\n      const content = createQtipContent(params.innerTooltip);\n      this.$('.input-tooltip').qtip({\n        content: content,\n        style: {\n          classes: 'okta-tooltip qtip-custom qtip-shadow'\n        },\n        position: {\n          my: 'bottom left',\n          // Note: qTip2 has a known issue calculating the tooltip offset when:\n          // 1. A container element has both:\n          //    a) position: relative/absolute\n          //    b) overlay: value other than 'visible'\n          // 2. The page is scrolled\n          //\n          // We set position:relative and overlay:auto on the body element,\n          // where both are required for:\n          // - Positioning the footer correctly\n          // - Displaying long pages in embedded browsers\n          //\n          // The original design called for a fixed position relative to the\n          // tooltip icon - this has been switched to \"relative to mouse, and\n          // update position when mouse moves\" because of this constraint.\n          target: 'mouse',\n          adjust: {\n            method: 'flip',\n            mouse: true,\n            y: -5,\n            x: 5\n          },\n          viewport: oktaJQueryStatic('body')\n        }\n      });\n    }\n  }\n});\n\nexport { TextBox as default };\n","import _Handlebars2 from '../../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../../../util/underscore-wrapper.js';\nimport SchemaUtils from '../../../util/SchemaUtil.js';\nimport BaseInput from '../BaseInput.js';\nimport DeletableBox from './DeletableBox.js';\n\nvar TextBoxSet = BaseInput.extend({\n  className: 'array-input',\n  template: _Handlebars2.template({\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function (container, depth0, helpers, partials, data) {\n      var lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<a href=\\\"#\\\" class=\\\"array-inputs-button link-button\\\">\" + container.escapeExpression((lookupProperty(helpers, \"i18n\") || depth0 && lookupProperty(depth0, \"i18n\") || container.hooks.helperMissing).call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"i18n\",\n        \"hash\": {\n          \"bundle\": \"courage\",\n          \"code\": \"oform.add.another\"\n        },\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 52\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 102\n          }\n        }\n      })) + \"</a>\";\n    },\n    \"useData\": true\n  }),\n  params: {\n    itemType: 'string'\n  },\n  events: {\n    'click .array-inputs-button': function (e) {\n      e.preventDefault();\n\n      if (this.isEditMode()) {\n        this.addNewElement();\n      }\n    }\n  },\n  initialize: function (options) {\n    options || (options = {});\n    this.params = oktaUnderscore.defaults(options.params || {}, this.params);\n    this.uniqueIdPrefix = 'array';\n  },\n  // api returns null for an array that does not have value\n  // convert it to an empty array\n  from: function (val) {\n    if (!oktaUnderscore.isArray(val)) {\n      return [];\n    }\n\n    return val;\n  },\n  // @Override\n  editMode: function () {\n    this._setArrayObject();\n\n    this.$el.html(this.template);\n\n    oktaUnderscore.each(this.arrayObject, oktaUnderscore.bind(this._addDeletableBox, this));\n\n    return this;\n  },\n  // @Override\n  readMode: function () {\n    this.editMode();\n    this.$('.array-inputs-button').addClass('link-button-disabled');\n  },\n  // @Override\n  // converts arrayObject to a plain array\n  // for string type array, returns all values\n  // for number/integer type array, returns values in number type\n  val: function () {\n    let values = oktaUnderscore.values(this.arrayObject);\n\n    if (oktaUnderscore.contains([SchemaUtils.DATATYPE.number, SchemaUtils.DATATYPE.integer], this.params.itemType)) {\n      values = oktaUnderscore.filter(values, oktaUnderscore.isNumber);\n    }\n\n    return values;\n  },\n  focus: function () {},\n  addNewElement: function () {\n    const value = '';\n\n    const key = oktaUnderscore.uniqueId(this.uniqueIdPrefix);\n\n    this.arrayObject[key] = value;\n\n    this._addDeletableBox(value, key); // update is called to make sure an empty string value is added for string type array\n\n\n    this.update();\n  },\n  _addDeletableBox: function (value, key) {\n    const deletableBox = new DeletableBox(oktaUnderscore.extend(oktaUnderscore.pick(this.options, 'read', 'readOnly', 'model'), {\n      key: key,\n      value: value,\n      itemType: this.params.itemType\n    }));\n    this.listenTo(deletableBox, 'updateArray', function (updatedValue) {\n      if (oktaUnderscore.isNull(updatedValue)) {\n        delete this.arrayObject[key];\n        this.stopListening(deletableBox);\n      } else {\n        this.arrayObject[key] = updatedValue;\n      }\n\n      this.update();\n    });\n    deletableBox.render().$el.hide();\n    this.$('.array-inputs-button').before(deletableBox.el);\n    deletableBox.$el.slideDown();\n    return deletableBox;\n  },\n  _setArrayObject: function () {\n    const array = this.model.get(this.options.name);\n    this.arrayObject = {};\n\n    if (oktaUnderscore.isArray(array) && !oktaUnderscore.isEmpty(array)) {\n      const keys = [];\n      const self = this;\n\n      oktaUnderscore(array.length).times(function () {\n        keys.push(oktaUnderscore.uniqueId(self.uniqueIdPrefix));\n      });\n\n      this.arrayObject = oktaUnderscore.object(keys, array);\n    }\n  }\n});\n\nexport { TextBoxSet as default };\n","// TODO: maybe replaced by\n// https://github.com/Calvein/empty-module\n// https://github.com/crimx/empty-module-loader\nvar ConfirmationDialog = {\n  extend: () => {}\n};\n\nexport { ConfirmationDialog as default };\n","export { Collection, Controller, Form, Router, View, createButton, createCallout, internal, loc, registerInput } from './CourageForSigninWidget.js';\nexport { default as Handlebars } from '../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport './courage/util/handlebars/handle-url.js';\nimport './courage/util/handlebars/helper-base64.js';\nimport './courage/util/handlebars/helper-i18n.js';\nimport './courage/util/handlebars/helper-img.js';\nimport './courage/util/handlebars/helper-markdown.js';\nimport './courage/util/handlebars/helper-xsrfTokenInput.js';\nexport { isModelPropertySchema } from './courage/framework/Model.js';\nexport { default as Backbone } from './courage/vendor/lib/backbone.js';\nexport { default as $ } from './courage/util/jquery-wrapper.js';\nexport { default as _ } from './courage/util/underscore-wrapper.js';\nexport { default as Model } from './courage/models/Model.js';\nexport { default as BaseModel } from './courage/models/BaseModel.js';\nexport { default as FrameworkView } from './courage/framework/View.js';\nexport { default as ListView } from './courage/views/Backbone.ListView.js';\n","import oktaJQueryStatic from '../courage/util/jquery-wrapper.js';\n\n/*!\n * jQuery UI Scroll Parent @VERSION\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * Modifications Copyright 2021 Okta, Inc.\n */\n// This is required because SIW doesn't want to include jqueryui even though it's an external dependency of courage\n\noktaJQueryStatic.fn.scrollParent = function (includeHidden) {\n  const position = this.css(\"position\"),\n        excludeStaticParent = position === \"absolute\",\n        overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n        scrollParent = this.parents().filter(function () {\n    const parent = oktaJQueryStatic(this);\n\n    if (excludeStaticParent && parent.css(\"position\") === \"static\") {\n      return false;\n    }\n\n    return overflowRegex.test(parent.css(\"overflow\") + parent.css(\"overflow-y\") + parent.css(\"overflow-x\"));\n  }).eq(0);\n  return position === \"fixed\" || !scrollParent.length ? oktaJQueryStatic(this[0].ownerDocument || document) : scrollParent;\n};\n","/**\n * \n * This file has been modified to override doPostBack\n * Check out the doPostBack function below for more details.\n * Override the doPostBack function when upgrading.\n * Unable to make a wrapper because it is invoked using an internal name within \n * this library.\n * \n * Current Verison = https://github.com/duosecurity/duo_web_sdk/blob/7aec8dd895ea4bd4549069e76076850eccfe07f2/index.js\n * PS: they dont seem to version correctly hence using commit.\n */\n\n/**\n * Duo Web SDK v2\n * Copyright 2019, Duo Security\n */\n\n// Modified to remove AMD and support ESM transform - OKTA-369648\n(function (root, factory) {\n    module.exports = factory();\n}(this, function() {\n    var DUO_MESSAGE_FORMAT = /^(?:AUTH|ENROLL)+\\|[A-Za-z0-9\\+\\/=]+\\|[A-Za-z0-9\\+\\/=]+$/;\n    var DUO_ERROR_FORMAT = /^ERR\\|[\\w\\s\\.\\(\\)]+$/;\n    var DUO_OPEN_WINDOW_FORMAT = /^DUO_OPEN_WINDOW\\|/;\n    var VALID_OPEN_WINDOW_DOMAINS = [\n        'duo.com',\n        'duosecurity.com',\n        'duomobile.s3-us-west-1.amazonaws.com'\n    ];\n\n    var postAction,\n        postArgument,\n        host,\n        sigRequest,\n        duoSig,\n        appSig,\n        iframe,\n        submitCallback;\n\n    // We use this function instead of setting initial values in the var\n    // declarations to make sure the initial values and subsequent\n    // re-initializations are always the same.\n    initializeStatefulVariables();\n\n    /**\n     * Set local variables to whatever they should be before you call init().\n     */\n    function initializeStatefulVariables() {\n        postAction = '';\n        postArgument = 'sig_response';\n        host = undefined;\n        sigRequest = undefined;\n        duoSig = undefined;\n        appSig = undefined;\n        iframe = undefined;\n        submitCallback = undefined;\n    }\n\n    function throwError(message, givenUrl) {\n        var url = (\n            givenUrl ||\n            'https://www.duosecurity.com/docs/duoweb#3.-show-the-iframe'\n        );\n        throw new Error(\n            'Duo Web SDK error: ' + message +\n            (url ? ('\\n' + 'See ' + url + ' for more information') : '')\n        );\n    }\n\n    function hyphenize(str) {\n        return str.replace(/([a-z])([A-Z])/, '$1-$2').toLowerCase();\n    }\n\n    // cross-browser data attributes\n    function getDataAttribute(element, name) {\n        if ('dataset' in element) {\n            return element.dataset[name];\n        } else {\n            return element.getAttribute('data-' + hyphenize(name));\n        }\n    }\n\n    // cross-browser event binding/unbinding\n    function on(context, event, fallbackEvent, callback) {\n        if ('addEventListener' in window) {\n            context.addEventListener(event, callback, false);\n        } else {\n            context.attachEvent(fallbackEvent, callback);\n        }\n    }\n\n    function off(context, event, fallbackEvent, callback) {\n        if ('removeEventListener' in window) {\n            context.removeEventListener(event, callback, false);\n        } else {\n            context.detachEvent(fallbackEvent, callback);\n        }\n    }\n\n    function onReady(callback) {\n        on(document, 'DOMContentLoaded', 'onreadystatechange', callback);\n    }\n\n    function offReady(callback) {\n        off(document, 'DOMContentLoaded', 'onreadystatechange', callback);\n    }\n\n    function onMessage(callback) {\n        on(window, 'message', 'onmessage', callback);\n    }\n\n    function offMessage(callback) {\n        off(window, 'message', 'onmessage', callback);\n    }\n\n    /**\n     * Parse the sig_request parameter, throwing errors if the token contains\n     * a server error or if the token is invalid.\n     *\n     * @param {String} sig Request token\n     */\n    function parseSigRequest(sig) {\n        if (!sig) {\n            // nothing to do\n            return;\n        }\n\n        // see if the token contains an error, throwing it if it does\n        if (sig.indexOf('ERR|') === 0) {\n            throwError(sig.split('|')[1]);\n        }\n\n        // validate the token\n        if (sig.indexOf(':') === -1 || sig.split(':').length !== 2) {\n            throwError(\n                'Duo was given a bad token.  This might indicate a configuration ' +\n                'problem with one of Duo\\'s client libraries.'\n            );\n        }\n\n        var sigParts = sig.split(':');\n\n        // hang on to the token, and the parsed duo and app sigs\n        sigRequest = sig;\n        duoSig = sigParts[0];\n        appSig = sigParts[1];\n\n        return {\n            sigRequest: sig,\n            duoSig: sigParts[0],\n            appSig: sigParts[1]\n        };\n    }\n\n    /**\n     * Validate that a MessageEvent came from the Duo service, and that it\n     * is a properly formatted payload.\n     *\n     * The Google Chrome sign-in page injects some JS into pages that also\n     * make use of postMessage, so we need to do additional validation above\n     * and beyond the origin.\n     *\n     * @param {MessageEvent} event Message received via postMessage\n     */\n    function isDuoMessage(event) {\n        return Boolean(\n            event.origin === ('https://' + host) &&\n            typeof event.data === 'string' &&\n            (\n                event.data.match(DUO_MESSAGE_FORMAT) ||\n                event.data.match(DUO_ERROR_FORMAT) ||\n                event.data.match(DUO_OPEN_WINDOW_FORMAT)\n            )\n        );\n    }\n\n    /**\n     * Validate the request token and prepare for the iframe to become ready.\n     *\n     * All options below can be passed into an options hash to `Duo.init`, or\n     * specified on the iframe using `data-` attributes.\n     *\n     * Options specified using the options hash will take precedence over\n     * `data-` attributes.\n     *\n     * Example using options hash:\n     * ```javascript\n     * Duo.init({\n     *     iframe: \"some_other_id\",\n     *     host: \"api-main.duo.test\",\n     *     sig_request: \"...\",\n     *     post_action: \"/auth\",\n     *     post_argument: \"resp\"\n     * });\n     * ```\n     *\n     * Example using `data-` attributes:\n     * ```html\n     * <iframe id=\"duo_iframe\"\n     *         data-host=\"api-main.duo.test\"\n     *         data-sig-request=\"...\"\n     *         data-post-action=\"/auth\"\n     *         data-post-argument=\"resp\"\n     *         >\n     * </iframe>\n     * ```\n     *\n     * Some browsers (especially embedded browsers) don't like it when the Duo\n     * Web SDK changes the `src` attribute on the iframe. To prevent this, there\n     * is an alternative way to use the Duo Web SDK:\n     *\n     * Add a div (or any other container element) instead of an iframe to the\n     * DOM with an id of \"duo_iframe\", or pass that element to the\n     * `iframeContainer` parameter of `Duo.init`. An iframe will be created and\n     * inserted into that container element, preventing `src` change related\n     * bugs. WARNING: All other elements in the container will be deleted.\n     *\n     * The `iframeAttributes` parameter of `Duo.init` is available to set any\n     * attributes on the inserted iframe if the Duo Web SDK is inserting the\n     * iframe. For details, see the parameter documentation below.\n     *\n     * @param {Object} options\n     * @param {String} options.host - Hostname for the Duo Prompt.\n     * @param {String} options.sig_request - Request token.\n     * @param {String|HTMLElement} [options.iframe] - The iframe, or id of an\n     *     iframe that will be used for the Duo Prompt. If you don't provide\n     *     this or the `iframeContainer` parameter the Duo Web SDK will default\n     *     to using whatever element has an id of \"duo_iframe\".\n     * @param {String|HTMLElement} [options.iframeContainer] - The element you\n     *     want the Duo Prompt inserted into, or the id of that element.\n     *     Anything inside this element will be deleted and replaced with an\n     *     iframe hosting the Duo prompt. If you don't provide this or the\n     *     `iframe` parameter the Duo Web SDK will default to using whatever\n     *     element has an id of \"duo_iframe\".\n     * @param {Object} [options.iframeAttributes] - Object with  names and\n     *     values coresponding to attributes you want added to the  Duo Prompt\n     *     iframe, like `title`, `width` and `allow`. WARNING: this parameter\n     *     only works if you use the `iframeContainer` parameter or add an id\n     *     of \"duo_iframe\" to an element that isn't an iframe. If you have\n     *     added an iframe to the DOM yourself, you should set those attributes\n     *     directly on the iframe.\n     * @param {String} [options.post_action=''] - URL to POST back to after a\n     *     successful auth.\n     * @param {String} [options.post_argument='sig_response'] - Parameter name\n     *     to use for response token.\n     * @param {Function} [options.submit_callback] - If provided, the Duo Web\n     *     SDK will not submit the form. Instead it will execute this callback\n     *     function passing in a reference to the \"duo_form\" form object.\n     *     `submit_callback`` can be used to prevent the webpage from reloading.\n     */\n    function init(options) {\n        // If init() is called more than once we have to reset all the local\n        // variables to ensure init() will work the same way every time. This\n        // helps people making single page applications. SPAs may periodically\n        // remove the iframe and add a new one that has to be initialized.\n        initializeStatefulVariables();\n\n        if (options) {\n            if (options.host) {\n                host = options.host;\n            }\n\n            if (options.sig_request) {\n                parseSigRequest(options.sig_request);\n            }\n\n            if (options.post_action) {\n                postAction = options.post_action;\n            }\n\n            if (options.post_argument) {\n                postArgument = options.post_argument;\n            }\n\n            if (typeof options.submit_callback === 'function') {\n                submitCallback = options.submit_callback;\n            }\n        }\n\n        var promptElement = getPromptElement(options);\n        if (promptElement) {\n            // If we can get the element that will host the prompt, set it.\n            ready(promptElement, options.iframeAttributes || {});\n        } else {\n            // If the element that will host the prompt isn't available yet, set\n            // it up after the DOM finishes loading.\n            asyncReady(options);\n        }\n\n        // always clean up after yourself!\n        offReady(init);\n    }\n\n    /**\n     * Given the options from init(), get the iframe or iframe container that\n     * should be used for the Duo Prompt. Returns `null` if nothing was found.\n     */\n    function getPromptElement(options) {\n        var result;\n\n        if (options.iframe && options.iframeContainer) {\n            throwError(\n                'Passing both `iframe` and `iframeContainer` arguments at the' +\n                ' same time is not allowed.'\n            );\n        } else if (options.iframe) {\n            // If we are getting an iframe, try to get it and raise if the\n            // element we find is NOT an iframe.\n            result = getUserDefinedElement(options.iframe);\n            validateIframe(result);\n        } else if (options.iframeContainer) {\n            result = getUserDefinedElement(options.iframeContainer);\n            validateIframeContainer(result);\n        } else {\n            result = document.getElementById('duo_iframe');\n        }\n\n        return result;\n    }\n\n    /**\n     * When given an HTMLElement, return it. When given a string, get an element\n     * with that id, else return null.\n     */\n    function getUserDefinedElement(object) {\n        if (object.tagName) {\n            return object;\n        } else if (typeof object == 'string') {\n            return document.getElementById(object);\n        }\n        return null;\n    }\n\n    /**\n     * Check if the given thing is an iframe.\n     */\n    function isIframe(element) {\n        return (\n            element &&\n            element.tagName &&\n            element.tagName.toLowerCase() === 'iframe'\n        );\n    }\n\n    /**\n     * Throw an error if we are given an element that is NOT an iframe.\n     */\n    function validateIframe(element) {\n        if (element && !isIframe(element)) {\n            throwError(\n                '`iframe` only accepts an iframe element or the id of an' +\n                ' iframe. To use a non-iframe element, use the' +\n                ' `iframeContainer` argument.'\n            );\n        }\n    }\n\n    /**\n     * Throw an error if we are given an element that IS an iframe instead of an\n     * element that we can insert an iframe into.\n     */\n    function validateIframeContainer(element) {\n        if (element && isIframe(element)) {\n            throwError(\n                '`iframeContainer` only accepts a non-iframe element or the' +\n                ' id of a non-iframe. To use a non-iframe element, use the' +\n                ' `iframeContainer` argument on Duo.init().'\n            );\n        }\n    }\n\n    /**\n     * Generate the URL that goes to the Duo Prompt.\n     */\n    function generateIframeSrc() {\n        return [\n            'https://', host, '/frame/web/v1/auth?tx=', duoSig,\n            '&parent=', encodeURIComponent(document.location.href),\n            '&v=2.8'\n        ].join('');\n    }\n\n    /**\n     * This function is called when a message was received from another domain\n     * using the `postMessage` API.  Check that the event came from the Duo\n     * service domain, and that the message is a properly formatted payload,\n     * then perform the post back to the primary service.\n     *\n     * @param event Event object (contains origin and data)\n     */\n    function onReceivedMessage(event) {\n        if (isDuoMessage(event)) {\n            if (event.data.match(DUO_OPEN_WINDOW_FORMAT)) {\n                var url = event.data.substring(\"DUO_OPEN_WINDOW|\".length);\n                if (isValidUrlToOpen(url)) {\n                    // Open the URL that comes after the DUO_WINDOW_OPEN token.\n                    window.open(url, \"_self\");\n                }\n            }\n            else {\n                // the event came from duo, do the post back\n                doPostBack(event.data);\n\n                // always clean up after yourself!\n                offMessage(onReceivedMessage);\n            }\n        }\n    }\n\n    /**\n     * Validate that this passed in URL is one that we will actually allow to\n     * be opened.\n     * @param url String URL that the message poster wants to open\n     * @returns {boolean} true if we allow this url to be opened in the window\n     */\n    function isValidUrlToOpen(url) {\n        if (!url) {\n            return false;\n        }\n\n        var parser = document.createElement('a');\n        parser.href = url;\n\n        if (parser.protocol === \"duotrustedendpoints:\") {\n            return true;\n        } else if (parser.protocol !== \"https:\") {\n            return false;\n        }\n\n        for (var i = 0; i < VALID_OPEN_WINDOW_DOMAINS.length; i++) {\n           if (parser.hostname.endsWith(\".\" + VALID_OPEN_WINDOW_DOMAINS[i]) ||\n                   parser.hostname === VALID_OPEN_WINDOW_DOMAINS[i]) {\n               return true;\n           }\n        }\n        return false;\n    }\n\n    /**\n     * Register a callback to call ready() after the DOM has loaded.\n     */\n    function asyncReady(options) {\n        var callback = function() {\n            var promptElement = getPromptElement(options);\n            if (!promptElement) {\n                throwError(\n                    'This page does not contain an iframe for Duo to use.' +\n                    ' Add an element like' +\n                    ' <iframe id=\"duo_iframe\"></iframe> to this page.'\n                );\n            }\n\n            ready(promptElement, options.iframeAttributes || {});\n\n            // Always clean up after yourself.\n            offReady(callback)\n        };\n\n        onReady(callback);\n    }\n\n    /**\n     * Point the iframe at Duo, then wait for it to postMessage back to us.\n     */\n    function ready(promptElement, iframeAttributes) {\n        if (!host) {\n            host = getDataAttribute(promptElement, 'host');\n\n            if (!host) {\n                throwError(\n                    'No API hostname is given for Duo to use.  Be sure to pass ' +\n                    'a `host` parameter to Duo.init, or through the `data-host` ' +\n                    'attribute on the iframe element.'\n                );\n            }\n        }\n\n        if (!duoSig || !appSig) {\n            parseSigRequest(getDataAttribute(promptElement, 'sigRequest'));\n\n            if (!duoSig || !appSig) {\n                throwError(\n                    'No valid signed request is given.  Be sure to give the ' +\n                    '`sig_request` parameter to Duo.init, or use the ' +\n                    '`data-sig-request` attribute on the iframe element.'\n                );\n            }\n        }\n\n        // if postAction/Argument are defaults, see if they are specified\n        // as data attributes on the iframe\n        if (postAction === '') {\n            postAction = getDataAttribute(promptElement, 'postAction') || postAction;\n        }\n\n        if (postArgument === 'sig_response') {\n            postArgument = getDataAttribute(promptElement, 'postArgument') || postArgument;\n        }\n\n        if (isIframe(promptElement)) {\n            iframe = promptElement;\n            iframe.src = generateIframeSrc();\n        } else {\n            // If given a container to put an iframe in, clean out any children\n            // child elements in case `init()` was called more than once.\n            while (promptElement.firstChild) {\n                // We call `removeChild()` instead of doing `innerHTML = \"\"`\n                // to make sure we unbind any events.\n                promptElement.removeChild(promptElement.firstChild)\n            }\n\n            iframe = document.createElement('iframe');\n\n            // Set the src and all other attributes on the new iframe.\n            iframeAttributes['src'] = generateIframeSrc();\n            for (var name in iframeAttributes) {\n                iframe.setAttribute(name, iframeAttributes[name]);\n            }\n\n            promptElement.appendChild(iframe);\n        }\n\n        // listen for the 'message' event\n        onMessage(onReceivedMessage);\n    }\n\n    /**\n     * We received a postMessage from Duo.  POST back to the primary service\n     * with the response token, and any additional user-supplied parameters\n     * given in form#duo_form.\n     */\n    // function doPostBack(response) {\n    //     // create a hidden input to contain the response token\n    //     var input = document.createElement('input');\n    //     input.type = 'hidden';\n    //     input.name = postArgument;\n    //     input.value = response + ':' + appSig;\n\n    //     // user may supply their own form with additional inputs\n    //     var form = document.getElementById('duo_form');\n\n    //     // if the form doesn't exist, create one\n    //     if (!form) {\n    //         form = document.createElement('form');\n\n    //         // insert the new form after the iframe\n    //         iframe.parentElement.insertBefore(form, iframe.nextSibling);\n    //     }\n\n    //     // make sure we are actually posting to the right place\n    //     form.method = 'POST';\n    //     form.action = postAction;\n\n    //     // add the response token input to the form\n    //     form.appendChild(input);\n\n    //     // away we go!\n    //     if (typeof submitCallback === \"function\") {\n    //         submitCallback.call(null, form);\n    //     } else {\n    //         form.submit();\n    //     }\n    // }\n\n    // OKTA: Overriding their doPostBack logic because we want to submit this\n    // through ajax, not a postBack\n    function doPostBack(response) {\n        postAction(response + ':' + appSig);\n    }\n    \n\n    return {\n        init: init,\n        _onReady: onReady,\n        _parseSigRequest: parseSigRequest,\n        _isDuoMessage: isDuoMessage,\n        _doPostBack: doPostBack\n    };\n}));","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint max-statements: [2, 15] */\n\nimport Q from 'q';\nimport Enums from './Enums';\nconst SWAP_PAGE_TIME = 200;\nconst fn = {};\n\nfunction zoom($el, start, finish) {\n  const deferred = Q.defer();\n\n  $el.animate(\n    {\n      'text-indent': 1,\n    },\n    {\n      duration: 200,\n      easing: 'swing',\n      step: function(now, fx) {\n        fx.start = start;\n        fx.end = finish;\n        $el.css('transform', 'scale(' + now + ', ' + now + ')');\n      },\n      always: function() {\n        deferred.resolve($el);\n      },\n    }\n  );\n  return deferred.promise;\n}\n\nfunction rotate($el, start, finish) {\n  const deferred = Q.defer();\n\n  $el.animate(\n    {\n      'text-indent': 1,\n    },\n    {\n      duration: 150,\n      easing: 'swing',\n      step: function(now, fx) {\n        fx.start = start;\n        fx.end = finish;\n        $el.css('transform', 'rotate(' + now + 'deg)');\n      },\n      always: function() {\n        deferred.resolve($el);\n      },\n    }\n  );\n  return deferred.promise;\n}\n\n// Note: It is necessary to pass in a success callback because we must\n// remove the old dom node (and controller) in the same tick of the event\n// loop. Waiting for \"then\" results in a glitchy animation.\nfn.swapPages = function(options) {\n  const deferred = Q.defer();\n  const $parent = options.$parent;\n  const $oldRoot = options.$oldRoot;\n  const $newRoot = options.$newRoot;\n  const success = options.success;\n  const ctx = options.ctx;\n  let directionClassName = 'transition-from-right';\n\n  if (options.dir && options.dir === Enums.DIRECTION_BACK) {\n    directionClassName = 'transition-from-left';\n  }\n\n  $newRoot.addClass(directionClassName);\n  $parent.append($newRoot);\n\n  $parent.addClass('animation-container-overflow');\n  $newRoot.animate({ left: '0px', top: '0px', opacity: 1 }, SWAP_PAGE_TIME, function() {\n    $parent.removeClass('animation-container-overflow');\n    $newRoot.removeClass(directionClassName);\n    $newRoot.removeAttr('style');\n    success.call(ctx);\n    deferred.resolve();\n  });\n\n  $oldRoot.animate({ height: $newRoot.height(), opacity: 0 }, SWAP_PAGE_TIME * 0.8);\n\n  return deferred.promise;\n};\n\nfn.swapBeacons = function(options) {\n  const $el = options.$el;\n  const swap = options.swap;\n  const ctx = options.ctx;\n\n  return this.implode($el)\n    .then(function() {\n      swap.call(ctx);\n      return $el;\n    })\n    .then(this.explode);\n};\n\nfn.explode = function($el) {\n  return zoom($el, 0, 1); //zoom in\n};\n\nfn.implode = function($el) {\n  return zoom($el, 1, 0); //zoom out\n};\n\nfn.radialProgressBar = function(options) {\n  const radialProgressBar = options.$el;\n  const swap = options.swap;\n  const circles = radialProgressBar.children();\n\n  return rotate(circles, 0, 180)\n    .then(function() {\n      radialProgressBar.css({ clip: 'auto' });\n    })\n    .then(function() {\n      const leftHalf = circles.eq(0);\n\n      swap();\n      return rotate(leftHalf, 180, 360);\n    })\n    .then(function() {\n      //reset values to initial state\n      radialProgressBar.css({ clip: 'rect(0px, 96px, 96px, 48px)' });\n      circles.css({\n        transform: 'rotate(0deg)',\n        'text-indent': '1px',\n      });\n    });\n};\n\nexport default fn;\n","/*!\n * Copyright (c) 2018-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport Enums from 'util/Enums';\nconst fn = {};\n\nconst template = function(colors) {\n  return `\n#okta-sign-in.auth-container .button-primary,\n#okta-sign-in.auth-container .button-primary:active,\n#okta-sign-in.auth-container .button-primary:focus { background: ${colors.brand}; }\n#okta-sign-in.auth-container .button-primary:hover { background: ${fn.lighten(colors.brand, 0.05)}; }\n#okta-sign-in.auth-container .button.button-primary.link-button-disabled {\n  background: ${colors.brand};\n  opacity: 0.5;\n}\n    `;\n};\n\n// visible for testing\nfn.lighten = function(hex, lum) {\n  lum = lum || 0;\n  hex = hex.substr(1);\n  let newHex = '#';\n\n  for (var i = 0; i < 3; i++) {\n    let c = parseInt(hex.substr(i * 2, 2), 16);\n\n    c = Math.round(Math.min(Math.max(0, c + c * lum), 255)).toString(16);\n    newHex += ('00' + c).substr(c.length);\n  }\n  return newHex;\n};\n\nfn.addStyle = function(colors) {\n  const css = template(colors);\n  const main = document.getElementById(Enums.WIDGET_CONTAINER_ID);\n  const style = document.createElement('style');\n\n  style.id = Enums.WIDGET_CONFIG_COLORS_ID;\n  style.type = 'text/css';\n  style.appendChild(document.createTextNode(css));\n\n  main.appendChild(style);\n};\n\nfn.isLoaded = function() {\n  return !!document.getElementById(Enums.WIDGET_CONFIG_COLORS_ID);\n};\n\nexport default fn;\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { internal } from 'okta';\nconst Cookie = internal.util.Cookie;\nconst LAST_USERNAME_COOKIE_NAME = 'ln';\nconst DAYS_SAVE_REMEMBER = 365;\nconst fn = {};\n\nfn.getCookieUsername = function() {\n  return Cookie.getCookie(LAST_USERNAME_COOKIE_NAME);\n};\n\nfn.setUsernameCookie = function(username) {\n  Cookie.setCookie(LAST_USERNAME_COOKIE_NAME, username, {\n    expires: DAYS_SAVE_REMEMBER,\n    path: '/',\n  });\n};\n\nfn.removeUsernameCookie = function() {\n  Cookie.removeCookie(LAST_USERNAME_COOKIE_NAME, { path: '/' });\n};\n\nexport default fn;\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _, loc } from 'okta';\nimport bundles from './Bundles';\nimport countryCallingCodes from './countryCallingCodes';\nconst fn = {};\n\n// () => [{ countryCode: countryName }], sorted by countryName\nfn.getCountries = function() {\n  const countries = _.omit(bundles.country, 'HM', 'BV', 'TF');\n  // HM, BV, and TF do not have phone prefixes, so don't give the\n  // user the option to choose these countries. FYI it appears that these\n  // countries do not have calling codes because they are ~~uninhabited~~\n\n  let collection = _.map(countries, function(name, code) {\n    return { name: name, code: code };\n  });\n\n  // Sort it; figure out if there is a better way to do this (best would\n  // be to sort it in the properties file!!)\n\n  collection = _.sortBy(collection, 'name');\n  const sorted = {};\n\n  _.each(collection, function(country) {\n    sorted[country.code] = country.name;\n  });\n\n  return sorted;\n};\n\nfn.getCountryCode = function(){\n\n  const countries = _.omit(bundles.country, 'HM', 'BV', 'TF');\n  // HM, BV, and TF do not have phone prefixes, so don't give the\n  // user the option to choose these countries. FYI it appears that these\n  // countries do not have calling codes because they are ~~uninhabited~~\n\n  let collection = _.map(countries, function(name, code) {\n    return { name: name, code: code };\n  });\n\n  collection = _.sortBy(collection, 'name');\n  const sorted = {};\n\n  _.each(collection, function(country) {\n    sorted[country.code] = loc('country.option.label', 'login', [country.name, country.code]);\n  });\n\n  return sorted;\n};\n\nfn.getCallingCodeForCountry = function(countryCode) {\n  return countryCallingCodes[countryCode];\n};\n\nexport default fn;\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* global Uint8Array, btoa, atob */\n\nconst fn = {};\n\n/**\n * Light weight hashing algorithm that hashes string into an integer between 0 and 4294967295\n * Not recommended for data set of size greater than 10000\n * https://www.npmjs.com/package/string-hash\n *\n * @param str the string to be hashed\n * @returns string hash of integer type\n */\nfn.getStringHash = function(str) {\n  let hash = 5381;\n  let i = str.length;\n\n  while (i) {\n    hash = (hash * 33) ^ str.charCodeAt(--i);\n  }\n  return hash >>> 0;\n};\n\n/**\n * Converts any url safe characters in a base64 string to regular base64 characters\n * @param str base64 string that might contain url safe characters\n * @returns base64 formatted string\n */\nfn.base64UrlSafeToBase64 = function(str) {\n  return str.replace(new RegExp('_', 'g'), '/').replace(new RegExp('-', 'g'), '+');\n};\n\n/**\n * Converts an ArrayBuffer object that contains binary data to base64 encoded string\n * @param bin ArrayBuffer object\n * @returns base64 encoded string\n */\nfn.binToStr = function(bin) {\n  return btoa(new Uint8Array(bin).reduce((s, byte) => s + String.fromCharCode(byte), ''));\n};\n\n/**\n * Converts base64 string to binary data view\n * @param str in base64 or base64UrlSafe format\n * @returns converted Uint8Array view of binary data\n */\nfn.strToBin = function(str) {\n  return Uint8Array.from(atob(this.base64UrlSafeToBase64(str)), c => c.charCodeAt(0));\n};\n\nexport default fn;\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport default {\n  API_RATE_LIMIT: 30000, //milliseconds\n\n  WIDGET_LOGIN_CONTAINER_ID: 'okta-login-container',\n  WIDGET_CONTAINER_ID: 'okta-sign-in',\n  WIDGET_CONFIG_COLORS_ID: 'okta-sign-in-config-colors',\n\n  DIRECTION_BACK: 'DIRECTION_BACK',\n\n  RECOVERY_TYPE_PASSWORD: 'PASSWORD',\n  RECOVERY_TYPE_UNLOCK: 'UNLOCK',\n  RECOVERY_FACTOR_TYPE_SMS: 'SMS',\n  RECOVERY_FACTOR_TYPE_EMAIL: 'EMAIL',\n  RECOVERY_FACTOR_TYPE_CALL: 'CALL',\n\n  IOS: 'ios',\n  ANDROID: 'android',\n\n  ODA: 'oda',\n  MDM: 'mdm',\n\n  // Global success messages\n  SUCCESS: 'SUCCESS',\n  FORGOT_PASSWORD_EMAIL_SENT: 'FORGOT_PASSWORD_EMAIL_SENT',\n  UNLOCK_ACCOUNT_EMAIL_SENT: 'UNLOCK_ACCOUNT_EMAIL_SENT',\n\n  // Global error messages\n  CONFIG_ERROR: 'CONFIG_ERROR',\n  UNSUPPORTED_BROWSER_ERROR: 'UNSUPPORTED_BROWSER_ERROR',\n  OAUTH_ERROR: 'OAUTH_ERROR',\n  AUTH_STOP_POLL_INITIATION_ERROR: 'AUTH_STOP_POLL_INITIATION_ERROR',\n  U2F_ERROR: 'U2F_ERROR',\n  WEB_AUTHN_ERROR: 'WEB_AUTHN_ERROR',\n  WEBAUTHN_ABORT_ERROR: 'WEBAUTHN_ABORT_ERROR',\n  CONFIGURED_FLOW_ERROR: 'CONFIGURED_FLOW_ERROR',\n\n  // Enroll choice page types\n  ALL_OPTIONAL_NONE_ENROLLED: 'ALL_OPTIONAL_NONE_ENROLLED',\n  ALL_OPTIONAL_SOME_ENROLLED: 'ALL_OPTIONAL_SOME_ENROLLED',\n  HAS_REQUIRED_NONE_ENROLLED: 'HAS_REQUIRED_NONE_ENROLLED',\n  HAS_REQUIRED_SOME_REQUIRED_ENROLLED: 'HAS_REQUIRED_SOME_REQUIRED_ENROLLED',\n  HAS_REQUIRED_ALL_REQUIRED_ENROLLED: 'HAS_REQUIRED_ALL_REQUIRED_ENROLLED',\n\n  // Operations\n  PRIMARY_AUTH: 'PRIMARY_AUTH',\n  FORGOT_PASSWORD: 'FORGOT_PASSWORD',\n  UNLOCK_ACCOUNT: 'UNLOCK_ACCOUNT',\n\n  // Auth Types\n  SESSION_SSO: 'SESSION_SSO',\n  SESSION_STEP_UP: 'SESSION_STEP_UP',\n\n  //Registration\n  ACTIVATION_EMAIL_SENT: 'ACTIVATION_EMAIL_SENT',\n  REGISTRATION_COMPLETE: 'REGISTRATION_COMPLETE',\n  REGISTRATION_FAILED: 'REGISTRATION_FAILED',\n\n  //IDP Discovery\n  IDP_DISCOVERY: 'IDP_DISCOVERY',\n\n  //App Store Links\n  OKTA_VERIFY_APPLE_APP_STORE_URL: 'https://apps.apple.com/us/app/okta-verify/id490179405',\n  OKTA_VERIFY_GOOGLE_PLAY_STORE_URL: 'https://play.google.com/store/apps/details?id=com.okta.android.auth',\n\n  // Device Challenge Method\n  LOOPBACK_CHALLENGE: 'LOOPBACK',\n  CUSTOM_URI_CHALLENGE: 'CUSTOM_URI',\n  UNIVERSAL_LINK_CHALLENGE: 'UNIVERSAL_LINK',\n  APP_LINK_CHALLENGE: 'APP_LINK',\n\n};\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint complexity: [2, 38], max-statements: [2, 38] */\nimport { _, loc } from 'okta';\nimport TimeUtil from 'util/TimeUtil';\nconst fn = {};\nconst factorData = {\n  OKTA_VERIFY: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpSoft.oktaVerify',\n    description: 'factor.totpSoft.description',\n    iconClassName: 'mfa-okta-verify',\n    sortOrder: 1,\n  },\n  OKTA_VERIFY_PUSH: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.oktaVerifyPush',\n    description: 'factor.push.description',\n    iconClassName: 'mfa-okta-verify',\n    sortOrder: 1,\n  },\n  U2F: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.u2f',\n    description: brandName => {\n      return brandName ? 'factor.u2f.description.specific' : 'factor.u2f.description.generic';\n    },\n    iconClassName: 'mfa-u2f',\n    sortOrder: 2,\n  },\n  WEBAUTHN: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.webauthn.biometric',\n    description: 'factor.webauthn.biometric.description',\n    iconClassName: 'mfa-webauthn',\n    sortOrder: 2,\n  },\n  WINDOWS_HELLO: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.windowsHello',\n    description: brandName => {\n      return brandName\n        ? 'factor.windowsHello.signin.description.specific'\n        : 'factor.windowsHello.signin.description.generic';\n    },\n    iconClassName: 'mfa-windows-hello',\n    sortOrder: 3,\n  },\n  YUBIKEY: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpHard.yubikey',\n    description: 'factor.totpHard.yubikey.description',\n    iconClassName: 'mfa-yubikey',\n    sortOrder: 4,\n  },\n  GOOGLE_AUTH: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpSoft.googleAuthenticator',\n    description: 'factor.totpSoft.description',\n    iconClassName: 'mfa-google-auth',\n    sortOrder: 5,\n  },\n  CUSTOM_HOTP: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: 'factor.hotp.description',\n    iconClassName: 'mfa-hotp',\n    sortOrder: 6,\n  },\n  SMS: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.sms',\n    description: 'factor.sms.description',\n    iconClassName: 'mfa-okta-sms',\n    sortOrder: 7,\n  },\n  CALL: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.call',\n    description: 'factor.call.description',\n    iconClassName: 'mfa-okta-call',\n    sortOrder: 8,\n  },\n  EMAIL: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.email',\n    description: 'factor.email.description',\n    iconClassName: 'mfa-okta-email',\n    sortOrder: 9,\n  },\n  QUESTION: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.securityQuestion',\n    description: 'factor.securityQuestion.description',\n    iconClassName: 'mfa-okta-security-question',\n    sortOrder: 10,\n  },\n  DUO: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.duo',\n    description: 'factor.duo.description',\n    iconClassName: 'mfa-duo',\n    sortOrder: 11,\n  },\n  SYMANTEC_VIP: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpHard.symantecVip',\n    description: 'factor.totpHard.description',\n    iconClassName: 'mfa-symantec',\n    sortOrder: 12,\n  },\n  RSA_SECURID: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.totpHard.rsaSecurId',\n    description: 'factor.totpHard.description',\n    iconClassName: 'mfa-rsa',\n    sortOrder: 13,\n  },\n  ON_PREM: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: 'factor.totpHard.description',\n    iconClassName: 'mfa-onprem',\n    sortOrder: 14,\n  },\n  PASSWORD: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: 'factor.password',\n    description: '',\n    iconClassName: 'mfa-okta-password',\n    sortOrder: 15,\n  },\n  CUSTOM_CLAIMS: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: 'factor.customFactor.description',\n    iconClassName: 'mfa-custom-factor',\n    sortOrder: 16,\n  },\n  GENERIC_SAML: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: brandName => {\n      return brandName ? 'factor.customFactor.description.specific' : 'factor.customFactor.description.generic';\n    },\n    iconClassName: 'mfa-custom-factor',\n    sortOrder: 17,\n  },\n  GENERIC_OIDC: {\n    /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n    label: '',\n    description: brandName => {\n      return brandName ? 'factor.customFactor.description.specific' : 'factor.customFactor.description.generic';\n    },\n    iconClassName: 'mfa-custom-factor',\n    sortOrder: 18,\n  },\n};\n\nconst getPasswordComplexityRequirementsAsArray = function(policy, i18nKeys) {\n  const setExcludeAttributes = function(policyComplexity) {\n    const excludeAttributes = policyComplexity.excludeAttributes;\n\n    policyComplexity.excludeFirstName = _.contains(excludeAttributes, 'firstName');\n    policyComplexity.excludeLastName = _.contains(excludeAttributes, 'lastName');\n    return _.omit(policyComplexity, 'excludeAttributes');\n  };\n\n  if (policy.complexity) {\n    const complexityFields = i18nKeys.complexity;\n    const policyComplexity = setExcludeAttributes(policy.complexity);\n\n    const requirements = _.map(policyComplexity, function(complexityValue, complexityType) {\n      if (complexityValue <= 0) {\n        // to skip 0 and -1\n        return;\n      }\n\n      const params = complexityFields[complexityType];\n\n      return params.args ? loc(params.i18n, 'login', [complexityValue]) : loc(params.i18n, 'login');\n    });\n\n    return _.compact(requirements);\n  }\n  return [];\n};\n\nconst getPasswordHistoryRequirementDescription = function(policy, i18nKeys) {\n  if (policy.age && policy.age.historyCount > 0) {\n    return loc(i18nKeys.history.i18n, 'login', [policy.age.historyCount]);\n  }\n  return null;\n};\n\nconst getPasswordAgeRequirementDescription = function(policy, i18nKeys) {\n  const getPasswordAgeRequirement = function(displayableTime) {\n    let propertiesString;\n\n    switch (displayableTime.unit) {\n    case 'DAY':\n      propertiesString = i18nKeys.age.days.i18n;\n      break;\n    case 'HOUR':\n      propertiesString = i18nKeys.age.hours.i18n;\n      break;\n    case 'MINUTE':\n      propertiesString = i18nKeys.age.minutes.i18n;\n    }\n    return loc(propertiesString, 'login', [displayableTime.time]);\n  };\n\n  if (policy.age && policy.age.minAgeMinutes > 0) {\n    const displayableTime = TimeUtil.getTimeInHighestRelevantUnit(policy.age.minAgeMinutes, 'MINUTE');\n\n    return getPasswordAgeRequirement(displayableTime);\n  }\n  return null;\n};\n\nconst getPasswordRequirements = function(policy, i18nKeys) {\n  const passwordRequirements = {\n    complexity: [],\n    history: [],\n    age: [],\n  };\n\n  passwordRequirements.complexity = getPasswordComplexityRequirementsAsArray(policy, i18nKeys);\n\n  const historyRequirement = getPasswordHistoryRequirementDescription(policy, i18nKeys);\n\n  if (historyRequirement) {\n    passwordRequirements.history.push(historyRequirement);\n  }\n\n  const ageRequirement = getPasswordAgeRequirementDescription(policy, i18nKeys);\n\n  if (ageRequirement) {\n    passwordRequirements.age.push(ageRequirement);\n  }\n\n  return passwordRequirements;\n};\n\nfn.getFactorName = function(provider, factorType) {\n  if (provider === 'OKTA' && factorType === 'token:software:totp') {\n    return 'OKTA_VERIFY';\n  }\n  if (provider === 'OKTA' && factorType === 'push') {\n    return 'OKTA_VERIFY_PUSH';\n  }\n  if (provider === 'GOOGLE') {\n    return 'GOOGLE_AUTH';\n  }\n  if (provider === 'SYMANTEC' && factorType === 'token') {\n    return 'SYMANTEC_VIP';\n  }\n  if (provider === 'RSA' && factorType === 'token') {\n    return 'RSA_SECURID';\n  }\n  if (provider === 'DEL_OATH' && factorType === 'token') {\n    return 'ON_PREM';\n  }\n  if (provider === 'DUO' && factorType === 'web') {\n    return 'DUO';\n  }\n  if (provider === 'YUBICO' && factorType === 'token:hardware') {\n    return 'YUBIKEY';\n  }\n  if (provider === 'OKTA' && factorType === 'sms') {\n    return 'SMS';\n  }\n  if (provider === 'OKTA' && factorType === 'call') {\n    return 'CALL';\n  }\n  if (provider === 'OKTA' && factorType === 'question') {\n    return 'QUESTION';\n  }\n  if (provider === 'OKTA' && factorType === 'email') {\n    return 'EMAIL';\n  }\n  if (provider === 'OKTA' && factorType === 'password') {\n    return 'PASSWORD';\n  }\n  if (provider === 'GENERIC_SAML' && factorType === 'assertion:saml2') {\n    return 'GENERIC_SAML';\n  }\n  if (provider === 'GENERIC_OIDC' && factorType === 'assertion:oidc') {\n    return 'GENERIC_OIDC';\n  }\n  return fn.getFactorNameForFactorType.call(this, factorType);\n};\n\nfn.getFactorNameForFactorType = function(factorType) {\n  if (factorType === 'u2f') {\n    return 'U2F';\n  }\n  if (factorType === 'token:software:totp') {\n    return 'OKTA_VERIFY';\n  }\n  if (factorType === 'webauthn') {\n    if (this.settings.get('features.webauthn')) {\n      return 'WEBAUTHN';\n    } else {\n      return 'WINDOWS_HELLO';\n    }\n  }\n  if (factorType === 'token:hotp') {\n    return 'CUSTOM_HOTP';\n  }\n  if (factorType === 'claims_provider') {\n    return 'CUSTOM_CLAIMS';\n  }\n};\n\nfn.isOktaVerify = function(provider, factorType) {\n  return provider === 'OKTA' && (factorType === 'token:software:totp' || factorType === 'push');\n};\n\nfn.getFactorLabel = function(provider, factorType) {\n  const key = factorData[fn.getFactorName.apply(this, [provider, factorType])].label;\n\n  return loc(key, 'login');\n};\n\nfn.getFactorDescription = function(provider, factorType) {\n  const descriptionKey = factorData[fn.getFactorName.apply(this, [provider, factorType])].description;\n\n  if (_.isFunction(descriptionKey)) {\n    const brandName = this.settings.get('brandName');\n    const key = descriptionKey(brandName);\n\n    return brandName ? loc(key, 'login', [brandName]) : loc(key, 'login');\n  } else {\n    return loc(descriptionKey, 'login');\n  }\n};\n\nfn.getFactorIconClassName = function(provider, factorType) {\n  return factorData[fn.getFactorName.apply(this, [provider, factorType])].iconClassName;\n};\n\nfn.getFactorSortOrder = function(provider, factorType) {\n  return factorData[fn.getFactorName.apply(this, [provider, factorType])].sortOrder;\n};\n\nfn.getRememberDeviceValue = function(appState) {\n  return appState && appState.get('rememberDeviceByDefault');\n};\n\nfn.getSecurityQuestionLabel = function(questionObj) {\n  const localizedQuestion = loc('security.' + questionObj.question);\n\n  return localizedQuestion.indexOf('L10N_ERROR') < 0 ? localizedQuestion : questionObj.questionText;\n};\n\nfn.removeRequirementsFromError = function(responseJSON, policy) {\n  const passwordRequirementsAsString = this.getPasswordComplexityDescription(policy);\n\n  if (\n    responseJSON.errorCauses &&\n    responseJSON.errorCauses.length > 0 &&\n    _.isString(responseJSON.errorCauses[0].errorSummary)\n  ) {\n    responseJSON.errorCauses[0].errorSummary = responseJSON.errorCauses[0].errorSummary\n      .replace(passwordRequirementsAsString, '')\n      .trim();\n  }\n  return responseJSON;\n};\n\nfn.getPasswordComplexityDescriptionForHtmlList = function(policy) {\n  const passwordRequirementHtmlI18nKeys = {\n    complexity: {\n      minLength: { i18n: 'password.complexity.length.description', args: true },\n      minLowerCase: { i18n: 'password.complexity.lowercase.description' },\n      minUpperCase: { i18n: 'password.complexity.uppercase.description' },\n      minNumber: { i18n: 'password.complexity.number.description' },\n      minSymbol: { i18n: 'password.complexity.symbol.description' },\n      excludeUsername: { i18n: 'password.complexity.no_username.description' },\n      excludeFirstName: { i18n: 'password.complexity.no_first_name.description' },\n      excludeLastName: { i18n: 'password.complexity.no_last_name.description' },\n    },\n    history: { i18n: 'password.complexity.history.description' },\n    age: {\n      minutes: { i18n: 'password.complexity.minAgeMinutes.description' },\n      hours: { i18n: 'password.complexity.minAgeHours.description' },\n      days: { i18n: 'password.complexity.minAgeDays.description' },\n    },\n  };\n  const passwordRequirements = getPasswordRequirements(policy, passwordRequirementHtmlI18nKeys);\n\n  return _.union(passwordRequirements.complexity, passwordRequirements.history, passwordRequirements.age);\n};\n\nfn.getPasswordComplexityDescription = function(policy) {\n  const passwordRequirementI18nKeys = {\n    complexity: {\n      minLength: { i18n: 'password.complexity.length', args: true },\n      minLowerCase: { i18n: 'password.complexity.lowercase' },\n      minUpperCase: { i18n: 'password.complexity.uppercase' },\n      minNumber: { i18n: 'password.complexity.number' },\n      minSymbol: { i18n: 'password.complexity.symbol' },\n      excludeUsername: { i18n: 'password.complexity.no_username' },\n      excludeFirstName: { i18n: 'password.complexity.no_first_name' },\n      excludeLastName: { i18n: 'password.complexity.no_last_name' },\n    },\n    history: { i18n: 'password.complexity.history' },\n    age: {\n      minutes: { i18n: 'password.complexity.minAgeMinutes' },\n      hours: { i18n: 'password.complexity.minAgeHours' },\n      days: { i18n: 'password.complexity.minAgeDays' },\n    },\n  };\n  const result = [];\n  const passwordRequirements = getPasswordRequirements(policy, passwordRequirementI18nKeys);\n  let requirements = passwordRequirements.complexity;\n\n  // Generate and add complexity string to result\n  if (requirements.length > 0) {\n    requirements = _.reduce(requirements, function(result, requirement) {\n      return result ? result + loc('password.complexity.list.element', 'login', [requirement]) : requirement;\n    });\n\n    result.push(loc('password.complexity.requirements', 'login', [requirements]));\n  }\n\n  // Only 1 value expected in history and age for now\n  result.push(passwordRequirements.history[0]);\n  result.push(passwordRequirements.age[0]);\n\n  return _.compact(result).join(' ');\n};\n\nfn.getCardinalityText = function(enrolled, required, cardinality) {\n  if (cardinality) {\n    if (enrolled) {\n      return cardinality.enrolled === 1 ? '' : loc('enroll.choices.cardinality.setup', 'login', [cardinality.enrolled]);\n    } else if (required && cardinality.maximum > 1) {\n      return loc('enroll.choices.cardinality.setup.remaining', 'login', [cardinality.enrolled, cardinality.minimum]);\n    }\n  }\n  return '';\n};\n\nfn.findFactorInFactorsArray = function(factors, provider, factorType) {\n  let factor = factors.findWhere({ provider: provider, factorType: factorType });\n\n  if (factor === undefined) {\n    //for factors that support cardinality and only have factorType\n    factor = factors.findWhere({ factorType: factorType });\n  }\n  return factor;\n};\n\nexport default fn;\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint complexity:[2, 9] */\n\nimport { loc } from 'okta';\nconst fn = {};\n\nfn.getU2fEnrollErrorMessageKeyByCode = function(errorCode) {\n  switch (errorCode) {\n  default:\n  case 1:\n    return 'u2f.error.other';\n  case 2:\n  case 3:\n    return 'u2f.error.badRequest';\n  case 4:\n    return 'u2f.error.unsupported';\n  case 5:\n    return 'u2f.error.timeout';\n  }\n};\n\nfn.getU2fVerifyErrorMessageKeyByCode = function(errorCode, isOneFactor) {\n  switch (errorCode) {\n  case 1:\n    // OTHER_ERROR\n    return isOneFactor ? 'u2f.error.other.oneFactor' : 'u2f.error.other';\n  case 2: // BAD_REQUEST\n  case 3:\n    // CONFIGURATION_UNSUPPORTED\n    return isOneFactor ? 'u2f.error.badRequest.oneFactor' : 'u2f.error.badRequest';\n  case 4:\n    // DEVICE_INELIGIBLE\n    return isOneFactor ? 'u2f.error.unsupported.oneFactor' : 'u2f.error.unsupported';\n  case 5:\n    // TIMEOUT\n    return 'u2f.error.timeout';\n  }\n};\n\nfn.getU2fEnrollErrorMessageByCode = function(errorCode) {\n  return loc(fn.getU2fEnrollErrorMessageKeyByCode(errorCode), 'login');\n};\n\nfn.getU2fVerifyErrorMessageByCode = function(errorCode, isOneFactor) {\n  return loc(fn.getU2fVerifyErrorMessageKeyByCode(errorCode, isOneFactor), 'login');\n};\n\nfn.getU2fVersion = function() {\n  return 'U2F_V2';\n};\n\nfn.isU2fAvailable = function() {\n  return Object.prototype.hasOwnProperty.call(window, 'u2f');\n};\n\nexport default fn;\n","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport async function executeHookFunctions(functions) {\n  for (let i = 0; i < functions.length; i++) {\n    await functions[i]();\n  }\n}\n\nexport async function executeHooksBefore(hook) {\n  if (!hook || !hook.before || !hook.before.length) {\n    return;\n  }\n  await executeHookFunctions(hook.before);\n}\n\nexport async function executeHooksAfter(hook) {\n  if (!hook || !hook.after || !hook.after.length) {\n    return;\n  }\n  await executeHookFunctions(hook.after);\n}\n\nexport function mergeHook(hooks, formName, hookToMerge) {\n  const existingHook = hooks[formName] = hooks[formName] || { before: [], after: [] };\n  if (hookToMerge.before) {\n    existingHook.before = existingHook.before.concat(hookToMerge.before);\n  }\n  if (hookToMerge.after) {\n    existingHook.after = existingHook.after.concat(hookToMerge.after);\n  }\n}\n","const SUPPORTED_SOCIAL_IDPS = [\n  'facebook',\n  'google',\n  'linkedin',\n  'microsoft',\n  'apple',\n  'github',\n  'gitlab',\n  'yahoo',\n  'line',\n  'paypal',\n  'paypal_sandbox',\n  'salesforce',\n  'amazon',\n  'yahoojp',\n  'discord',\n  'adobe',\n  'orcid',\n  'spotify',\n  'xero',\n  'quickbooks',\n];\nexport default {\n  SUPPORTED_SOCIAL_IDPS,\n};\n","import Bundles from 'util/Bundles';\nimport config from 'config/config.json';\n\nfunction loadLanguage(appState, settings) {\n  const languageCode = appState.get('languageCode') || settings.get('languageCode') || config.defaultLanguage;\n  const i18n = settings.get('i18n');\n  const assetBaseUrl = settings.get('assets.baseUrl');\n  const assetRewrite = settings.get('assets.rewrite');\n  const supportedLanguages = settings.get('supportedLanguages');\n\n  const timeout = setTimeout(function() {\n    // Trigger a spinner if we're waiting on a request for a new language.\n    appState.trigger('loading', true);\n  }, 200);\n\n  return Bundles.loadLanguage(languageCode, i18n, {\n    baseUrl: assetBaseUrl,\n    rewrite: assetRewrite,\n  }, supportedLanguages).then(function() {\n    clearTimeout(timeout);\n    appState.trigger('loading', false);\n  });\n  // TODO: what if load language error?\n}\n\nexport default {\n  loadLanguage,\n};\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction log(level, args) {\n  // Only log statements in development mode or if\n  // throwing an error through console.error\n  if (DEBUG || level === 'error') {\n    window.console[level].apply(window.console, args);\n  }\n}\n\n/**\n * Utility library of logging functions.\n */\nexport default {\n  trace: function() {\n    return log('trace', arguments);\n  },\n\n  dir: function() {\n    return log('dir', arguments);\n  },\n\n  time: function() {\n    return log('time', arguments);\n  },\n\n  timeEnd: function() {\n    return log('timeEnd', arguments);\n  },\n\n  group: function() {\n    return log('group', arguments);\n  },\n\n  groupEnd: function() {\n    return log('groupEnd', arguments);\n  },\n\n  assert: function() {\n    return log('assert', arguments);\n  },\n\n  log: function() {\n    return log('log', arguments);\n  },\n\n  info: function() {\n    return log('info', arguments);\n  },\n\n  warn: function() {\n    return log('warn', arguments);\n  },\n\n  error: function() {\n    return log('error', arguments);\n  },\n\n  deprecate: function(msg) {\n    return log('warn', ['[okta-signin-widget] DEPRECATED:', msg]);\n  },\n};\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _, loc } from 'okta';\nimport Enums from './Enums';\nimport { getTypedOAuthError, NonRecoverableError } from './OAuthErrors';\nimport Util from './Util';\nconst util = {};\n\n// https://github.com/okta/okta-auth-js#authorize-options\nconst AUTH_PARAMS = [\n  'responseType',\n  'scopes',\n  'state',\n  'nonce',\n  'idp',\n  'idpScope',\n  'display',\n  'prompt',\n  'maxAge',\n  'loginHint'\n];\nutil.AUTH_PARAMS = AUTH_PARAMS;\n\n/**\n * Get the tokens in the OIDC/OAUTH flows\n *\n * @param settings - settings model object\n * @param params - {idp: 'xxx'} for social auth\n *                 {sessionToken: 'xxx'} for okta idp\n */\nutil.getTokens = function(settings, params, controller) {\n  function success(result) {\n    settings.callGlobalSuccess(Enums.SUCCESS, result);\n  }\n\n  function error(error) {\n    const typedError = getTypedOAuthError(error);\n    if (typedError.is('terminal')) {\n      controller.model.appState.set('flashError', typedError);\n      controller.model.appState.trigger('navigate', 'signin/error');\n    } else if (typedError.is('inline')) {\n      controller.model.trigger('error', controller.model, {\n        responseJSON: {\n          errorSummary: typedError.errorDetails.errorSummary\n        }\n      });\n      controller.model.appState.trigger('removeLoading');\n    }\n\n    if (!typedError.is('terminal')) {\n      Util.triggerAfterError(controller, typedError, settings);\n    }\n\n    if (typedError instanceof NonRecoverableError) {\n      settings.callGlobalError(typedError);\n    }\n  }\n\n  const authClient = settings.getAuthClient();\n  const isAuthorizationCodeFlow = authClient.isAuthorizationCodeFlow() && !authClient.isPKCE();\n  const options = settings.toJSON({ verbose: true });\n  const getTokenOptions = {};\n\n  _.extend(\n    getTokenOptions,\n    _.pick(options, 'clientId', 'redirectUri'),\n    _.pick(options.authParams, AUTH_PARAMS),\n    params\n  );\n\n  // Extra Options for Social Idp popup window title and id_token response timeout\n  getTokenOptions.popupTitle = loc('socialauth.popup.title', 'login');\n  getTokenOptions.timeout = options.oAuthTimeout;\n\n  // Redirect flow - this can be used when logging into an external IDP, or\n  // converting the Okta sessionToken to an access_token, id_token, and/or\n  // authorization code. Note: The authorization code flow will always redirect.\n  if (options.redirect === 'always' || isAuthorizationCodeFlow) {\n    authClient.token.getWithRedirect(getTokenOptions).catch(error);\n  } else if (getTokenOptions.sessionToken) {\n    // Default flow if logging in with Okta as the IDP - convert sessionToken to\n    // tokens in a hidden iframe. Used in Single Page Apps where the app does\n    // not want to redirect away from the page to convert the token.\n    authClient.token.getWithoutPrompt(getTokenOptions).then(success).catch(error);\n  } else {\n    // Default flow if logging in with an external IDP - opens a popup and\n    // gets the token from a postMessage response.\n    authClient.token.getWithPopup(getTokenOptions).then(success).catch(error);\n  }\n};\n\nexport default util;\n","import toMilliseconds from '@sindresorhus/to-milliseconds';\nimport parseMs from 'parse-ms';\n\nconst MOMENT_UNIT = {\n  MILLISECOND: 'milliseconds',\n  SECOND: 'seconds',\n  MINUTE: 'minutes',\n  HOUR: 'hours',\n  DAY: 'days',\n};\n\nconst MOMENT_UNIT_KEYS = Object.keys(MOMENT_UNIT);\n\n/**\n * @method convertMomentUnits\n * Conversion between moment's units and our units internally\n *\n * @param {String} momentUnit The units that val is in\n * @return {String} The key in the MOMENT_UNIT hash\n */\nconst convertMomentUnits = function(momentUnit) {\n  const entry = MOMENT_UNIT_KEYS.filter(k => MOMENT_UNIT[k] === momentUnit);\n\n  return entry.length === 1 ? entry[0] : momentUnit;\n};\n\nexport default {\n  /**\n   * @method getTimeInHighestRelevantUnit\n   * Will return a number in the units of the highest relevant time unit.\n   * Only checks milliseconds, seconds, minutes, hours, and days.\n   * E.g.\n   *   15 MINUTE  -> 15 MINUTE\n   *   15 minutes -> 15 MINUTE\n   *   60 minutes ->  1 HOUR\n   *   90 minutes -> 90 MINUTE\n   *   24 HOUR    ->  1 DAY\n   *   24 hours   ->  1 DAY\n   *   30 DAY     -> 30 DAY\n   *\n   * @typedef { \"MILLISECOND\" | \"SECOND\" | \"MINUTE\" | \"HOUR\" | \"DAY\" } TimeUnit\n   *\n   * @typedef { \"MILLISECOND\" | \"SECOND\" | \"MINUTE\" | \"HOUR\" | \"DAY\" |\n   *            \"milliseconds\" | \"seconds\" | \"minutes\" | \"hours\" | \"days\"\n   *          } FlexibleTimeUnit\n   *\n   * @typedef TimeAndUnit\n   * @property {number} time the consolidated time\n   * @property {TimeUnit} unit the unit of the time\n   *\n   * @param {FlexibleTimeUnit} unit The time unit\n   * @return {TimeAndUnit} An object containing the amount of time and the unit\n   */\n  getTimeInHighestRelevantUnit: function(val, unit) {\n    const defaultTimeObj = {\n      days: 0,\n      hours: 0,\n      minutes: 0,\n      seconds: 0,\n      milliseconds: 0,\n    };\n    const normalizedUnit = MOMENT_UNIT[unit] || unit;\n    let timeObj;\n\n    try {\n      const ms = toMilliseconds(Object.assign(defaultTimeObj, { [normalizedUnit]: val }));\n      timeObj = parseMs(ms);\n    } catch (error) {\n      timeObj = {};\n    }\n\n    const duration = Object.keys(timeObj).reduce((init, k) => {\n      if (timeObj[k] !== 0) {\n        init[k] = timeObj[k];\n      }\n      return init;\n    }, {});\n\n    let highestUnit;\n    let time;\n    if (Object.keys(duration).length === 1) {\n      Object.keys(duration).forEach(k => {\n        time = duration[k];\n        highestUnit = k;\n      });\n    } else {\n      time = val;\n      highestUnit = normalizedUnit;\n    }\n\n    return {\n      time: time,\n      unit: convertMomentUnits(highestUnit),\n    };\n  },\n};\n","/* eslint-disable max-statements */\n/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint complexity: [2, 13], max-depth: [2, 3] */\nimport { _, loc } from 'okta';\nimport Enums from './Enums';\nimport Logger from './Logger';\nimport BrowserFeatures from './BrowserFeatures';\n\nconst Util = {};\n\nconst buildInputForParameter = function(name, value) {\n  const input = document.createElement('input');\n\n  input.name = name;\n  input.value = decodeURIComponent(value);\n  input.type = 'hidden';\n  return input;\n};\n\nconst buildSubmitInput = function() {\n  const input = document.createElement('input');\n  input.type = 'submit';\n  return input;\n};\n\nconst buildDynamicForm = function(url = '', method) {\n  const splitOnFragment = url.split('#');\n  const fragment = splitOnFragment[1];\n  const splitOnQuery = (splitOnFragment[0] || '').split('?');\n  const query = splitOnQuery[1];\n  let targetUrl = splitOnQuery[0];\n\n  if (fragment) {\n    targetUrl += '#' + fragment;\n  }\n\n  const form = document.createElement('form');\n\n  form.method = method;\n  form.setAttribute('style', 'display: none;');\n  form.action = targetUrl;\n  if (query && query.length) {\n    const queryParts = query.split('&');\n\n    queryParts.forEach(queryPart => {\n      const parameterParts = queryPart.split('=');\n      const input = buildInputForParameter(parameterParts[0], parameterParts[1]);\n\n      form.appendChild(input);\n    });\n  }\n  form.appendChild(buildSubmitInput());\n\n  return form;\n};\n\n// eslint-disable-next-line complexity\nUtil.transformErrorXHR = function(xhr) {\n  // Handle network connection error\n  if (xhr.status === 0 && _.isEmpty(xhr.responseJSON)) {\n    xhr.responseJSON = { errorSummary: loc('error.network.connection', 'login') };\n    return xhr;\n  }\n  if (!xhr.responseJSON) {\n    if (!xhr.responseText) {\n      // Empty server response\n      xhr.responseJSON = { errorSummary: loc('error.unsupported.response', 'login') };\n      return xhr;\n    }\n    if (typeof xhr.responseText === 'string') {\n      try {\n        xhr.responseJSON = JSON.parse(xhr.responseText);\n      } catch (e) {\n        // Malformed server response\n        xhr.responseJSON = { errorSummary: loc('error.unsupported.response', 'login') };\n        return xhr;\n      }\n    } else if (typeof xhr.responseText === 'object') {\n      xhr.responseJSON = xhr.responseText;\n    } \n  }\n  // Temporary solution to display field errors\n  // Assuming there is only one field error in a response\n  if (xhr.responseJSON && xhr.responseJSON.errorCauses && xhr.responseJSON.errorCauses.length) {\n    xhr.responseJSON.errorSummary = xhr.responseJSON.errorCauses[0].errorSummary;\n  }\n  // Replace error messages\n  if (!_.isEmpty(xhr.responseJSON)) {\n    const errorMsg = loc('errors.' + xhr.responseJSON.errorCode, 'login');\n\n    if (errorMsg.indexOf('L10N_ERROR[') === -1) {\n      xhr.responseJSON.errorSummary = errorMsg;\n      if (xhr.responseJSON && xhr.responseJSON.errorCauses && xhr.responseJSON.errorCauses.length) {\n        // BaseForm will consume errorCauses before errorSummary if it is an array,\n        // so, we have to make sure to remove it when we have a valid error code\n        delete xhr.responseJSON.errorCauses;\n      }\n    }\n  }\n  return xhr;\n};\n\n// Simple helper function to lowercase all strings in the given array\nUtil.toLower = function(strings) {\n  return _.map(strings, function(str) {\n    return str.toLowerCase();\n  });\n};\n\n// A languageCode can be composed of multiple parts, i.e:\n// {{language}}-{{region}}-{{dialect}}\n//\n// In these cases, it's necessary to generate a list of other possible\n// combinations that we might support (in preferred order).\n//\n// For example:\n// en-US -> [en-US, en]\n// de-DE-bavarian -> [de-DE-bavarian, de-DE, de]\nfunction expandLanguage(language) {\n  const expanded = [language];\n  const parts = language.split('-');\n\n  while (parts.pop() && parts.length > 0) {\n    expanded.push(parts.join('-'));\n  }\n  return expanded;\n}\n\n// Following the rules of expanding one language, this will generate\n// all potential languages in the given order (where higher priority is\n// given to expanded languages over other downstream languages).\nUtil.expandLanguages = function(languages) {\n  return _.chain(languages).map(expandLanguage).flatten().uniq().value();\n};\n\n//helper to call setTimeout\nUtil.callAfterTimeout = function(callback, time) {\n  return setTimeout(callback, time);\n};\n\n// Helper function to provide consistent formatting of template literals\n// that are logged when in development mode.\nUtil.debugMessage = function(message) {\n  Logger.warn(`\\n${message.replace(/^(\\s)+/gm, '')}`);\n};\n\nUtil.logConsoleError = function(message) {\n  Logger.error(message);\n};\n\n// Trigger an afterError event\nUtil.triggerAfterError = function(controller, err = {}) {\n  if (!err.statusCode && err.xhr && err.xhr.status) {\n    // Bring the statusCode to the top-level of the Error\n    err.statusCode = err.xhr.status;\n  }\n  // Some controllers return the className as a function - process it here:\n  const className = _.isFunction(controller.className) ? controller.className() : controller.className;\n\n  const error = _.pick(err, 'name', 'message', 'statusCode', 'xhr');\n\n  controller.trigger('afterError', { controller: className }, error);\n  // Logs to console only in dev mode\n  Logger.warn('controller: ' + className + ', error: ' + error);\n};\n\nUtil.redirect = function(url, win = window, isAppLink = false) {\n  if (!url) {\n    Logger.error(`Cannot redirect to empty URL: (${url})`);\n    return;\n  }\n  if (BrowserFeatures.isAndroid() && !isAppLink) {\n    Util.redirectWithFormGet(url);\n  } else {\n    win.location.href = url;\n  }\n};\n\n/**\n * Why redirect via Form get rather using `window.location.href`?\n * At the time of writing, Chrome (<72) in Android would block window location change\n * at following case\n * 1. An AJAX is trigger because of user action.\n * 2. 5+ seconds passed without any further user interaction.\n * 3. User takes an action results in window location change.\n *\n * Luckily we discovered that uses Form submit would work around this problem\n * even though it changed window location.\n *\n * Check the commit history for more details.\n */\nUtil.redirectWithFormGet = function(url) {\n  Util.redirectWithForm(url, 'get');\n};\n\nUtil.redirectWithForm = function(url, method = 'post') {\n  if (!url) {\n    Logger.error(`Cannot redirect to empty URL: (${url})`);\n    return;\n  }\n\n  const mainContainer = document.getElementById(Enums.WIDGET_CONTAINER_ID);\n\n  if (!mainContainer) {\n    Logger.error('Cannot find okta-sign-in container append to which a form');\n    return;\n  }\n\n  const form = buildDynamicForm(url, method);\n\n  mainContainer.appendChild(form);\n  form.querySelector('input[type=\"submit\"]').click();\n};\n\n/**\n * When we want to show an explain text, we need to check if this is different from\n * the label text, to not have an explain that look like a duplicated label.\n * okta-signin-widget gives the possibility to customize every i18n, so we cannot\n * know ahead if these two are equal or different, we need to call this function everytime.\n */\nUtil.createInputExplain = function(explainKey, labelKey, bundleName, explainParams, labelParams) {\n  const explain = explainParams ? loc(explainKey, bundleName, explainParams) : loc(explainKey, bundleName);\n  const label = labelParams ? loc(labelKey, bundleName, labelParams) : loc(labelKey, bundleName);\n\n  if (explain === label) {\n    return false;\n  }\n  return explain;\n};\n\nUtil.isV1StateToken = function(token) {\n  return !!(token && _.isString(token) && token.startsWith('00'));\n};\n\nexport default Util;\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* eslint max-len:0 */\n\nexport default {\n  US: '1',\n  AG: '1',\n  AI: '1',\n  AS: '1',\n  BB: '1',\n  BM: '1',\n  BS: '1',\n  CA: '1',\n  DM: '1',\n  DO: '1',\n  GD: '1',\n  GU: '1',\n  JM: '1',\n  KN: '1',\n  KY: '1',\n  LC: '1',\n  MP: '1',\n  MS: '1',\n  PR: '1',\n  SX: '1',\n  TC: '1',\n  TT: '1',\n  VC: '1',\n  VG: '1',\n  VI: '1',\n  RU: '7',\n  KZ: '7',\n  EG: '20',\n  ZA: '27',\n  GR: '30',\n  NL: '31',\n  BE: '32',\n  FR: '33',\n  ES: '34',\n  HU: '36',\n  IT: '39',\n  VA: '39',\n  RO: '40',\n  CH: '41',\n  AT: '43',\n  GB: '44',\n  GG: '44',\n  IM: '44',\n  JE: '44',\n  DK: '45',\n  SE: '46',\n  NO: '47',\n  SJ: '47',\n  PL: '48',\n  DE: '49',\n  PE: '51',\n  MX: '52',\n  CU: '53',\n  AR: '54',\n  BR: '55',\n  CL: '56',\n  CO: '57',\n  VE: '58',\n  MY: '60',\n  AU: '61',\n  CC: '61',\n  CX: '61',\n  ID: '62',\n  PH: '63',\n  NZ: '64',\n  SG: '65',\n  TH: '66',\n  JP: '81',\n  KR: '82',\n  VN: '84',\n  CN: '86',\n  TR: '90',\n  IN: '91',\n  PK: '92',\n  AF: '93',\n  LK: '94',\n  MM: '95',\n  IR: '98',\n  SS: '211',\n  MA: '212',\n  EH: '212',\n  DZ: '213',\n  TN: '216',\n  LY: '218',\n  GM: '220',\n  SN: '221',\n  MR: '222',\n  ML: '223',\n  GN: '224',\n  CI: '225',\n  BF: '226',\n  NE: '227',\n  TG: '228',\n  BJ: '229',\n  MU: '230',\n  LR: '231',\n  SL: '232',\n  GH: '233',\n  NG: '234',\n  TD: '235',\n  CF: '236',\n  CM: '237',\n  CV: '238',\n  ST: '239',\n  GQ: '240',\n  GA: '241',\n  CG: '242',\n  CD: '243',\n  AO: '244',\n  GW: '245',\n  IO: '246',\n  AC: '247',\n  SC: '248',\n  SD: '249',\n  RW: '250',\n  ET: '251',\n  SO: '252',\n  DJ: '253',\n  KE: '254',\n  TZ: '255',\n  UG: '256',\n  BI: '257',\n  MZ: '258',\n  ZM: '260',\n  MG: '261',\n  RE: '262',\n  YT: '262',\n  ZW: '263',\n  NA: '264',\n  MW: '265',\n  LS: '266',\n  BW: '267',\n  SZ: '268',\n  KM: '269',\n  SH: '290',\n  TA: '290',\n  ER: '291',\n  AW: '297',\n  FO: '298',\n  GL: '299',\n  GI: '350',\n  PT: '351',\n  LU: '352',\n  IE: '353',\n  IS: '354',\n  AL: '355',\n  MT: '356',\n  CY: '357',\n  FI: '358',\n  AX: '358',\n  BG: '359',\n  LT: '370',\n  LV: '371',\n  EE: '372',\n  MD: '373',\n  AM: '374',\n  BY: '375',\n  AD: '376',\n  MC: '377',\n  SM: '378',\n  UA: '380',\n  RS: '381',\n  ME: '382',\n  XK: '383',\n  HR: '385',\n  SI: '386',\n  BA: '387',\n  MK: '389',\n  CZ: '420',\n  SK: '421',\n  LI: '423',\n  FK: '500',\n  BZ: '501',\n  GT: '502',\n  SV: '503',\n  HN: '504',\n  NI: '505',\n  CR: '506',\n  PA: '507',\n  PM: '508',\n  HT: '509',\n  GP: '590',\n  BL: '590',\n  MF: '590',\n  BO: '591',\n  GY: '592',\n  EC: '593',\n  GF: '594',\n  PY: '595',\n  MQ: '596',\n  SR: '597',\n  UY: '598',\n  CW: '599',\n  BQ: '599',\n  TL: '670',\n  NF: '672',\n  BN: '673',\n  NR: '674',\n  PG: '675',\n  TO: '676',\n  SB: '677',\n  VU: '678',\n  FJ: '679',\n  PW: '680',\n  WF: '681',\n  CK: '682',\n  NU: '683',\n  WS: '685',\n  KI: '686',\n  NC: '687',\n  TV: '688',\n  PF: '689',\n  TK: '690',\n  FM: '691',\n  MH: '692',\n  '001': '979',\n  KP: '850',\n  HK: '852',\n  MO: '853',\n  KH: '855',\n  LA: '856',\n  BD: '880',\n  TW: '886',\n  MV: '960',\n  LB: '961',\n  JO: '962',\n  SY: '963',\n  IQ: '964',\n  KW: '965',\n  SA: '966',\n  YE: '967',\n  OM: '968',\n  PS: '970',\n  AE: '971',\n  IL: '972',\n  BH: '973',\n  QA: '974',\n  BT: '975',\n  MN: '976',\n  NP: '977',\n  TJ: '992',\n  TM: '993',\n  AZ: '994',\n  GE: '995',\n  KG: '996',\n  UZ: '998',\n  GS: '500',\n  PN: '64',\n  AQ: '672',\n  UM: '1',\n  AN: '599',\n};\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport Q from 'q';\nimport FidoUtil from 'util/FidoUtil';\n\nfunction adaptToOkta(promise) {\n  return new Q(promise);\n}\n\nfunction makeCredential(accountInfo, cryptoParams, challenge) {\n  cryptoParams = cryptoParams.map(function(param) {\n    return { type: 'FIDO_2_0', algorithm: param.algorithm };\n  });\n\n  const promise = window.msCredentials.makeCredential(accountInfo, cryptoParams, challenge).then(function(cred) {\n    return Object.freeze({\n      credential: { id: cred.id },\n      publicKey: JSON.parse(cred.publicKey),\n      attestation: cred.attestation,\n    });\n  });\n\n  return adaptToOkta(promise);\n}\n\nfunction getAssertion(challenge, allowList) {\n  const accept = allowList.map(function(item) {\n    return { type: 'FIDO_2_0', id: item.id };\n  });\n  const filters = { accept: accept };\n  const promise = window.msCredentials.getAssertion(challenge, filters).then(function(attestation) {\n    const signature = attestation.signature;\n\n    return Object.freeze({\n      credential: { id: attestation.id },\n      clientData: signature.clientData,\n      authenticatorData: signature.authnrData,\n      signature: signature.signature,\n    });\n  });\n\n  return adaptToOkta(promise);\n}\n\nexport default {\n  makeCredential: makeCredential,\n  getAssertion: getAssertion,\n  isAvailable: function() {\n    return Object.prototype.hasOwnProperty.call(window, 'msCredentials');\n  },\n  isNewApiAvailable: function() {\n    // navigator.credentials is not supported in IE11\n    // eslint-disable-next-line compat/compat\n    return navigator && navigator.credentials && navigator.credentials.create;\n  },\n  isWebauthnOrU2fAvailable: function() {\n    return this.isNewApiAvailable() || FidoUtil.isU2fAvailable();\n  },\n};\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View, _ } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport 'qtip';\n\nexport default View.extend({\n  className: 'scope-item',\n  template: hbs`\n    <p class=\"scope-item-text no-translate\">{{name}}</p>\n    {{#if description}}\n    <span class=\"scope-item-tooltip icon form-help-16\" />\n    {{/if}}`,\n\n  postRender: function() {\n    this.$('.scope-item-tooltip').qtip({\n      content: {\n        text: _.escape(this.options.description)\n      },\n      style: { classes: 'okta-tooltip qtip-custom qtip-shadow' },\n      position: {\n        my: 'bottom left',\n        target: 'mouse'\n      }\n    });\n  }\n});\n\n","/*!\n * Copyright (c) 2017, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* eslint max-len: [2, 131] */\nimport hbs from 'handlebars-inline-precompile';\nimport { _, View, loc } from 'okta';\nimport ScopeItem from './ScopeItem';\n\nconst SCOPE_N_GROUP_CONFIG = {\n  groups: 'user',\n  myAccount: 'user',\n  users: 'user',\n  apps: 'resource',\n  authenticators: 'resource',\n  authorizationServers: 'resource',\n  clients: 'resource',\n  domains: 'resource',\n  factors: 'resource',\n  idps: 'resource',\n  linkedObjects: 'resource',\n  policies: 'resource',\n  templates: 'resource',\n  eventHooks: 'hook',\n  inlineHooks: 'hook',\n  events: 'system',\n  logs: 'system',\n  orgs: 'system',\n  roles: 'system',\n  schemas: 'system',\n  sessions: 'system',\n  trustedOrigins: 'system',\n};\n\nconst DEFAULT_GROUP = 'system';\n\nconst findScopeGroupKey = ({ name = '' }) => {\n  const xs = name.split('.');\n  const groupType = xs[1];\n\n  return SCOPE_N_GROUP_CONFIG[groupType] || DEFAULT_GROUP;\n};\n\nconst ScopeGroupHeaderView = View.extend({\n  className: 'scope-group',\n\n  events: {\n    'click': 'expandScopes',\n  },\n\n  template: hbs`\n    <div class=\"scope-group--header\">\n    <h3>{{groupName}}</h3>\n    <span class=\"scope-group--toggle\">\n      <svg class=\"caret\"\n           width=\"12\" height=\"12\"\n           viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path class=\"path\" fill-rule=\"evenodd\"\n              clip-rule=\"evenodd\"\n              d=\"M5.99967 4.66663L10.2663 8.66663L11.333 7.66663L5.99967 2.66663L0.666342 7.73636L1.73301 8.66663L5.99967 4.66663Z\"\n              fill=\"#A0A7AC\">\n        </path>\n      </svg>\n    </span>\n    </div>`,\n\n  expandScopes() {\n    this.$el.toggleClass('scope-group--is-expanded');\n    this.$('.caret').toggleClass('caret--is-rotated');\n  },\n\n  preRender() {\n    _.chain(this.options.scopes)\n      .sortBy(({ name }) => name)\n      .each(({ name, displayName, description }) => {\n        this.add(ScopeItem, {\n          options: {\n            name: displayName || name,\n            description,\n          },\n        });\n      });\n  }\n});\n\nexport default View.extend({\n  className: 'scope-list detail-row',\n\n  postRender: function() {\n    const allScopes = this.model.get('scopes');\n    const scopesWithGroup = _.groupBy(allScopes, findScopeGroupKey);\n\n    const SCOPE_GROUP_NAMES_CONFIG = {\n      'user': loc('admin.consent.group.user.group', 'login'),\n      'resource': loc('admin.consent.group.resource.policy', 'login'),\n      'hook': loc('admin.consent.group.hook', 'login'),\n      'system': loc('admin.consent.group.system', 'login'),\n    };\n\n    // loop through SCOPE_GROUP_NAMES_CONFIG to keep group order consistent in UI.\n    _.each(SCOPE_GROUP_NAMES_CONFIG, (groupName, groupKey) => {\n      const scopes = scopesWithGroup[groupKey];\n      if (!Array.isArray(scopes)) {\n        return;\n      }\n      // add scope group header and scopes\n      this.add(ScopeGroupHeaderView, {\n        options: {\n          groupName,\n          scopes,\n        }\n      });\n    });\n  },\n});\n","/*!\n * Copyright (c) 2017, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View, _ } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport 'qtip';\nexport default View.extend({\n  className: 'scope-item',\n  template: hbs(\n    '\\\n      <div class=\"{{classNames}}\">\\\n        <p>{{name}}</p>\\\n      </div>\\\n      {{#if description}}\\\n        <span class=\"scope-item-tooltip icon form-help-16\"></span>\\\n      {{/if}}\\\n    '\n  ),\n  getTemplateData() {\n    const { name, description, isCustomized } = this.options;\n    const baseClass = 'scope-item-text';\n    const classNames = (name === 'openid' || isCustomized)\n      ? `${baseClass} no-translate`: baseClass;\n    return { classNames, name, description };\n  },\n\n  postRender: function() {\n    this.$('.scope-item-tooltip').qtip({\n      content: {\n        text: _.escape(this.options.description),\n      },\n      style: { classes: 'okta-tooltip qtip-custom qtip-shadow' },\n      position: {\n        my: 'bottom right',\n        target: 'mouse',\n      },\n    });\n  },\n});\n","/*!\n * Copyright (c) 2017, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View } from 'okta';\nimport ScopeItem from './ScopeItem';\nexport default View.extend({\n  className: 'scope-list detail-row',\n\n  postRender: function() {\n    this.model.get('scopes').forEach(scope => {\n      this.add(ScopeItem, {\n        options: {\n          name: scope.displayName || scope.name,\n          description: scope.description,\n          isCustomized: scope.isCustomized,\n        },\n      });\n    });\n  },\n});\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View } from 'okta';\nimport Enums from 'util/Enums';\nconst CAN_REMOVE_BEACON_CLS = 'can-remove-beacon';\nexport default View.extend({\n  tagName: 'main',\n  className: 'auth-container main-container',\n  id: Enums.WIDGET_CONTAINER_ID,\n  attributes: { 'data-se': 'auth-container', tabindex: '-1' },\n  initialize: function(options) {\n    this.listenTo(options.appState, 'change:beaconType', function(model, type) {\n      this.$el.toggleClass(CAN_REMOVE_BEACON_CLS, type === 'security');\n    });\n  },\n});\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nexport default View.extend({\n  template: hbs(\n    '\\\n      <div class=\"beacon-blank\"></div>\\\n      <div class=\"bg-helper auth-beacon auth-beacon-security\" data-se=\"loading-beacon\">\\\n      <div class=\"okta-sign-in-beacon-border auth-beacon-border js-auth-beacon-border\"></div>\\\n      </div>\\\n    '\n  ),\n\n  equals: function(Beacon) {\n    return Beacon && this instanceof Beacon;\n  },\n});\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nconst CONFIGURED_FLOW = {\n  DEFAULT: 'default',\n  PROCEED: 'proceed',\n  LOGIN: 'login',\n  REGISTRATION: 'signup',\n  RESET_PASSWORD: 'resetPassword',\n  UNLOCK_ACCOUNT: 'unlockAccount',\n};\n\nexport {\n  CONFIGURED_FLOW,\n};","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n// This file attempts to mimic the behavior of a popular hack of the V1 Router, which allowed for the widget to be\n// initialized into a specific form/flow (like Register or Reset Password). To achieve this, an attempt is made to\n// call `idxState.proceed()` with a known remediation depending on the `flow` configuration to \"step\" the widget\n// (and the server's state) to the desired flow/form. The remediation is not guaranteed to be available \n// and will default to the original idx response otherwise. This depends on the Org configurations\nimport { ConfigError } from 'util/Errors';\nimport Logger from 'util/Logger';\nimport { FORMS } from '../ion/RemediationConstants';\nimport { CONFIGURED_FLOW } from './constants';\n\n\n// checks if \"desired\" remeidation is available before calling `.proceed`\n// if not available, returns original idxResponse (and logs warning)\nasync function proceedIfAvailable(idxState, remediation, flow) {\n  const rem = idxState.neededToProceed.find(item => item.name === remediation);\n  if (!rem) {\n    Logger.warn('Expected remediation not found, Org may be misconfigured for this flow');\n    return idxState;\n  }\n\n  try {\n    const nextIdxState = await idxState.proceed(remediation);\n    return nextIdxState;\n  }\n  catch (err) {\n    // catches and handles `Unknown remediation` errors thrown okta-idx-js\n    if (typeof err === 'string' && err.startsWith('Unknown remediation choice')) {\n      Logger.warn(`flow [${flow}] not valid with current Org configurations`);\n      return idxState;\n    }\n    else {\n      // do not catch non-`Unknown remediation` errors here\n      throw err;\n    }\n  }\n}\n\n// attempts to \"step into\" a specific flow by calling `.proceed` with a specific remeidation (or calls an action)\n// the \"desired\" remeidation is not guaranteed to be available, depends upon Org configurations\nasync function stepIntoSpecificIdxFlow(idxState, flow='default') {\n  switch (flow) {\n  case CONFIGURED_FLOW.DEFAULT:\n  case CONFIGURED_FLOW.PROCEED:\n  case CONFIGURED_FLOW.LOGIN:\n    // default IDX response from interact is \"Login\" page/flow. Do nothing\n    return idxState;\n\n  // step logic is handled by auth-js\n  case CONFIGURED_FLOW.REGISTRATION:\n  case CONFIGURED_FLOW.RESET_PASSWORD:\n    return idxState;\n\n  case CONFIGURED_FLOW.UNLOCK_ACCOUNT:\n    // requires: introspect -> identify-recovery -> select-authenticator-unlock-account\n    return await proceedIfAvailable(idxState, FORMS.UNLOCK_ACCOUNT, flow);\n\n  default:\n    Logger.warn(`Unknown \\`flow\\` value: ${flow}`);\n    throw new ConfigError('Invalid \"flow\" configuration');\n  }\n}\n\n// ensures the `flow` stored in the transaction meta matches the flow configuration\n// if they do not match, abandon the current (meta) flow and start a new (configured) flow\nexport async function handleConfiguredFlow(originalResp, settings) {\n  const authClient = settings.getAuthClient();\n  const configuredFlow = authClient.idx.getFlow();\n\n  // attempts to step into the desired flow\n  const idxState = await stepIntoSpecificIdxFlow(originalResp, configuredFlow);\n  return idxState;\n}\n","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport * from './interactionCodeFlow';\nexport * from './startLoginFlow';\nexport * from './handleConfiguredFlow';\nexport * from './constants';\nexport * from './updateAppState';\n","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport Enums from 'util/Enums';\nimport { ConfigError } from 'util/Errors';\nimport { toQueryString } from '@okta/okta-auth-js';\nimport { getTypedOAuthError, RecoverableError } from 'util/OAuthErrors';\n\n// eslint-disable-next-line max-statements\nexport async function interactionCodeFlow(settings, idxResponse) {\n  const { interactionCode } = idxResponse;\n  const authClient = settings.getAuthClient();\n  const transactionMeta = await authClient.idx.getSavedTransactionMeta();\n  const state = authClient.options.state || transactionMeta?.state;\n\n  // In remediation mode the transaction is owned by another client.\n  const isRemediationMode = settings.get('mode') === 'remediation';\n  if (isRemediationMode) {\n    authClient.idx.clearTransactionMeta();\n  }\n  \n  // server-side applications will want to received interaction_code as a query parameter\n  // this option can also be used to force a redirect for client-side/SPA applications\n  const shouldRedirect = settings.get('redirect') === 'always';\n  if (shouldRedirect) {\n    const redirectUri = settings.get('redirectUri');\n    if (!redirectUri) {\n      throw new ConfigError('\"redirectUri\" is required');\n    }\n    const qs = toQueryString({ 'interaction_code': interactionCode, state });\n    window.location.assign(redirectUri + qs);\n    return;\n  }\n  \n  // Return a promise (or call success callback) to client-side apps in remediation mode.\n  if (isRemediationMode) {\n    settings.callGlobalSuccess(Enums.SUCCESS, {\n      'interaction_code': interactionCode,\n      state\n    });\n    return;\n  }\n\n  // Operating in \"relying-party\" mode. The widget owns this transaction.\n  // Complete the transaction client-side and call success/resolve promise\n  if (!transactionMeta) {\n    throw new ConfigError('Could not load transaction data from storage');\n  }\n  const { codeVerifier } = transactionMeta;\n  return authClient.token.exchangeCodeForTokens({ codeVerifier, interactionCode })\n    .then(({ tokens }) => {\n      settings.callGlobalSuccess(Enums.SUCCESS, { tokens });\n    })\n    .catch(err => {\n      const typedError = getTypedOAuthError(err);\n      if (typedError instanceof RecoverableError && typedError.is('terminal')) {\n        throw typedError;\n      }\n      settings.callGlobalError(err);\n    })\n    .finally(() => {\n      // clear all meta related to this transaction\n      authClient.idx.clearTransactionMeta();\n    });\n}\n","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nconst STATE_HANDLE_SESSION_STORAGE_KEY = 'osw-oie-state-handle';\nconst LAST_INITIATED_LOGIN_URL_SESSION_STORAGE_KEY = 'osw-oie-last-initiated-login-url';\nconst RESEND_TIMESTAMP_SESSION_STORAGE_KEY = 'osw-oie-resend-timestamp';\n\nconst removeStateHandle = () => {\n  sessionStorage.removeItem(STATE_HANDLE_SESSION_STORAGE_KEY);\n  sessionStorage.removeItem(LAST_INITIATED_LOGIN_URL_SESSION_STORAGE_KEY);\n};\nconst setStateHandle = (token) => {\n  sessionStorage.setItem(STATE_HANDLE_SESSION_STORAGE_KEY, token);\n  sessionStorage.setItem(LAST_INITIATED_LOGIN_URL_SESSION_STORAGE_KEY, window.location.href);\n};\nconst getStateHandle = () => {\n  return sessionStorage.getItem(STATE_HANDLE_SESSION_STORAGE_KEY);\n};\nconst getLastInitiatedLoginUrl = () => {\n  return sessionStorage.getItem(LAST_INITIATED_LOGIN_URL_SESSION_STORAGE_KEY);\n};\nconst removeResendTimestamp = () => {\n  sessionStorage.removeItem(RESEND_TIMESTAMP_SESSION_STORAGE_KEY);\n};\nconst setResendTimestamp = (token) => {\n  sessionStorage.setItem(RESEND_TIMESTAMP_SESSION_STORAGE_KEY, token);\n};\nconst getResendTimestamp = () => {\n  return sessionStorage.getItem(RESEND_TIMESTAMP_SESSION_STORAGE_KEY);\n};\n\n\nexport default {\n  removeStateHandle,\n  setStateHandle,\n  getStateHandle,\n  getLastInitiatedLoginUrl,\n  removeResendTimestamp,\n  setResendTimestamp,\n  getResendTimestamp\n};\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _ } from 'okta';\nimport { getMessage, getMessageKey } from './i18nTransformer';\n\nconst convertErrorMessageToErrorSummary = (formName, remediationValues = []) => {\n  return _.chain(remediationValues)\n    .filter(field => {\n      return Array.isArray(field.messages?.value) && field.messages.value.length;\n    })\n    .map(field => {\n      return {\n        property: formName ? `${formName}.${field.name}` : field.name,\n        errorSummary: field.messages.value.map(getMessage),\n        errorKey: field.messages.value.map(getMessageKey),\n      };\n    })\n    .value();\n};\n\n/**\n * Although time complexity is O(n^2),\n * the `array` is actually very small (size < 5),\n * hence performance doesn't matter.\n */\nconst uniqWith = (array, comparator) => {\n  if (!Array.isArray(array)) {\n    return [];\n  }\n  if (!_.isFunction(comparator) || array.length === 1) {\n    return array;\n  }\n\n  const result = [];\n  for (let i = 0; i < array.length; i++) {\n    let seen = false;\n    for (let j = i + 1; j < array.length; j++) {\n      /* eslint max-depth: [2, 3] */\n      if (comparator(array[i], array[j])) {\n        seen = true;\n        break;\n      }\n    }\n    if (!seen) {\n      result.push(array[i]);\n    }\n  }\n\n  return result;\n};\n\n/**\n * returns errors\n * @example\n * errors = [\n *   {property : fieldName1, errorSummary: [errorMessage1]},\n *   {property : fieldName2, errorSummary: [errorMessage2]}\n *   {property : fieldName3, errorSummary: [errorMessage31, errorMessage32]}\n * ]\n */\nconst getRemediationErrors = (res) => {\n  let errors = [];\n\n  if (!res.remediation || !Array.isArray(res.remediation.value) || res.remediation.value.length === 0) {\n    return errors;\n  }\n  let remediationFormFields = res.remediation.value[0].value;\n\n  if (!Array.isArray(remediationFormFields)) {\n    return errors;\n  }\n\n  // error at field\n  errors.push(convertErrorMessageToErrorSummary(null, remediationFormFields));\n\n  _.each(remediationFormFields, (remediationForm) => {\n    const formName = remediationForm.name;\n\n    // error at form.value\n    if (Array.isArray(remediationForm.form?.value)) {\n      errors.push(convertErrorMessageToErrorSummary(formName, remediationForm.form.value));\n    }\n\n    // error at option.value.form.value\n    if (Array.isArray(remediationForm.options)) {\n      _.each(remediationForm.options, (option) => {\n        if (Array.isArray(option.value?.form?.value)) {\n          errors.push(convertErrorMessageToErrorSummary(formName, option.value.form.value));\n        }\n      });\n    }\n  });\n\n  // API may return identical error on same field\n  // thus run through `uniqWith`.\n  // Check unit test for details.\n  return uniqWith(_.flatten(errors), _.isEqual);\n};\n\n/**\n * return global error summary combined into one string\n * allErrors = 'error string1. error string2'\n */\nconst getGlobalErrors = (res) => {\n  let allErrors = [];\n\n  if (Array.isArray(res.messages?.value)) {\n    allErrors = res.messages.value.map(getMessage);\n  }\n\n  return allErrors.join('. ');\n};\n\n/**\n * return array of error keys\n */\nconst getGlobalErrorKeys = (res) => {\n  let allKeys = [];\n\n  if (Array.isArray(res.messages?.value)) {\n    allKeys = res.messages.value.map(getMessageKey);\n  }\n\n  return allKeys;\n};\n\nconst convertFormErrors = (response) => {\n  let errors = {\n    errorCauses: getRemediationErrors(response),\n    errorSummary: getGlobalErrors(response),\n    errorSummaryKeys: getGlobalErrorKeys(response),\n    errorIntent: response.intent,\n  };\n\n  return {\n    responseJSON: errors\n  };\n};\n\nconst isIonErrorResponse = (response = {}) => {\n  // check if error format is an ION response by looking for version attribute.\n  // a little sloppy.\n  return response.version;\n};\n\nconst isIdxSessionExpiredError = (response) => {\n  const errorI18NKey = response?.context?.messages?.value[0]?.i18n?.key;\n  return errorI18NKey && errorI18NKey === 'idx.session.expired';\n};\n\nexport default {\n  convertFormErrors,\n  isIonErrorResponse,\n  isIdxSessionExpiredError\n};\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport Enums from 'util/Enums';\n\n/**\n * Structure of FORMS object:\n * { [CONSTANT]: remediationForm.name }\n */\nconst FORMS = {\n  IDENTIFY: 'identify',\n  SELECT_IDENTIFY: 'select-identify',\n  IDENTIFY_RECOVERY: 'identify-recovery',\n  SELECT_ENROLL_PROFILE: 'select-enroll-profile',\n  ENROLL_PROFILE: 'enroll-profile',\n  ENROLL_PROFILE_UPDATE: 'profile-update',\n  UNLOCK_ACCOUNT: 'unlock-account',\n  REQUEST_ACTIVATION: 'request-activation-email',\n\n  CONSENT_ADMIN: 'admin-consent',\n  CONSENT_ENDUSER: 'consent',\n  CONSENT_GRANULAR: 'granular-consent',\n  CONSENT_EMAIL_CHALLENGE: 'email-challenge-consent',\n\n  SELECT_AUTHENTICATOR_AUTHENTICATE: 'select-authenticator-authenticate',\n  SELECT_AUTHENTICATOR_UNLOCK: 'select-authenticator-unlock-account',\n\n  AUTHENTICATOR_VERIFICATION_DATA: 'authenticator-verification-data',\n  CHALLENGE_AUTHENTICATOR: 'challenge-authenticator',\n  CHALLENGE_POLL: 'challenge-poll',\n  RESEND: 'resend',\n\n  SELECT_AUTHENTICATOR_ENROLL: 'select-authenticator-enroll',\n  SELECT_AUTHENTICATOR_ENROLL_DATA: 'select-authenticator-enroll-data',\n  AUTHENTICATOR_ENROLLMENT_DATA: 'authenticator-enrollment-data',\n  ENROLL_AUTHENTICATOR: 'enroll-authenticator',\n  SELECT_ENROLLMENT_CHANNEL: 'select-enrollment-channel',\n  ENROLLMENT_CHANNEL_DATA: 'enrollment-channel-data',\n  ENROLL_POLL: 'enroll-poll',\n  REENROLL_AUTHENTICATOR: 'reenroll-authenticator',\n  REENROLL_AUTHENTICATOR_WARNING: 'reenroll-authenticator-warning',\n  RESET_AUTHENTICATOR: 'reset-authenticator',\n  SKIP: 'skip',\n  POLL: 'poll',\n\n  FAILURE_REDIRECT: 'failure-redirect',\n  SUCCESS_REDIRECT: 'success-redirect',\n  REDIRECT_IDP: 'redirect-idp',\n  PIV_IDP: 'piv-idp',\n\n  DEVICE_CHALLENGE_POLL: 'device-challenge-poll',\n  DEVICE_APPLE_SSO_EXTENSION: 'device-apple-sso-extension',\n  CANCEL_TRANSACTION: 'cancel-transaction',\n  LAUNCH_AUTHENTICATOR: 'launch-authenticator',\n  LAUNCH_WEBAUTHN_AUTHENTICATOR: 'launch-webauthn-authenticator',\n  ENROLL_WEBAUTHN_RESIDENTKEY: 'enroll-webauthn-residentkey',\n\n  DEVICE_ENROLLMENT_TERMINAL: 'device-enrollment-terminal',\n\n  USER_CODE: 'user-code',\n\n  // 'terminal` is not ION Form name but only coined in widget\n  // for rendering a page that user has nothing to remediate.\n  TERMINAL: 'terminal',\n};\n// Forms added here do not show the Sign out link\nconst FORMS_WITHOUT_SIGNOUT = [\n  FORMS.IDENTIFY,\n  FORMS.SUCCESS_REDIRECT,\n  FORMS.ENROLL_PROFILE,\n  FORMS.DEVICE_ENROLLMENT_TERMINAL,\n  FORMS.CONSENT_ADMIN,\n  FORMS.CONSENT_ENDUSER,\n  FORMS.CONSENT_GRANULAR,\n  FORMS.CONSENT_EMAIL_CHALLENGE,\n  FORMS.USER_CODE\n];\n\nconst FORMS_WITH_STATIC_BACK_LINK = [\n  FORMS.SELECT_AUTHENTICATOR_ENROLL,\n  FORMS.SELECT_AUTHENTICATOR_AUTHENTICATE\n];\n\nconst FORMS_FOR_VERIFICATION = [\n  FORMS.SELECT_AUTHENTICATOR_AUTHENTICATE,\n  FORMS.CHALLENGE_AUTHENTICATOR,\n  FORMS.CHALLENGE_POLL,\n  FORMS.RESEND\n];\n\nconst AUTHENTICATOR_KEY = {\n  EMAIL: 'okta_email',\n  PASSWORD: 'okta_password',\n  PHONE: 'phone_number',\n  WEBAUTHN: 'webauthn',\n  SECURITY_QUESTION: 'security_question',\n  OV: 'okta_verify',\n  GOOGLE_OTP: 'google_otp',\n  ON_PREM: 'onprem_mfa',\n  RSA: 'rsa_token',\n  DUO: 'duo',\n  IDP: 'external_idp',\n  CUSTOM_OTP: 'custom_otp',\n  SYMANTEC_VIP: 'symantec_vip',\n  YUBIKEY: 'yubikey_token',\n  CUSTOM_APP: 'custom_app',\n};\n\nconst AUTHENTICATOR_METHODS = {\n  PUSH: 'push',\n};\n\nconst FORM_NAME_TO_OPERATION_MAP = {\n  [FORMS.SELECT_AUTHENTICATOR_UNLOCK]: Enums.UNLOCK_ACCOUNT,\n  [FORMS.IDENTIFY]: Enums.PRIMARY_AUTH,\n  [FORMS.IDENTIFY_RECOVERY]: Enums.FORGOT_PASSWORD,\n};\n\nconst ENROLLED_PASSWORD_RECOVERY_LINK = 'currentAuthenticatorEnrollment-recover';\nconst ORG_PASSWORD_RECOVERY_LINK = 'currentAuthenticator-recover';\nconst ACTIONS = {\n  ENROLLED_PASSWORD_RECOVERY_LINK,\n  ORG_PASSWORD_RECOVERY_LINK\n};\n\n// Possible Remediation Form Field Hints\nconst HINTS = {\n  CAPTCHA: 'captcha',\n};\n\nconst TERMINAL_FORMS = [\n  FORMS.TERMINAL,\n  FORMS.DEVICE_ENROLLMENT_TERMINAL,\n];\nconst IDP_FORM_TYPE = {\n  X509: 'X509',\n};\n\n// Possible options for the SIW interstitial redirect view\nconst INTERSTITIAL_REDIRECT_VIEW = {\n  DEFAULT: 'DEFAULT',\n  NONE: 'NONE'\n};\n\nconst ATTR_FORMAT = {\n  COUNTRY_CODE: 'country-code',\n};\n\nexport {\n  ACTIONS,\n  FORMS,\n  FORMS_WITHOUT_SIGNOUT,\n  FORMS_WITH_STATIC_BACK_LINK,\n  FORMS_FOR_VERIFICATION,\n  AUTHENTICATOR_KEY,\n  AUTHENTICATOR_METHODS,\n  FORM_NAME_TO_OPERATION_MAP,\n  HINTS,\n  TERMINAL_FORMS,\n  IDP_FORM_TYPE,\n  INTERSTITIAL_REDIRECT_VIEW,\n  ATTR_FORMAT,\n};\n","/* eslint complexity: [2, 25] */\nimport { AUTHENTICATOR_KEY, FORMS } from './RemediationConstants';\n\nconst FORMNAME_CLASSNAME_MAPPINGS = {\n  [FORMS.IDENTIFY]: {\n    [FORMS.IDENTIFY]: 'primary-auth',\n    [AUTHENTICATOR_KEY.PASSWORD]: 'primary-auth'\n  },\n  [FORMS.IDENTIFY_RECOVERY]: {\n    [FORMS.IDENTIFY_RECOVERY]: 'forgot-password',\n  },\n  [FORMS.ENROLL_PROFILE]: {\n    [FORMS.ENROLL_PROFILE]: 'registration',\n  },\n  [FORMS.CHALLENGE_AUTHENTICATOR]: {\n    [AUTHENTICATOR_KEY.EMAIL]: 'mfa-verify-passcode',\n    [AUTHENTICATOR_KEY.PASSWORD]: 'mfa-verify-password',\n    sms: 'mfa-verify-passcode',\n    voice: 'mfa-verify-passcode',\n    [AUTHENTICATOR_KEY.SECURITY_QUESTION]: 'mfa-verify-question',\n    [AUTHENTICATOR_KEY.WEBAUTHN]: 'mfa-verify-webauthn',\n    [AUTHENTICATOR_KEY.ON_PREM]: 'mfa-verify-totp',\n    [AUTHENTICATOR_KEY.RSA]: 'mfa-verify-totp',\n    [AUTHENTICATOR_KEY.OV]: 'mfa-verify',\n    [AUTHENTICATOR_KEY.GOOGLE_OTP]: 'mfa-verify',\n    [AUTHENTICATOR_KEY.DUO]: 'mfa-verify-duo',\n    [AUTHENTICATOR_KEY.SYMANTEC_VIP]: 'mfa-verify',\n    [AUTHENTICATOR_KEY.YUBIKEY]: 'mfa-verify',\n    [AUTHENTICATOR_KEY.CUSTOM_APP]: 'mfa-verify',\n  },\n  [FORMS.CHALLENGE_POLL]: {\n    [AUTHENTICATOR_KEY.OV]: 'mfa-verify',\n    [AUTHENTICATOR_KEY.CUSTOM_APP]: 'mfa-verify',\n  },\n  [FORMS.RESEND_PUSH]: {\n    [AUTHENTICATOR_KEY.OV]: 'mfa-verify',\n    [AUTHENTICATOR_KEY.CUSTOM_APP]: 'mfa-verify',\n  },\n  [FORMS.ENROLL_AUTHENTICATOR]: {\n    [AUTHENTICATOR_KEY.EMAIL]: 'enroll-email',\n    [AUTHENTICATOR_KEY.PASSWORD]: 'enroll-password',\n    sms: 'enroll-sms',\n    voice: 'enroll-call',\n    [AUTHENTICATOR_KEY.SECURITY_QUESTION]: 'enroll-question',\n    [AUTHENTICATOR_KEY.WEBAUTHN]: 'enroll-webauthn',\n    [AUTHENTICATOR_KEY.ON_PREM]: 'enroll-onprem',\n    [AUTHENTICATOR_KEY.RSA]: 'enroll-rsa',\n    [AUTHENTICATOR_KEY.DUO]: 'enroll-duo',\n    [AUTHENTICATOR_KEY.SYMANTEC_VIP]: 'enroll-symantec',\n    [AUTHENTICATOR_KEY.YUBIKEY]: 'enroll-yubikey',\n  },\n\n  [FORMS.SELECT_AUTHENTICATOR_ENROLL]: {\n    'select-authenticator-enroll': 'enroll-choices'\n  },\n  [FORMS.SELECT_AUTHENTICATOR_AUTHENTICATE]: {\n    [AUTHENTICATOR_KEY.PASSWORD]: 'forgot-password'\n  },\n  [FORMS.REENROLL_AUTHENTICATOR]: {\n    [AUTHENTICATOR_KEY.PASSWORD]: 'password-expired'\n  },\n\n  [FORMS.RESET_AUTHENTICATOR]: {\n    [AUTHENTICATOR_KEY.PASSWORD]: 'forgot-password'\n  },\n\n  [FORMS.CONSENT_ADMIN]: {\n    [FORMS.CONSENT_ADMIN]: 'admin-consent-required',\n  },\n\n  [FORMS.CONSENT_ENDUSER]: {\n    [FORMS.CONSENT_ENDUSER]: 'consent-required',\n  }\n};\n\nconst getV1ClassName = (formName, authenticatorKey, methodType, isPasswordRecoveryFlow) => {\n  // if password reset flow from identifier page with recoveryAuthenticator add forgot-password class\n  if (isPasswordRecoveryFlow && formName === FORMS.IDENTIFY) {\n    return 'forgot-password';\n  } else {\n    let key = formName;\n    if (authenticatorKey === AUTHENTICATOR_KEY.PHONE) {\n      // Both sms and call have same type phone\n      // currentAuthenticatorEnrollment is during verify and currentAuthenticator during enroll flows\n      key = `${methodType}`;\n    }\n    else if (authenticatorKey) {\n      key = `${authenticatorKey}`;\n    }\n\n    if (FORMNAME_CLASSNAME_MAPPINGS[formName] && FORMNAME_CLASSNAME_MAPPINGS[formName][key]) {\n      return FORMNAME_CLASSNAME_MAPPINGS[formName][key];\n    } else {\n      return null;\n    }\n  }\n};\n\nconst getClassNameMapping = (formName, authenticatorKey, methodType, isPasswordRecoveryFlow) => {\n\n  // 1. Generates V2 class name\n  // If we have a type which is authenticatorType/methodType use that to generate a V2 className\n  // Otherwise just use formName\n  let v2ClassName = formName;\n  if (authenticatorKey) {\n    v2ClassName = v2ClassName + '--' + authenticatorKey;\n  }\n\n  // 2. do a lookup for any V1 classNames and concat\n  let v1ClassName = getV1ClassName(\n    formName,\n    authenticatorKey,\n    methodType,\n    isPasswordRecoveryFlow,\n  );\n  const result = [v2ClassName];\n  if (v1ClassName) {\n    result.push(v1ClassName);\n  }\n\n  return result;\n};\n\nexport {\n  getClassNameMapping,\n  getV1ClassName\n};\n\n","/* eslint-disable max-len */\n/* eslint max-statements: [2, 25], complexity: [2, 15] */\n\n/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n///////////////////////////////////////////////////////////////////////////////\n//                                  How this transformer work?               //\n//\n// ## For Labels inside remediation forms\n// 1. Figure out Path for all Labels (for normal field, or options) or Placeholder (for checkbox),e.g.\n//   - `identify.identifier`, this is the label for user name at identify page\n//   - `select-authenticator-enroll.authenticator.email`,\n//      this is for label for email authenticator at `select-authenticator-enroll` page\n// 2. Define a mapping between the path and i18n key. see `I18N_OVERRIDE_MAPPINGS`\n//   - This mapping is subject to change when API starts sending i18n key along with label.\n//     It probably becomes a mapping between API's i18n key and key in login.properties\n//     in order to be backward compatible.\n// 3. Now find i18n value using such route: `i18n Path -> i18n key -> login.properties`\n//    If found an i18n value, replace label by this i18n value.\n//\n// ## For top level messages\n// 1. Overwrite `message.message` if `message.i18n.key` exists in `login.properties`\n//\n// ## How to override mappings in I18N_OVERRIDE_MAPPINGS for localization?\n// Step 1. First search the string in login.properties and see if already exists or not\n// Step 2. Find idx response path, for eg. select-authenticator-enroll.authenticator.email\n// Step 3. Make that path a key and add it to I18N_OVERRIDE_MAPPINGS if doesn't exist already\n// Step 4. If you find a key in Step 1 that already exists, use it as value of key created in Step 3, \n//          else create a new label `oie.your.new.label` and add it.\n// Step 5. If you create a new label then add that to login.properties file with proper string\n//         oie.your.new.label = Your new string\n///////////////////////////////////////////////////////////////////////////////\n\nimport { _, loc, $ } from 'okta';\nimport Bundles from 'util/Bundles';\nimport Logger from 'util/Logger';\nimport { getAuthenticatorDisplayName } from '../view-builder/utils/AuthenticatorUtil';\nimport { FORMS, AUTHENTICATOR_KEY } from './RemediationConstants';\nimport { I18N_BASE_ATTRIBUTE_ENROLL_PROFILE_MAPPINGS } from '../view-builder/views/enroll-profile/i18nBaseAttributeMappings';\n\nconst WEBAUTHN_API_GENERIC_ERROR_KEY = 'authfactor.webauthn.error';\n\nconst SECURITY_QUESTION_PREFIXES = [\n  'enroll-authenticator.security_question.credentials.questionKey.',\n  'challenge-authenticator.security_question.credentials.questionKey.',\n];\n\nconst I18N_OVERRIDE_MAPPINGS = {\n  'identify.identifier': 'primaryauth.username.placeholder',\n  'select-authenticator-unlock-account.identifier': 'primaryauth.username.placeholder',\n  'identify.credentials.passcode': 'primaryauth.password.placeholder',\n  'identify.rememberMe': 'oie.remember',\n  'enroll-profile.userProfile.rememberMe': 'oie.remember',\n  \n  'identify-recovery.identifier': 'password.forgot.email.or.username.placeholder',\n\n  'select-authenticator-enroll.authenticator.duo': 'factor.duo',\n  'select-authenticator-enroll.authenticator.google_otp': 'oie.google_authenticator.label',\n  'select-authenticator-enroll.authenticator.okta_email': 'oie.email.label',\n  'select-authenticator-enroll.authenticator.okta_password': 'oie.password.label',\n  'select-authenticator-enroll.authenticator.okta_verify': 'oie.okta_verify.label',\n  'select-authenticator-enroll.authenticator.phone_number': 'oie.phone.label',\n  'select-authenticator-enroll.authenticator.rsa_token': 'factor.totpHard.rsaSecurId',\n  'select-authenticator-enroll.authenticator.security_question': 'oie.security.question.label',\n  'select-authenticator-enroll.authenticator.symantec_vip': 'factor.totpHard.symantecVip',\n  'select-authenticator-enroll.authenticator.webauthn': 'oie.webauthn.label',\n  'select-authenticator-enroll.authenticator.yubikey_token': 'oie.yubikey.label',\n\n  'select-authenticator-authenticate.authenticator.duo': 'factor.duo',\n  'select-authenticator-authenticate.authenticator.google_otp': 'oie.google_authenticator.label',\n  'select-authenticator-authenticate.authenticator.okta_email': 'oie.email.label',\n  'select-authenticator-authenticate.authenticator.okta_password': 'oie.password.label',\n  'select-authenticator-authenticate.authenticator.okta_verify.push': 'oie.okta_verify.push.title',\n  'select-authenticator-authenticate.authenticator.okta_verify.signed_nonce': 'oie.okta_verify.signed_nonce.label',\n  'select-authenticator-authenticate.authenticator.okta_verify.totp': 'oie.okta_verify.totp.title',\n  'select-authenticator-authenticate.authenticator.phone_number': 'oie.phone.label',\n  'select-authenticator-authenticate.authenticator.rsa_token': 'factor.totpHard.rsaSecurId',\n  'select-authenticator-authenticate.authenticator.security_question': 'oie.security.question.label',\n  'select-authenticator-authenticate.authenticator.symantec_vip': 'factor.totpHard.symantecVip',\n  'select-authenticator-authenticate.authenticator.webauthn': 'oie.webauthn.label',\n  'select-authenticator-authenticate.authenticator.yubikey_token': 'oie.yubikey.label',\n  'select-authenticator-authenticate.authenticator.custom_app': 'oie.custom.app.authenticator.title',\n\n  'select-authenticator-unlock-account.authenticator.okta_email': 'oie.email.label',\n  'select-authenticator-unlock-account.authenticator.phone_number': 'oie.phone.label',\n  'select-authenticator-unlock-account.authenticator.okta_verify.push': 'oie.okta_verify.push.title',\n  \n  'authenticator-verification-data.okta_verify.authenticator.methodType.signed_nonce':\n    'oie.okta_verify.signed_nonce.label',\n  'authenticator-verification-data.okta_verify.authenticator.methodType.push': 'oie.okta_verify.push.title',\n  'authenticator-verification-data.okta_verify.authenticator.methodType.totp': 'oie.okta_verify.totp.title',\n\n  'authenticator-enrollment-data.phone_number.authenticator.phoneNumber': 'mfa.phoneNumber.placeholder',\n  'authenticator-enrollment-data.phone_number.authenticator.methodType.sms': 'oie.phone.enroll.sms.label',\n  'authenticator-enrollment-data.phone_number.authenticator.methodType.voice': 'oie.phone.enroll.voice.label',\n\n  'enroll-authenticator.okta_password.credentials.passcode': 'oie.password.passwordLabel',\n  'enroll-authenticator.okta_email.credentials.passcode': 'mfa.challenge.enterCode.placeholder',\n  'enroll-authenticator.phone_number.credentials.passcode': 'mfa.challenge.enterCode.placeholder',\n  'enroll-authenticator.security_question.sub_schema_local_credentials.0': 'oie.security.question.questionKey.label',\n  'enroll-authenticator.security_question.sub_schema_local_credentials.1': 'oie.security.question.createQuestion.label',\n  'enroll-authenticator.security_question.credentials.answer': 'mfa.challenge.answer.placeholder',\n  'enroll-authenticator.security_question.credentials.question': 'oie.security.question.createQuestion.label',\n  'enroll-authenticator.security_question.credentials.questionKey': 'oie.security.question.questionKey.label',\n  'enroll-authenticator.google_otp.credentials.passcode': 'oie.google_authenticator.otp.enterCodeText',\n  'enroll-authenticator.onprem_mfa.credentials.clientData': 'enroll.onprem.username.placeholder',\n  'enroll-authenticator.onprem_mfa.credentials.passcode': 'enroll.onprem.passcode.placeholder',\n  'enroll-authenticator.rsa_token.credentials.clientData': 'enroll.onprem.username.placeholder',\n  'enroll-authenticator.rsa_token.credentials.passcode': 'enroll.onprem.passcode.placeholder',\n  'enroll-authenticator.symantec_vip.credentials.credentialId': 'enroll.symantecVip.credentialId.placeholder',\n  'enroll-authenticator.symantec_vip.credentials.passcode': 'enroll.symantecVip.passcode1.placeholder',\n  'enroll-authenticator.symantec_vip.credentials.nextPasscode': 'enroll.symantecVip.passcode2.placeholder',\n  'enroll-authenticator.yubikey_token.credentials.passcode': 'oie.yubikey.passcode.label',\n\n  'enrollment-channel-data.email': 'oie.enroll.okta_verify.channel.email.label',\n\n  'select-enrollment-channel.authenticator.channel.qrcode': 'oie.enroll.okta_verify.select.channel.qrcode.label',\n  'select-enrollment-channel.authenticator.channel.email': 'oie.enroll.okta_verify.select.channel.email.label',\n  'select-enrollment-channel.authenticator.channel.sms': 'oie.enroll.okta_verify.select.channel.sms.label',\n\n  'challenge-authenticator.okta_email.credentials.passcode': 'mfa.challenge.enterCode.placeholder',\n  'challenge-authenticator.okta_password.credentials.passcode': 'mfa.challenge.password.placeholder',\n  'challenge-authenticator.phone_number.credentials.passcode': 'mfa.challenge.enterCode.placeholder',\n  'challenge-authenticator.security_question.credentials.answer': 'mfa.challenge.answer.placeholder',\n  'challenge-authenticator.okta_verify.credentials.totp': 'oie.okta_verify.totp.enterCodeText',\n  'challenge-authenticator.google_otp.credentials.passcode': 'oie.google_authenticator.otp.enterCodeText',\n  'challenge-authenticator.onprem_mfa.credentials.passcode': 'mfa.challenge.enterCode.placeholder',\n  'challenge-authenticator.rsa_token.credentials.passcode': 'mfa.challenge.enterCode.placeholder',\n  'challenge-authenticator.custom_otp.credentials.passcode': 'oie.custom_otp.verify.passcode.label',\n  'challenge-authenticator.symantec_vip.credentials.passcode': 'oie.symantecVip.verify.passcode.label',\n  'challenge-authenticator.yubikey_token.credentials.passcode': 'oie.yubikey.passcode.label',\n  'challenge-authenticator.credentials.passcode': 'oie.password.label',\n\n  'reset-authenticator.okta_password.credentials.passcode': 'oie.password.newPasswordLabel',\n  'reenroll-authenticator.okta_password.credentials.passcode': 'oie.password.newPasswordLabel',\n  'reenroll-authenticator-warning.okta_password.credentials.passcode': 'oie.password.newPasswordLabel',\n  'incorrectPassword': 'oie.password.incorrect.message',\n  \n  'profile-update.userProfile.secondEmail': 'oie.user.profile.secondary.email',\n\n  'user-code.userCode': 'device.code.activate.label',\n\n  // Remap authn API errors to OIE\n  'api.authn.poll.error.push_rejected': 'oktaverify.rejected',\n\n  // Remap duo API errors to OIE\n  'oie.authenticator.duo.method.duo.verification_timeout': 'oie.authenticator.duo.error',\n  'oie.authenticator.duo.method.duo.verification_failed': 'oie.authenticator.duo.error',\n\n  'idx.email.verification.required': 'registration.complete.confirm.text',\n  'tooManyRequests': 'oie.tooManyRequests',\n  'api.users.auth.error.POST_PASSWORD_UPDATE_AUTH_FAILURE': 'oie.post.password.update.auth.failure.error',\n  'security.access_denied': 'errors.E0000006',\n  'E0000009': 'errors.E0000009',\n  'api.factors.error.sms.invalid_phone': 'oie.phone.invalid',\n  'app.ldap.password.reset.failed': 'errors.E0000017',\n  'oie.selfservice.unlock_user.challenge.failed.permissions': 'errors.E0000006',\n  'core.auth.factor.signedNonce.error.invalidEnrollment': 'core.auth.factor.signedNonce.error',\n  'core.auth.factor.signedNonce.error.invalidFactor': 'core.auth.factor.signedNonce.error',\n  'core.auth.factor.signedNonce.error.deletedDevice': 'core.auth.factor.signedNonce.error',\n  'core.auth.factor.signedNonce.error.invalidDeviceStatus': 'core.auth.factor.signedNonce.error.invalidDevice',\n\n  // re-map autoPush: \"Send push automatically\"\n  'challenge-poll.custom_app.autoChallenge': 'autoPush', // authenticator-verification-custom-app-push-autochallenge\n  'challenge-poll.okta_verify.autoChallenge': 'autoPush', // authenticator-verification-okta-verify-push-autoChallenge-on\n  'authenticator-verification-data.authenticator.autoChallenge': 'autoPush', // authenticator-verification-data-okta-verify-push-autoChallenge-off.json\n  'authenticator-verification-data.okta_verify.authenticator.autoChallenge': 'autoPush',\n  'authenticator-verification-data.custom_app.authenticator.autoChallenge': 'autoPush',\n  \n  // Existing overrides\n  ...I18N_BASE_ATTRIBUTE_ENROLL_PROFILE_MAPPINGS, //enroll-profile strings\n};\n\nconst I18N_PARAMS_MAPPING = {\n  [FORMS.ENROLL_AUTHENTICATOR]: {\n    [AUTHENTICATOR_KEY.ON_PREM]: {\n      getParam: getAuthenticatorDisplayName,\n    },\n    [AUTHENTICATOR_KEY.RSA]: {\n      getParam: getAuthenticatorDisplayName,\n    },\n  },\n};\n\n/**\n * For i18n keys that require string interpolation using values from \"params\".\n * {baseKey} : {params}\n */\nconst I18N_OVERRIDE_WITH_PARAMS_MAP = {\n  'registration.error.invalidLoginEmail': {\n    Email: 'Email',\n  },\n  'registration.error.doesNotMatchPattern': {\n    Email: 'Email',\n  },\n  'registration.error.notUniqueWithinOrg': {\n    Email: 'Email',\n  },\n};\n\n/**\n * For messages that need to be interpolated with param values.\n *\n * Enumerate each possible param interpolation and hardcode that into properties file.\n * This is to ensure proper translation.\n *\n * Example - a known param:\n *\n * input =\n *  \"i18n\": {\n      \"key\": \"registration.error.doesNotMatchPattern\",\n      \"params\": [\n        \"Email\"\n      ]\n    }\n * output = registration.error.doesNotMatchPattern.Email\n *\n * Example - an unknown param:\n *\n * input =\n *  \"i18n\": {\n      \"key\": \"registration.error.doesNotMatchPattern\",\n      \"params\": [\n        \"Custom Property\"\n      ]\n    }\n * output = registration.error.doesNotMatchPattern.custom\n *\n * @param {String} key\n * @param {String} param\n * @returns {String}\n */\nconst getI8nKeyUsingParams = (key, param) => {\n  let i18nKey = key;\n\n  if (I18N_OVERRIDE_WITH_PARAMS_MAP[i18nKey][param]) {\n    i18nKey += `.${param}`;\n  } else {\n    i18nKey += '.custom';\n  }\n  return i18nKey;\n};\n\nconst getI18NParams = (remediation, authenticatorKey) => {\n  const params = [];\n  const formName = remediation.name;\n  if (I18N_PARAMS_MAPPING[formName] &&\n    I18N_PARAMS_MAPPING[formName][authenticatorKey]) {\n    const config = I18N_PARAMS_MAPPING[formName][authenticatorKey];\n    const param = config.getParam(remediation);\n    params.push(param);\n  }\n  return params;\n};\n\nconst getI18nKey = (i18nPath) => {\n  let i18nKey;\n  // Extract security question value from i18nPath\n  SECURITY_QUESTION_PREFIXES.forEach(prefix => {\n    if (i18nPath.indexOf(prefix) === 0 ) {\n      const securityQuestionValue = i18nPath.replace(prefix, '');\n      i18nKey = `security.${securityQuestionValue}`;\n    }\n  });\n\n  if (I18N_OVERRIDE_MAPPINGS[i18nPath]) {\n    i18nKey = I18N_OVERRIDE_MAPPINGS[i18nPath];\n  }\n\n  if (i18nKey && !Bundles.login[i18nKey]) {\n    Logger.warn(`expect i18n key ${i18nKey} for ${i18nPath} but not found in 'login' bundle.`);\n    i18nKey = null;\n  }\n\n  return i18nKey;\n};\n\nconst doesI18NKeyExist = (i18nKey) => {\n  return !!Bundles.login[i18nKey];\n};\n\n/**\n * Find i18n value using {@code i18nPath} if it exists.\n * Otherwise return {@code defaultValue}.\n *\n * @param {string} i18nPath\n * @param {string} defaultValue\n * @param {string[]} params\n */\nconst getI18NValue = (i18nPath, defaultValue, params = []) => {\n  const i18nKey = getI18nKey(i18nPath);\n  // TODO : OKTA-397225\n  // here defaultValue is uiSchema label or placeholders, some lables may be customized by \n  // admin to anything string. We should not localize and replace these customized labels even if i18nkey exists\n  if (i18nKey) {\n    return loc(i18nKey, 'login', params);\n  } else {\n    Logger.warn(`Avoid rendering unlocalized text sent from the API: ${defaultValue}`);\n    return defaultValue;\n  }\n};\n\nconst updateLabelForUiSchema = (remediation, uiSchema) => {\n  if (uiSchema.mutable === false && uiSchema.name.indexOf('questionKey') < 0) {\n    return;\n  }\n  Logger.info('i18n label transformer');\n  Logger.info('\\t remediationName: ', remediation.name);\n  Logger.info('\\t uiSchema: ', JSON.stringify(uiSchema));\n\n  const authenticatorKey = remediation.relatesTo?.value?.key;\n  const authenticatorKeyPath = authenticatorKey\n    ? `.${remediation.relatesTo.value.key}`\n    : '';\n\n  const i18nPrefix = `${remediation.name}${authenticatorKeyPath}.`;\n  let i18nPath = `${i18nPrefix}${uiSchema.name}`;\n\n  if (uiSchema.type === 'text' && uiSchema.name.indexOf('questionKey') >= 0 && uiSchema.value !== 'custom') {\n    i18nPath = `${i18nPath}.${uiSchema.value}`;\n  }\n\n  if (uiSchema.type === 'checkbox' && uiSchema.placeholder) {\n    Logger.info('\\t 1: ', i18nPath);\n    uiSchema.placeholder = getI18NValue(i18nPath, uiSchema.placeholder);\n  }\n\n  if (uiSchema.label) {\n    Logger.info('\\t 2: ', i18nPath);\n    const params = getI18NParams(remediation, authenticatorKey);\n    uiSchema.label = getI18NValue(i18nPath, uiSchema.label, params);\n  }\n  if ($.isPlainObject(uiSchema.options)) {\n    uiSchema.options = _.mapObject(uiSchema.options, (value, key) => {\n      const i18nPathOption = `${i18nPath}.${key}`;\n      Logger.info('\\t 3: ', i18nPathOption);\n      return getI18NValue(i18nPathOption, value);\n    });\n  }\n  if (Array.isArray(uiSchema.options)) {\n    uiSchema.options.forEach(o => {\n      if (!o.label) {\n        return;\n      }\n      let i18nPathOption;\n      if (o.authenticatorKey) {\n        i18nPathOption = `${i18nPath}.${o.authenticatorKey}`;\n\n        const methodType = o.value?.methodType;\n        if (o.authenticatorKey === AUTHENTICATOR_KEY.OV && methodType) {\n          i18nPathOption = `${i18nPathOption}.${methodType}`;\n        }\n      } else if (typeof o.value === 'string' || typeof o.value === 'number') { // value could be string, number, object or undefined.\n        i18nPathOption = `${i18nPath}.${o.value}`;\n      } else {\n        i18nPathOption = i18nPath;\n      }\n      Logger.info('\\t 4: ', i18nPathOption);\n      o.label = getI18NValue(i18nPathOption, o.label);\n    });\n  }\n\n  if (Array.isArray(uiSchema.optionsUiSchemas)) {\n    uiSchema.optionsUiSchemas.forEach(optionsUiSchema => {\n      optionsUiSchema.forEach(uiSchema => updateLabelForUiSchema(remediation, uiSchema));\n    });\n  }\n\n};\n\nconst isWebAuthnAPIError = ( i18nKey ) => i18nKey.startsWith(WEBAUTHN_API_GENERIC_ERROR_KEY);\n\n/**\n * @typedef {Object} Message\n * @property {string} message\n * @property {Object=} i18n\n * @property {string} i18n.key\n * @property {string[]} i18n.params\n */\n/**\n * - If `message.i18n.key` exists and has a value in 'login.properties'\n *   through the given key or via I18N_OVERRIDE_MAPPINGS, return the value.\n *\n * - returns `message.message` otherwise\n *\n * @param {Message} message\n */\nconst getMessage = (message) => {\n  if (message.i18n?.key) {\n    let i18nKey = message.i18n.key;\n    let i18nParams = message.i18n.params || [];\n\n    // TODO - remove this block once API fix is done - OKTA-398080\n    // Sometimes API sends params: [\"\"] an array with empty string.\n    // example - error-authenticator-enroll-password-common mock\n    if (i18nParams.length === 1 && i18nParams[0] === '') {\n      i18nParams = [];\n    }\n\n    if (I18N_OVERRIDE_MAPPINGS[message.i18n?.key]) {\n      i18nKey = I18N_OVERRIDE_MAPPINGS[message.i18n?.key];\n    } else if (I18N_OVERRIDE_WITH_PARAMS_MAP[i18nKey]) {\n      const param = message.i18n.params?.[0];\n      i18nKey = getI8nKeyUsingParams(i18nKey, param);\n      i18nParams = i18nKey.endsWith('custom') ? [param] : [];\n    }\n\n    if (Bundles.login[i18nKey]) {\n      Logger.info(`Override messages using i18n key ${i18nKey}`);\n      // expect user config i18n properly.\n      // e.g. the i18n value shall have placeholders like `{0}`, when params is not empty.\n      return loc(i18nKey, 'login', i18nParams);\n    }\n\n    if (isWebAuthnAPIError(i18nKey)) {\n      // The WebAuthn api error doesn't make much sense to a typical end user, but useful for developer.\n      // So keep the api message in response, but show a generic error message on UI.\n      return loc(WEBAUTHN_API_GENERIC_ERROR_KEY, 'login');\n    }\n  }\n\n  Logger.warn(`Avoid rendering unlocalized text sent from the API: ${message.message}`);\n  return message.message;\n};\n\n/**\n * @param {Object} error\n */\nconst getMessageFromBrowserError = (error) => {\n  if (error.name) {\n    const key = `oie.browser.error.${error.name}`;\n    if (Bundles.login[key]) {\n      Logger.info(`Override messages using i18n key ${key}`);\n      // expect user config i18n properly.\n      return loc(key, 'login');\n    }\n  }\n  return error.message;\n};\n\n/**\n * - iff `message.i18n.key` exists return the key.\n *\n * @param {Message} message\n */\nconst getMessageKey = (message) => {\n  return message?.i18n?.key || '';\n};\n\nconst uiSchemaLabelTransformer = (transformedResp) => {\n  // Try to override label using i18n value\n  if (Array.isArray(transformedResp.remediations)) {\n    transformedResp.remediations\n      .filter(remediation => Array.isArray(remediation.uiSchema) && remediation.uiSchema.length)\n      .forEach(remediation => {\n        remediation.uiSchema.forEach(uiSchema => updateLabelForUiSchema(remediation, uiSchema));\n      });\n  }\n\n  // Try to override `messages` using i18n value.\n  // 1. This is only handling top level `messages` object when response status is 200.\n  // 2. See `IonResponseHelper.js` where handle `messages` object when none 200 response.\n  // 3. Handling `messages` in remediation forms on 200 response is not considered yet.\n  //    Is that possible?\n  if (Array.isArray(transformedResp.messages?.value)) {\n    transformedResp.messages.value.forEach(message => {\n      message.message = getMessage(message);\n    });\n  }\n  return transformedResp;\n};\n\n/**\n * Has this i18n key been overridden for customization?\n * @param {String} i18nKey\n * @param {Object} settings\n * @returns Boolean\n */\nconst isCustomizedI18nKey = (i18nKey, settings) => {\n  const language = settings.get('languageCode');\n  const i18n = settings.get('i18n');\n  const customizedProperty = i18n && i18n[language] && i18n[language][i18nKey];\n  return !!customizedProperty;\n};\n\nexport {\n  uiSchemaLabelTransformer as default,\n  getMessage,\n  getMessageKey,\n  getI18NParams,\n  doesI18NKeyExist,\n  isCustomizedI18nKey,\n  getMessageFromBrowserError\n};\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _ } from 'okta';\nimport { FORMS as RemediationForms, AUTHENTICATOR_KEY, IDP_FORM_TYPE } from './RemediationConstants';\n\n/**\n * Transform the ion spec response into canonical format.\n */\n\n/**\n * Authn V2 response\n * @typedef {Object} AuthnResponse\n */\n\n/**\n * @typedef {Object} AuthnResult\n * @property {Object=} user\n * @property {Object=} authenticator\n */\n\nconst isObject = x => _.isObject(x);\n\nconst isError = response => !!response.messages;\n\n/**\n * Flatten first level objects from response\n */\nconst getFirstLevelObjects = (resp) => {\n  const result = {};\n  _.each(resp, (val = {}, key) => {\n    // if key is remediation we don't do any transformation\n    if (key === 'remediation') {\n      return;\n    }\n\n    // for arrays we just want it as a top level object\n    // Example authenticators array in select-authenticator form\n    if (val.type === 'array') {\n      result[key] = {\n        value: val.value,\n      };\n    }\n\n    // for handling attributes with type object\n    if (val.type === 'object') {\n      result[key] = val.value;\n    }\n  });\n  return result;\n};\n\nconst getRemediationValues = (idx) => {\n  const remediationValues = [];\n  const hasSkipRemediationOnly =\n    idx.neededToProceed.length === 1 && idx.neededToProceed[0].name === 'skip';\n  if (_.isEmpty(idx.neededToProceed) || hasSkipRemediationOnly) {\n    // no remediation or only skip remediation with success\n    if (idx.context.success) {\n      remediationValues.push({\n        name: idx.context.success.name,\n        href: idx.context.success.href,\n        value: [],\n      });\n    } else if (idx.context.messages) {\n      // no remediation or only skip remediation with messages\n      remediationValues.push({\n        name: RemediationForms.TERMINAL,\n        // Using `value` is unnecessary as `messages` will be display via `TerminalView.showMessages`,\n        // even though might sound a little counterintuitive.\n        // The reason being is there is `BaseForm.showMessages` that is intended to handle\n        // messages generically.\n        value: [],\n      });\n    } else if (idx.context.deviceEnrollment) {\n      // no remediation or only skip remediation with messages for device enrollment state\n      // and the state is meant to be terminal state with different UI than the regular terminal view\n      remediationValues.push({\n        name: RemediationForms.DEVICE_ENROLLMENT_TERMINAL,\n        value: [],\n      });\n    }\n  }\n  return {\n    remediations: [\n      ...remediationValues,\n      ...idx.neededToProceed,\n    ]\n  };\n};\n\n/**\n * To support `idps` configuration in OIE.\n * https://github.com/okta/okta-signin-widget#openid-connect\n */\nconst injectIdPConfigButtonToRemediation = (settings, idxResp) => {\n  const widgetRemedations = idxResp.remediations;\n  const hasIdentifyRemedation = widgetRemedations.filter(r => r.name === 'identify');\n  if (hasIdentifyRemedation.length === 0) {\n    return idxResp;\n  }\n\n  const idpsConfig = settings.get('idps');\n  if (Array.isArray(idpsConfig)) {\n    const existsRedirectIdpIds = {};\n    widgetRemedations.forEach(r => {\n      if (r.name === RemediationForms.REDIRECT_IDP && r.idp) {\n        existsRedirectIdpIds[r.idp.id] = true;\n      }\n    });\n    const baseUrl = settings.get('baseUrl');\n    const stateHandle = idxResp.idx.context.stateHandle;\n    const redirectIdpRemedations = idpsConfig\n      .filter(c => !existsRedirectIdpIds[c.id]) // omit idps that are already in remediation.\n      .map(idpConfig => {\n        const idp = {\n          id: idpConfig.id,\n          name: idpConfig.text,\n        };\n        const redirectUri = `${baseUrl}/sso/idps/${idpConfig.id}?stateToken=${stateHandle}`;\n        if (idpConfig.className) {\n          idp.className = idpConfig.className;\n        }\n        return {\n          name: RemediationForms.REDIRECT_IDP,\n          type: idpConfig.type,\n          idp,\n          href: redirectUri,\n        };\n      });\n    idxResp.remediations = widgetRemedations.concat(redirectIdpRemedations);\n  }\n\n  return idxResp;\n};\n\n/**\n * IFF there is one `redirect-idp` remediation form, widget will automatically redirect to `redirect-idp.href`.\n *\n * The idea now is to reuse `success-redirect` thus converts `redirect-idp` to `success-redirect` form.\n */\nconst convertRedirectIdPToSuccessRedirectIffOneIdp = (settings, result, lastResult) => {\n  if (Array.isArray(result.remediations)) {\n    const redirectIdpRemediations = result.remediations.filter(idp => idp.name === RemediationForms.REDIRECT_IDP);\n    if (redirectIdpRemediations.length !== 1 || result.remediations.length !== 1) {\n      return;\n    }\n\n    // Direct auth clients should not redirect on the initial response\n    const isDirectAuth = settings.get('oauth2Enabled');\n    if (isDirectAuth && !lastResult) {\n      return;\n    }\n\n    const successRedirect = {\n      name: RemediationForms.SUCCESS_REDIRECT,\n      href: redirectIdpRemediations[0].href,\n      value: [],\n    };\n    result.remediations = [successRedirect];\n  }\n};\n\n/**\n * API reuses `redirect-idp` remediation form for PIV IdP and IdP Authenticator.\n * IdP Authenticator becomes outlier comparing with other Authenticators in terms of\n * using `challenge-authenticator` and `enroll-authenticator` remediation form.\n * The UX for PIV IdP is different from other idps in terms of the PIV\n * instructions view that needs to be rendered before we redirect to mtls.\n *\n * This function changes `redirect-idp` to `challenge-authenticator` or `enroll-authenticator`\n * for IdP Authenticator and changes `redirect-idp` to `piv-idp` for PIV IdP.\n */\nconst modifyFormNameForIdP = result => {\n  if (Array.isArray(result.remediations)) {\n    result.remediations.forEach(remediation => {\n      if (remediation.name === RemediationForms.REDIRECT_IDP &&\n          remediation?.relatesTo?.value?.key === AUTHENTICATOR_KEY.IDP) {\n        // idp authenticator\n        const isVerifyFlow = Object.prototype.hasOwnProperty.call(result, 'currentAuthenticatorEnrollment');\n        remediation.name = isVerifyFlow ? 'challenge-authenticator' : 'enroll-authenticator';\n      }\n      if (remediation.name === RemediationForms.REDIRECT_IDP && remediation.type === IDP_FORM_TYPE.X509) {\n        // piv idp\n        remediation.name = RemediationForms.PIV_IDP;\n      }\n    });\n  }\n};\n\nconst isFailureRedirect = (result) => {\n  const context = result.idx.context;\n  return (context.failure && context.failure.name === 'failure-redirect');\n};\n\nconst handleFailureRedirect = (settings, result) => {\n  const context = result.idx.context;\n\n  // Direct auth clients will usually prefer to display the error instead of redirecting\n  const isDirectAuth = settings.get('oauth2Enabled');\n  const alwaysRedirect = settings.get('redirect') === 'always'; // redirect option overrides default behavior\n  if (isDirectAuth && !alwaysRedirect) {\n    return;\n  }\n  \n  const failureRedirect = {\n    name: RemediationForms.FAILURE_REDIRECT,\n    href: context.failure.href,\n    value: [],\n  };\n  result.remediations = [failureRedirect];\n};\n\n/**\n * @param {Models.Settings} user configuration\n * @param {idx} idx object\n * @returns {} transformed object with flattened firstlevel objects, idx and remediations array\n * Example: {\n *  idx: {\n *    proceed: (),\n *    neededToProceed: [],\n *    actions: {cancel: ()},\n *    context: {},\n *  },\n *  remediations: [],\n *  authenticators: {},\n *  authenticator: {},\n *  messages: {},\n *  deviceEnrollment: {},\n * }\n */\nconst convert = (settings, idx = {}, lastResult = null) => {\n  if (!isObject(idx.rawIdxState)) {\n    return null;\n  }\n\n  // build result object\n  const firstLevelObjects = getFirstLevelObjects(idx.rawIdxState);\n  const remediationValues = getRemediationValues(idx);\n  const result = Object.assign({},\n    firstLevelObjects,\n    remediationValues,\n    { idx }\n  );\n  \n  // transform result object\n  if (isError(result) && isFailureRedirect(result)) {\n    handleFailureRedirect(settings, result);\n  }\n\n  // Override the `result` to handle custom IdP login buttons\n  // and update the form for IdP Authenticators.\n  injectIdPConfigButtonToRemediation(settings, result);\n  modifyFormNameForIdP(result);\n\n  if (!isError(result)) { // Only redirect to the IdP if we are not in an error flow\n    convertRedirectIdPToSuccessRedirectIffOneIdp(settings, result, lastResult);\n  }\n\n  return result;\n};\n\nexport default convert;\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _ } from 'okta';\nimport responseTransformer from './responseTransformer';\nimport uiSchemaTransformer from './uiSchemaTransformer';\nimport i18nTransformer from './i18nTransformer';\n\n// Transforms an IDX response to an ION response\nexport default function transformIdxResponse(settings, curResponse, lastResponse) {\n  const ionResponse = _.compose(\n    i18nTransformer,\n    uiSchemaTransformer.bind({}, settings),\n    responseTransformer.bind({}, settings),\n  )(curResponse, lastResponse);\n  return ionResponse;\n}\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { FORMS } from '../RemediationConstants';\nimport { loc } from 'okta';\n\nconst getCheckboxUiSchema = ({ label, type, required }) => ({\n  // For Remember Me checkbox, we need the label only on the right side of it.\n  placeholder: label,\n  label: false,\n  // Separating prop type for Backbone.Model\n  // from html input type\n  modelType: type,\n  // uiSchema type is the html input type desired.\n  type: 'checkbox',\n  required: required || false,\n});\n\nconst getRadioUiSchema = ({ label, required, options }) => ({\n  displayName: label,\n  type: 'radio',\n  required: required,\n  options: options[0].value.value.options,\n  sublabel: required? null : loc('oie.form.field.optional', 'login'),\n});\n\nconst getCheckboxUiSchemaWithDefaultValue = ({ label, type }) => ({\n  placeholder: label,\n  label: false,\n  modelType: type,\n  type: 'checkbox',\n  // set required true so default value can be passed to optional attributes as well\n  required: true,\n  value: false,\n});\n\nconst createUiSchemaForBoolean = (ionFormField, remediationForm) => {\n  if ([FORMS.CONSENT_ENDUSER, FORMS.CONSENT_ADMIN].includes(remediationForm.name)) {\n    const scopes = remediationForm.scopes.map(({name, label, desc}) => {\n      return {name, displayName: label, description: desc};\n    });\n\n    // setting 'type' here to add a specific View in FormInputFactory.create\n    const type = remediationForm.name;\n\n    return {type, scopes, options: ionFormField.options};\n  } else if (Array.isArray(ionFormField.options) && ionFormField.options[0]?.value?.value?.inputType === 'radio') {\n    return getRadioUiSchema(ionFormField);\n  } else if (Array.isArray(ionFormField.options) && ionFormField.options[0]?.value?.value?.inputType === 'checkbox') {\n    return getCheckboxUiSchemaWithDefaultValue(ionFormField);\n  } else {\n    return getCheckboxUiSchema(ionFormField);\n  }\n};\n\nexport default createUiSchemaForBoolean;\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _ } from 'okta';\nimport { AUTHENTICATOR_KEY } from '../RemediationConstants';\n\n/**\n * Example of the option like\n * @param {AuthenticatorOption[]} options\n * @param {( AuthenticatorEnrollment[] || Authenticator[] )} authenticators\n */\nexport function createOVOptions(options = []) {\n  // Split OV into individual entries for verification (one for each method).\n  const ovItem = options.find((option) => option.relatesTo.key === AUTHENTICATOR_KEY.OV);\n  const methodTypeObj = ovItem?.value?.form?.value?.find(v => v.name === 'methodType');\n  const methodOptions = methodTypeObj?.options;\n  let signedNonceOption;\n  if (methodOptions) {\n    const ovOptions = [];\n    methodOptions.forEach((method) => {\n      // get value object from the ov item\n      const value = [...ovItem.value.form.value];\n      // get index of the methodType object within the value object\n      const methodTypeIndex = ovItem.value.form.value.findIndex((v) => v.name === 'methodType');\n      // create a new methodType object that removes the options array and\n      // has a value of the current method\n      const newMethodTypeObj = Object.assign(_.omit(methodTypeObj, 'options'), method);\n      // set the methodType field to be required and immutable in our UI,\n      // so it is always sent to the backend.\n      newMethodTypeObj.required = true;\n      newMethodTypeObj.mutable = false;\n      // replace old methodType object with the new one\n      value.splice(methodTypeIndex, 1, newMethodTypeObj);\n      // return a new ov item for a specific method\n      const newItem = Object.assign({}, ovItem, {\n        label: method.label,\n        value: {\n          form: {\n            value,\n          }\n        }\n      });\n      if (method.value === 'signed_nonce') {\n        signedNonceOption = newItem;\n      } else {\n        ovOptions.push(newItem);\n      }\n    });\n    const ovIndex = options.findIndex((option) => option.relatesTo.key === AUTHENTICATOR_KEY.OV);\n    options.splice(ovIndex, 1, ...ovOptions);\n\n    // ReArrange fastpass in options based on deviceKnown\n    if (signedNonceOption) {\n      ovItem.relatesTo.deviceKnown ? options.unshift(signedNonceOption) : options.push(signedNonceOption);\n    }\n  }\n}\n\nfunction createAuthenticatorOptions(options = []) {\n  createOVOptions(options);\n  return options.map(option => {\n    const value = option.value?.form?.value || [];\n\n    // Each authenticator option has list of ION field.\n    // Currently we only support merely selecting one of options\n    // rather than pop up another page to collect extra data\n    // (in order to fill value for `mutable: true; value: null` fields).\n    // The only reason of such design is to simplify widget implementation\n    // but could subject to change in later releases.\n    // Thus only surface up fields that are `required: true; mutable: false`\n    // which implies it already has `value`.\n    const valueObject = value\n      .filter(v => v.required === true && v.mutable === false)\n      .reduce((init, v) => {\n        return Object.assign(init, { [v.name]: v.value });\n      }, {});\n    return {\n      label: option.label,\n      value: valueObject,\n      relatesTo: option.relatesTo,\n      authenticatorKey: option.relatesTo?.key,\n    };\n  });\n}\n\nfunction getAuthenticatorsEnrollUiSchema({ options }) {\n  return {\n    type: 'authenticatorEnrollSelect',\n    options: createAuthenticatorOptions(options),\n  };\n}\n\nfunction getAuthenticatorsVerifyUiSchema({ options }) {\n  return {\n    type: 'authenticatorVerifySelect',\n    options: createAuthenticatorOptions(options),\n  };\n}\n\n/**\n  * Create ui schema for ION field that has type 'object'.\n  */\nexport default function createUiSchemaForObject(ionFormField, remediationForm, transformedResp,\n  createUISchema, settings) {\n  const uiSchema = {};\n\n  if (ionFormField.name === 'authenticator' &&\n    (remediationForm.name === 'select-authenticator-authenticate' ||\n    remediationForm.name === 'select-authenticator-unlock-account')) {\n    // 1. when `select-authenticator-authenticator`,\n    // create customize type so that display authenticator list as selectable list\n    Object.assign(uiSchema, getAuthenticatorsVerifyUiSchema(ionFormField));\n  } else if (ionFormField.name === 'authenticator' && remediationForm.name === 'select-authenticator-enroll') {\n    // 2. when `select-authenticator-enroll`,\n    // create customize type so that display authenticator list as selectable list\n    Object.assign(uiSchema, getAuthenticatorsEnrollUiSchema(ionFormField));\n  } else if (Array.isArray(ionFormField.options)) {\n    // 3. For other cases, create ui schema for each `option` in order to render\n    // different view for each option.\n    //\n    // e.g. { \"name\": \"credentials\", \"type\": \"object\", options: [ {value: {form: value:[]} ]\n    uiSchema.optionsUiSchemas = ionFormField.options.map(opt => {\n      return createUISchema(transformedResp, {\n        value: [\n          {\n            name: ionFormField.name,\n            value: opt.value,\n          }\n        ]\n      }, settings);\n    });\n    uiSchema.options = ionFormField.options.map((opt, index) => {\n      return { label: opt.label, value: index };\n    });\n    // assume (default to) use radio buttons to switch sub-schema.\n    uiSchema.type = 'radio';\n    uiSchema.value = '0';\n    uiSchema.name = `sub_schema_local_${ionFormField.name}`;\n  }\n\n  return uiSchema;\n}\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint max-depth: [2, 3] */\n/* eslint complexity: [2, 20] */\nimport { loc } from 'okta';\nimport { HINTS, ATTR_FORMAT } from '../RemediationConstants';\nimport CountryUtil from 'util/CountryUtil';\nimport TimeZone from '../../view-builder/utils/TimeZone';\n\nconst ionOptionsToUiOptions = (options) => {\n  const result = {};\n  options.forEach(({ value, label }) => {\n    result[value] = label;\n  });\n  return result;\n};\n\nconst getPasswordUiSchema = (settings) => ({\n  type: 'password',\n  params: {\n    showPasswordToggle: settings.get('showPasswordToggle'),\n  },\n});\n\nconst getCaptchaUiSchema = () => {\n  return {\n    type: 'captcha',\n  };\n};\n\nconst timezoneUISchema = {\n  type: 'select',\n  wide: true\n};\n\nconst shouldRenderAsRadio = (name) => name.indexOf('methodType') >= 0 || name.indexOf('channel') >= 0;\n\nconst optionalType = ['text', 'radio', 'select'];\n\nconst populateUISchemaForDisplay = (uiSchema, ionField) => {\n  const display = ionField?.value?.value;\n  uiSchema.type = display.inputType;\n  if (display.inputType === 'radio') {\n    uiSchema.options = display.options;\n  } else if (display.inputType === 'select') {\n    uiSchema.wide = true;\n    if (display.format === ATTR_FORMAT.COUNTRY_CODE) {\n      uiSchema.options = Object.assign({'': ''}, CountryUtil.getCountryCode());\n    } else {\n      //it will create a placeholder for dropdowns, by default it will show 'Select an Option'\n      uiSchema.options = Object.assign({'': ''}, ionOptionsToUiOptions(display.options));\n    }\n  }\n};\n\nconst populateUISchemaForRadio = (uiSchema, ionFormField) => {\n  // e.g. { name: 'methodType', options: [ {label: 'sms'} ], type: 'string' | null }\n  uiSchema.type = 'radio';\n  // set the default value to the first value.\n  ionFormField.value = ionFormField.options[0].value;\n};\n\nconst createUiSchemaForString = (ionFormField, remediationForm, transformedResp, createUISchema, settings) => {\n  const uiSchema = {\n    type: 'text'\n  };\n\n  // e.g. { name: 'password', secret: true }\n  if (ionFormField.secret === true) {\n    Object.assign(uiSchema, getPasswordUiSchema(settings));\n  }\n\n  if (ionFormField.hint === HINTS.CAPTCHA) {\n    Object.assign(uiSchema, getCaptchaUiSchema());\n  }\n\n  if(ionFormField.name === 'userProfile.timezone'){\n    Object.assign(uiSchema, timezoneUISchema);\n    uiSchema.options = Object.assign({'': ''}, TimeZone);\n  }\n\n  if (Array.isArray(ionFormField.options) && ionFormField.options[0] && ionFormField.options[0].value) {\n    const ionField = ionFormField.options[0];\n    if (ionField.label === 'display') {\n      populateUISchemaForDisplay(uiSchema, ionField);\n    } else if (shouldRenderAsRadio(ionFormField.name)) {\n      populateUISchemaForRadio(uiSchema, ionFormField);\n    } else {\n      // default to select (dropdown). no particular reason (certainly can default to radio.)\n      // e.g. { name: 'questionKey', options: [], type: 'string' | null }\n      uiSchema.type = 'select';\n      uiSchema.wide = true;\n      uiSchema.options = ionOptionsToUiOptions(ionFormField.options);\n    }\n  }\n\n  // set a label as 'Optional' for supported optional element types\n  if(ionFormField.required === false && optionalType.includes(uiSchema.type)) {\n    uiSchema.sublabel = loc('oie.form.field.optional', 'login');\n  }\n\n  return uiSchema;\n};\n\nexport default createUiSchemaForString;\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/**\n * Create UI Schema into remedation object base on remediation values\n */\nimport { _ } from 'okta';\nimport createUiSchemaForBoolean from './ui-schema/ion-boolean-handler';\nimport createUiSchemaForObject from './ui-schema/ion-object-handler';\nimport createUiSchemaForString from './ui-schema/ion-string-handler';\n\nconst UISchemaHandlers = {\n  string: createUiSchemaForString,\n  boolean: createUiSchemaForBoolean,\n  object: createUiSchemaForObject,\n};\n\n/**\n *\n * @param {AuthResult} transformedResp\n * @param {IONForm} remeditationForm\n */\nconst createUISchema = (transformedResp, remediationForm, settings) => {\n\n  // For cases where field itself is a form, it has a formname and we are appending the formname to each field.\n  // Sort of flat the structure in order to align Courage flatten Model. The flatten structure will be converted\n  // back to object hierarchy through `Model.toJSON`.\n  // For simplicity we are assuming that when field itself is a form its only one level deep.\n  const remediationValue = _.chain(remediationForm.value || [])\n    .filter(v => v.visible !== false)\n    .map(v => {\n      let nestedForm;\n      if (v.form) {\n        nestedForm = v.form;\n      } else if (v.value?.form) {\n        nestedForm = v.value.form;\n      }\n\n      if (nestedForm) {\n        const inputGroupName = v.name;\n        return nestedForm.value.map(input => {\n          return Object.assign({}, input, { name: inputGroupName + '.' + input.name });\n        });\n      } else {\n        return v;\n      }\n    })\n    .flatten()\n    .value();\n\n  return remediationValue.map(ionFormField => {\n    const uiSchemaDefaultConfig = {\n      'label-top': true,\n      'multirowError': true,\n      'data-se': `o-form-fieldset-${ionFormField.name}`,\n    };\n    const fieldType = ionFormField.type || 'string';\n    const uiSchemaHandler = UISchemaHandlers[fieldType];\n    const uiSchemaResult = uiSchemaHandler(ionFormField, remediationForm, transformedResp, createUISchema, settings);\n\n    return Object.assign(\n      {},\n      ionFormField,\n      uiSchemaDefaultConfig,\n      uiSchemaResult,\n    );\n  });\n};\n\n/**\n *\n * @param {AuthResult} transformedResp\n */\nconst insertUISchema = (settings, transformedResp) => {\n  if (transformedResp) {\n    transformedResp.remediations = transformedResp.remediations.map(obj => {\n      obj.uiSchema = createUISchema(transformedResp, obj, settings);\n      return obj;\n    });\n  }\n  return transformedResp;\n};\n\nexport default insertUISchema;\n\n/**\n * @typedef {Object} Authenticator\n * @property {string} label\n * @property {AuthenticatorValue} value\n */\n/**\n * @typedef {Object} AuthenticatorValue\n * @property {string} type Authenticator Type\n * @property {string} id Authenticator Org Authenticator ID\n * @property {AuthenticatorMethod[]} methods\n */\n/**\n * @typedef {Object} AuthenticatorEnrollment\n * @property {string} label\n * @property {AuthenticatorEnrollmentValue} value\n */\n/**\n * @typedef {Object} AuthenticatorEnrollmentValue\n * @property {string} authenticatorId Org Authenticator ID\n * @property {string} type Authenticator Type\n * @property {string} id Authenticator Enrollment ID\n * @property {AuthenticatorMethod[]} methods\n */\n/**\n * @typedef {Object} AuthenticatorMethod\n * @property {string} type Authenticator method type\n */\n/**\n * @typedef {Object} AuthenticatorOption\n * @property {string} label\n * @property {Object} form\n * @property {AuthenticatorOption[]} form.value\n */\n/**\n * @typedef {Object} AuthenticatorOptionValue\n * @property {string} name\n * @property {boolean} required\n * @property {string} value\n * @property {boolean} mutable\n */\n/**\n * @typedef {Object} IONForm\n * @property {string} name\n * @property {string[]} rel\n * @property {string} method\n * @property {string} href\n * @property {string} accepts\n * @property {IONFormField[]} value\n */\n/**\n * @typedef {Object} IONFormField\n * @property {string} name\n * @property {string=} type\n * @property {string=} required\n * @property {string=} secret\n * @property {string=} label\n * @property {Object[]} options\n * @property {Object=} form\n * @property {IONFormField[]} form.value\n */\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { ListView, loc, View, createButton } from 'okta';\nimport { FORMS as RemediationForms } from '../../ion/RemediationConstants';\nimport skipAll from './SkipOptionalEnrollmentButton';\nimport hbs from 'handlebars-inline-precompile';\nimport { AUTHENTICATOR_ALLOWED_FOR_OPTIONS } from '../utils/Constants';\n\nconst AuthenticatorRow = View.extend({\n  className: 'authenticator-row clearfix',\n  template: hbs`\n    <div class=\"authenticator-icon-container\">\n      {{#if logoUri}}\n        <div class=\"factor-icon authenticator-icon custom-app-logo\" role=\"img\"\n          aria-label=\"{{i18n code=\"oie.auth.logo.aria.label\" bundle=\"login\"}}\"\n          style=\"background-image: url('{{logoUri}}')\"></div>\n      {{else}}\n        <div class=\"factor-icon authenticator-icon {{iconClassName}}\" role=\"img\" \n          aria-label=\"{{i18n code=\"oie.auth.logo.aria.label\" bundle=\"login\"}}\"></div>\n      {{/if}}\n    </div>\n    <div class=\"authenticator-description\">\n      <h3 class=\"authenticator-label no-translate\">{{label}}</h3>\n      {{#if description}}\n        <p class=\"authenticator-description--text\">{{description}}</p>\n      {{/if}}\n      {{#if authenticatorUsageText}}\n        <p class=\"authenticator-usage-text\">{{authenticatorUsageText}}</p>\n      {{/if}}\n      <div class=\"authenticator-button\" {{#if buttonDataSeAttr}}data-se=\"{{buttonDataSeAttr}}\"{{/if}}></div>\n    </div>\n  `,\n  children: function() {\n    return [[createButton({\n      className: 'button select-factor',\n      title: function() {\n        return loc('oie.enroll.authenticator.button.text', 'login');\n      },\n      click: function() {\n        this.model.trigger('selectAuthenticator', this.model.get('value'));\n      }\n    }), '.authenticator-button']];\n  },\n  minimize: function() {\n    this.$el.addClass('authenticator-row-min');\n  },\n  getTemplateData() {\n    let authenticatorUsageText;\n    const allowedFor = this.model.get('relatesTo').allowedFor;\n\n    if (allowedFor) {\n      switch (allowedFor) {\n      case AUTHENTICATOR_ALLOWED_FOR_OPTIONS.ANY:\n        authenticatorUsageText = loc('oie.enroll.authenticator.usage.text.access.recovery', 'login');\n        break;\n      case AUTHENTICATOR_ALLOWED_FOR_OPTIONS.RECOVERY:\n        authenticatorUsageText = loc('oie.enroll.authenticator.usage.text.recovery', 'login');\n        break;\n      case AUTHENTICATOR_ALLOWED_FOR_OPTIONS.SSO:\n        authenticatorUsageText = loc('oie.enroll.authenticator.usage.text.access', 'login');\n        break;\n      }\n    }\n\n    const data = View.prototype.getTemplateData.apply(this, arguments);\n    data.authenticatorUsageText = authenticatorUsageText;\n\n    return data;\n  },\n});\n\nexport default ListView.extend({\n\n  className: 'authenticator-enroll-list authenticator-list',\n\n  item: AuthenticatorRow,\n\n  itemSelector: '.list-content',\n\n  initialize: function() {\n    this.listenTo(this.collection,'selectAuthenticator', function(data) {\n      this.model.set(this.options.name, data);\n      this.options.appState.trigger('saveForm', this.model);\n    });\n    this.hasOptionalFactors = this.options.appState.hasRemediationObject(RemediationForms.SKIP);\n    if (this.hasOptionalFactors) {\n      this.add(skipAll);\n    }\n  },\n\n  template: hbs`<div class=\"list-content\"> <div class=\"authenticator-list-title\"> {{title}} </div> </div>`,\n\n  getTemplateData() {\n    // presence of the skip remediation form tells us that the authenticators are all optional\n    const title = this.hasOptionalFactors? loc('oie.setup.optional', 'login'):loc('oie.setup.required', 'login');\n\n    return {\n      title\n    };\n  }\n\n});\n","import { BaseFooter } from '../internals';\nimport { getFactorPageCustomLink, getSwitchAuthenticatorLink } from '../utils/LinksUtil';\n\nexport default BaseFooter.extend({\n  links() {\n    return getFactorPageCustomLink(this.options.appState, this.options.settings)\n      .concat(getSwitchAuthenticatorLink(this.options.appState));\n  },\n});\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { ListView, View, createButton, loc } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\nconst AuthenticatorRow = View.extend({\n  className: 'authenticator-row clearfix',\n  template: hbs`\n    <div class=\"authenticator-icon-container\">\n      {{#if logoUri}}\n        <div class=\"factor-icon authenticator-icon {{iconClassName}} custom-logo\" role=\"img\" \n          aria-label=\"{{i18n code=\"oie.auth.logo.aria.label\" bundle=\"login\"}}\"\n          style=\"background-image: url('{{logoUri}}')\"></div>\n      {{else}}\n        <div class=\"factor-icon authenticator-icon {{iconClassName}}\" role=\"img\" \n          aria-label=\"{{i18n code=\"oie.auth.logo.aria.label\" bundle=\"login\"}}\"></div>\n      {{/if}}\n    </div>\n    <div class=\"authenticator-description\">\n      <div>\n        <h3 class=\"authenticator-label no-translate {{#if description}}authenticator-label--small{{/if}}\">{{label}}</h3>\n        {{#if description}}\n          <p class=\"authenticator-description--text {{noTranslateClassName}}\">{{description}}</p>\n        {{/if}}\n      </div>\n      <div class=\"authenticator-button\" {{#if buttonDataSeAttr}}data-se=\"{{buttonDataSeAttr}}\"{{/if}}></div>\n    </div>\n  `,\n  children: function(){\n    return [[createButton({\n      className: 'button select-factor',\n      title: function() {\n        return loc('oie.verify.authenticator.button.text', 'login');\n      },\n      click: function() {\n        this.model.trigger('selectAuthenticator', this.model.get('value'));\n      }\n    }), '.authenticator-button']];\n  },\n  minimize: function() {\n    this.$el.addClass('authenticator-row-min');\n  }\n});\n\nexport default ListView.extend({\n\n  className: 'authenticator-verify-list authenticator-list',\n\n  item: AuthenticatorRow,\n\n  itemSelector: '.list-content',\n\n  initialize: function() {\n    this.listenTo(this.collection,'selectAuthenticator', this.handleSelect);\n  },\n\n  handleSelect(data) {\n    //If schema contains a required identifier to fill first then validate the form\n    const validationError = this.model.validateField('identifier');\n    this.model.trigger('clearFormError');\n    if(this.model.getPropertySchema('identifier')?.required && validationError) {\n      this.model.trigger('invalid', this.model, validationError);\n    } else {\n      this.model.set(this.options.name, data);\n      this.options.appState.trigger('saveForm', this.model); \n    }\n  },\n\n  template: hbs`<div class=\"list-content\"> </div>`,\n\n});\n","import { _ } from 'okta';\nimport { BaseHeader, BaseView } from '../internals';\nimport AuthenticatorFooter from './AuthenticatorFooter';\nimport HeaderBeacon from './HeaderBeacon';\nimport { getIconClassNameForBeacon } from '../utils/AuthenticatorUtil';\n\nexport const BaseAuthenticatorBeacon = HeaderBeacon.extend({\n  authenticatorKey() {\n    return this.options.appState.get('authenticatorKey');\n  },\n\n  getBeaconClassName: function() {\n    const authenticatorKey = _.result(this, 'authenticatorKey');\n    return getIconClassNameForBeacon(authenticatorKey);\n  },\n});\n\nexport default BaseView.extend({\n  Header: BaseHeader.extend({\n    HeaderBeacon: BaseAuthenticatorBeacon,\n  }),\n  Footer: AuthenticatorFooter,\n});\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { loc, View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport AuthenticatorFooter from './AuthenticatorFooter';\n\nconst OKTA_AUTHENTICATOR = 'Okta_Authenticator';\n\nconst CantVerifyInfoVerifyFlowView = View.extend({\n  id: 'help-description-container',\n  className: 'help-description js-help-description',\n  template: hbs`\n      <h3>{{i18n code=\"oie.verify.webauthn.cant.verify.biometric.authenticator.title\" bundle=\"login\"}}</h3><br>\n      <p>{{i18n code=\"oie.verify.webauthn.cant.verify.biometric.authenticator.description1\" bundle=\"login\"}}</p><br>\n      <p>{{i18n code=\"oie.verify.webauthn.cant.verify.biometric.authenticator.description2\" bundle=\"login\"}}</p><br>\n      <h3>{{i18n code=\"oie.verify.webauthn.cant.verify.security.key.title\" bundle=\"login\"}}</h3><br>\n      <p>{{i18n code=\"oie.verify.webauthn.cant.verify.security.key.description\" bundle=\"login\"}}</p><br>\n  `,\n});\n\nconst CantVerifyInfoOVEnrollmentFlowView = View.extend({\n  id: 'help-description-container',\n  className: 'help-description js-help-description',\n  template: hbs`\n      <ol class=\"ov-enrollment-info\">\n        <li>{{i18n code=\"oie.verify.webauthn.cant.verify.enrollment.step1\" bundle=\"login\"}}</li><br>\n        <li>{{i18n code=\"oie.verify.webauthn.cant.verify.enrollment.step2\" bundle=\"login\"}}</li><br>\n        <li>{{i18n code=\"oie.verify.webauthn.cant.verify.enrollment.step3\" bundle=\"login\"}}</li><br>\n        <li>{{i18n code=\"oie.verify.webauthn.cant.verify.enrollment.step4\" bundle=\"login\"}}</><br>\n      </ol>\n  `,\n});\n\nexport default AuthenticatorFooter.extend({\n  links: function() {\n    const links = AuthenticatorFooter.prototype.links.apply(this, arguments);\n\n    const cantVerifyInfoView = this.options.appState.get('app')\n      && this.options.appState.get('app').name === OKTA_AUTHENTICATOR ?\n      CantVerifyInfoOVEnrollmentFlowView: CantVerifyInfoVerifyFlowView;\n    links.unshift({\n      'label': loc('oie.verify.webauthn.cant.verify', 'login'),\n      'name': 'cant-verify',\n      'aria-controls': 'help-description-container',\n      'class': 'link help js-help',\n      'type': 'toggle-text-link',\n      'additionalOptions': {\n        view: cantVerifyInfoView,\n        selector: '.js-help-description',\n      },\n    });\n\n    return links;\n  },\n});\n","import { BaseHeader } from '../internals';\nimport { AUTHENTICATOR_KEY } from '../../ion/RemediationConstants';\nimport { BaseAuthenticatorBeacon } from './BaseAuthenticatorView';\n\nexport default BaseHeader.extend({\n  HeaderBeacon: BaseAuthenticatorBeacon.extend({\n    authenticatorKey: AUTHENTICATOR_KEY.EMAIL,\n  })\n});\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\nexport default View.extend({\n\n  template: hbs`\n    <div data-type=\"beacon-container\" class=\"beacon-container\">\n      <div class=\"beacon-blank auth-beacon\">\n        <div class=\"beacon-blank js-blank-beacon-border auth-beacon-border\"></div>\n      </div>\n      {{#if logoUri}}\n      <div class=\"bg-helper auth-beacon auth-beacon-factor custom-app-logo\" data-se=\"factor-beacon\" role=\"img\" \n        aria-label=\"{{i18n code=\"oie.auth.logo.aria.label\" bundle=\"login\"}}\"\n        style=\"background-image: url('{{logoUri}}')\">\n      {{else}}\n      <div class=\"bg-helper auth-beacon auth-beacon-factor {{className}}\" data-se=\"factor-beacon\">\n      {{/if}}\n          <div class=\"okta-sign-in-beacon-border auth-beacon-border\"></div>\n        </div>\n    </div >\n  `,\n\n  getTemplateData: function() {\n    const appState = this.options?.appState;\n    return { className: this.getBeaconClassName() || '',\n      logoUri: appState?.get('currentAuthenticator')?.logoUri || \n        appState?.get('currentAuthenticatorEnrollment')?.logoUri\n    };\n  },\n  getBeaconClassName() {\n    return 'undefined-user';\n  }\n});\n","import { loc, View } from 'okta';\nimport { BaseFooter } from '../internals';\nimport { FORMS as RemediationForms } from '../../ion/RemediationConstants';\nimport { getForgotPasswordLink, getSignUpLink } from '../utils/LinksUtil';\nimport Link from './Link';\nimport hbs from 'handlebars-inline-precompile';\n\nexport default BaseFooter.extend({\n\n  showForgotPasswordLink() { \n    return !this.options.appState.isIdentifierOnlyView();\n  },\n\n  footerInfo() {\n    const signUpLinkData = getSignUpLink(this.options.appState, this.options.settings);\n    let SignUpLinkWithText;\n    //Build sign up link view appended with a text. Link class can only build anchor tags\n    if(signUpLinkData.length) {\n      SignUpLinkWithText = View.extend({\n        className: 'signup-info',\n        template: hbs`\n          <span>{{i18n code=\"registration.signup.label\" bundle=\"login\"}}</span><span class=\"signup-link\"></span>\n          `,\n        initialize() {\n          this.add(Link, '.signup-link', {\n            options: signUpLinkData[0]\n          });\n        }\n      });\n    }\n    return SignUpLinkWithText;\n  },\n\n  links() {\n    const { appState, settings } = this.options;\n\n    let helpLinkHref;\n    if (settings.get('helpLinks.help')) {\n      helpLinkHref = settings.get('helpLinks.help');\n    } else {\n      const baseUrl = settings.get('baseUrl');\n      helpLinkHref = baseUrl + '/help/login';\n    }\n\n    const helpLink = [\n      {\n        'name': 'help',\n        'label': loc('help', 'login'),\n        'href': helpLinkHref,\n      },\n    ];\n\n    let forgotPasswordLink = []; \n    if (this.showForgotPasswordLink()) {\n      forgotPasswordLink = getForgotPasswordLink(appState, settings);\n    }\n\n    const customHelpLinks = [];\n    if (settings.get('helpLinks.custom')) {\n      //add custom helpLinks\n      settings.get('helpLinks.custom').forEach(customHelpLink => {\n        customHelpLink.name = 'custom';\n        customHelpLink.label = customHelpLink.text;\n        customHelpLinks.push(customHelpLink);\n      });\n    }\n\n    const unlockAccountLink = [];\n    if (settings.get('helpLinks.unlock')) {\n      unlockAccountLink.push({\n        'type': 'link',\n        'label': loc('unlockaccount', 'login'),\n        'name' : 'unlock',\n        'href': settings.get('helpLinks.unlock'),\n      });\n    } else if (appState.hasRemediationObject(RemediationForms.UNLOCK_ACCOUNT)) {\n      unlockAccountLink.push({\n        'type': 'link',\n        'label': loc('unlockaccount', 'login'),\n        'name' : 'unlock',\n        'actionPath': RemediationForms.UNLOCK_ACCOUNT,\n      });\n    }\n\n    return forgotPasswordLink\n      .concat(unlockAccountLink)\n      .concat(helpLink)\n      .concat(customHelpLinks);\n  }\n});\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\nexport default View.extend({\n\n  template: hbs('{{label}}'),\n\n  tagName: 'a',\n\n  attributes() {\n    let href = this.options.href || '#';\n    return {\n      'data-se': this.options.name,\n      href: href,\n      target: this.options.target,\n    };\n  },\n\n  className() {\n    const names = ['link'];\n    if (this.options.name) {\n      const nameToClass = this.options.name.replace(/[ ]/g, '-');\n      names.push(`js-${nameToClass}`);\n    }\n    return names.join(' ');\n  },\n\n  postRender() {\n    // TODO OKTA-245224: create sub class of Link to dispatch following if/else logic.\n    if (!this.options.href) {\n      this.$el.click((event) => {\n        event.preventDefault();\n\n        const {\n          appState,\n          formName,\n          actionPath,\n          clickHandler,\n        } = this.options;\n\n        if (clickHandler) {\n          clickHandler();\n        } else if (formName) {\n          appState.trigger('switchForm', formName);\n        } else if (actionPath) {\n          appState.trigger('invokeAction', actionPath);\n        }\n      });\n    }\n  }\n});\n","import { View, loc, internal } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\nconst { Notification } = internal.views.components;\nconst { Clipboard } = internal.util;\n\nexport default View.extend({\n  template: hbs`\n    <div>{{i18n code=\"enroll.explanation.mdm\" bundle=\"login\"}}</div>\n    <ol>\n      <li>\n        {{i18n code=\"enroll.mdm.step.copyLink\" bundle=\"login\"}}\n        <a data-clipboard-text=\"{{enrollmentLink}}\" class=\"button link-button copy-clipboard-button\">\n          {{i18n code=\"enroll.mdm.copyLink\" bundle=\"login\"}}\n        </a>\n      </li>\n      <li>{{i18n code=\"enroll.mdm.step.pasteLink\" bundle=\"login\"}}</li>\n      <li>{{i18n code=\"enroll.mdm.step.followInstructions\" bundle=\"login\" \n      arguments=\"vendor\" $1=\"<span class='semi-strong'>$1</span>\"}}</li>\n      <li>{{i18n code=\"enroll.mdm.step.relogin\" bundle=\"login\"}}</li>\n    </ol>\n  `,\n\n  getTemplateData() {\n    return this.options.appState.get('deviceEnrollment');\n  },\n\n  postRender: function() {\n    // Attach each button to the respective 'data-clipboard-text'\n    Clipboard.attach('.copy-clipboard-button').done(() => {\n      let notification = new Notification({\n        message: loc('enroll.mdm.copyLink.success', 'login'),\n        level: 'success',\n      });\n      this.el.prepend(notification.render().el);\n      return false;\n    });\n  },\n});\n","import { View, loc, internal } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport Enums from 'util/Enums';\n\nconst { Notification } = internal.views.components;\nconst { Clipboard } = internal.util;\n\nconst getDeviceEnrollmentContext = (deviceEnrollment) => {\n  const platform = (deviceEnrollment.platform || '').toLowerCase();\n  const challengeMethod = deviceEnrollment.challengeMethod;\n  const enrollmentType = deviceEnrollment.name;\n  const isIOS = platform === Enums.IOS;\n  const isAndroidAppLink = platform === Enums.ANDROID && challengeMethod === 'APP_LINK';\n  const isAndroidLoopback = platform === Enums.ANDROID && challengeMethod === 'LOOPBACK';\n  return {\n    signInUrl: deviceEnrollment.signInUrl,\n    isIOS,\n    enrollmentType,\n    isAndroidLoopback,\n    isAndroidAppLink,\n    appStoreLink: isIOS ? Enums.OKTA_VERIFY_APPLE_APP_STORE_URL : Enums.OKTA_VERIFY_GOOGLE_PLAY_STORE_URL,\n    orgName: deviceEnrollment.orgName\n  };\n};\n\nconst BaseOdaOktaVerifyTerminalView = View.extend({\n  getTemplateData() {\n    const deviceEnrollment = this.options.appState.get('deviceEnrollment');\n    return getDeviceEnrollmentContext(deviceEnrollment);\n  },\n});\n\nconst IosAndAndroidLoopbackOdaTerminalView =  BaseOdaOktaVerifyTerminalView.extend({\n  template: hbs`\n    <p class=\"explanation\" data-se=\"subheader\">\n      {{i18n code=\"enroll.explanation.p1\" bundle=\"login\"}}\n    </p>\n    <ol>\n      {{#if isIOS}}\n      <li>\n        {{i18n code=\"enroll.mdm.step.copyLink\" bundle=\"login\"}}\n        <a data-clipboard-text=\"{{appStoreLink}}\" class=\"button link-button copy-clipboard-button\">\n          {{i18n code=\"enroll.mdm.copyLink\" bundle=\"login\"}}\n        </a>\n      </li>\n      <li>{{i18n code=\"enroll.mdm.step.pasteLink\" bundle=\"login\"}}</li>\n      <li>{{i18n code=\"enroll.oda.step3\" bundle=\"login\"}}</li>\n      {{/if}}\n      {{#if isAndroidLoopback}}\n      <li>{{i18n code=\"enroll.oda.android.step1\" bundle=\"login\"}}</li>\n      {{/if}}\n      <li>{{i18n code=\"enroll.oda.step1\" bundle=\"login\"}}</li>\n      <li>\n        {{i18n code=\"enroll.oda.step2\" bundle=\"login\"}}\n        <p class=\"org-signin-link\">\n          <span class=\"no-translate\">\n          {{signInUrl}}\n          </span>\n        </p>\n        <a data-clipboard-text=\"{{signInUrl}}\" class=\"button link-button copy-org-clipboard-button\">\n          {{i18n code=\"enroll.oda.org.copyLink\" bundle=\"login\"}}\n        </a>\n      </li>\n      <li>{{i18n code=\"enroll.oda.step6\" bundle=\"login\"}}</li>\n    </ol>\n  `,\n\n  postRender: function() {\n    // Attach each button to the respective 'data-clipboard-text'\n    Clipboard.attach('.copy-clipboard-button').done(() => {\n      let notification = new Notification({\n        message: loc('enroll.mdm.copyLink.success', 'login'),\n        level: 'success',\n      });\n      this.el.prepend(notification.render().el);\n      return false;\n    });\n    Clipboard.attach('.copy-org-clipboard-button').done(() => {\n      let notification = new Notification({\n        message: loc('enroll.oda.org.copyLink.success', 'login'),\n        level: 'success',\n      });\n      this.el.prepend(notification.render().el);\n      return false;\n    });\n  },\n});\n\nconst AndroidAppLinkWithAccountOdaTerminalView =  BaseOdaOktaVerifyTerminalView.extend({\n  template: hbs`\n    <p class=\"explanation\" data-se=\"subheader\">\n    {{i18n code=\"enroll.oda.with.account.explanation\" bundle=\"login\"}}\n    </p>\n    <p class=\"subtitle\">\n    {{i18n code=\"enroll.oda.with.account.subtitile1 \" bundle=\"login\"}}\n    </p>\n    <ul>\n      <li>{{i18n code=\"enroll.oda.with.account.step1\" bundle=\"login\"}}</li>\n      <li>{{i18n code=\"enroll.oda.with.account.step2\" bundle=\"login\"}}</li>\n      <li>{{i18n code=\"enroll.oda.with.account.step3\" bundle=\"login\"}}</li>\n    </ul>\n    <p class=\"subtitle\">\n    {{i18n code=\"enroll.oda.with.account.subtitile2 \" bundle=\"login\"}}\n    </p>\n    <ol>\n      <li>{{i18n code=\"enroll.oda.with.account.step4\" bundle=\"login\"}}</li>\n      <li>{{i18n code=\"enroll.oda.with.account.step5\" bundle=\"login\" arguments=\"signInUrl\"}}</li>\n      <li>{{i18n code=\"enroll.oda.with.account.step6\" bundle=\"login\"}}</li>\n      <li>{{i18n code=\"enroll.oda.with.account.step7\" bundle=\"login\"}}</li>\n    </ol>\n  `,\n});\n\nconst AndroidAppLinkWithoutAccountOdaTerminalView =  BaseOdaOktaVerifyTerminalView.extend({\n  template: hbs`\n    <p class=\"explanation\" data-se=\"subheader\">\n      {{i18n code=\"enroll.oda.without.account.explanation\" bundle=\"login\"}}\n    </p>\n    <ol>\n      <li>\n        {{{i18n code=\"enroll.oda.without.account.step1\" bundle=\"login\" arguments=\"appStoreLink\"}}}\n      </li>\n      <li>{{i18n code=\"enroll.oda.step1\" bundle=\"login\"}}</li>\n      <li>\n        {{i18n code=\"enroll.oda.step2\" bundle=\"login\"}}\n        <p class=\"org-signin-link\">\n          <span class=\"no-translate\">\n          {{signInUrl}}\n          </span>\n        </p>\n        <a data-clipboard-text=\"{{signInUrl}}\" class=\"button link-button copy-org-clipboard-button\">\n          {{i18n code=\"enroll.oda.org.copyLink\" bundle=\"login\"}}\n        </a>\n      </li>\n      <li>{{i18n code=\"enroll.oda.without.account.step4\" bundle=\"login\"}}</li>\n    </ol>\n  `,\n\n  postRender: function() {\n    // Attach each button to the respective 'data-clipboard-text'\n    Clipboard.attach('.copy-org-clipboard-button').done(() => {\n      let notification = new Notification({\n        message: loc('enroll.oda.org.copyLink.success', 'login'),\n        level: 'success',\n      });\n      this.el.prepend(notification.render().el);\n      return false;\n    });\n  },\n});\n\nexport {\n  IosAndAndroidLoopbackOdaTerminalView,\n  AndroidAppLinkWithAccountOdaTerminalView,\n  AndroidAppLinkWithoutAccountOdaTerminalView,\n  getDeviceEnrollmentContext,\n};\n","import { BaseHeader } from '../internals';\nimport { AUTHENTICATOR_KEY } from '../../ion/RemediationConstants';\nimport { BaseAuthenticatorBeacon } from './BaseAuthenticatorView';\n\nexport default BaseHeader.extend({\n  HeaderBeacon: BaseAuthenticatorBeacon.extend({\n    authenticatorKey: AUTHENTICATOR_KEY.OV,\n  })\n});\n","import { _, internal, loc } from 'okta';\nimport { doesI18NKeyExist } from 'v2/ion/i18nTransformer';\nimport hbs from 'handlebars-inline-precompile';\n\nconst CheckBox = internal.views.forms.inputs.CheckBox;\n\nexport default CheckBox.extend({\n  template: hbs`\n    <input type=\"checkbox\" name=\"{{name}}\" id=\"{{inputId}}\"/>\n    <label for=\"{{inputId}}\" data-se-for-name=\"{{name}}\"><b>{{placeholder}}</b><p>{{desc}}</p></label>\n  `,\n\n  getLocalizedLabel: function() {\n    const key = `consent.scopes.${this.options.options.scopeName}.label`;\n    return doesI18NKeyExist(key) ? loc(key, 'login') : (this.options.placeholder || this.options.options.scopeName);\n  },\n\n  getLocalizedDesc: function() {\n    const key = `consent.scopes.${this.options.options.scopeName}.desc`;\n    return doesI18NKeyExist(key) ? loc(key, 'login') : this.options.options.desc;\n  },\n\n  isCustomizedScope: function() {\n    return !doesI18NKeyExist(`consent.scopes.${this.options.options.scopeName}.label`);\n  },\n\n  /**\n   * @Override\n   */\n  enable: function() {\n    if (this.options.options.mutable) {\n      this.$(':input').prop('disabled', false);\n    }\n  },\n\n  /**\n   * @Override\n   */\n  editMode: function() {\n\n    this.$el.html(this.template(_.extend(_.omit(this.options, 'placeholder'), {\n      placeholder: this.getLocalizedLabel(),\n      desc: this.getLocalizedDesc()\n    })));\n\n    this.$(':checkbox').prop('checked', this.getModelValue() || false);\n\n    this.$('input').customInput();\n    this.model.trigger('form:resize');\n\n\n    if (!this.options.options.mutable) {\n      const input = this.$('input').get(0);\n      this.$(input.parentElement).addClass('o-form-read-mode');\n      this.$(':checkbox').prop('disabled', true);\n    }\n\n    if (this.options.options.scopeName === 'openid' || this.isCustomizedScope()) {\n      this.$('label > b').addClass('no-translate');\n      if (this.isCustomizedScope()) {\n        this.$('label > p').addClass('no-translate');\n      }\n    }\n\n    return this;\n  },\n\n});","import { createButton, loc } from 'okta';\nimport { FORMS as RemediationForms } from '../../ion/RemediationConstants';\n\nconst skipAll = createButton({\n  className: 'button-primary button skip-all',\n  title: function() {\n    return loc('oie.optional.authenticator.button.title', 'login');\n  },\n  click: function() {\n    this.options.appState.trigger('invokeAction', RemediationForms.SKIP);\n  }\n});\n\nexport default skipAll;","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View, $ } from 'okta';\nimport Link from './Link';\n\nexport default View.extend({\n  initialize() {\n    View.prototype.initialize.apply(this, arguments);\n    const textViewOptions = this.options.additionalOptions;\n    const linkName = this.options.name;\n    const linkOptions = Object.assign({}, this.options,\n      {\n        'type': 'link',\n        'aria-expanded': false,\n        'clickHandler': function() {\n          $(textViewOptions.selector).slideToggle(200, () => {\n            $(`.js-${linkName}`).attr('aria-expanded', $(textViewOptions.selector).is(':visible'));\n          });\n        }\n      });\n    this.add(Link, { options: linkOptions });\n    this.add(textViewOptions.view);\n  },\n\n  postRender() {\n    const textViewOptions = this.options.additionalOptions;\n    this.$(textViewOptions.selector).hide();\n  },\n});\n","import { View, _, $} from 'okta';\nimport Link from '../components/Link';\nimport ToggleTextLink from '../components/ToggleTextLink';\nimport { getSignOutLink } from '../utils/LinksUtil';\n\n/**\n * When `href` is present, the Link behaviors as normal link (anchor element).\n * When `actionPath` is present, the Link behaviors as link button\n *   on which user clicks, will trigger the action `actionPath`.\n * When `formName` is present, the link behaviors as link button\n *   on which user clicks, will submit a remediation form.\n *\n * @typedef {Object} Link\n * @property {string} label\n * @property {string} name\n * @property {string=} href\n * @property {string=} actionPath\n * @property {string=} formName\n */\n\n\nexport default View.extend({\n\n  className: 'auth-footer',\n\n  /**\n   * {Link[]} links\n   */\n  links: [],\n\n  /**\n   * View\n   * adds any view to the footer in footer info section\n   */ \n  footerInfo: null,\n\n  /**\n   * Boolean\n   * If false then 'Back to sign in' does not get added to the view\n   */\n  hasBackToSignInLink: true,\n\n  initialize() {\n    let links = _.resultCtx(this, 'links', this);\n    const footerInfo = _.resultCtx(this, 'footerInfo', this);\n    const hasBackToSignInLink = _.resultCtx(this, 'hasBackToSignInLink', this);\n\n    // safe check\n    // 1. avoid none array from override\n    // 2. ignore any none plain object arguments\n    if (!Array.isArray(links)) {\n      links = [];\n    } else {\n      links = links.filter(l => $.isPlainObject(l));\n    }\n\n    // add 'back to sign in' link if the form qualifies for it by default.\n    // Previously called cancel/Sign Out links\n    if (this.options.appState.shouldShowSignOutLinkInCurrentForm(\n      this.options.settings.get('features.hideSignOutLinkInMFA') ||\n      this.settings.get('features.mfaOnlyFlow')) && hasBackToSignInLink) {\n      links = links.concat(getSignOutLink(this.options.settings));\n    }\n\n    links.forEach(link => {\n      let LinkView = Link;\n      if (link.type === 'toggle-text-link') {\n        LinkView = ToggleTextLink;\n      }\n      this.add(LinkView, { options: link });\n    });\n\n    if (footerInfo) {\n      this.add(View.extend({\n        className: 'footer-info',\n      }));\n\n      this.add(footerInfo, '.footer-info');\n    }\n  }\n});\n","import polling from '../views/shared/polling';\nimport BaseForm from './BaseForm';\n\nexport default BaseForm.extend(Object.assign(\n  {\n    initialize() {\n      BaseForm.prototype.initialize.apply(this, arguments);\n      this.listenTo(this.options.appState, 'change:dynamicRefreshInterval', this.updateRefreshInterval);\n    },\n\n    updateRefreshInterval() {\n      if (this.polling) {\n        this.stopPolling();\n        this.startPolling(this.options.appState.get('dynamicRefreshInterval'));\n      }\n    },\n  },\n  polling,\n));\n","import { View, $ } from 'okta';\nimport Animations from 'util/Animations';\nimport Enums from 'util/Enums';\n\nexport default View.extend({\n  HeaderBeacon: null,\n\n  initialize() {\n    if (this.HeaderBeacon) {\n      this.add(this.HeaderBeacon);\n    }\n  },\n\n  postRender() {\n    const mainContentContainer = $(`#${Enums.WIDGET_CONTAINER_ID}`);\n\n    if (this.HeaderBeacon) {\n      mainContentContainer.removeClass('no-beacon');\n\n      // animate beacon\n      const beaconContainer = this.$el.find('[data-type=\"beacon-container\"]');\n      Animations.explode(beaconContainer);\n    } else {\n      mainContentContainer.addClass('no-beacon');\n    }\n  },\n});\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { _, Model } from 'okta';\n\nconst convertUiSchemaFieldToProp = (uiSchemaField) => {\n  const config = Object.assign(\n    {},\n    _.chain(uiSchemaField)\n      .pick('minLength', 'maxLength', 'required', 'value')\n      .defaults({ type: 'string', required: true })\n      .value()\n  );\n\n  if (uiSchemaField.modelType) {\n    config.type = uiSchemaField.modelType;\n  }\n\n  return { [uiSchemaField.name]: config };\n};\n\nconst createPropsAndLocals = function(\n  remediation = {},\n  optionUiSchemaConfig = {},\n  props = {},\n  local = {}) {\n\n  const uiSchemas = remediation.uiSchema || [];\n\n  uiSchemas.forEach(schema => {\n    if (Array.isArray(schema.optionsUiSchemas)) {\n      let optionUiSchemaIndex;\n      let optionUiSchemaValue = {};\n\n      if (Number(schema.value) >= 0) {\n        optionUiSchemaIndex = schema.value;\n      }\n      if (optionUiSchemaConfig[schema.name]) {\n        optionUiSchemaValue = { value: optionUiSchemaConfig[schema.name] };\n        optionUiSchemaIndex = Number(optionUiSchemaValue.value);\n      }\n\n      Object.assign(\n        local,\n        convertUiSchemaFieldToProp(Object.assign({}, schema, optionUiSchemaValue)));\n\n      if (optionUiSchemaIndex) {\n        createPropsAndLocals(\n          { uiSchema: schema.optionsUiSchemas[optionUiSchemaIndex] },\n          optionUiSchemaConfig,\n          props,\n          local,\n        );\n      }\n    } else {\n      Object.assign(props, convertUiSchemaFieldToProp(schema));\n    }\n  });\n};\n\nconst create = function(remediation = {}, optionUiSchemaConfig = {}) {\n  const props = {};\n  const local = {\n    // current remediation form name\n    formName: 'string',\n    // use full page redirect instead of AJAX\n    useRedirect: 'boolean',\n  };\n  createPropsAndLocals(\n    remediation,\n    optionUiSchemaConfig,\n    props,\n    local);\n\n  const BaseModel = Model.extend({\n    props,\n    local,\n  });\n\n  return BaseModel;\n};\n\nexport default {\n  create,\n};\n","import { $ } from 'okta';\nimport { BaseFormWithPolling } from '../internals';\nimport Logger from 'util/Logger';\nimport {\n  AUTHENTICATOR_CANCEL_ACTION,\n  AUTHENTICATION_CANCEL_REASONS,\n  CHALLENGE_TIMEOUT,\n} from '../utils/Constants';\nimport BrowserFeatures from 'util/BrowserFeatures';\nimport { doChallenge, cancelPollingWithParams } from '../utils/ChallengeViewUtil';\n\nconst request = (opts) => {\n  const ajaxOptions = Object.assign({\n    method: 'GET',\n    contentType: 'application/json',\n  }, opts);\n  return $.ajax(ajaxOptions);\n};\n\nconst Body = BaseFormWithPolling.extend({\n  noButtonBar: true,\n\n  className: 'ion-form device-challenge-poll',\n\n  events: {\n    'click #launch-ov': function(e) {\n      e.preventDefault();\n      this.doCustomURI();\n    }\n  },\n\n  pollingCancelAction: AUTHENTICATOR_CANCEL_ACTION,\n\n  initialize() {\n    BaseFormWithPolling.prototype.initialize.apply(this, arguments);\n    this.listenTo(this.model, 'error', this.onPollingFail);\n    this.doChallenge();\n    this.startPolling();\n  },\n\n  doChallenge() {\n    doChallenge(this);\n  },\n\n  onPollingFail() {\n    this.$('.spinner').hide();\n    this.stopPolling();\n  },\n\n  remove() {\n    BaseFormWithPolling.prototype.remove.apply(this, arguments);\n    this.stopProbing();\n    this.stopPolling();\n  },\n\n  getDeviceChallengePayload() {\n    throw new Error('getDeviceChallengePayload needs to be implemented');\n  },\n\n  doLoopback(deviceChallenge) {\n    let authenticatorDomainUrl = deviceChallenge.domain !== undefined ? deviceChallenge.domain : '';\n    let ports = deviceChallenge.ports !== undefined ? deviceChallenge.ports : [];\n    let challengeRequest = deviceChallenge.challengeRequest !== undefined ? deviceChallenge.challengeRequest : '';\n    let probeTimeoutMillis = deviceChallenge.probeTimeoutMillis !== undefined ?\n      deviceChallenge.probeTimeoutMillis : 100;\n    let currentPort;\n    let foundPort = false;\n    let ovFailed = false;\n    let countFailedPorts = 0;\n\n    const getAuthenticatorUrl = (path) => {\n      return `${authenticatorDomainUrl}:${currentPort}/${path}`;\n    };\n\n    const checkPort = () => {\n      return request({\n        url: getAuthenticatorUrl('probe'),\n        /*\n        OKTA-278573 in loopback server, SSL handshake sometimes takes more than 100ms and thus needs additional\n        timeout however, increasing timeout is a temporary solution since user will need to wait much longer in\n        worst case.\n        TODO: Android timeout is temporarily set to 3000ms and needs optimization post-Beta.\n        OKTA-365427 introduces probeTimeoutMillis; but we should also consider probeTimeoutMillisHTTPS for\n        customizing timeouts in the more costly Android and other (keyless) HTTPS scenarios.\n        */\n        timeout: BrowserFeatures.isAndroid() ? 3000 : probeTimeoutMillis\n      });\n    };\n\n    const onPortFound = () => {\n      return request({\n        url: getAuthenticatorUrl('challenge'),\n        method: 'POST',\n        data: JSON.stringify({ challengeRequest }),\n        timeout: CHALLENGE_TIMEOUT // authenticator should respond within 5 min (300000ms) for challenge request\n      });\n    };\n\n    const onFailure = () => {\n      Logger.error(`Something unexpected happened while we were checking port ${currentPort}.`);\n    };\n\n    const doProbing = () => {\n      return checkPort()\n        .done(() => {\n          return onPortFound()\n            .done(() => {\n              foundPort = true;\n              // once the OV challenge succeeds,\n              // triggers another polling right away without waiting for the next ongoing polling to be triggered\n              // to make the authentication flow goes faster \n              return this.trigger('save', this.model);\n            })\n            .fail((xhr) => {\n              countFailedPorts++;\n              // Windows and MacOS return status code 503 when \n              // there are multiple profiles on the device and\n              // the wrong OS profile responds to the challenge request\n              if (xhr.status !== 503) {\n                // when challenge responds with other errors,\n                // - stop the remaining probing\n                ovFailed = true;\n                // - cancel polling right away\n                cancelPollingWithParams(\n                  this.options.appState,\n                  this.pollingCancelAction,\n                  AUTHENTICATION_CANCEL_REASONS.OV_ERROR,\n                  xhr.status\n                );\n              } else if (countFailedPorts === ports.length) {\n                // when challenge is responded by the wrong OS profile and\n                // all the ports are exhausted,\n                // cancel the polling like the probing has failed\n                cancelPollingWithParams(\n                  this.options.appState,\n                  this.pollingCancelAction,\n                  AUTHENTICATION_CANCEL_REASONS.LOOPBACK_FAILURE,\n                  null\n                );\n              }\n            });\n        })\n        .fail(onFailure);\n    };\n\n    let probeChain = Promise.resolve();\n    ports.forEach(port => {\n      probeChain = probeChain\n        .then(() => {\n          if (!(foundPort || ovFailed)) {\n            currentPort = port;\n            return doProbing();\n          }\n        })\n        .catch(() => {\n          countFailedPorts++;\n          Logger.error(`Authenticator is not listening on port ${currentPort}.`);\n          if (countFailedPorts === ports.length) {\n            Logger.error('No available ports. Loopback server failed and polling is cancelled.');\n            cancelPollingWithParams(\n              this.options.appState,\n              this.pollingCancelAction,\n              AUTHENTICATION_CANCEL_REASONS.LOOPBACK_FAILURE,\n              null\n            );\n          }\n        });\n    });\n  },\n\n  doCustomURI() {\n    this.ulDom && this.ulDom.remove();\n    this.ulDom = this.add(`\n      <iframe src=\"${this.customURI}\" id=\"custom-uri-container\" style=\"display:none;\"></iframe>\n    `).last();\n  },\n\n  stopProbing() {\n    this.checkPortXhr && this.checkPortXhr.abort();\n    this.probingXhr && this.probingXhr.abort();\n  },\n});\n\nexport default Body;\n","import { _, View } from 'okta';\nimport BaseHeader from './BaseHeader';\nimport BaseForm from './BaseForm';\nimport BaseModel from './BaseModel';\nimport BaseFooter from './BaseFooter';\nimport hbs from 'handlebars-inline-precompile';\nimport {getClassNameMapping} from '../../ion/ViewClassNamesFactory';\n\nexport default View.extend({\n\n  Header: BaseHeader,\n\n  Body: BaseForm,\n\n  Footer: BaseFooter,\n\n  className() {\n    const appState = this.options.appState;\n\n    const formName = appState.get('currentFormName');\n    const authenticatorKey = appState.get('authenticatorKey');\n    const methodType = appState.get('authenticatorMethodType');\n    const isPasswordRecoveryFlow = appState.get('isPasswordRecoveryFlow');\n\n    const additionalClassNames = getClassNameMapping(\n      formName,\n      authenticatorKey,\n      methodType,\n      isPasswordRecoveryFlow,\n    );\n\n    const classNames = ['siw-main-view'].concat(additionalClassNames);\n    return classNames.join(' ');\n  },\n\n  template: hbs`\n    <div class=\"siw-main-header\"></div>\n    <div class=\"siw-main-body\"></div>\n    <div class=\"siw-main-footer\"></div>\n  `,\n\n  preRender() {\n    View.prototype.preRender.apply(this, arguments);\n    // Add Views\n    if (this.Header !== null) {\n      this.add(this.Header, {\n        selector: '.siw-main-header',\n        options: this.options,\n      });\n    }\n    this.renderForm();\n    this.add(this.Footer, {\n      selector : '.siw-main-footer',\n      options: this.options,\n    });\n  },\n\n  renderForm() {\n    let optionUiSchemaConfig;\n\n    if (this.form) {\n      this.form.remove();\n      optionUiSchemaConfig = this.form.model.toJSON({verbose: true});\n    }\n\n    // Create Model\n    const IonModel = this.createModelClass(\n      this.options.currentViewState,\n      optionUiSchemaConfig,\n      this.settings,\n    );\n\n    const model = new IonModel ({\n      formName: this.options.currentViewState.name,\n    });\n\n    if (!optionUiSchemaConfig) {\n      optionUiSchemaConfig = model.toJSON({verbose: true});\n    }\n\n    this.model = model;\n    this.form = this.add(this.Body, {\n      selector : '.siw-main-body',\n      options: Object.assign(\n        {},\n        this.options,\n        {\n          model,\n          optionUiSchemaConfig,\n        },\n      ),\n    }).last();\n\n    _.each(model.attributes, (value, key) => {\n      if (key.match(/sub_schema_local_[^ ]+/)) {\n        // in order to render different sub-schema\n        this.listenTo(model, `change:${key}`, () => {\n          this.renderForm();\n        });\n      }\n    });\n  },\n\n  createModelClass(currentViewState, optionUiSchemaConfig = {}) {\n    return BaseModel.create(currentViewState, optionUiSchemaConfig);\n  },\n\n});\n","export { default as BaseHeader } from './BaseHeader';\nexport { default as BaseFooter } from './BaseFooter';\nexport { default as BaseForm } from './BaseForm';\nexport { default as BaseFormWithPolling } from './BaseFormWithPolling';\nexport { default as BaseOktaVerifyChallengeView } from './BaseOktaVerifyChallengeView';\nexport { default as BaseModel } from './BaseModel';\nexport { default as BaseView } from './BaseView';\nexport { addCustomButton, createCustomButtons, createIdpButtons } from './FormInputFactory';\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { loc, _ } from 'okta';\nimport FactorUtil from 'util/FactorUtil';\nimport { AUTHENTICATOR_KEY } from '../../ion/RemediationConstants';\n\nconst { getPasswordComplexityDescriptionForHtmlList } = FactorUtil;\n\nconst getButtonDataSeAttr = function(authenticator) {\n  if (authenticator.authenticatorKey) {\n    const method = authenticator.value?.methodType ?\n      '-' + authenticator.value?.methodType : '';\n    return authenticator.authenticatorKey + method;\n  }\n  return '';\n};\n\n/* eslint complexity: [0, 0] */\nconst getAuthenticatorData = function(authenticator, isVerifyAuthenticator) {\n  const authenticatorKey = authenticator.authenticatorKey;\n  const key = _.isString(authenticatorKey) ? authenticatorKey.toLowerCase() : '';\n  let authenticatorData = {};\n  switch (key) {\n  case AUTHENTICATOR_KEY.EMAIL:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.email.authenticator.description', 'login'),\n      iconClassName: 'mfa-okta-email',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.PASSWORD:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.password.authenticator.description', 'login'),\n      iconClassName: 'mfa-okta-password',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.PHONE:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? authenticator.relatesTo?.profile?.phoneNumber\n        : loc('oie.phone.authenticator.description', 'login'),\n      iconClassName: 'mfa-okta-phone',\n      noTranslateClassName: isVerifyAuthenticator ? 'no-translate' : '',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.SECURITY_QUESTION:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.security.question.authenticator.description', 'login'),\n      iconClassName: 'mfa-okta-security-question',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.WEBAUTHN:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.webauthn.description', 'login'),\n      iconClassName: 'mfa-webauthn',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.OV:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? loc('oie.okta_verify.label', 'login')\n        : loc('oie.okta_verify.authenticator.description', 'login'),\n      iconClassName: 'mfa-okta-verify',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.GOOGLE_OTP:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.google_authenticator.authenticator.description', 'login'),\n      iconClassName: 'mfa-google-auth',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.ON_PREM: {\n    const vendorName =  authenticator.relatesTo?.displayName ||\n      loc('oie.on_prem.authenticator.default.vendorName', 'login');\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.on_prem.authenticator.description', 'login', [vendorName]),\n      iconClassName: 'mfa-onprem',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n    });\n    break;\n  }\n\n  case AUTHENTICATOR_KEY.RSA:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.rsa.authenticator.description', 'login'),\n      iconClassName: 'mfa-rsa',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.DUO:\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.duo.authenticator.description', 'login'),\n      iconClassName: 'mfa-duo',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n    });\n    break;\n\n  case AUTHENTICATOR_KEY.IDP: {\n    const idpName =  authenticator.relatesTo?.displayName;\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.idp.authenticator.description', 'login', [idpName]),\n      iconClassName: 'mfa-custom-factor',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n    });\n    break;\n  }\n  case AUTHENTICATOR_KEY.CUSTOM_OTP: {\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.custom_otp.description', 'login'),\n      iconClassName: 'mfa-hotp',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n    });\n    break;\n  }\n\n  case AUTHENTICATOR_KEY.SYMANTEC_VIP: {\n    const appName =  authenticator.relatesTo?.displayName;\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.symantecVip.authenticator.description', 'login', [appName]),\n      iconClassName: 'mfa-symantec',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n    });\n    break;\n  }\n\n  case AUTHENTICATOR_KEY.YUBIKEY: {\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? ''\n        : loc('oie.yubikey.authenticator.description', 'login'),\n      iconClassName: 'mfa-yubikey',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n    });\n    break;\n  }\n\n  case AUTHENTICATOR_KEY.CUSTOM_APP: {\n    Object.assign(authenticatorData, {\n      description: isVerifyAuthenticator\n        ? authenticator?.relatesTo?.displayName\n        : loc('oie.custom.app.authenticator.description', 'login', [authenticator.label]),\n      noTranslateClassName: isVerifyAuthenticator ? 'no-translate' : '',\n      buttonDataSeAttr: getButtonDataSeAttr(authenticator),\n      iconClassName: 'mfa-custom-app-logo',\n      logoUri : authenticator?.relatesTo?.logoUri || ''\n    });\n    break;\n  }\n\n  }\n  return authenticatorData;\n};\n\nexport function getAuthenticatorDataForEnroll(authenticator) {\n  return getAuthenticatorData(authenticator);\n}\n\nexport function getAuthenticatorDataForVerification(authenticator) {\n  return getAuthenticatorData(authenticator, true);\n}\n\nexport function getIconClassNameForBeacon(authenticatorKey) {\n  return getAuthenticatorData({ authenticatorKey }).iconClassName;\n}\n\nexport function removeRequirementsFromError(errorJSON) {\n  if (errorJSON.errorCauses?.length > 0\n    && Array.isArray(errorJSON.errorCauses[0].errorSummary)\n    && errorJSON.errorCauses[0].errorSummary.length > 0) {\n    // Change from Array to string for all errors.\n    errorJSON.errorCauses[0].errorSummary = errorJSON.errorCauses[0].errorSummary[0];\n\n    // Overrides for particular error messages.\n    const errorKey = errorJSON.errorCauses[0].errorKey?.length > 0 && errorJSON.errorCauses[0].errorKey[0];\n    // Remove the requirements string only if this is requirements were not met error.\n    if (errorKey === 'password.passwordRequirementsNotMet') {\n      errorJSON.errorCauses[0].errorSummary = loc('registration.error.password.passwordRequirementsNotMet', 'login');\n    }\n  }\n  return errorJSON;\n}\n\n/**\n * Get authenticator display name from {@code remediation}.\n *\n * @param {Object} remediation\n */\nexport function getAuthenticatorDisplayName(remediation) {\n  return remediation.relatesTo?.value?.displayName;\n}\n\n// Re-export function from FactorUtil\nexport { getPasswordComplexityDescriptionForHtmlList };\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { loc, View, createButton, _ } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport Enums from 'util/Enums';\nimport Util from 'util/Util';\nimport {\n  FASTPASS_FALLBACK_SPINNER_TIMEOUT,\n  IDENTIFIER_FLOW,\n  LOOPBACK_RESPONSE_STATUS_CODE,\n  OV_UV_ENABLE_BIOMETRICS_FASTPASS_DESKTOP, \n  OV_UV_ENABLE_BIOMETRICS_FASTPASS_MOBILE,\n  REQUEST_PARAM_AUTHENTICATION_CANCEL_REASON,\n} from '../utils/Constants';\n\nexport function appendLoginHint(deviceChallengeUrl, loginHint) {\n  if (deviceChallengeUrl && loginHint) {\n    deviceChallengeUrl += '&login_hint=' + loginHint;\n  }\n\n  return deviceChallengeUrl;\n}\n\nexport function doChallenge(view, fromView) {\n  const deviceChallenge = view.getDeviceChallengePayload();\n  const loginHint = view.options?.settings?.get('identifier');\n  const HIDE_CLASS = 'hide';\n  switch (deviceChallenge.challengeMethod) {\n  case Enums.LOOPBACK_CHALLENGE:\n    view.title = loc('deviceTrust.sso.redirectText', 'login');\n    view.add(View.extend({\n      className: 'loopback-content',\n      template: hbs`<div class=\"spinner\"></div>`\n    }));\n    view.doLoopback(deviceChallenge);\n    break;\n  case Enums.CUSTOM_URI_CHALLENGE:\n    view.title = loc('customUri.title', 'login');\n    view.add(View.extend({\n      className: 'skinny-content',\n      template: hbs`\n            <p>\n              {{i18n code=\"customUri.required.content.prompt\" bundle=\"login\"}}\n            </p>\n          `,\n    }));\n    view.add(createButton({\n      className: 'ul-button button button-wide button-primary',\n      title: loc('oktaVerify.open.button', 'login'),\n      id: 'launch-ov',\n      click: () => {\n        view.doCustomURI();\n      }\n    }));\n    view.add(View.extend({\n      className: 'skinny-content',\n      template: hbs`\n          <p>\n            {{i18n code=\"customUri.required.content.download.title\" bundle=\"login\"}}\n          </p>\n          <p>\n            <a href=\"{{downloadOVLink}}\" target=\"_blank\" id=\"download-ov\" class=\"link\">\n              {{i18n code=\"customUri.required.content.download.linkText\" bundle=\"login\"}}\n            </a>\n          </p>\n          `,\n      getTemplateData() {\n        return {\n          downloadOVLink: deviceChallenge.downloadHref\n        };\n      },\n    }));\n    view.customURI = appendLoginHint(deviceChallenge.href, loginHint);\n    view.doCustomURI();\n    break;\n  case Enums.UNIVERSAL_LINK_CHALLENGE:\n    view.title = loc('universalLink.title', 'login');\n    view.add(View.extend({\n      className: 'universal-link-content',\n      template: hbs`\n            <div class=\"spinner\"></div>\n            {{i18n code=\"universalLink.content\" bundle=\"login\"}}\n          `\n    }));\n    view.add(createButton({\n      className: 'ul-button button button-wide button-primary',\n      title: loc('oktaVerify.open.button', 'login'),\n      click: () => {\n        // only window.location.href can open universal link in iOS/MacOS\n        // other methods won't do, ex, AJAX get or form get (Util.redirectWithFormGet)\n        let deviceChallengeUrl = appendLoginHint(deviceChallenge.href, loginHint);\n        Util.redirect(deviceChallengeUrl);\n      }\n    }));\n    break;\n  case Enums.APP_LINK_CHALLENGE:\n    view.title = loc('appLink.title', 'login');\n    view.add(View.extend({\n      className: 'app-link-content',\n      template: hbs`\n        <div class=\"spinner {{hideClass}}\"></div>\n        <div class=\"appLinkContent {{hideClass}}\">{{i18n code=\"appLink.content\" bundle=\"login\"}}</div>\n      `,\n      getTemplateData() {\n        return { hideClass: HIDE_CLASS };\n      },\n      postRender() {\n        if (fromView === IDENTIFIER_FLOW) {\n          this.$('.spinner').removeClass(HIDE_CLASS);\n          setTimeout(_.bind(()=> {\n            const data = { label: loc('goback', 'login') };\n            this.options.appState.trigger('updateFooterLink', data);\n            this.$('.spinner').addClass(HIDE_CLASS);\n            this.$('.appLinkContent').removeClass(HIDE_CLASS);\n          }, this), FASTPASS_FALLBACK_SPINNER_TIMEOUT);\n        } else {\n          this.$('.appLinkContent').removeClass(HIDE_CLASS);\n        }\n      },\n    }));\n    view.add(createButton({\n      className: `${HIDE_CLASS} al-button button button-wide button-primary`,\n      title: loc('oktaVerify.open.button', 'login'),\n      click: () => {\n        // only window.location.href can open app link in Android\n        // other methods won't do, ex, AJAX get or form get (Util.redirectWithFormGet)\n        let deviceChallengeUrl = appendLoginHint(deviceChallenge.href, loginHint);\n        Util.redirect(deviceChallengeUrl, window, true);\n      },\n      postRender() {\n        if (fromView === IDENTIFIER_FLOW) {\n          setTimeout(_.bind(()=> {\n            this.$el.removeClass(HIDE_CLASS);\n          }, this), FASTPASS_FALLBACK_SPINNER_TIMEOUT);\n        } else {\n          this.$el.removeClass(HIDE_CLASS);\n        }\n      }\n    }));\n    break;\n  }\n}\n\nexport function cancelPollingWithParams(appState, pollingCancelAction, cancelReason, statusCode) {\n  const actionParams = {};\n  actionParams[REQUEST_PARAM_AUTHENTICATION_CANCEL_REASON] = cancelReason;\n  actionParams[LOOPBACK_RESPONSE_STATUS_CODE] = statusCode;\n  appState.trigger('invokeAction', pollingCancelAction, actionParams);\n}\n\nexport function getBiometricsErrorOptions(error, isMessageObj) {\n  let errorSummaryKeys;\n  if (isMessageObj) {\n    errorSummaryKeys  = Object.values(error?.value[0]?.i18n);\n  } else {\n    errorSummaryKeys = error?.responseJSON?.errorSummaryKeys;\n  }\n\n  const isBiometricsRequiredMobile = errorSummaryKeys \n      && errorSummaryKeys.includes(OV_UV_ENABLE_BIOMETRICS_FASTPASS_MOBILE);\n  const isBiometricsRequiredDesktop = errorSummaryKeys \n      && errorSummaryKeys.includes(OV_UV_ENABLE_BIOMETRICS_FASTPASS_DESKTOP);\n  let options = [];\n\n  if (!isBiometricsRequiredMobile && !isBiometricsRequiredDesktop) {\n    return options;\n  }\n\n  const bulletPoints = [\n    loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point1', 'login'),\n    loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point2', 'login'),\n    loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point3', 'login')\n  ];\n\n  // Add an additional bullet point for desktop devices\n  if (isBiometricsRequiredDesktop) {\n    bulletPoints.push(\n      loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.point4', 'login')\n    );\n  }\n\n  options = {\n    type: 'error',\n    className: 'okta-verify-uv-callout-content',\n    title: loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.title', 'login'),\n    subtitle: loc('oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.description', 'login'),\n    bullets: bulletPoints,\n  };\n\n  return options;\n}\n","export const SHOW_RESEND_TIMEOUT = 30000;\nexport const WARNING_TIMEOUT = 30000;\nexport const CHALLENGE_TIMEOUT = 300000;\nexport const MS_PER_SEC = 1000;\nexport const UNIVERSAL_LINK_POST_DELAY = 500;\nexport const CANCEL_POLLING_ACTION = 'authenticatorChallenge-cancel';\nexport const AUTHENTICATOR_CANCEL_ACTION = 'currentAuthenticator-cancel';\nexport const WIDGET_FOOTER_CLASS = 'siw-main-footer';\nexport const FASTPASS_FALLBACK_SPINNER_TIMEOUT = 4000;\nexport const IDENTIFIER_FLOW = 'IDENTIFIER';\nexport const OV_UV_ENABLE_BIOMETRICS_FASTPASS_DESKTOP \n  = 'oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.desktop';\nexport const OV_UV_ENABLE_BIOMETRICS_FASTPASS_MOBILE \n  = 'oie.authenticator.oktaverify.method.fastpass.verify.enable.biometrics.mobile';\nexport const AUTHENTICATOR_ALLOWED_FOR_OPTIONS = {\n  ANY: 'any',\n  SSO: 'sso',\n  RECOVERY: 'recovery',\n};\nexport const REQUEST_PARAM_AUTHENTICATION_CANCEL_REASON = 'reason';\nexport const LOOPBACK_RESPONSE_STATUS_CODE = 'statusCode';\nexport const AUTHENTICATION_CANCEL_REASONS = {\n  LOOPBACK_FAILURE: 'OV_UNREACHABLE_BY_LOOPBACK',\n  OV_ERROR: 'OV_RETURNED_ERROR',\n  USER_CANCELED: 'USER_CANCELED',\n};\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n// TODO: Use AuthJS for device fingerprinting: OKTA-418160\nimport { $ } from 'okta';\n\nfunction getUserAgent() {\n  return navigator.userAgent;\n}\n\nfunction isWindowsPhone(userAgent) {\n  return userAgent.match(/windows phone|iemobile|wpdesktop/i);\n}\n\nexport default {\n  isMessageFromCorrectSource($iframe, event) {\n    return event.source === $iframe[0].contentWindow;\n  },\n\n  // NOTE: This utility is similar to the DeviceFingerprint.js file used for V1 authentication flows.\n  generateDeviceFingerprint(fingerprintData) {\n    return new Promise((resolve, reject) => {\n      const userAgent = getUserAgent();\n      if (!userAgent) {\n        return reject('user agent is not defined');\n      } else if (isWindowsPhone(userAgent)) {\n        return reject('device fingerprint is not supported on Windows phones');\n      }\n\n      let $iframe;\n      let iFrameTimeout;\n      const self = this; // Needed for mocking\n\n      function removeIframe() {\n        $iframe.off();\n        $iframe.remove();\n        window.removeEventListener('message', onMessageReceivedFromOkta, false);\n      }\n\n      function handleError(reason) {\n        removeIframe();\n        reject(reason);\n      }\n\n      function onMessageReceivedFromOkta(event) {\n        if (!self.isMessageFromCorrectSource($iframe, event)) {\n          return;\n        }\n        // deviceFingerprint service is available, clear timeout\n        clearTimeout(iFrameTimeout);\n        if (!event || !event.data || event.origin !== fingerprintData.oktaDomainUrl) {\n          handleError('no data');\n          return;\n        }\n        try {\n          const message = JSON.parse(event.data);\n\n          if (message && message.type === 'FingerprintServiceReady') {\n            sendMessageToOkta({\n              type: 'GetFingerprint',\n            });\n          } else if (message && message.type === 'FingerprintAvailable') {\n            removeIframe();\n            resolve(message.fingerprint);\n          } else {\n            handleError('no data');\n          }\n        } catch (error) {\n          //Ignore any errors since we could get other messages too\n        }\n      }\n\n      function sendMessageToOkta(message) {\n        const win = $iframe[0].contentWindow;\n\n        if (win) {\n          win.postMessage(JSON.stringify(message), fingerprintData.oktaDomainUrl);\n        }\n      }\n\n      // Attach listener\n      window.addEventListener('message', onMessageReceivedFromOkta, false);\n      // Create and Load devicefingerprint page inside the iframe\n      $iframe = $('<iframe>', {\n        style: 'display: none;',\n        src: fingerprintData.oktaDomainUrl + '/auth/services/devicefingerprint',\n      });\n      fingerprintData.element.append($iframe);\n\n      iFrameTimeout = setTimeout(() => {\n        // If the iFrame does not load or there is a slow connection, throw an error\n        handleError('service not available');\n      }, 2000);\n    });\n  }\n};\n","import { loc, _ } from 'okta';\nimport { ACTIONS, FORMS as RemediationForms } from '../../ion/RemediationConstants';\n\nconst { ENROLLED_PASSWORD_RECOVERY_LINK, ORG_PASSWORD_RECOVERY_LINK } = ACTIONS;\n\nconst getSwitchAuthenticatorLink = (appState) => {\n  if (appState.getRemediationAuthenticationOptions(RemediationForms.SELECT_AUTHENTICATOR_AUTHENTICATE).length > 1) {\n    return [\n      {\n        'type': 'link',\n        'label': loc('oie.verification.switch.authenticator', 'login'),\n        'name': 'switchAuthenticator',\n        'formName': RemediationForms.SELECT_AUTHENTICATOR_AUTHENTICATE,\n      }\n    ];\n  }\n\n  if (appState.getRemediationAuthenticationOptions(RemediationForms.SELECT_AUTHENTICATOR_ENROLL).length >= 1) {\n    return [\n      {\n        'type': 'link',\n        'label': loc('oie.enroll.switch.authenticator', 'login'),\n        'name': 'switchAuthenticator',\n        'formName': RemediationForms.SELECT_AUTHENTICATOR_ENROLL,\n      }\n    ];\n  }\n\n  return [];\n};\n\nconst getForgotPasswordLink = (appState, settings) => {\n  const forgotPasswordLink = {\n    'type': 'link',\n    'label': loc('forgotpassword', 'login'),\n    'name': 'forgot-password',\n  };\n\n  const customForgotPasswordHref = settings.get('helpLinks.forgotPassword');\n\n  if (customForgotPasswordHref) {\n    return [\n      Object.assign({}, {\n        'href': customForgotPasswordHref,\n        'label': loc('forgotpassword', 'login'),\n        'name': 'forgot-password',\n      }),\n    ];\n  }\n\n  // at identify page when only Org Authenticator Password may be available\n  else if (appState.getActionByPath(ORG_PASSWORD_RECOVERY_LINK)) {\n    return [\n      Object.assign({}, forgotPasswordLink, { actionPath: ORG_PASSWORD_RECOVERY_LINK })\n    ];\n  }\n\n  // at password verify page\n  else if (appState.getActionByPath(ENROLLED_PASSWORD_RECOVERY_LINK)) {\n    return [\n      Object.assign({}, forgotPasswordLink, { actionPath: ENROLLED_PASSWORD_RECOVERY_LINK })\n    ];\n  }\n\n  return [];\n};\n\nconst goBackLink = (appState) => {\n  if (appState.hasRemediationObject(RemediationForms.SELECT_AUTHENTICATOR_ENROLL)) {\n    return [\n      {\n        'type': 'link',\n        'label': loc('oie.go.back', 'login'),\n        'name': 'go-back',\n        'formName': RemediationForms.SELECT_AUTHENTICATOR_ENROLL,\n      }\n    ];\n  }\n\n  return [];\n};\n\nconst getSkipSetupLink = (appState, linkName) => {\n  if (appState.hasRemediationObject(RemediationForms.SKIP)) {\n    return [\n      {\n        'type': 'link',\n        'label': linkName ?? loc('oie.enroll.skip.setup', 'login'),\n        'name': 'skip-setup',\n        'actionPath': RemediationForms.SKIP,\n      }\n    ];\n  }\n\n  return [];\n};\n\n// When there is a 'cancel' object in remediation\nconst getSignOutLink = (settings, options = {}) => {\n  if (settings?.get('backToSignInUri')) {\n    return [\n      {\n        'label': loc('goback', 'login'),\n        'name': 'cancel',\n        'href': settings.get('backToSignInUri')\n      },\n    ];\n  }\n\n  return [\n    {\n      'actionPath': 'cancel',\n      'label': !options.label ? loc('goback', 'login') : options.label,\n      'name': 'cancel',\n      'type': 'link'\n    },\n  ];\n};\n\n// Use it to create a widget configured link in the absence of `cancel` object in remediation\nconst getBackToSignInLink = ({settings, appState}) => {\n  const link = {};\n\n  // If backToSignInLink is set, use this value for all scenarios\n  if (settings?.get('backToSignInUri')) {\n    link.href = settings.get('backToSignInUri');\n  }\n  // fallback for embedded scenarios\n  else if (settings?.get('oauth2Enabled')) {\n    link.clickHandler = () => {\n      appState.trigger('restartLoginFlow');\n    };\n  }\n  // fallback for okta-hosted scenarios (backend should set signOutLink or backToSignOutLink)\n  else {\n    link.href = settings?.get('baseUrl');\n  }\n\n  return [\n    {\n      'type': 'link',\n      'label': loc('goback', 'login'),\n      'name': 'go-back',\n      ...link\n    },\n  ];\n};\n\nconst getReloadPageButtonLink = () => {\n  return [\n    {\n      'type': 'link',\n      'label': loc('oie.try.again', 'login'),\n      'name': 'try-again',\n      'href': window.location,\n      'className': 'button button-primary text-align-c'\n    },\n  ];\n};\n\nconst getSignUpLink = (appState, settings) => {\n  const signupLink = [];\n\n  if (appState.hasRemediationObject(RemediationForms.SELECT_ENROLL_PROFILE)) {\n    const signupLinkData = {\n      'type': 'link',\n      'label': loc('oie.registration.form.title', 'login'),\n      'name': 'enroll'\n    };\n    if (_.isFunction(settings.get('registration.click'))) {\n      signupLinkData.clickHandler = settings.get('registration.click');\n    } else {\n      signupLinkData.actionPath = RemediationForms.SELECT_ENROLL_PROFILE;\n    }\n    signupLink.push(signupLinkData);\n  }\n\n  return signupLink;\n};\n\nconst getFactorPageCustomLink = (appState, settings) => {\n  const factorPageCustomLink = [];\n  const formsNeedFactorPageCustomLink = [\n    RemediationForms.CHALLENGE_AUTHENTICATOR,\n    RemediationForms.SELECT_AUTHENTICATOR_AUTHENTICATE,\n    RemediationForms.CHALLENGE_POLL,\n    RemediationForms.AUTHENTICATOR_VERIFICATION_DATA,\n  ];\n\n  if (!appState.get('isPasswordRecovery') && formsNeedFactorPageCustomLink.includes(appState.get('currentFormName'))) {\n    const helpLinksFactorPageLabel = settings.get('helpLinks.factorPage.text');\n    const helpLinksFactorPageHref = settings.get('helpLinks.factorPage.href');\n\n    if (helpLinksFactorPageLabel && helpLinksFactorPageHref) {\n      factorPageCustomLink.push({\n        type: 'link',\n        label: helpLinksFactorPageLabel,\n        name: 'factorPageHelpLink',\n        href: helpLinksFactorPageHref,\n        target: '_blank',\n      });\n    }\n  }\n  return factorPageCustomLink;\n};\n\nexport {\n  getSwitchAuthenticatorLink,\n  getForgotPasswordLink,\n  goBackLink,\n  getSignUpLink,\n  getSignOutLink,\n  getBackToSignInLink,\n  getSkipSetupLink,\n  getReloadPageButtonLink,\n  getFactorPageCustomLink,\n};\n","export default {\n  GMT: 'UTC',\n  WET: 'WET',\n  CET: 'CET',\n  MET: 'CET',\n  ECT: 'CET',\n  EET: 'EET',\n  MIT: 'Pacific/Apia',\n  HST: 'Pacific/Honolulu',\n  AST: 'America/Anchorage',\n  PST: 'America/Los_Angeles',\n  MST: 'America/Denver',\n  PNT: 'America/Phoenix',\n  CST: 'America/Chicago',\n  EST: 'America/New_York',\n  IET: 'America/Indiana/Indianapolis',\n  PRT: 'America/Puerto_Rico',\n  CNT: 'America/St_Johns',\n  AGT: 'America/Argentina/Buenos_Aires',\n  BET: 'America/Sao_Paulo',\n  ART: 'Africa/Cairo',\n  CAT: 'Africa/Harare',\n  EAT: 'Africa/Addis_Ababa',\n  NET: 'Asia/Yerevan',\n  PLT: 'Asia/Karachi',\n  IST: 'Asia/Kolkata',\n  BST: 'Asia/Dhaka',\n  VST: 'Asia/Ho_Chi_Minh',\n  CTT: 'Asia/Shanghai',\n  JST: 'Asia/Tokyo',\n  ACT: 'Australia/Darwin',\n  AET: 'Australia/Sydney',\n  SST: 'Pacific/Guadalcanal',\n  NST: 'Pacific/Auckland',\n};\n","import { _, loc, createCallout } from 'okta';\nimport { BaseForm, BaseView } from '../internals';\nimport { INTERSTITIAL_REDIRECT_VIEW } from '../../ion/RemediationConstants';\nimport CustomAccessDeniedErrorMessage from '../views/shared/CustomAccessDeniedErrorMessage';\n\nconst CUSTOM_ACCESS_DENIED_KEY = 'security.access_denied_custom_message';\nconst UNLOCK_USER_SUCCESS_MESSAGE = 'oie.selfservice.unlock_user.landing.to.app.success.message';\n\nconst Body = BaseForm.extend({\n  title() {\n    let titleString = loc('oie.success.text.signingIn', 'login');\n    // For more info on the API response available in appState, see IdxResponseBuilder.java\n    const app = this.options.appState.get('app');\n    const user = this.options.appState.get('user');\n\n    // If the option is not set, we treat that as being the case where we don't render the spinner.\n    // This is to account for the customer hosted scenario, because by default okta-core will pass in\n    // the correct value as set by the option in the Admin UI (which by default is \"DEFAULT\").\n    if (!this.redirectView || this.redirectView === INTERSTITIAL_REDIRECT_VIEW.NONE) {\n      titleString = loc('oie.success.text.signingIn.with.ellipsis', 'login');\n      return titleString;\n    }\n\n    if (_.isEmpty(app)) {\n      return titleString;\n    }\n\n    const { label: appInstanceName, name: appDisplayName } = app;\n    const { identifier: userEmail } = user || {};\n\n    const appName = appInstanceName ? appInstanceName : appDisplayName;\n\n    if (appName && userEmail && !this.settings.get('features.showIdentifier')) {\n      titleString = loc('oie.success.text.signingIn.with.appName.and.identifier', 'login', [appName, userEmail]);\n    } else if (appName) {\n      titleString = loc('oie.success.text.signingIn.with.appName', 'login', [appName]);\n    }\n\n    return titleString;\n  },\n  showMessages() {\n    if (this.isUnlockSuccess()) {\n      const container = '.o-form-error-container';\n      const text = loc('oie.selfservice.unlock_user.landing.to.app.signing.in.message', 'login');\n      this.add(`<div class=\"ion-messages-container\"><p>${text}</p></div>`, container);\n      return;\n    } else if (this.options.appState.containsMessageStartingWithI18nKey(CUSTOM_ACCESS_DENIED_KEY)) {\n      const { message, links } = this.options.appState.get('messages').value.find(\n        msg => msg.i18n.key === CUSTOM_ACCESS_DENIED_KEY);\n      this.add(createCallout({\n        type: 'error',\n        content: new CustomAccessDeniedErrorMessage({ message, links })\n      }));\n      return;\n    }\n    BaseForm.prototype.showMessages.call(this);\n  },\n  isUnlockSuccess() {\n    return this.options.appState.containsMessageWithI18nKey(UNLOCK_USER_SUCCESS_MESSAGE);\n  },\n  noButtonBar: true,\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.redirectView = this.settings.get('interstitialBeforeLoginRedirect');\n    this.model.set('useRedirect', true);\n    this.trigger('save', this.model);\n  },\n\n  render() {\n    BaseForm.prototype.render.apply(this, arguments);\n    if (this.redirectView === INTERSTITIAL_REDIRECT_VIEW.DEFAULT) {\n      this.add('<div class=\"okta-waiting-spinner\"></div>');\n    }\n  }\n});\n\nexport default BaseView.extend({\n  Body\n});\n","import { loc, View } from 'okta';\nimport { BaseFooter, BaseForm, BaseView } from '../internals';\nimport hbs from 'handlebars-inline-precompile';\nimport { getSkipSetupLink } from '../utils/LinksUtil';\n\nconst Body = BaseForm.extend({\n\n  className: 'profile-update',\n\n  title() {\n    return loc('oie.profile.additional.title', 'login');\n  },\n  \n  save() {\n    return loc('enroll.choices.submit.finish', 'login');\n  },\n\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    uiSchemas.forEach(input => {\n      if (input.name === 'userProfile.secondEmail') {\n        input.explain = View.extend({\n          template: hbs`{{{i18n\n            code=\"oie.profile.additional.secondemail.subtitle\"\n            bundle=\"login\" \n            $1=\"<span class='strong'>$1</span>\"}}}`\n        });\n      }\n    });\n    \n    return uiSchemas;\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n  },\n});\n\nconst Footer = BaseFooter.extend({\n  className: 'auth-footer side-by-side-links',\n  links: function() {\n    const { uiSchema } = this.options.currentViewState;\n    const optionalParams = uiSchema.filter(item => item.required === false);\n    if(uiSchema.length === optionalParams.length) {\n      return getSkipSetupLink(this.options.appState, loc('oie.enroll.skip.profile', 'login'));\n    } else {\n      this.$el.removeClass('.side-by-side-links');\n    }\n  }\n});\n\nexport default BaseView.extend({\n  Body,\n  Footer,\n\n  postRender() {\n    BaseView.prototype.postRender.apply(this, arguments);\n    /**\n     * As per requirement of this flow set secondEmail default to empty string, if exists in remediation\n     * ideally server should have passed default string in remediation\n     */\n    if (this.options.appState.getSchemaByName('userProfile.secondEmail')) {\n      this.model.set('userProfile.secondEmail', '');\n    }\n  }\n});","import { loc, Model, _ } from 'okta';\nimport { BaseForm, BaseFooter, BaseView, createIdpButtons } from '../internals';\nimport { FORMS as RemediationForms } from '../../ion/RemediationConstants';\nimport { getPasswordComplexityDescriptionForHtmlList } from '../utils/AuthenticatorUtil';\nimport { generatePasswordPolicyHtml } from './password/PasswordPolicyUtil';\nimport signInWithIdps from './signin/SignInWithIdps';\n\nconst Body = BaseForm.extend({\n  title() {\n    if (this.options.appState.getCurrentViewState().href.endsWith('idp/idx/enroll/update')) {\n      const attributes = this.options.appState.attributes;\n      if (attributes?.uiDisplay?.label) {\n        return loc('oie.registration.form.customize.label', 'login', [attributes.uiDisplay.label]);\n      } else {\n        return loc('oie.primaryauth.submit', 'login');\n      }\n    }\n    return loc('oie.registration.form.title', 'login');\n\n  },\n\n  save() {\n    if (this.options.appState.getCurrentViewState().href.endsWith('idp/idx/enroll/update')) {\n      const attributes = this.options.appState.attributes;\n      if (attributes?.uiDisplay?.buttonLabel) {\n        return loc('oie.registration.form.customize.buttonLabel', 'login', [attributes.uiDisplay.buttonLabel]);\n      } else {\n        return loc('oie.registration.form.update.submit', 'login');\n      }\n    }\n    return loc('oie.registration.form.submit', 'login');\n\n  },\n  saveForm() {\n    // SIW customization hook for registration\n    this.settings.preRegistrationSubmit(this.model.toJSON(),\n      (postData) => {\n        this.model.attributes = {...this.model.attributes, ...this.model.parse(postData)};\n        BaseForm.prototype.saveForm.call(this, this.model);\n      },\n      (error) => this.model.trigger('error', this.model, {\n        responseJSON: error,\n      })\n    );\n  },\n  triggerAfterError(model, error) {\n    // render errors to view\n    const hasErrors = error?.responseJSON?.errorCauses\n      && Array.isArray(error.responseJSON.errorCauses);\n\n    if (hasErrors) {\n      error.responseJSON.errorCauses.forEach((err) => {\n        // only do this for invalid password for password with SSR\n        if (err.errorKey?.includes('password.passwordRequirementsNotMet')) {\n          err.errorSummary = loc('registration.error.password.passwordRequirementsNotMet', 'login');\n        } \n      });\n    }\n\n    this.options.appState.trigger('afterError', error);\n  },\n});\n\nconst Footer = BaseFooter.extend({\n  links() {\n    const links = [];\n    if (this.options.appState.hasRemediationObject(RemediationForms.SELECT_IDENTIFY)) {\n      links.push({\n        'type': 'link',\n        'label': loc('haveaccount', 'login'),\n        'name': 'back',\n        'actionPath': RemediationForms.SELECT_IDENTIFY,\n      });\n    }\n    return links;\n  }\n});\n\nexport default BaseView.extend({\n  Body,\n  Footer,\n  createModelClass(currentViewState, optionUiSchemaConfig, settings) {\n    const currentSchema = JSON.parse(JSON.stringify((currentViewState.uiSchema)));\n    let ModelClass = BaseView.prototype.createModelClass.apply(this, arguments, currentViewState);\n\n    ModelClass = ModelClass.extend({\n      toJSON: function() {\n        const modelJSON = Model.prototype.toJSON.call(this, arguments, currentViewState);\n        // delete optional attributes if they are empty and not required\n        if(modelJSON.userProfile) {\n          const uiSchema = currentViewState.uiSchema;\n          const userProfile = modelJSON.userProfile;\n          _.each(userProfile, (value, name) => {\n            if (_.isEmpty(value)) {\n              const uiSchemaProperty = uiSchema.find(schema => schema.name === `userProfile.${name}`);\n              if (!_.isUndefined(uiSchemaProperty) && !uiSchemaProperty.required) {\n                delete userProfile[name];\n              }\n            }\n          });\n        }\n        return modelJSON;\n      }\n    });\n\n    settings.parseRegistrationSchema(currentSchema,\n      (schema) => {\n        if (!_.isEqual(schema, currentViewState.uiSchema)) {\n          currentViewState.uiSchema = schema;\n          ModelClass = BaseView.prototype.createModelClass.call(this, currentViewState, optionUiSchemaConfig);\n        }\n      },\n      (error) => {\n        ModelClass = ModelClass.extend({\n          local: {\n            parseSchemaError: {\n              value: error,\n              type: 'object',\n            },\n            ...ModelClass.prototype.local\n          },\n        });\n      }\n    );\n    return ModelClass;\n  },\n  postRender() {\n    BaseView.prototype.postRender.apply(this, arguments);\n\n    const modelError = this.model.get('parseSchemaError');\n\n    if (modelError) {\n      this.model.trigger('error', this.model, {\n        responseJSON: modelError,\n      });\n    }\n\n    // Prompt for password w/ SSR if enabled (credentials object in remediation)\n    this.renderPasswordPolicySettings();\n\n    const idpButtons = createIdpButtons(this.options);\n    if (Array.isArray(idpButtons) && idpButtons.length) {\n      this._addIdpView(idpButtons);\n    }\n    \n  },\n  renderPasswordPolicySettings() {\n    // retrieve password policy from \"credentials\" object in remediation\n    const currentViewState = this.options.currentViewState.value;\n    const credentials = currentViewState.filter((obj) => { return obj.name === 'credentials'; })[0];\n\n    // if \"passcode\" is present in \"credentials\", render password rules\n    const form = credentials?.form?.value;\n    if (form && form.filter((obj) => { return obj.name === 'passcode'; })) {\n      generatePasswordPolicyHtml(this,\n        getPasswordComplexityDescriptionForHtmlList(credentials?.relatesTo?.value?.settings),\n        false);\n    }\n  },\n\n  _addIdpView(idpButtons) {\n    // We check the 'idpDisplay' option config to determine whether to render the idp buttons \n    // above or below the login fields\n    const idpDisplay = this.options.settings.get('idpDisplay');\n    const isPrimaryIdpDisplay = idpDisplay && idpDisplay.toUpperCase() === 'PRIMARY';\n\n    this.add(signInWithIdps, {\n      prepend: isPrimaryIdpDisplay,\n      selector: isPrimaryIdpDisplay ? '.o-form-fieldset-container' : '.o-form-button-bar',\n      options: {\n        idpButtons,\n        isPrimaryIdpDisplay\n      }\n    });\n  },\n});\n","import { loc, createCallout } from 'okta';\nimport { FORMS as RemediationForms } from '../../ion/RemediationConstants';\nimport { BaseForm, BaseView, createIdpButtons, createCustomButtons } from '../internals';\nimport DeviceFingerprinting from '../utils/DeviceFingerprinting';\nimport IdentifierFooter from '../components/IdentifierFooter';\nimport Link from '../components/Link';\nimport signInWithIdps from './signin/SignInWithIdps';\nimport customButtonsView from './signin/CustomButtons';\nimport signInWithDeviceOption from './signin/SignInWithDeviceOption';\nimport signInWithWebAuthn from './signin/SignInWithWebAuthn';\nimport { isCustomizedI18nKey } from '../../ion/i18nTransformer';\nimport { getForgotPasswordLink } from '../utils/LinksUtil';\nimport CookieUtil from 'util/CookieUtil';\nimport CustomAccessDeniedErrorMessage from './shared/CustomAccessDeniedErrorMessage';\n\nconst CUSTOM_ACCESS_DENIED_KEY = 'security.access_denied_custom_message';\n\n\nconst Body = BaseForm.extend({\n\n  title() {\n    return loc('primaryauth.title', 'login');\n  },\n\n  save() {\n    return loc('oform.next', 'login');\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n\n    const uiSchema = this.getUISchema();\n    if (uiSchema.find(schema => schema.name === 'credentials.passcode')) {\n      this.save = loc('oie.primaryauth.submit', 'login');\n    }\n\n    // Precedence for pre-filling identifier field:\n    // 1. Use username/identifier from the config.\n    // 2. Use identifier value returned in remediation response (model will have this attr set if it's there) \n    // 3. Use value from the \"remember my username\" cookie.\n    if(this._shouldAddUsername(uiSchema)) {\n      // Set username/identifier from the config (i.e. config.username)\n      this.model.set('identifier', this.settings.get('username'));\n    } else if (!this.model.get('identifier') && this._shouldApplyRememberMyUsername(uiSchema)) {\n      // Use value from cookie if the remediation did not return identifier value.\n      this._applyRememberMyUsername();\n    }\n  },\n\n  saveForm() {\n    // Ideally this can be added to a \"preSaveForm\" handler - but keeping this here for now.\n    if (!this.settings.get('features.deviceFingerprinting')) {\n      BaseForm.prototype.saveForm.apply(this, arguments);\n      return;\n    }\n\n    // Before the XHR is made for \"identify\", we'll generate this one-time use fingerprint via\n    // a hidden-iframe (similar to authn/v1 flows)\n    const fingerprintData = {\n      oktaDomainUrl: this.settings.get('baseUrl'),\n      element: this.$el,\n    };\n\n    // For certain flows, we need to generate a device fingerprint\n    // to determine if we need to send a \"New Device Sign-on Notification\".\n    // In the future, this should be handled completely by okta-auth-js OKTA-418160\n    DeviceFingerprinting.generateDeviceFingerprint(fingerprintData)\n      .then(fingerprint => {\n        this.options.appState.set('deviceFingerprint', fingerprint);\n      })\n      .catch(() => { /* Keep going even if device fingerprint fails */ })\n      .finally(() => {\n        BaseForm.prototype.saveForm.apply(this, arguments);\n      });\n  },\n\n  render() {\n    BaseForm.prototype.render.apply(this, arguments);\n\n    // Launch Device Authenticator\n    if (this.options.appState.hasRemediationObject(RemediationForms.LAUNCH_AUTHENTICATOR)) {\n      this.add(signInWithDeviceOption, '.o-form-fieldset-container', false, true, { isRequired: false });\n    }\n\n    if (this.options.appState.hasRemediationObject(RemediationForms.LAUNCH_WEBAUTHN_AUTHENTICATOR)) {\n      this.add(signInWithWebAuthn, '.o-form-fieldset-container', false, true, { isRequired: false });\n    }\n\n    // add forgot password link and external idps buttons if needed\n    const idpButtons = createIdpButtons(this.options);\n    if (Array.isArray(idpButtons) && idpButtons.length) {\n      // Add the forgot password link before the buttons for multiple IDPs\n      this._addForgotPasswordView();\n      this._addIdpView(idpButtons);\n    }\n\n    const customButtons = createCustomButtons(this.options.settings);\n    if (Array.isArray(customButtons) && customButtons.length) {\n      this.add(customButtonsView, {\n        selector: '.o-form-button-bar',\n        options: {\n          customButtons,\n          addSeparateLine: true,\n        }\n      });\n    }\n  },\n\n  postRender() {\n    BaseForm.prototype.postRender.apply(this, arguments);\n    // When a user enters invalid credentials, /introspect returns an error,\n    // along with a user object containing the identifier entered by the user.\n    this.$el.find('.identifier-container').remove();\n  },\n\n  /**\n   * Update UI schemas for customization from .widgetrc.js or Admin Customization settings page.\n   * @returns Array\n   */\n  getUISchema() {\n    const schemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n\n    const { settings } = this.options;\n    const identifierExplainLabeli18nKey = 'primaryauth.username.tooltip';\n    const passwordExplainLabeli18nKey = 'primaryauth.password.tooltip';\n\n    let newSchemas = schemas.map(schema => {\n      let newSchema = { ...schema };\n\n      if (schema.name === 'identifier') {\n        if (isCustomizedI18nKey(identifierExplainLabeli18nKey, settings)) {\n          newSchema = {\n            ...newSchema,\n            explain: loc(identifierExplainLabeli18nKey, 'login'),\n            'explain-top': true,\n          };\n        }\n\n        // We enable the browser's autocomplete for the identifier input\n        // because we want to allow the user to choose from previously used identifiers.\n        newSchema = {\n          ...newSchema,\n          autoComplete: 'identifier'\n        };\n      } else if (schema.name === 'credentials.passcode') {\n        newSchema = {\n          ...newSchema,\n          autoComplete: 'current-password'\n        };\n\n        if (isCustomizedI18nKey(passwordExplainLabeli18nKey, settings)) {\n          newSchema = {\n            ...newSchema,\n            explain: loc(passwordExplainLabeli18nKey, 'login'),\n            'explain-top': true,\n          };\n        }\n      }\n\n      return newSchema;\n    });\n\n    // If showKeepMeSignedIn is explicitly set to false, we ensure we don't display\n    // the \"Keep me signed in\" checkbox\n    if (this.settings.get('features.showKeepMeSignedIn') === false) {\n      newSchemas = newSchemas.filter(schema => schema.name !== 'rememberMe');\n    }\n\n    return newSchemas;\n  },\n\n  showCustomFormErrorCallout(error, messages) {\n    if (!error?.responseJSON?.errorSummaryKeys?.includes(CUSTOM_ACCESS_DENIED_KEY)) {\n      return false;\n    }\n\n    const message = messages.find(message => message.i18n.key === CUSTOM_ACCESS_DENIED_KEY);\n    if (!message) {\n      return false;\n    }\n\n    const { errorSummary } = error.responseJSON;\n\n    const options = {\n      type: 'error',\n      content: new CustomAccessDeniedErrorMessage({\n        message: errorSummary,\n        links: message.links,\n      }),\n    };\n\n    this.showMessages(createCallout(options));\n    return true;\n  },\n\n  _addForgotPasswordView() {\n    const forgotPasswordLink = getForgotPasswordLink(this.options.appState, this.options.settings);\n    if (forgotPasswordLink.length) {\n      this.add('<div class=\"links-primary\"></div>', { selector: '.o-form-button-bar' });\n      this.add(Link, {\n        selector: '.links-primary',\n        options: forgotPasswordLink[0],\n      });\n    }\n  },\n\n  _addIdpView(idpButtons) {\n    // We check the 'idpDisplay' option config to determine whether to render the idp buttons \n    // above or below the login fields\n    const idpDisplay = this.options.settings.get('idpDisplay');\n    const isPrimaryIdpDisplay = idpDisplay && idpDisplay.toUpperCase() === 'PRIMARY';\n\n    this.add(signInWithIdps, {\n      prepend: isPrimaryIdpDisplay,\n      selector: isPrimaryIdpDisplay ? '.o-form-fieldset-container' : '.o-form-button-bar',\n      options: {\n        idpButtons,\n        isPrimaryIdpDisplay\n      }\n    });\n  },\n\n  _shouldAddUsername(uiSchema) {\n    // We pre-populate the identifier/username field only if we're in an identifier\n    // form and if the option is passed in.\n    return (uiSchema.find(schema => schema.name === 'identifier') && this.settings.get('username'));\n  }, \n   \n  _shouldApplyRememberMyUsername(uiSchema) {\n    return (uiSchema.find(schema => schema.name === 'identifier') \n        && this.settings.get('features.rememberMe')\n        && this.settings.get('features.rememberMyUsernameOnOIE'));\n  },\n\n  /**\n   * When \"Remember My Username\" is enabled, we pre-fill the identifier\n   * field with the saved userName cookie. The cookie would have been originally\n   * saved when submitting the form previously.\n   */\n  _applyRememberMyUsername() {\n    const cookieUsername = CookieUtil.getCookieUsername();\n    if (cookieUsername) {\n      this.model.set('identifier', cookieUsername);\n    }\n  }\n});\n\nexport default BaseView.extend({\n  Body,\n\n  createModelClass() {\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    \n    // customize pre-submit form validation inline error messages\n    const identifierRequiredi18nKey = 'error.username.required';\n    const passwordRequiredi18nKey = 'error.password.required';\n    const props = ModelClass.prototype.props;\n    const validate = (attr) => {\n      const inlineErrors = {};\n      const isEmptyIdentifier = props['identifier'] && !attr?.['identifier'];\n      const isEmptyPassword = props['credentials.passcode'] && !attr?.['credentials.passcode'];\n      if (isEmptyIdentifier && isCustomizedI18nKey(identifierRequiredi18nKey, this.settings)) {\n        inlineErrors['identifier'] = loc(identifierRequiredi18nKey, 'login');\n      }\n      if (isEmptyPassword && isCustomizedI18nKey(passwordRequiredi18nKey, this.settings)) {\n        inlineErrors['credentials.passcode'] = loc(passwordRequiredi18nKey, 'login');\n      }\n      return inlineErrors;\n    };\n\n    return ModelClass.extend({\n      validate\n    });\n  },\n\n  initialize() {\n    // Override Footer by overriding showForgotPasswordLink method\n    this.Footer = IdentifierFooter.extend({\n      showForgotPasswordLink: () => {\n        // We don't add the forgot password link in the footer if SIW renders multi IDPs,\n        // instead in that case we add it before the IDP buttons in IdentifierView as primary links.\n        const idpButtons = createIdpButtons(this.options);\n        return (!this.options.appState.isIdentifierOnlyView() &&\n          (!Array.isArray(idpButtons) || idpButtons.length === 0));\n      }\n    });\n  },\n\n  postRender() {\n    BaseView.prototype.postRender.apply(this, arguments);\n\n    // If user entered identifier is not found, API sends back a message with a link to sign up\n    // This is the click handler for that link\n    const appState = this.options.appState;\n    this.$el.find('.js-sign-up').click(function() {\n      appState.trigger('invokeAction', RemediationForms.SELECT_ENROLL_PROFILE);\n      return false;\n    });\n  },\n});\n","import { loc } from 'okta';\nimport { BaseForm, BaseFooter, BaseView } from '../internals';\n\nconst Body = BaseForm.extend({\n\n  title() {\n    return loc('password.reset.title.generic', 'login');\n  },\n\n  save() {\n    return loc('oform.next', 'login');\n  },\n\n  getUISchema() {\n    const schemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    let newSchemas = schemas.map(schema => {\n      let newSchema = { ...schema };\n      if (schema.name === 'identifier') {\n        // We enable the browser's autocomplete for the identifier input\n        // because we want to allow the user to choose from previously used identifiers.\n        newSchema = {\n          ...newSchema,\n          autoComplete: 'identifier'\n        };\n      }\n      return newSchema;\n    });\n    return newSchemas;\n  },\n});\n\nexport default BaseView.extend({\n  Body,\n  Footer: BaseFooter,\n});\n","import { loc, View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport { BaseForm, BaseView } from '../internals';\nimport { MS_PER_SEC } from '../utils/Constants';\n\nconst PollMessageView = View.extend({\n  template: hbs`\n    <div class=\"ion-messages-container\">\n      <p>{{i18n code=\"poll.form.message\"\n        bundle=\"login\" arguments=\"countDownCounterValue\" $1=\"<span class='strong'>$1</span>\"}} </p>\n    </div>\n    <div class=\"hide okta-waiting-spinner\"></div>\n    `\n  ,\n  getTemplateData() {\n    const countDownCounterValue = this.options;\n    return {\n      countDownCounterValue,\n    };\n  },\n});\n\nconst Body = BaseForm.extend(Object.assign(\n  {\n    title() {\n      return  loc('poll.form.title', 'login');\n    },\n\n    noButtonBar: true,\n\n    initialize() {\n      BaseForm.prototype.initialize.apply(this, arguments);\n      const refreshInterval = this.options.appState.getCurrentViewState().refresh;\n      this.refreshTimeout = setTimeout(() => {\n        this.$el.find('.okta-waiting-spinner').show();\n        // start after a small delay so that the spinner does not get hidden too soon\n        setTimeout(() => this.saveForm(this.model), 200);\n      }, refreshInterval);\n    },\n\n    render() {\n      BaseForm.prototype.render.apply(this, arguments);\n      this.countDownCounterValue = Math.ceil(this.options.appState.getCurrentViewState().refresh / MS_PER_SEC);\n      this.add(new PollMessageView(this.countDownCounterValue));\n      this.startCountDown('.ion-messages-container span', MS_PER_SEC);\n    },\n\n    remove() {\n      BaseForm.prototype.remove.apply(this, arguments);\n      clearTimeout(this.refreshTimeout);\n    },\n\n    triggerAfterError() {\n      BaseForm.prototype.triggerAfterError.apply(this, arguments);\n      clearTimeout(this.refreshTimeout);\n      this.stopCountDown();\n      this.$el.find('.o-form-fieldset-container').empty();\n    },\n\n    startCountDown(selector , interval) {\n      if (this.countDown) {\n        clearInterval(this.countDown);\n      }\n      this.counterEl = this.$el.find(selector);\n      this.countDown = setInterval(() => {\n        if(this.counterEl.text() !== '0') {\n          this.counterEl.text(this.counterEl.text() - 1);\n        }\n      }, interval, this);\n    },\n\n    stopCountDown() {\n      if (this.countDown) {\n        clearInterval(this.countDown);\n      }\n    },\n  },\n));\n\nexport default BaseView.extend({\n  Body\n});\n","import IdentifierView from './IdentifierView';\n\nexport default IdentifierView.extend({\n  render() {\n    IdentifierView.prototype.render.apply(this, arguments);\n\n    this.$el.find('.sign-in-with-idp .separation-line').hide();\n    this.$el.find('.button-primary').hide();\n  }\n});\n","import { BaseForm, BaseView } from '../internals';\nimport { loc } from 'okta';\n\nconst Body = BaseForm.extend({\n  title: function() {\n    return loc('oie.select.authenticators.enroll.title', 'login');\n  },\n  subtitle: function() {\n    const subtitle = this.options.settings.get('brandName') ?\n      loc('oie.select.authenticators.enroll.subtitle.custom', 'login', [this.options.settings.get('brandName')]):\n      loc('oie.select.authenticators.enroll.subtitle', 'login');\n    return subtitle;\n  },\n  noButtonBar: true,\n});\n\nexport default BaseView.extend({\n  Body,\n});\n\n","import { BaseForm, BaseView } from '../internals';\nimport { createCallout, loc } from 'okta';\nimport BaseFooter from '../internals/BaseFooter';\nimport {getFactorPageCustomLink} from '../utils/LinksUtil';\n\nconst UNLOCK_USER_SUCCESS_MESSAGE = 'oie.selfservice.unlock_user.landing.to.app.success.message';\n\nexport const Body = BaseForm.extend({\n  title: function() {\n    if (this.isPasswordRecoveryFlow())  {\n      return loc('password.reset.title.generic', 'login');\n    }\n    return loc('oie.select.authenticators.verify.title', 'login');\n  },\n  subtitle: function() {\n    if (this.isPasswordRecoveryFlow())  {\n      return loc('oie.password.reset.verification', 'login');\n    }\n    if (this.isUnlockSuccess()) {\n      const container = '.o-form-error-container';\n      const text = loc('oie.select.authenticators.verify.subtitle', 'login');\n      this.add(`<div class=\"ion-messages-container\"><p>${text}</p></div>`, container);\n      return;\n    }\n    return loc('oie.select.authenticators.verify.subtitle', 'login');\n  },\n  isPasswordRecoveryFlow() {\n    return this.options.appState.get('isPasswordRecovery');\n  },\n  noButtonBar: true,\n  showMessages() {\n    if (this.isUnlockSuccess()) {\n      let options = {};\n      options.subtitle = loc('oie.selfservice.unlock_user.landing.to.app.success.message', 'login');\n      options.type = 'success';\n      options = createCallout(options);\n      BaseForm.prototype.showMessages.call(this, options);\n      return;\n    }\n    BaseForm.prototype.showMessages.call(this);\n  },\n  isUnlockSuccess() {\n    return this.options.appState.containsMessageWithI18nKey(UNLOCK_USER_SUCCESS_MESSAGE);\n  }\n});\n\nexport default BaseView.extend({\n  Body,\n  Footer: BaseFooter.extend({\n    links() {\n      return getFactorPageCustomLink(this.options.appState, this.options.settings);\n    },\n  }),\n});\n","import { loc, createCallout } from 'okta';\nimport { BaseForm, BaseFooter, BaseView } from '../internals';\nimport { getBackToSignInLink, getSkipSetupLink, getReloadPageButtonLink } from '../utils/LinksUtil';\nimport EmailAuthenticatorHeader from '../components/EmailAuthenticatorHeader';\nimport { OTPInformationTerminalView } from './consent/EmailMagicLinkOTPTerminalView';\nimport CustomAccessDeniedErrorMessage from './shared/CustomAccessDeniedErrorMessage';\n\nconst RETURN_LINK_EXPIRED_KEY = 'idx.return.link.expired';\nconst IDX_RETURN_LINK_OTP_ONLY = 'idx.enter.otp.in.original.tab';\nconst SAFE_MODE_KEY_PREFIX = 'idx.error.server.safe.mode';\nconst UNLOCK_ACCOUNT_TERMINAL_KEY = 'oie.selfservice.unlock_user.success.message';\nconst UNLOCK_ACCOUNT_FAILED_PERMISSIONS = 'oie.selfservice.unlock_user.challenge.failed.permissions';\nconst RESET_PASSWORD_NOT_ALLOWED = 'oie.selfservice.reset.password.not.allowed';\nconst RETURN_TO_ORIGINAL_TAB_KEY = 'idx.return.to.original.tab';\nconst OPERATION_CANCELED_ON_OTHER_DEVICE_KEY = 'idx.operation.cancelled.on.other.device';\nconst OPERATION_CANCELED_BY_USER_KEY = 'idx.operation.cancelled.by.user';\nconst DEVICE_ACTIVATED = 'idx.device.activated';\nconst DEVICE_NOT_ACTIVATED_CONSENT_DENIED = 'idx.device.not.activated.consent.denied';\nconst DEVICE_NOT_ACTIVATED_INTERNAL_ERROR = 'idx.device.not.activated.internal.error';\nconst FLOW_CONTINUE_IN_NEW_TAB = 'idx.transferred.to.new.tab';\nconst EMAIL_LINK_OUT_OF_DATE = 'idx.return.stale';\nconst EMAIL_LINK_CANT_BE_PROCESSED = 'idx.return.error';\nconst EMAIL_VERIFICATION_REQUIRED = 'idx.email.verification.required';\n\nconst EMAIL_ACTIVATION_EMAIL_EXPIRE = 'idx.expired.activation.token';\nconst EMAIL_ACTIVATION_EMAIL_INVALID = 'idx.missing.activation.token';\nconst EMAIL_ACTIVATION_EMAIL_SUBMITTED = 'idx.request.activation.email';\nconst EMAIL_ACTIVATION_EMAIL_SUSPENDED = 'idx.activating.inactive.user';\n\nconst CUSTOM_ACCESS_DENIED_KEY = 'security.access_denied_custom_message';\n\nexport const REGISTRATION_NOT_ENABLED = 'oie.registration.is.not.enabled';\nexport const FORGOT_PASSWORD_NOT_ENABLED = 'oie.forgot.password.is.not.enabled';\n\nconst EMAIL_AUTHENTICATOR_TERMINAL_KEYS = [\n  FLOW_CONTINUE_IN_NEW_TAB,\n  EMAIL_LINK_OUT_OF_DATE,\n  EMAIL_LINK_CANT_BE_PROCESSED,\n  EMAIL_VERIFICATION_REQUIRED,\n  RETURN_TO_ORIGINAL_TAB_KEY,\n  RETURN_LINK_EXPIRED_KEY,\n  OPERATION_CANCELED_ON_OTHER_DEVICE_KEY,\n  OPERATION_CANCELED_BY_USER_KEY,\n  IDX_RETURN_LINK_OTP_ONLY,\n];\n\nconst DEVICE_CODE_ERROR_KEYS = [\n  DEVICE_NOT_ACTIVATED_CONSENT_DENIED,\n  DEVICE_NOT_ACTIVATED_INTERNAL_ERROR\n];\n\nconst DEVICE_CODE_FLOW_TERMINAL_KEYS = [\n  DEVICE_ACTIVATED,\n  ...DEVICE_CODE_ERROR_KEYS\n];\n\n// These terminal views build their own links, basically they have cancel remediation in error response\n// Or doesn't require a Back to Sign in link because the flow didn't start from login screen\nconst NO_BACKTOSIGNIN_LINK_VIEWS = [\n  UNLOCK_ACCOUNT_TERMINAL_KEY,\n  RETURN_TO_ORIGINAL_TAB_KEY,\n  FLOW_CONTINUE_IN_NEW_TAB,\n  OPERATION_CANCELED_ON_OTHER_DEVICE_KEY,\n  ...DEVICE_CODE_FLOW_TERMINAL_KEYS,\n  UNLOCK_ACCOUNT_FAILED_PERMISSIONS,\n  RESET_PASSWORD_NOT_ALLOWED,\n  IDX_RETURN_LINK_OTP_ONLY,\n];\n\n// Key map to transform terminal view titles {ApiKey : WidgetKey}  \nconst terminalViewTitles = {\n  [RETURN_LINK_EXPIRED_KEY] : 'oie.email.return.link.expired.title',\n  [UNLOCK_ACCOUNT_TERMINAL_KEY] : 'account.unlock.unlocked.title',\n  [DEVICE_ACTIVATED] : 'device.code.activated.success.title',\n  [REGISTRATION_NOT_ENABLED] : 'oie.registration.form.title',\n  [FORGOT_PASSWORD_NOT_ENABLED] : 'password.reset.title.generic',\n  [EMAIL_ACTIVATION_EMAIL_EXPIRE] : 'oie.activation.request.email.title.expire',\n  [EMAIL_ACTIVATION_EMAIL_SUBMITTED] : 'oie.activation.request.email.title.submitted',\n  [EMAIL_ACTIVATION_EMAIL_SUSPENDED] : 'oie.activation.request.email.title.suspended',\n  [EMAIL_ACTIVATION_EMAIL_INVALID] : 'oie.activation.request.email.title.invalid',\n  [DEVICE_NOT_ACTIVATED_CONSENT_DENIED] : 'device.code.activated.error.title',\n  [DEVICE_NOT_ACTIVATED_INTERNAL_ERROR] : 'device.code.activated.error.title',\n  [RETURN_TO_ORIGINAL_TAB_KEY] : 'oie.consent.enduser.email.allow.title',\n  [IDX_RETURN_LINK_OTP_ONLY]: 'idx.return.link.otponly.your.verification.code',\n};\n\nconst Body = BaseForm.extend({\n  noButtonBar: true,\n\n  postRender() {\n    BaseForm.prototype.postRender.apply(this, arguments);\n    this.$el.addClass('terminal-state');\n\n    // show device code terminal icons\n    if (this.options.appState.containsMessageWithI18nKey(DEVICE_CODE_FLOW_TERMINAL_KEYS)) {\n      const iconClass = this.options.appState.containsMessageWithI18nKey(DEVICE_ACTIVATED)\n        ? 'success-24-green' : 'error-24-red';\n      this.$('.o-form-head').before('<div class=\"device-code-terminal--icon-container\">' +\n        '<span class=\"device-code-terminal--icon ' + iconClass + '\"></span>' +\n        '</div>');\n    }\n  },\n\n  title() {\n    return this.getTerminalViewTitle();\n  },\n\n  getTerminalViewTitle() {\n    if (this.options.appState.containsMessageStartingWithI18nKey(SAFE_MODE_KEY_PREFIX)) {\n      return loc('oie.safe.mode.title', 'login');\n    }\n\n    const apiKeys = Object.keys(terminalViewTitles);\n    const key = apiKeys.find(key => this.options.appState.containsMessageWithI18nKey(key));\n    if (key) {\n      return loc(terminalViewTitles[key], 'login');\n    }\n  },\n\n  showMessages() {\n    const messagesObjs = this.options.appState.get('messages');\n    let hasCustomView = false;\n    let description;\n    if (this.options.appState.containsMessageWithI18nKey(OPERATION_CANCELED_ON_OTHER_DEVICE_KEY)) {\n      description = loc('idx.operation.cancelled.on.other.device', 'login');\n      messagesObjs.value.push({ message: loc('oie.consent.enduser.deny.description', 'login') });\n    } else if (this.options.appState.containsMessageWithI18nKey(RETURN_TO_ORIGINAL_TAB_KEY)) {\n      description = loc('oie.consent.enduser.email.allow.description', 'login');\n      messagesObjs.value.push({ message: loc('oie.return.to.original.tab', 'login')});\n    } else if (this.options.appState.containsMessageWithI18nKey('tooManyRequests')) {\n      description = loc('oie.tooManyRequests', 'login');\n    } else if (this.options.appState.containsMessageWithI18nKey(RETURN_LINK_EXPIRED_KEY)) {\n      messagesObjs.value[0].class = 'ERROR';\n    } else if (this.options.appState.containsMessageWithI18nKey(IDX_RETURN_LINK_OTP_ONLY)) {\n      this.add(OTPInformationTerminalView);\n      hasCustomView = true;\n    } else if (this.options.appState.containsMessageStartingWithI18nKey(CUSTOM_ACCESS_DENIED_KEY)) {\n      this.add(createCallout({\n        type: 'error',\n        content: new CustomAccessDeniedErrorMessage(\n          { message: messagesObjs.value[0].message, links: messagesObjs.value[0].links })\n      }));\n      hasCustomView = true;\n    }\n\n    if (description && Array.isArray(messagesObjs?.value)) {\n      messagesObjs.value[0].message = description;\n    }\n\n    this.options.appState.set('messages', messagesObjs);\n    if (!hasCustomView) {\n      BaseForm.prototype.showMessages.call(this);\n    }\n  },\n\n});\n\nconst Footer = BaseFooter.extend({\n  // All terminal views should have Back to sign in link either widget configured or server configured.\n  links: function() {\n    if (this.options.appState.containsMessageStartingWithI18nKey(SAFE_MODE_KEY_PREFIX)) {\n      return getSkipSetupLink(this.options.appState);\n    }\n    if (this.options.appState.containsMessageWithI18nKey(DEVICE_CODE_ERROR_KEYS)) {\n      return getReloadPageButtonLink();\n    }\n    // If cancel object exists idx response then view would take care of rendering back to sign in link\n    if (!this.options.appState.hasActionObject('cancel') &&\n        !this.options.appState.containsMessageWithI18nKey(NO_BACKTOSIGNIN_LINK_VIEWS)) {\n      // TODO OKTA-432869 \"back to sign in\" links to org baseUrl, does not work correctly with embedded widget\n      return getBackToSignInLink(this.options);\n    }\n  }\n});\n\nexport default BaseView.extend({\n  initialize() {\n    BaseView.prototype.initialize.apply(this, arguments);\n    if (this.options.appState.containsMessageWithI18nKey(EMAIL_AUTHENTICATOR_TERMINAL_KEYS)) {\n      this.Header = EmailAuthenticatorHeader;\n    }\n  },\n  Body,\n  Footer\n});\n","import { BaseForm, BaseView } from '../../internals';\nimport { loc } from 'okta';\n\nconst Body = BaseForm.extend({\n\n  title() {\n    return loc('oie.activation.request.email.title.expire', 'login');\n  },\n\n  save() {\n    return loc('oie.activation.request.email.button', 'login');\n  },\n});\n\nexport default BaseView.extend({\n  Body\n});","import { BaseForm, BaseView } from '../../internals';\nimport { loc } from 'okta';\n\nconst UnlockAccountView = BaseForm.extend({\n  noButtonBar: true,\n  title: () => {\n    return loc('unlockaccount', 'login');\n  }\n});\n\nexport default BaseView.extend({\n  initialize() {\n    BaseView.prototype.initialize.apply(this, arguments);\n    this.Body = UnlockAccountView;\n  }\n});","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View } from 'okta';\nimport Enums from 'util/Enums';\nimport hbs from 'handlebars-inline-precompile';\nimport { WIDGET_FOOTER_CLASS } from '../../utils/Constants';\n\nconst OktaSignInWidgetOnCaptchaLoadedCallback = 'OktaSignInWidgetOnCaptchaLoaded';\nconst OktaSignInWidgetOnCaptchaSolvedCallback = 'OktaSignInWidgetOnCaptchaSolved';\n\nconst HCAPTCHA_URL = \n  `https://hcaptcha.com/1/api.js?onload=${OktaSignInWidgetOnCaptchaLoadedCallback}&render=explicit`;\nconst RECAPTCHAV2_URL = \n  `https://www.google.com/recaptcha/api.js?onload=${OktaSignInWidgetOnCaptchaLoadedCallback}&render=explicit`;\n\nexport default View.extend({\n  className: 'captcha-view',\n\n  template: hbs`\n    {{#if isCaptchaConfigured}}\\\n      <div id =\"captcha-container\"\n          class=\"{{className}}\"\n          data-sitekey=\"{{siteKey}}\"\n          data-callback=\"{{onCaptchaSolvedCallback}}\"\n          data-size=\"invisible\">\n      </div>\n    {{/if}}\\\n  `,\n\n  getTemplateData: function() {\n    if (this.captchaConfig) {\n      const className = this.captchaConfig.type === 'HCAPTCHA' ? 'h-captcha' : 'g-recaptcha';\n      return { \n        siteKey: this.captchaConfig.siteKey,\n        isCaptchaConfigured: true,\n        onCaptchaSolvedCallback: OktaSignInWidgetOnCaptchaSolvedCallback,\n        className, \n      };\n    } else {\n      return {};\n    }\n  },\n\n  initialize() {\n    if (this.options.appState.get('captcha')) {\n      this.captchaConfig = this.options.appState.get('captcha');\n      this._addCaptcha();\n    }\n  },\n\n  remove: function(){\n    View.prototype.remove.apply(this, arguments);\n\n    // Cleanup global Captcha references\n    if (this.captchaConfig.type === 'HCAPTCHA') {\n      window.hcaptcha = undefined;\n    } else if (this.captchaConfig.type === 'RECAPTCHA_V2') {\n      window.grecaptcha = undefined;\n    }\n  },\n\n  /**\n   *  Load the CAPTCHA lib dynamically (either HCAPTCHA or RECAPTCHAV2). Once loaded, trigger an event to inform\n   *  the parent form to actually render the CAPTCHA.\n  * */   \n  _addCaptcha() {\n    // Callback invoked when CAPTCHA is solved.\n    const onCaptchaSolved = (token) => {\n      const captchaObject = this._getCaptchaOject();\n\n      // We reset the Captcha. We need to reset because every time the \n      // Captcha resolves back with a token and say we have a server side error, \n      // if we submit the form again it won't work otherwise. The Captcha \n      // has to be reset for it to work again in that scenario.\n      const captchaId = this.$el.find('#captcha-container').attr('data-captcha-id');\n      captchaObject.reset(captchaId);\n\n      // Set the token in the model\n      const fieldName = this.options.name;\n      this.model.set(fieldName, token);\n\n      this.options.appState.trigger('saveForm', this.model); \n    };\n\n    // Callback when CAPTCHA lib is loaded\n    const onCaptchaLoaded = () => {\n      // This is just a safeguard to ensure we don't bind Captcha to an already bound element.\n      // It shouldn't happen in practice.\n      if (this.$el.find('#captcha-container').attr('data-captcha-id')) {\n        return;\n      }\n\n      const captchaObject = this._getCaptchaOject();\n\n      // We set a temporary token for Captcha because this is a required field for the form and is normally set\n      // at a later time. In order to prevent client-side validation errors because of this, we have to set a \n      // dummy value. We then overwrite this with the proper token in the onCaptchaSolved callback.\n      this.model.set(this.options.name, 'tempToken');\n\n      const captchaId = captchaObject.render('captcha-container', {\n        sitekey: this.captchaConfig.siteKey,\n        callback: onCaptchaSolved\n      });\n      \n      this.$el.find('#captcha-container').attr('data-captcha-id', captchaId);\n\n      // Let the Baseform know that Captcha is loaded.\n      this.options.appState.trigger('onCaptchaLoaded', captchaObject);\n\n      // Render the HCAPTCHA footer - we need to do this manually since the HCAPTCHA lib doesn't do it\n      if (this.captchaConfig.type === 'HCAPTCHA') {\n        this._addHCaptchaFooter();\n      }  \n    };\n\n    // Attaching the callback to the window object so that the CAPTCHA script that we dynamically render\n    // can have access to it since it won't have access to this view's scope.\n    window[OktaSignInWidgetOnCaptchaLoadedCallback] = onCaptchaLoaded;\n\n    // Attaching the Captcha solved callback to the window object because we reference it in our template under\n    // the 'data-callback' attribute which the Captcha library uses to invoke the callback.\n    window[OktaSignInWidgetOnCaptchaSolvedCallback] = onCaptchaSolved;\n\n    \n    if (this.captchaConfig.type === 'HCAPTCHA') {\n      this._loadCaptchaLib(this._getCaptchaUrl(HCAPTCHA_URL));\n    } else if (this.captchaConfig.type === 'RECAPTCHA_V2') {\n      this._loadCaptchaLib(this._getCaptchaUrl(RECAPTCHAV2_URL));\n    }\n  },\n  \n  /**\n   *  We dynamically inject <script> tag into our login container because in case the customer is hosting\n   *  the SIW, we need to ensure we don't go out of scope when injecting the script.\n  * */ \n  _loadCaptchaLib(url) {\n    let scriptTag = document.createElement('script');\n    scriptTag.src = url;\n    scriptTag.async = true;\n    scriptTag.defer = true;\n    document.getElementById(Enums.WIDGET_CONTAINER_ID).appendChild(scriptTag);\n  },\n\n  _addHCaptchaFooter() {\n    // NOTE: insetAdjacentHTML() is supported in all major browsers: \n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/insertAdjacentHTML#browser_compatibility\n    const footerContainer = document.getElementsByClassName(WIDGET_FOOTER_CLASS);\n    if (footerContainer.length) {\n      const template = hbs('<div class=\"captcha-footer\">\\\n        <span class=\"footer-text\">\\\n          {{i18n code=\"hcaptcha.footer.label\" bundle=\"login\" \\\n          $1=\"<a href=\\'https://hcaptcha.com/privacy\\' target=\\'_blank\\'>$1</a>\" \\\n          $2=\"<a href=\\'https://hcaptcha.com/terms\\' target=\\'_blank\\'>$2</a>\"}}\\\n        </span>\\\n      </div>');\n\n      footerContainer[0].insertAdjacentHTML('beforeend',\n        template()\n      );\n    }\n  },\n\n  _getCaptchaOject() {\n    const captchaObject = this.captchaConfig.type === 'HCAPTCHA' ? window.hcaptcha : window.grecaptcha;\n    return captchaObject;\n  },\n\n  _getCaptchaUrl(baseURL) {\n    const locale = this.options.settings.get('language');\n    return `${baseURL}&hl=${locale || navigator.language}`;\n  }\n});\n","import { BaseView } from '../../internals';\nimport { loc } from 'okta';\nimport AdminConsentViewHeader from './AdminConsentViewHeader';\nimport ConsentViewForm from './ConsentViewForm';\nimport { doesI18NKeyExist } from '../../../ion/i18nTransformer';\n\nexport default BaseView.extend({\n  Header: AdminConsentViewHeader,\n  Body: ConsentViewForm,\n  createModelClass(currentViewState) {\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    const { uiSchema } = currentViewState;\n    const { scopes } = uiSchema[0];\n\n    const i18nKeyPrefix = 'consent.scopes';\n\n    const localizedScopes = scopes.map(({ name, displayName, description }) => {\n      const scopeKey = `${i18nKeyPrefix}.${name}`;\n      const labelKey = `${scopeKey}.label`;\n      const descKey = `${scopeKey}.desc`;\n      const doesLabelExist = doesI18NKeyExist(labelKey);\n      const doesDescExist = doesI18NKeyExist(descKey);\n      const i18nDisplayName = doesLabelExist ? loc(labelKey, 'login') : displayName;\n      const i18nDescription = doesDescExist ? loc(descKey, 'login'): description;\n\n      return {\n        name,\n        displayName: i18nDisplayName,\n        description: i18nDescription,\n        isCustomized: !doesLabelExist,\n      };\n    });\n\n    return ModelClass.extend({\n      props: {\n        scopes: {type: 'array', value: localizedScopes},\n      },\n      local: {\n        consent: {type: 'boolean', value: false},\n      },\n      toJSON: function() {\n        return {consent: this.get('consent')};\n      }\n    });\n  }\n});\n","import { View, _, loc } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\nconst defaultLogo = '/img/logos/default.png';\n\nconst AdminConsentViewHeader = View.extend({\n  className: 'consent-title detail-row',\n  titleText: () => loc('oie.consent.scopes.admin.title', 'login'),\n  hasIssuer: true,\n  template: hbs`\n    {{#if clientURI}}\n    <a href=\"{{clientURI}}\" class=\"client-logo-link\" target=\"_blank\">\n    {{/if}}\n    {{#if customLogo}}\n      <img class=\"client-logo custom-logo\" src=\"{{customLogo}}\" alt=\"{{altText}}\" aria-hidden=\"true\" />\n    {{else}}\n      <img class=\"client-logo default-logo\" src=\"{{defaultLogo}}\" alt=\"{{altText}}\" aria-hidden=\"true\" />\n    {{/if}}\n    {{#if clientURI}}\n      </a>\n    {{/if}}\n    <h1>\n      <span class=\"title-text\">\n        <b class=\"no-translate\">{{appName}}</b>&nbsp;{{titleText}}\n      </span>\n      {{#if issuer}}\n        <div class=\"issuer no-translate\"><span>{{issuer}}</span></div>\n      {{/if}}\n    </h1>`,\n  getTemplateData: function() {\n    const { appState } = this.options;\n    const { label, clientUri, logo } =  appState.get('app');\n    const { issuer: issuerObj } = appState.get('authentication');\n\n    const customLogo = logo?.href;\n    const altText = loc('logo.for.the.app.alt.text', 'login');\n    const appName = _.escape(label);\n    const clientURI = clientUri?.href;\n\n    const issuer = this.hasIssuer ? issuerObj?.uri : null;\n    const titleText = this.titleText();\n\n    return {\n      customLogo,\n      defaultLogo,\n      clientURI,\n      issuer,\n      altText,\n      appName,\n      titleText,\n    };\n  }\n});\n\nexport default AdminConsentViewHeader;\n","import { loc } from 'okta';\nimport { BaseForm } from '../../internals';\n\nexport default BaseForm.extend(\n  {\n    noButtonBar: false,\n    noCancelButton: false,\n    buttonOrder: ['cancel', 'save'],\n    save: () => loc('consent.required.consentButton', 'login'),\n    cancel: () => loc('consent.required.cancelButton', 'login'),\n    title: false,\n    events: {\n      'click input[data-type=\"save\"]': function() {\n        this.setConsent(true);\n      },\n    },\n    setConsent(bool) {\n      this.model.set('consent', bool);\n    },\n    cancelForm() {\n      // override BaseForm.prototype.cancelForm which cancels auth flow\n      this.setConsent(false);\n      this.options.appState.trigger('saveForm', this.model);\n    },\n  },\n);\n","import { loc, View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\nconst generateGeolocationString = (location = {}) => {\n  if (!location.city && !location.country) {\n    return null;\n  }\n  // Use 1 of 2 formats based on presence of 'state' in response:\n  // 1. City, State, Country\n  // 2. City, Country\n  return location.state ?\n    loc('geolocation.formatting.all', 'login', [location.city, location.state, location.country]) :\n    loc('geolocation.formatting.partial', 'login', [location.city, location.country]);\n};\n\n// A map from FactorTransactionIntent in okta-core to customer-facing flow name\nconst challengeIntentToFlowMap = {\n  'AUTHENTICATION': loc('idx.return.link.otponly.enter.code.on.page.sign.in', 'login'),\n  'RECOVERY': loc('idx.return.link.otponly.enter.code.on.page.password.reset', 'login'),\n  'UNLOCK_ACCOUNT': loc('idx.return.link.otponly.enter.code.on.page.account.unlock', 'login'),\n  'ENROLLMENT': loc('idx.return.link.otponly.enter.code.on.page.registration', 'login')\n};\n\nconst getTerminalOtpEmailMagicLinkContext = (settings, appState) => {\n  const app = appState.get('app');\n  const client = appState.get('client');\n  const challengeIntent = challengeIntentToFlowMap[appState.get('idx').context.intent];\n  let enterCodeOnFlowPage, appName, browserOnOsString, isMobileDevice, geolocation;\n  enterCodeOnFlowPage = challengeIntent\n    ? loc('idx.return.link.otponly.enter.code.on.page', 'login', [challengeIntent])\n    : loc('idx.enter.otp.in.original.tab', 'login');\n  if (app) {\n    appName = loc('idx.return.link.otponly.app', 'login', [app.label]);\n  }\n  if (client) {\n    browserOnOsString = loc('idx.return.link.otponly.browser.on.os', 'login', [client.browser, client.os]);\n    isMobileDevice = browserOnOsString.includes('Android') || browserOnOsString.includes('iOS');\n    geolocation = generateGeolocationString(client.location);\n  }\n  const otp = settings.get('otp') || appState.get('currentAuthenticator')?.contextualData?.otp;\n\n  return {\n    showRequestInfo: appName || browserOnOsString || geolocation,\n    appName,\n    browserOnOsString,\n    isMobileDevice,\n    geolocation,\n    otp,\n    enterCodeOnFlowPage\n  };\n};\n\nconst BaseEmailMagicLinkOTPTerminalView = View.extend({\n  getTemplateData() {\n    return getTerminalOtpEmailMagicLinkContext(this.options.settings, this.options.appState);\n  },\n});\n\nconst OTPInformationTerminalView = BaseEmailMagicLinkOTPTerminalView.extend({\n  template: hbs`\n  <p class=\"enter-code-on-page\">{{enterCodeOnFlowPage}}</p>\n  <h1 class='otp-value no-translate'>{{otp}}</h1>\n  {{#if showRequestInfo}}\n  <div class=\"enduser-email-otp-only--info\">\n    <div class=\"okta-form-label\">{{i18n code=\"idx.return.link.otponly.request\" bundle=\"login\"}}</div>\n  </div>\n  {{/if}}\n  {{#if browserOnOsString}}\n  <div class=\"enduser-email-otp-only--info\">\n    {{#if isMobileDevice}}\n      <i class=\"enduser-email-otp-only--icon icon--smartphone\" aria-hidden=\"true\"></i>\n    {{else}}\n      <i class=\"enduser-email-otp-only--icon icon--desktop\" aria-hidden=\"true\"></i>\n    {{/if}}\n    <div data-se=\"otp-browser-os\">{{browserOnOsString}}</div>\n  </div>\n  {{/if}}\n  {{#if appName}}\n  <div class=\"enduser-email-otp-only--info\">\n    <i class=\"enduser-email-otp-only--icon icon--app\" aria-hidden=\"true\"></i>\n    <div data-se=\"otp-app\">{{appName}}</div>\n  </div>\n  {{/if}}\n  {{#if geolocation}}\n  <div class=\"enduser-email-otp-only--info\">\n    <i class=\"enduser-email-otp-only--icon icon--location\" aria-hidden=\"true\"></i>\n    <div data-se=\"otp-geolocation\">{{geolocation}}</div>\n  </div>\n  {{/if}}\n  <br>\n  <p class='otp-warning'>{{i18n code=\"idx.return.link.otponly.warning.text\" bundle=\"login\"}}</p>\n  `,\n});\n\nexport {\n  OTPInformationTerminalView\n};\n","import { View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\n\nexport default View.extend({\n  className: 'consent-description detail-row',\n  template: hbs(\n    '\\\n      <p>{{i18n code=\"consent.required.description\" bundle=\"login\"}}</p>\\\n    '\n  )\n});\n","import AdminConsentView from './AdminConsentView';\nimport EnduserConsentViewFooter from './EnduserConsentViewFooter';\nimport EnduserConsentViewHeader from './EnduserConsentViewHeader';\nimport EnduserConsentAgreementText from './EnduserConsentAgreementText';\n\n\nexport default AdminConsentView.extend({\n  Header: EnduserConsentViewHeader,\n  Footer: EnduserConsentViewFooter,\n  postRender() {\n    const scopeList = this.$el.find('.scope-list');\n    const consentAgreementText = new EnduserConsentAgreementText().render().el;\n    scopeList.after(consentAgreementText);\n  }\n});\n","import { View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\n\nconst ConsentViewFooter = View.extend({\n  className: 'consent-footer',\n  template: hbs(\n    '\\\n      {{#if termsOfService}}\\\n        <a class=\"terms-of-service\" href=\"{{termsOfService}}\" target=\"_blank\">\\\n          {{i18n code=\"consent.required.termsOfService\" bundle=\"login\"}}\\\n        </a>\\\n        {{#if privacyPolicy}}\\\n          <span class=\"no-translate\">&#8226</span>\\\n        {{/if}}\\\n      {{/if}}\\\n      {{#if privacyPolicy}}\\\n        <a class=\"privacy-policy\" href=\"{{privacyPolicy}}\" target=\"_blank\">\\\n          {{i18n code=\"consent.required.privacyPolicy\" bundle=\"login\"}}\\\n        </a>\\\n      {{/if}}\\\n    '\n  ),\n  getTemplateData: function() {\n    const appState = this.options.appState;\n    const app = appState.get('app');\n\n    return {\n      termsOfService: app.termsOfService && app.termsOfService.href,\n      privacyPolicy: app.privacyPolicy && app.privacyPolicy.href,\n    };\n  },\n});\n\nexport default ConsentViewFooter;\n","import { loc } from 'okta';\nimport AdminConsentViewHeader from './AdminConsentViewHeader';\n\nexport default AdminConsentViewHeader.extend({\n  titleText: () => loc('oie.consent.scopes.enduser.title', 'login'),\n  hasIssuer: false,\n});\n","import { loc } from 'okta';\nimport { BaseForm } from '../../internals';\nimport ConsentViewForm from './ConsentViewForm';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport hbs from 'handlebars-inline-precompile';\nimport EmailAuthenticatorHeader from '../../components/EmailAuthenticatorHeader';\n\nconst getInfo = hbs`\n  {{#if browser}}\n    <div class=\"enduser-email-consent--info no-translate\">\n      <i class=\"enduser-email-consent--icon icon--desktop\"></i>\n      <div>{{browser}}</div>\n    </div>\n  {{/if}}\n  {{#if app}}\n    <div class=\"enduser-email-consent--info no-translate\">\n      <i class=\"enduser-email-consent--icon icon--app\"></i>\n      <div>{{app}}</div>\n    </div>\n  {{/if}}`;\nconst enduserEmailConsentViewBody = ConsentViewForm.extend({\n  className: 'enduser-email-consent',\n\n  title() {\n    return loc('oie.consent.enduser.title', 'login');\n  },\n  save() {\n    return loc('oie.consent.enduser.accept.label', 'login');\n  },\n  cancel() {\n    return loc('oie.consent.enduser.deny.label', 'login');\n  },\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    const info = getInfo(this.model.pick('browser', 'app'));\n    this.add(info);\n  },\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    return uiSchemas.filter(uiSchema => uiSchema.name !== 'consent' );\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Header: EmailAuthenticatorHeader,\n\n  buttonOrder: ['cancel', 'save'],\n\n  postRender() {\n    const buttonContainer = this.$el.find('.o-form-button-bar');\n    buttonContainer.find('.button-primary').removeClass('button-primary');\n  },\n\n  Body: enduserEmailConsentViewBody,\n\n  createModelClass({ requestInfo }) {\n    const ModelClass = BaseAuthenticatorView.prototype.createModelClass.apply(this, arguments);\n    const browser = requestInfo.find(({ name }) => name === 'browser');\n    const app = requestInfo.find(({ name }) => name === 'appName');\n\n    const local = Object.assign({\n      browser: {\n        type: 'string',\n        value: browser?.value\n      },\n      app: {\n        type: 'string',\n        value: app?.value\n      },\n    }, ModelClass.prototype.local );\n    return ModelClass.extend({\n      local,\n      toJSON() {\n        return {\n          consent: this.get('consent'),\n        };\n      },\n    });\n  }\n});\n","import { BaseView, BaseForm } from '../../internals';\nimport { _, $, View } from 'okta';\nimport ConsentViewForm from './ConsentViewForm';\nimport AdminConsentViewHeader from './AdminConsentViewHeader';\nimport EnduserConsentViewFooter from './EnduserConsentViewFooter';\nimport ScopeCheckBox from '../../components/ScopeCheckBox';\nimport hbs from 'handlebars-inline-precompile';\n\nconst granularConsentViewHeader = AdminConsentViewHeader.extend({\n  hasIssuer: false,\n  template: hbs`\n    {{#if clientURI}}\n    <a href=\"{{clientURI}}\" class=\"client-logo-link\" target=\"_blank\">\n    {{/if}}\n    {{#if customLogo}}\n      <img class=\"client-logo custom-logo\" src=\"{{customLogo}}\" alt=\"{{altText}}\" aria-hidden=\"true\" />\n    {{else}}\n      <img class=\"client-logo default-logo\" src=\"{{defaultLogo}}\" alt=\"{{altText}}\" aria-hidden=\"true\" />\n    {{/if}}\n    {{#if clientURI}}\n      </a>\n    {{/if}}\n    <h1>\n      <span class=\"title-text\">\n        {{i18n \n            code=\"oie.consent.scopes.granular.title\" bundle=\"login\" \n            arguments=\"appName\"\n            $1=\"<b class='no-translate'>$1</b>\"\n            $2=\"<p>$2</p>\"\n        }}\n      </span>\n    </h1>\n    `,\n});\n\nconst granularConsentViewForm = ConsentViewForm.extend({\n  cancel: BaseForm.prototype.cancel,\n\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    uiSchemas.forEach(schema => {\n      if (schema.type === 'checkbox') {\n        _.assign(schema, {\n          input: ScopeCheckBox,\n          options: {\n            desc: schema.desc,\n            mutable: schema.mutable,\n            // need to extract scope name because it is in a subform (optedScopes.name)\n            scopeName: schema.name.substring(schema.name.indexOf('.') + 1)\n          }\n        });\n      }\n    });\n    return uiSchemas;\n  }\n});\n\nconst GranularConsentAgreementText = View.extend({\n  className: 'consent-description',\n  template: hbs`<p>{{i18n code=\"oie.consent.scopes.granular.description\" bundle=\"login\"}}</p>`\n});\n\n\nexport default BaseView.extend({\n  Header: granularConsentViewHeader,\n  Body: granularConsentViewForm,\n  Footer: EnduserConsentViewFooter,\n\n  postRender() {\n    const scopeList = this.$el.find('.o-form-fieldset-container');\n\n    // Show consent agreement text\n    scopeList.before(new GranularConsentAgreementText().render().el);\n\n    // Re-order scopes so mandatory ones are on bottom\n    this.$(':disabled').each(function() {\n      scopeList.append($(this).closest('.o-form-fieldset'));\n    });\n  }\n});\n","import { loc, createCallout } from 'okta';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst CUSTOM_APP_UV_ENABLE_BIOMETRIC_SERVER_KEY = 'oie.authenticator.custom_app.method.push.verify.enable.biometrics';\n\nconst Body = BaseForm.extend(Object.assign(\n  {\n    className: 'custom-app-verify-resend-push',\n\n    title() {\n      return loc('oie.verify.custom_app.title', 'login', [this.options.appState.getAuthenticatorDisplayName()]);\n    },\n\n    save() {\n      return loc('oie.custom_app.push.resend', 'login');\n    },\n\n    showMessages() {\n      let options = {};\n      if (this.options.appState.containsMessageWithI18nKey(CUSTOM_APP_UV_ENABLE_BIOMETRIC_SERVER_KEY)) {\n        // add a title, subtitle, and bullet-points for \n        // Custom App enable biometrics message during verification\n        options.content = null;\n        options.className = 'okta-verify-uv-callout-content';\n        options.title = loc('oie.authenticator.custom_app.method.push.verify.enable.biometrics.title',\n          'login', [this.options.appState.getAuthenticatorDisplayName()]);\n        options.subtitle =\n        loc('oie.authenticator.custom_app.method.push.verify.enable.biometrics.description', 'login');\n        options.type = 'error';\n        options.bullets = [\n          loc('oie.authenticator.custom_app.method.push.verify.enable.biometrics.point1', 'login'),\n          loc('oie.authenticator.custom_app.method.push.verify.enable.biometrics.point2',\n            'login', [this.options.appState.getAuthenticatorDisplayName()]),\n          loc('oie.authenticator.custom_app.method.push.verify.enable.biometrics.point3',\n            'login', [this.options.appState.getAuthenticatorDisplayName()])\n        ];\n        options = createCallout(options);\n      }\n      BaseForm.prototype.showMessages.call(this, options);\n    },\n  },\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc } from 'okta';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseForm.extend(Object.assign(\n  {\n    className: 'mfa-verify-custom-otp',\n\n    title() {\n      const vendorName =\n        this.options.appState.getAuthenticatorDisplayName() ||\n        loc('oie.custom_otp.authenticator.default.vendorName', 'login');\n      return loc('oie.verify.custom_otp.title', 'login', [vendorName]);\n    },\n\n    subtitle() {\n      return loc('oie.verify.custom_otp.description', 'login');\n    },\n\n    save() {\n      return loc('mfa.challenge.verify', 'login');\n    },\n  },\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc, createCallout } from 'okta';\nimport { BaseFooter, BaseView, BaseOktaVerifyChallengeView } from '../../internals';\nimport Enums from '../../../../util/Enums';\nimport {\n  CANCEL_POLLING_ACTION,\n  IDENTIFIER_FLOW,\n  AUTHENTICATION_CANCEL_REASONS,\n} from '../../utils/Constants';\nimport Link from '../../components/Link';\nimport { doChallenge, cancelPollingWithParams } from '../../utils/ChallengeViewUtil';\nimport OktaVerifyAuthenticatorHeader from '../../components/OktaVerifyAuthenticatorHeader';\nimport { getSignOutLink } from '../../utils/LinksUtil';\n\nconst Body = BaseOktaVerifyChallengeView.extend({\n  pollingCancelAction: CANCEL_POLLING_ACTION,\n\n  getDeviceChallengePayload() {\n    return this.options.currentViewState.relatesTo.value;\n  },\n\n  doChallenge() {\n    doChallenge(this, IDENTIFIER_FLOW);\n  },\n\n  onPollingFail() {\n    BaseOktaVerifyChallengeView.prototype.onPollingFail.apply(this, arguments);\n    // When SIW receives form error, polling is already stopped\n    // SIW needs to update footer link from /poll/cancel to /idp/idx/cancel\n    const data = { label: loc('loopback.polling.cancel.link.with.form.error', 'login') };\n    this.options.appState.trigger('updateFooterLink', data);\n  },\n\n  showCustomFormErrorCallout(error) {\n    const responseJSON = error.responseJSON;\n    const options = {\n      type: 'error',\n      className: 'okta-verify-uv-callout-content',\n      subtitle: responseJSON.errorSummary,\n    };\n\n    const containsSignedNonceError = responseJSON.errorSummaryKeys &&\n      responseJSON.errorSummaryKeys.some((key) => key.includes('auth.factor.signedNonce.error'));\n    if (containsSignedNonceError) {\n      options.title = loc('user.fail.verifyIdentity', 'login');\n    }\n\n    this.showMessages(createCallout(options));\n    return true;\n  },\n});\n\nconst Footer = BaseFooter.extend({\n  initialize() {\n    this.listenTo(this.options.appState, 'updateFooterLink', this.handleUpdateFooterLink);\n    if (this.isFallbackApproach() && !this.isFallbackDelayed()) {\n      BaseFooter.prototype.initialize.apply(this, arguments);\n    } else {\n      this.backLink = this.add(Link, {\n        options: {\n          name: 'cancel-authenticator-challenge',\n          label: loc('loopback.polling.cancel.link', 'login'),\n          clickHandler: () => {\n            cancelPollingWithParams(\n              this.options.appState,\n              CANCEL_POLLING_ACTION,\n              AUTHENTICATION_CANCEL_REASONS.USER_CANCELED,\n              null\n            );\n          },\n        }\n      }).last();\n    }\n  },\n\n  handleUpdateFooterLink(data) {\n    // only update link for loopback\n    if (!this.isFallbackApproach() || this.isFallbackDelayed()) {\n      this.backLink && this.backLink.remove();\n      this.backLink = this.add(Link, {\n        options: getSignOutLink(this.options.settings, data)[0]\n      }).last();\n    } \n  },\n\n  isFallbackApproach() {\n    return [\n      Enums.CUSTOM_URI_CHALLENGE,\n      Enums.UNIVERSAL_LINK_CHALLENGE,\n      Enums.APP_LINK_CHALLENGE\n    ].includes(this.options.currentViewState.relatesTo.value.challengeMethod);\n  },\n\n  isFallbackDelayed() {\n    // only delay showing the reopen Okta Verify button for the app link approach for now\n    // until we have more data shows other approaches have the slow cold start problem of the Okta Verify app as well\n    return this.options.currentViewState.relatesTo.value.challengeMethod === Enums.APP_LINK_CHALLENGE;\n  },\n});\n\nexport default BaseView.extend({\n  Header: OktaVerifyAuthenticatorHeader,\n  Body,\n  Footer\n});\n","import { loc } from 'okta';\nimport { BaseForm, BaseView } from '../../internals';\n\nconst Body = BaseForm.extend({\n\n  title() {\n    return loc('device.code.activate.title', 'login');\n  },\n\n  subtitle() {\n    return loc('device.code.activate.subtitle', 'login');\n  },\n\n  events: {\n    'keyup input[name=\"userCode\"]': function(e) {\n      e.preventDefault();\n      this.addHyphen(e);\n    }\n  },\n\n  addHyphen(evt) {\n    const currentVal = evt.target.value;\n    // add hyphen after 4th character\n    if (currentVal && currentVal.length === 4 && !['Backspace', 'Delete', '-'].includes(evt.key)) {\n      evt.target.value = currentVal.concat('-');\n    }\n  },\n});\n\nexport default BaseView.extend({\n  Body\n});\n","import { loc } from 'okta';\nimport { BaseForm, BaseView } from '../../internals';\nimport { IosAndAndroidLoopbackOdaTerminalView,\n  AndroidAppLinkWithAccountOdaTerminalView,\n  AndroidAppLinkWithoutAccountOdaTerminalView,\n  getDeviceEnrollmentContext} from '../../components/OdaOktaVerifyTerminalView';\nimport MdmOktaVerifyTerminalView from '../../components/MdmOktaVerifyTerminalView';\nimport Enums from 'util/Enums';\nimport OktaVerifyAuthenticatorHeader from '../../components/OktaVerifyAuthenticatorHeader';\nimport Link from '../../components/Link';\n\nconst BaseDeviceEnrollTerminalForm = BaseForm.extend({\n  noButtonBar: true,\n  className: 'device-enrollment-terminal',\n});\n\nconst AndroidAppLinkPreselectForm = BaseForm.extend({\n  attributes: { 'data-se': 'android-app-link-setup-options-terminal' },\n  title() {\n    return loc('enroll.title.oda.with.account', 'login');\n  },\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    const deviceEnrollmentContext = getDeviceEnrollmentContext(this.options.appState.get('deviceEnrollment'));\n    this.model.set('hasOVAccount', 'no');\n    this.addInput({\n      label: () => loc('enroll.subtitle.fastpass', 'login', [ deviceEnrollmentContext.orgName ]),\n      'label-top': true,\n      options: {\n        'no': loc('enroll.option.noaccount.fastpass', 'login'),\n        'yes': loc('enroll.option.account.fastpass', 'login'),\n      },\n      name: 'hasOVAccount',\n      type: 'radio',\n    });\n  },\n\n  saveForm() {\n    //remove any existing warnings or messages before saving form\n    this.$el.find('.o-form-error-container').empty();\n    this.options.appState.trigger('updateDeviceEnrollmentView', this.model.get('hasOVAccount') === 'yes');\n  }\n});\n\nconst AndroidAppLinkWithAccountOdaTerminalForm = BaseDeviceEnrollTerminalForm.extend({\n  attributes: { 'data-se': 'android-oda-app-link-with-ov-account-terminal' },\n  title() {\n    return loc('enroll.title.oda.with.account', 'login');\n  },\n  initialize() {\n    BaseDeviceEnrollTerminalForm.prototype.initialize.apply(this, arguments);\n    this.add(AndroidAppLinkWithAccountOdaTerminalView);\n  },\n});\n\nconst AndroidAppLinkWithoutAccountOdaTerminalForm = BaseDeviceEnrollTerminalForm.extend({\n  attributes: { 'data-se': 'android-oda-app-link-without-ov-account-terminal' },\n  title() {\n    return loc('enroll.title.oda.without.account', 'login');\n  },\n  initialize() {\n    BaseDeviceEnrollTerminalForm.prototype.initialize.apply(this, arguments);\n    this.add(AndroidAppLinkWithoutAccountOdaTerminalView);\n  },\n});\n\nconst IosAndAndroidLoopbackOdaTerminalForm = BaseDeviceEnrollTerminalForm.extend({\n  attributes: { 'data-se': 'loopback-terminal' },\n  title() {\n    return loc('enroll.title.oda', 'login');\n  },\n  initialize() {\n    BaseDeviceEnrollTerminalForm.prototype.initialize.apply(this, arguments);\n    this.add(IosAndAndroidLoopbackOdaTerminalView);\n  },\n});\n\nconst MdmTerminalForm = BaseDeviceEnrollTerminalForm.extend({\n  attributes: { 'data-se': 'mdm-terminal' },\n  title() {\n    return loc('enroll.title.mdm', 'login');\n  },\n  initialize() {\n    BaseDeviceEnrollTerminalForm.prototype.initialize.apply(this, arguments);\n    this.add(MdmOktaVerifyTerminalView);\n  },\n});\n\nconst AndroidAppLinkTerminalViewFooter = Link.extend({\n  postRender() {\n    this.$el.click((event) => {\n      event.preventDefault();\n      this.options.appState.trigger('switchBackToPreselect');\n    });\n  }\n});\n\nexport default BaseView.extend({\n  initialize() {\n    BaseView.prototype.initialize.apply(this, arguments);\n    this.listenTo(this.options.appState, 'updateDeviceEnrollmentView', this.handleUpdateDeviceEnrollmentView);\n    this.listenTo(this.options.appState, 'switchBackToPreselect', this.handleSwitchBackToPreselect);\n\n    const deviceEnrollmentContext = getDeviceEnrollmentContext(this.options.appState.get('deviceEnrollment'));\n    this.enrollmentType = (deviceEnrollmentContext.enrollmentType|| '').toLowerCase(); // oda/mdm\n\n    switch (this.enrollmentType) {\n    case Enums.ODA:\n      this.Header = OktaVerifyAuthenticatorHeader;\n      this.Body = deviceEnrollmentContext.isAndroidAppLink ?\n        AndroidAppLinkPreselectForm : IosAndAndroidLoopbackOdaTerminalForm;\n      break;\n    case Enums.MDM:\n      this.Body = MdmTerminalForm;\n      break;\n    }\n  },\n\n  handleUpdateDeviceEnrollmentView(withAccount) {\n    this.Body = withAccount ? AndroidAppLinkWithAccountOdaTerminalForm : AndroidAppLinkWithoutAccountOdaTerminalForm;\n    this.backLink = this.add(AndroidAppLinkTerminalViewFooter, {\n      options: {\n        name: 'back-to-preselect',\n        label: loc('oform.back', 'login'),\n      }\n    }).last();\n    this.renderForm();\n  },\n\n  handleSwitchBackToPreselect() {\n    this.Body = AndroidAppLinkPreselectForm;\n    this.backLink && this.backLink.remove();\n    this.render();\n  },\n});\n","import { BaseForm, BaseView } from '../../internals';\nimport { loc } from 'okta';\n\n// for BETA,\n// redirect is needed for Apple SSO Extension to intercept the request, because\n// - XHR request is not interceptable\n// - form post is interceptable, but some app (Outlook) closes the app after\n// We may have a different approach/UX for EA\nconst Body = BaseForm.extend({\n  noButtonBar: true,\n\n  className: 'ion-form device-challenge-poll',\n\n  title() {\n    return loc('deviceTrust.sso.redirectText', 'login');\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n\n    this.listenTo(this.model, 'error', () => {\n      this.$('.spinner').hide();\n    });\n    this.add('<div class=\"spinner\"></div>');\n\n    const isGetMethod = this.options.currentViewState?.method?.toLowerCase() === 'get';\n    this.model.set('useRedirect', isGetMethod);\n    this.trigger('save', this.model);\n  }\n});\n\nexport default BaseView.extend({\n  Body,\n});\n","import { loc } from 'okta';\nimport { BaseForm, BaseView } from '../../internals';\nimport IdentifierFooter from '../../components/IdentifierFooter';\nimport SignInWithDeviceOption from '../signin/SignInWithDeviceOption';\n\nconst Body = BaseForm.extend({\n\n  title() {\n    return loc('primaryauth.title', 'login');\n  },\n\n  noButtonBar: true,\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.add(\n      SignInWithDeviceOption,\n      { selector: '.o-form-fieldset-container',\n        bubble: false,\n        prepend: true,\n        options: { isRequired: true }\n      }\n    );\n  },\n});\n\n// override the footer to add all the supported links except the sign out link\n// no session is granted at this point\nconst Footer = IdentifierFooter.extend({\n  hasBackToSignInLink: false\n});\n\nexport default BaseView.extend({\n  Body,\n  Footer: Footer\n});\n","import { loc, createCallout } from 'okta';\nimport Duo from 'duo';\nimport { BaseForm } from '../../internals';\n\nexport default BaseForm.extend({\n\n  noButtonBar: true,\n\n  postRender: function() {\n    const contextualData = this.getContextualData();\n    // This is the place to check contextualData.integrationType once we support more types\n    // Currently we only support IFRAME\n    const duoFrame = this.add(`<iframe frameborder=\"0\" title=\"'${this.title()}'\"></iframe>`).last();\n    try {\n      Duo.init({\n        host: contextualData.host,\n        sig_request: contextualData.signedToken, // eslint-disable-line camelcase\n        iframe: duoFrame.el,\n        post_action: (signedData) => { // eslint-disable-line camelcase\n          this.model.set('credentials.signatureData', signedData);\n          this.saveForm(this.model);\n        },\n      });\n    } catch (e) {\n      duoFrame.remove();\n      this.add(createCallout({\n        type: 'error',\n        subtitle: loc('oie.duo.iFrameError', 'login'),\n      }), '.o-form-error-container');\n      console.error(e); // eslint-disable-line no-console\n    }\n  },\n\n  getContextualData() {\n    // to be overriden\n  }\n});\n","import { loc } from 'okta';\nimport BaseDuoAuthenticatorForm from './BaseDuoAuthenticatorForm';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseDuoAuthenticatorForm.extend({\n  title() {\n    return loc('oie.duo.verify.title', 'login');\n  },\n\n  getContextualData() {\n    return this.options.appState.get('currentAuthenticatorEnrollment').contextualData;\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc } from 'okta';\nimport BaseDuoAuthenticatorForm from './BaseDuoAuthenticatorForm';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseDuoAuthenticatorForm.extend({\n  title() {\n    return loc('oie.duo.enroll.title', 'login');\n  },\n\n  getContextualData() {\n    return this.options.appState.get('currentAuthenticator').contextualData;\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import hbs from 'handlebars-inline-precompile';\nimport { View } from 'okta';\n\n// Courage doesn't support HTML, hence creating a subtitle here.\nconst CheckYourEmailTitle = View.extend({\n  className: 'okta-form-subtitle',\n  attributes: {\n    'data-se': 'o-form-explain',\n  },\n  template: hbs`\n      {{#if email}}\n        {{i18n \n            code=\"oie.email.verify.alternate.magicLinkToEmailAddress\" \n            bundle=\"login\" \n            arguments=\"email\" \n            $1=\"<span class='strong'>$1</span>\"\n        }}\n      {{else}}\n        {{i18n \n          code=\"oie.email.verify.alternate.magicLinkToYourEmail\" \n          bundle=\"login\"\n        }}\n      {{/if}}\n      \n      {{#if useEmailMagicLinkValue}}\n        {{i18n \n          code=\"oie.email.verify.alternate.instructions\" \n          bundle=\"login\" \n        }}\n      {{else}}\n        {{i18n \n          code=\"oie.email.verify.alternate.verificationCode.instructions\" \n          bundle=\"login\" \n        }}\n      {{/if}}\n    `,\n  \n  getTemplateData() {\n    return this.options;\n  },\n});\n  \nconst EnterCodeLink = View.extend({\n  template: hbs`\n      <button \n        class=\"button-link enter-auth-code-instead-link\"\n      >\n          {{i18n code=\"oie.email.verify.alternate.show.verificationCode.text\"}}\n      </button>\n    `,\n});\n\nexport function getCheckYourEmailTitle() {\n  return CheckYourEmailTitle;\n}\n\nexport function getEnterCodeLink() {\n  return EnterCodeLink;\n}","import { loc, createCallout } from 'okta';\nimport { BaseForm } from '../../internals';\nimport email from '../shared/email';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport BaseResendView from '../shared/BaseResendView';\nimport BaseFormWithPolling from '../../internals/BaseFormWithPolling';\n\nconst ResendView = BaseResendView.extend(\n  {\n    className: 'hide resend-email-view',\n    events: {\n      'click a.resend-link' : 'handelResendLink'\n    },\n\n    initialize() {\n      this.add(createCallout({\n        content: `${loc('email.code.not.received', 'login')}\n        <a class='resend-link'>${loc('email.button.resend', 'login')}</a>`,\n        type: 'warning',\n      }));\n    },\n\n    handelResendLink() {\n      this.options.appState.trigger('invokeAction', this.options.resendEmailAction);\n      // Hide warning, but reinitiate to show warning again after some threshold of polling\n      if (!this.$el.hasClass('hide')) {\n        this.$el.addClass('hide');\n      }\n      this.showCalloutAfterTimeout();\n    },\n  },\n);\n\nconst Body = BaseFormWithPolling.extend(Object.assign(\n  {\n    save() {\n      return loc('mfa.challenge.verify', 'login');\n    },\n    initialize() {\n      BaseFormWithPolling.prototype.initialize.apply(this, arguments);\n\n      this.add(ResendView, {\n        selector: '.o-form-error-container',\n        options: {\n          resendEmailAction: this.resendEmailAction,\n        }\n      });\n      this.startPolling();\n    },\n\n    saveForm() {\n      BaseForm.prototype.saveForm.apply(this, arguments);\n      this.stopPolling();\n    },\n\n    remove() {\n      BaseForm.prototype.remove.apply(this, arguments);\n      this.stopPolling();\n    },\n\n    triggerAfterError(model, error) {\n      BaseForm.prototype.triggerAfterError.apply(this, arguments);\n      const isFormPolling = !!this.polling;\n      this.stopPolling();\n\n      if (error.responseJSON?.errorSummaryKeys?.includes('idx.session.expired')) {\n        // Do NOT resume polling since session is invalid and polling is already stopped\n        return;\n      }\n\n      if (this.isRateLimitError(error)) {\n        // When polling encounter rate limit error, wait 60 sec for rate limit bucket to reset\n        // before polling again & hide error message\n        if (isFormPolling) {\n          setTimeout(() => {\n            model.trigger('clearFormError');\n          }, 0);\n        }\n        this.startPolling(60000);\n      } else {\n        this.startPolling(this.options.appState.get('dynamicRefreshInterval'));\n      }\n    },\n\n    isRateLimitError(error) {\n      return (error.responseJSON?.errorSummaryKeys?.includes('tooManyRequests') // IDX API error\n        || (error.responseJSON?.errorCode === 'E0000047') && !error.responseJSON?.errorIntent); // Standard API error\n    },\n  },\n  email,\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc, View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst BaseAuthenticatorEmailForm = BaseAuthenticatorView.prototype.Body;\n\nconst SubtitleView = View.extend({\n  template: hbs`\n    <div class=\"okta-form-subtitle\" data-se=\"o-form-explain\">\n      {{#if email}}\n        {{i18n\n          code=\"oie.email.verify.subtitle.text.with.email\"\n          bundle=\"login\"\n          arguments=\"email\"\n          $1=\"<span class='strong no-translate'>$1</span>\"\n        }}\n      {{else}}\n        {{i18n\n          code=\"oie.email.verify.subtitle.text.without.email\"\n          bundle=\"login\"\n        }}\n      {{/if}}\n    </div>\n  `,\n\n  getTemplateData() {\n    const email = this.options.appState.get('currentAuthenticatorEnrollment')?.profile?.email;\n    return {\n      email,\n    };\n  },\n});\n\nconst Body = BaseAuthenticatorEmailForm.extend(\n  {\n    title() {\n      return loc('oie.email.challenge.mfa.title', 'login');\n    },\n\n    save() {\n      return loc('oie.email.verify.primaryButton', 'login');\n    },\n\n    postRender() {\n      BaseAuthenticatorEmailForm.prototype.postRender.apply(this, arguments);\n      this.add(SubtitleView, {\n        prepend: true,\n        selector: '.o-form-info-container',\n      });\n    },\n\n    getUISchema() {\n      // Prevent from displaying radio buttons on the UI\n      const uiSchemas = BaseAuthenticatorEmailForm.prototype.getUISchema.apply(this, arguments);\n      return uiSchemas.filter(schema => schema.name !== 'authenticator.methodType');\n    },\n  },\n);\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import BaseAuthenticatorEmailView from './BaseAuthenticatorEmailView';\nimport { getCheckYourEmailTitle, getEnterCodeLink } from './AuthenticatorEmailViewUtil';\n\nconst BaseAuthenticatorEmailForm = BaseAuthenticatorEmailView.prototype.Body;\n\nconst Body = BaseAuthenticatorEmailForm.extend(\n  Object.assign({\n    noButtonBar: true,\n    resendEmailAction: 'currentAuthenticatorEnrollment-resend',\n\n    events: {\n      'click .enter-auth-code-instead-link': 'showAuthCodeEntry',\n    },\n\n    initialize() {\n      BaseAuthenticatorEmailForm.prototype.initialize.apply(this, arguments);\n\n      const { email } =\n        this.options.currentViewState.relatesTo?.value?.profile || {};\n\n      const useEmailMagicLinkValue = this.isUseEmailMagicLink();\n\n      if (useEmailMagicLinkValue) {\n        this.add(getEnterCodeLink(), {\n          prepend: true,\n          selector: '.o-form-error-container',\n        });\n      } \n\n      this.add(getCheckYourEmailTitle(), {\n        prepend: true,\n        selector: '.o-form-error-container',\n        options: { email, useEmailMagicLinkValue },\n      });\n    },\n\n    postRender() {\n      BaseAuthenticatorEmailForm.prototype.postRender.apply(this, arguments);\n      if (this.isUseEmailMagicLink()) {\n        this.showCodeEntryField(false);\n      } else {\n        this.noButtonBar = false;\n      }\n    },\n\n    isUseEmailMagicLink() {\n      const useEmailMagicLink = this.options.appState.get('currentAuthenticatorEnrollment')?.\n      contextualData?.useEmailMagicLink;\n      return useEmailMagicLink !== undefined ? useEmailMagicLink : true;\n    },\n\n    showAuthCodeEntry() {\n      this.noButtonBar = false;\n      this.render();\n\n      this.showCodeEntryField(true);\n      this.removeEnterAuthCodeInsteadLink();\n    },\n\n    showCodeEntryField(show = true) {\n      const $textField = this.$el.find('.o-form-fieldset-container');\n      $textField.toggle(show);\n    },\n\n    removeEnterAuthCodeInsteadLink() {\n      this.$el.find('.enter-auth-code-instead-link').remove();\n    },\n  })\n);\n\nexport default BaseAuthenticatorEmailView.extend({\n  Body,\n});\n","import { loc } from 'okta';\nimport BaseAuthenticatorEmailView from './BaseAuthenticatorEmailView';\nimport { getCheckYourEmailTitle, getEnterCodeLink } from './AuthenticatorEmailViewUtil';\n\nconst BaseAuthenticatorEmailForm = BaseAuthenticatorEmailView.prototype.Body;\n\nconst Body = BaseAuthenticatorEmailForm.extend(\n  Object.assign({\n    resendEmailAction: 'currentAuthenticator-resend',\n\n    initialize() {\n      BaseAuthenticatorEmailForm.prototype.initialize.apply(this, arguments);\n\n      const email = this.options.appState.get('user')?.identifier || {};\n\n      const useEmailMagicLinkValue = this.isUseEmailMagicLink();\n\n      if (useEmailMagicLinkValue !== undefined) {\n        \n        this.noButtonBar = true;\n        this.events['click .enter-auth-code-instead-link'] = 'showAuthCodeEntry';\n\n        if (useEmailMagicLinkValue) {\n          this.add(getEnterCodeLink(), {\n            prepend: true,\n            selector: '.o-form-error-container',\n          });\n        } \n  \n        this.add(getCheckYourEmailTitle(), {\n          prepend: true,\n          selector: '.o-form-error-container',\n          options: { email, useEmailMagicLinkValue },\n        });\n      } else {\n        this.subtitle = loc('oie.email.enroll.subtitle', 'login');\n      }\n    },\n\n    postRender() {\n      if (this.isUseEmailMagicLink() !== undefined) {\n        BaseAuthenticatorEmailForm.prototype.postRender.apply(this, arguments);\n        if (this.isUseEmailMagicLink()) {\n          this.showCodeEntryField(false);\n        } else {\n          this.noButtonBar = false;\n        }\n      }\n    },\n\n    isUseEmailMagicLink() {\n      return this.options.appState.get('currentAuthenticator')?.\n      contextualData?.useEmailMagicLink;\n    },\n\n    showAuthCodeEntry() {\n      this.noButtonBar = false;\n      this.render();\n\n      this.showCodeEntryField(true);\n      this.removeEnterAuthCodeInsteadLink();\n    },\n\n    showCodeEntryField(show = true) {\n      const $textField = this.$el.find('.o-form-fieldset-container');\n      $textField.toggle(show);\n    },\n\n    removeEnterAuthCodeInsteadLink() {\n      this.$el.find('.enter-auth-code-instead-link').remove();\n    },\n  })\n);\n\nexport default BaseAuthenticatorEmailView.extend({\n  Body,\n});\n","const I18N_BASE_ATTRIBUTE_ENROLL_PROFILE_MAPPINGS = {\n  /**\n   * Mapping fields in the enroll profile remediation form to their i18n label for localization.\n   */\n  'enroll-profile.userProfile.lastName': 'oie.user.profile.lastname',\n  'enroll-profile.userProfile.firstName': 'oie.user.profile.firstname',\n  'enroll-profile.userProfile.email': 'oie.user.profile.primary.email',\n  'enroll-profile.userProfile.secondEmail': 'oie.user.profile.secondary.email',\n  'enroll-profile.userProfile.middleName': 'oie.user.profile.middleName',\n  'enroll-profile.userProfile.honorificPrefix': 'oie.user.profile.honorificPrefix',\n  'enroll-profile.userProfile.honorificSuffix': 'oie.user.profile.honorificSuffix',\n  'enroll-profile.userProfile.title': 'oie.user.profile.title',\n  'enroll-profile.userProfile.displayName': 'oie.user.profile.displayName',\n  'enroll-profile.userProfile.nickName': 'oie.user.profile.nickName',\n  'enroll-profile.userProfile.profileUrl': 'oie.user.profile.profileUrl',\n  'enroll-profile.userProfile.mobilePhone': 'oie.user.profile.mobilePhone',\n  'enroll-profile.userProfile.primaryPhone': 'oie.user.profile.primaryPhone',\n  'enroll-profile.userProfile.streetAddress': 'oie.user.profile.streetAddress',\n  'enroll-profile.userProfile.city': 'oie.user.profile.city',\n  'enroll-profile.userProfile.state': 'oie.user.profile.state',\n  'enroll-profile.userProfile.zipCode': 'oie.user.profile.zipCode',\n  'enroll-profile.userProfile.postalCode': 'oie.user.profile.postalCode',\n  'enroll-profile.userProfile.countryCode': 'oie.user.profile.countryCode',\n  'enroll-profile.userProfile.postalAddress': 'oie.user.profile.postalAddress',\n  'enroll-profile.userProfile.preferredLanguage': 'oie.user.profile.preferredLanguage',\n  'enroll-profile.userProfile.locale': 'oie.user.profile.locale',\n  'enroll-profile.userProfile.timezone': 'oie.user.profile.timezone',\n  'enroll-profile.userProfile.userType': 'oie.user.profile.userType',\n  'enroll-profile.userProfile.employeeNumber': 'oie.user.profile.employeeNumber',\n  'enroll-profile.userProfile.costCenter': 'oie.user.profile.costCenter',\n  'enroll-profile.userProfile.organization': 'oie.user.profile.organization',\n  'enroll-profile.userProfile.division': 'oie.user.profile.division',\n  'enroll-profile.userProfile.department': 'oie.user.profile.department',\n  'enroll-profile.userProfile.managerId': 'oie.user.profile.managerId',\n  'enroll-profile.userProfile.manager': 'oie.user.profile.manager',\n  'enroll-profile.credentials.passcode': 'oie.password.label',\n};\n\nexport {\n  I18N_BASE_ATTRIBUTE_ENROLL_PROFILE_MAPPINGS,\n};\n","import { loc } from 'okta';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseForm.extend(Object.assign(\n  {\n    className: 'google-authenticator-challenge',\n\n    title() {\n      return loc('oie.verify.google_authenticator.otp.title', 'login');\n    },\n\n    subtitle() {\n      return loc('oie.verify.google_authenticator.otp.description', 'login');\n    },\n\n    save() {\n      return loc('mfa.challenge.verify', 'login');\n    },\n  },\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc, View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport { addCustomButton, BaseForm, BaseView } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport EnrollGoogleAuthenticatorBarcodeView from './EnrollGoogleAuthenticatorBarcodeView';\nimport EnrollAuthenticatorManualSetupView from './EnrollAuthenticatorManualSetupView';\n\nconst VIEW_TO_DISPLAY = 'viewToDisplay';\nconst viewToDisplayState = {\n  BARCODE: 'barcode',\n  MANUAL: 'manual',\n  ENTER_CODE: 'enterCode',\n};\n\nconst Body = BaseForm.extend({\n  title() {\n    return loc('oie.enroll.google_authenticator.setup.title', 'login');\n  },\n\n  noButtonBar: true,\n\n  className: 'oie-enroll-google-authenticator',\n\n  enterCodeSubtitle: View.extend({\n    template: hbs`\n      <div class=\"google-authenticator-setup-info-title enter-code-title\">\n      {{i18n code=\"oie.enroll.google_authenticator.enterCode.title\" bundle=\"login\"}}\n      </div>\n    `,\n  }),\n\n  getUISchema() {\n    const schema = BaseForm.prototype.getUISchema.apply(this, arguments);\n\n    const nextButton = addCustomButton({\n      className: 'google-authenticator-next',\n      title: loc('oform.next', 'login'),\n      attributes: {\n        style: 'display: block',\n      },\n      click: () => {\n        this.model.set(VIEW_TO_DISPLAY, viewToDisplayState.ENTER_CODE);\n      }\n    });\n\n    const verifyButton = addCustomButton({\n      className: 'google-authenticator-verify',\n      title: loc('oform.verify', 'login'),\n      click: () => {\n        this.$el.submit();\n      }\n    });\n\n    schema[0].showWhen = {\n      viewToDisplay: viewToDisplayState.ENTER_CODE,\n    };\n\n    // Add Enter Code Subtitle\n    schema.unshift({\n      View: this.enterCodeSubtitle,\n      selector: '.o-form-fieldset-container',\n      showWhen: {\n        viewToDisplay: viewToDisplayState.ENTER_CODE,\n      }\n    });\n\n    schema.push(\n      {\n        View: EnrollGoogleAuthenticatorBarcodeView,\n        selector: '.o-form-fieldset-container',\n        showWhen: {\n          viewToDisplay: viewToDisplayState.BARCODE,\n        }\n      }, {\n        View: EnrollAuthenticatorManualSetupView,\n        selector: '.o-form-fieldset-container',\n        showWhen: {\n          viewToDisplay: viewToDisplayState.MANUAL,\n        }\n      }, {\n        label: false,\n        className: 'shared-secret',\n        type: 'text',\n        placeholder: this.options.appState.get('currentAuthenticator').contextualData.sharedSecret,\n        disabled: true,\n        showWhen: {\n          viewToDisplay: viewToDisplayState.MANUAL,\n        }\n      },\n      {\n        View: nextButton,\n        showWhen: {\n          viewToDisplay: (val) => val === viewToDisplayState.BARCODE || val === viewToDisplayState.MANUAL,\n        }\n      },\n      {\n        View: verifyButton,\n        showWhen: {\n          viewToDisplay: (val) => val === viewToDisplayState.ENTER_CODE,\n        }\n      },\n    );\n    return schema;\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n  createModelClass() {\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    const local = Object.assign(\n      {\n        viewToDisplay: {\n          value: 'barcode',\n          type: 'string',\n          required: true,\n          values: [viewToDisplayState.BARCODE, viewToDisplayState.MANUAL, viewToDisplayState.ENTER_CODE],\n        }\n      },\n      ModelClass.prototype.local,\n    );\n    return ModelClass.extend({\n      local,\n    });\n  },\n});\n","import { View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\nexport default View.extend({\n  className: 'oie-enroll-google-authenticator-manual-setup',\n  template: hbs`\n      <div class=\"google-authenticator-setup-info-title manual-setup-title\">\n        {{i18n code=\"oie.enroll.google_authenticator.cannotScanBarcode.title\" bundle=\"login\"}}\n      </div>\n      <p class=\"google-authenticator-setup-info\">\n          {{i18n code=\"oie.enroll.google_authenticator.manualSetupInstructions\" bundle=\"login\"}}\n      </p>\n    `,\n});\n","import { View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\nexport default View.extend({\n  className: 'oie-enroll-google-authenticator-barcode',\n  template: hbs`\n      {{#if href}}\n      <div class=\"google-authenticator-setup-info-title barcode-setup-title\">\n        {{i18n code=\"oie.enroll.google_authenticator.scanBarcode.title\" bundle=\"login\"}}\n      </div>\n      <div class=\"qrcode-info-container\">\n        <p class=\"google-authenticator-setup-info\">\n          {{i18n code=\"oie.enroll.google_authenticator.scanBarcode.description\" bundle=\"login\"}}\n        </p>\n        <div class=\"qrcode-container\">\n          <img class=\"qrcode\" src={{href}} alt=\"qr code\"></img>\n          <a href=\"#\" class=\"cannot-scan-link\">\n            {{i18n code=\"oie.enroll.google_authenticator.scanBarcode.cannotScan\" bundle=\"login\"}}\n          </a>\n        </div>\n        </div>\n      {{/if}}\n    `,\n\n  getTemplateData() {\n    const contextualData = this.options.appState.get('currentAuthenticator').contextualData;\n    return { href: contextualData.qrcode?.href };\n  },\n\n  events: {\n    'click .cannot-scan-link': function(e) {\n      e.preventDefault();\n      this.options.model.set('viewToDisplay', 'manual');\n    }\n  },\n});\n","import { loc } from 'okta';\nimport { BaseIdPAuthenticatorBody, BaseIdpAuthenticatorView} from './BaseIdpAuthenticator';\n\nconst Body = BaseIdPAuthenticatorBody.extend({\n\n  title() {\n    const displayName = this.options.appState.getAuthenticatorDisplayName();\n    return loc('oie.idp.enroll.title', 'login', [displayName]);\n  },\n\n  subtitle() {\n    const displayName = this.options.appState.getAuthenticatorDisplayName();\n    return loc('oie.idp.enroll.description', 'login', [displayName]);\n  },\n\n  save() {\n    return loc('mfa.enroll', 'login');\n  },\n\n});\n\nexport default BaseIdpAuthenticatorView.extend({\n  Body,\n});\n","import { loc } from 'okta';\nimport { BaseIdPAuthenticatorBody, BaseIdpAuthenticatorView} from './BaseIdpAuthenticator';\n\nconst Body = BaseIdPAuthenticatorBody.extend({\n\n  title() {\n    const displayName = this.options.appState.getAuthenticatorDisplayName();\n    return loc('oie.idp.challenge.title', 'login', [displayName]);\n  },\n\n  subtitle() {\n    const displayName = this.options.appState.getAuthenticatorDisplayName();\n    return loc('oie.idp.challenge.description', 'login', [displayName]);\n  },\n\n  save() {\n    return loc('mfa.challenge.verify', 'login');\n  },\n\n});\n\nexport default BaseIdpAuthenticatorView.extend({\n  Body\n});\n","import { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from 'v2/view-builder/components/BaseAuthenticatorView';\n\nexport const BaseIdPAuthenticatorBody =  BaseForm.extend({\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.model.set('useRedirect', true);\n    this.add('<div class=\"okta-waiting-spinner\"></div>');\n  }\n});\n\nexport const BaseIdpAuthenticatorView = BaseAuthenticatorView.extend({\n  postRender() {\n    BaseAuthenticatorView.prototype.postRender.apply(this, arguments);\n    // get the error messages\n    const messages = this.options.appState.get('messages') || {};\n    // In case of failure, don't auto-redirect which will result in infinite redirects.\n    // so catch the error and render to the user.\n    if (this.settings.get('features.skipIdpFactorVerificationBtn') && !Array.isArray(messages.value)) {\n      this.$('.o-form-button-bar').hide();\n      this.$('.okta-waiting-spinner').show();\n      this.form.trigger('save', this.model);\n    } else {\n      this.$('.okta-waiting-spinner').hide();\n      this.$('.o-form-button-bar').show();\n    }\n  }\n});\n","import { loc } from 'okta';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst ON_PREM_TOKEN_CHANGE_KEY = 'errors.E0000113';\n\nconst Body = BaseForm.extend({\n\n  className: 'on-prem-authenticator-verify',\n\n  modelEvents: {\n    'error': '_checkTokenChange'\n  },\n\n  title() {\n    const vendorName =\n      this.options.appState.getAuthenticatorDisplayName() ||\n      loc('oie.on_prem.authenticator.default.vendorName', 'login');\n    return loc('oie.on_prem.verify.title', 'login', [vendorName]);\n  },\n\n  _checkTokenChange(model, convertedErrors) {\n    const errorSummaryKeys = convertedErrors?.responseJSON?.errorSummaryKeys;\n    if (errorSummaryKeys && errorSummaryKeys.includes(ON_PREM_TOKEN_CHANGE_KEY)) {\n      // this means we are in change pin, so we should clear out answer input\n      this.model.set('credentials.passcode', '');\n      this.render();\n    }\n  },\n\n  save() {\n    return loc('mfa.challenge.verify', 'login');\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc } from 'okta';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst ON_PREM_TOKEN_CHANGE_KEY = 'errors.E0000113';\n\nconst Body = BaseForm.extend({\n\n  className: 'on-prem-authenticator-enroll',\n\n  modelEvents: {\n    'error': '_checkTokenChange'\n  },\n\n  title() {\n    const vendorName =\n      this.options.appState.getAuthenticatorDisplayName() ||\n      loc('oie.on_prem.authenticator.default.vendorName', 'login');\n    return loc('oie.on_prem.enroll.title', 'login', [vendorName]);\n  },\n\n  _checkTokenChange(model, convertedErrors) {\n    const errorSummaryKeys = convertedErrors?.responseJSON?.errorSummaryKeys;\n    if (errorSummaryKeys && errorSummaryKeys.includes(ON_PREM_TOKEN_CHANGE_KEY)) {\n      // this means we are in change pin, so we should clear out answer input\n      this.model.set('credentials.passcode', '');\n      this.render();\n    }\n  },\n\n  save() {\n    return loc('mfa.challenge.verify', 'login');\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { _, createCallout } from 'okta';\nimport { BaseOktaVerifyChallengeView } from '../../internals';\nimport { getBiometricsErrorOptions } from '../../utils/ChallengeViewUtil';\n\nconst Body = BaseOktaVerifyChallengeView.extend({\n  getDeviceChallengePayload() {\n    return this.options.currentViewState.relatesTo.value.contextualData.challenge.value;\n  },\n\n  showCustomFormErrorCallout(error) {\n    const options = getBiometricsErrorOptions(error, false);\n    \n    // If not biometrics error, just show the returned error message\n    if (_.isEmpty(options)) {\n      return false;\n    }\n\n    this.showMessages(createCallout(options));\n    return true;\n  },\n});\n\nexport default Body;\n","import { loc, createCallout } from 'okta';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst OV_NMC_FORCE_UPGRAGE_SERVER_KEY = 'oie.authenticator.app.method.push.force.upgrade.number_challenge';\nconst OV_UV_ENABLE_BIOMETRIC_SERVER_KEY = 'oie.authenticator.app.method.push.verify.enable.biometrics';\n\nconst Body = BaseForm.extend(Object.assign(\n  {\n    className: 'okta-verify-resend-push',\n\n    title() {\n      return loc('oie.okta_verify.push.title', 'login');\n    },\n\n    save() {\n      return loc('oie.okta_verify.push.resend', 'login');\n    },\n\n    showMessages() {\n      let options = {};\n      if (this.options.appState.containsMessageWithI18nKey(OV_NMC_FORCE_UPGRAGE_SERVER_KEY)) {\n        // add a title for OV force upgrade\n        options.title = loc('oie.numberchallenge.force.upgrade.title', 'login');\n      } else if (this.options.appState.containsMessageWithI18nKey(OV_UV_ENABLE_BIOMETRIC_SERVER_KEY)) {\n        // add a title for OV enable biometrics message during verification\n        options.content = null;\n        options.className = 'okta-verify-uv-callout-content';\n        options.title = loc('oie.authenticator.app.method.push.verify.enable.biometrics.title', 'login');\n        options.subtitle = loc('oie.authenticator.app.method.push.verify.enable.biometrics.description', 'login');\n        options.type = 'error';\n        options.bullets = [\n          loc('oie.authenticator.app.method.push.verify.enable.biometrics.point1', 'login'),\n          loc('oie.authenticator.app.method.push.verify.enable.biometrics.point2', 'login'),\n          loc('oie.authenticator.app.method.push.verify.enable.biometrics.point3', 'login')\n        ];\n        options = createCallout(options);\n      }\n      BaseForm.prototype.showMessages.call(this, options);\n    },\n  },\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport { BaseForm } from '../../internals';\nimport { loc, createCallout, _ } from 'okta';\nimport { getBiometricsErrorOptions } from '../../utils/ChallengeViewUtil';\n\n// for EA,\n// redirect is needed for Apple SSO Extension to intercept the request, because\n// - XHR request is not interceptable\n// - form post is interceptable, but some app (Outlook) closes the app after\n// We may have a different approach/UX for GA\nconst Body = BaseForm.extend({\n  noButtonBar: true,\n\n  className: 'ion-form device-challenge-poll',\n\n  title() {\n    return loc('deviceTrust.sso.redirectText', 'login');\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n\n    this.listenTo(this.model, 'error', () => {\n      this.$('.spinner').hide();\n    });\n    this.add('<div class=\"credential-sso-extension\"><div class=\"spinner\"></div></div>');\n\n    const isGetMethod = this.options.currentViewState?.method?.toLowerCase() === 'get';\n    this.model.set('useRedirect', isGetMethod);\n    this.trigger('save', this.model);\n  },\n\n  showCustomFormErrorCallout(error) {\n    const options = getBiometricsErrorOptions(error, false);\n    \n    // If not biometrics error, just show the returned error message\n    if (_.isEmpty(options)) {\n      return false;\n    }\n\n    this.showMessages(createCallout(options));\n    return true;\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc, createCallout } from 'okta';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst OV_UV_ENABLE_BIOMETRIC_SERVER_KEY = 'oie.authenticator.oktaverify.method.totp.verify.enable.biometrics';\n\nconst Body = BaseForm.extend(Object.assign(\n  {\n    className: 'okta-verify-totp-challenge',\n\n    title() {\n      return loc('oie.okta_verify.totp.title', 'login');\n    },\n\n    save() {\n      return loc('mfa.challenge.verify', 'login');\n    },\n\n    showCustomFormErrorCallout(error) {\n      const errorSummaryKeys = error?.responseJSON?.errorSummaryKeys;\n      let options;\n      if (errorSummaryKeys && errorSummaryKeys.includes(OV_UV_ENABLE_BIOMETRIC_SERVER_KEY)) {\n        options = {\n          type: 'error',\n          className: 'okta-verify-uv-callout-content',\n          title: loc('oie.authenticator.app.method.push.verify.enable.biometrics.title', 'login'),\n          subtitle: loc('oie.authenticator.app.method.push.verify.enable.biometrics.description', 'login'),\n          bullets: [\n            loc('oie.authenticator.app.method.push.verify.enable.biometrics.point1', 'login'),\n            loc('oie.authenticator.app.method.push.verify.enable.biometrics.point2', 'login'),\n            loc('oie.authenticator.app.method.push.verify.enable.biometrics.point3', 'login')\n          ],\n        };\n        this.showMessages(createCallout(options));\n        return true;\n      }\n    },\n  },\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport { Body as ChallengePushViewBody } from '../shared/ChallengePushView';\nimport ChallengeOktaVerifyFastPassView from './ChallengeOktaVerifyFastPassView';\nimport NumberChallengePushView from './NumberChallengePushView';\nimport { AUTHENTICATOR_METHODS } from '../../../ion/RemediationConstants';\n\nexport default BaseAuthenticatorView.extend({\n  initialize() {\n    BaseAuthenticatorView.prototype.initialize.apply(this, arguments);\n    const currentAuthenticator = this.options?.appState?.get('currentAuthenticator');\n    const selectedMethod = currentAuthenticator?.methods[0];\n    if (selectedMethod?.type === AUTHENTICATOR_METHODS.PUSH &&\n      currentAuthenticator?.contextualData?.correctAnswer) {\n      this.Body = NumberChallengePushView;\n    } else if (selectedMethod?.type === AUTHENTICATOR_METHODS.PUSH) {\n      this.Body = ChallengePushViewBody;\n    } else {\n      this.Body = ChallengeOktaVerifyFastPassView;\n    }\n  },\n});\n","import { View, _ } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\nexport default View.extend({\n  template: hbs`\n      {{#if href}}\n        <ol class=\"qrcode-info ov-info\">\n          <li>{{i18n code=\"oie.enroll.okta_verify.qrcode.step1\" bundle=\"login\"}}</li>\n          <li>{{i18n code=\"oie.enroll.okta_verify.qrcode.step2\" bundle=\"login\"}}</li>\n          <li>{{i18n code=\"oie.enroll.okta_verify.qrcode.step3\" bundle=\"login\"}}</li>\n        </ol>\n        <div class=\"qrcode-container\">\n          <img class=\"qrcode\" src={{href}} alt=\"{{i18n code=\"mfa.altQrCode\" bundle=\"login\" }}\"></img>\n        </div>\n      {{/if}}\n      {{#if email}}\n        <ul class=\"email-info ov-info\">\n          <li>{{{i18n code=\"oie.enroll.okta_verify.email.info\" bundle=\"login\" arguments=\"email\"}}}</li>\n          <li class=\"switch-channel-content\"></li>\n        </ul>\n      {{/if}}\n      {{#if phoneNumber}}\n        <ul class=\"sms-info ov-info\">\n          <li>{{{i18n code=\"oie.enroll.okta_verify.sms.info\" bundle=\"login\" arguments=\"phoneNumber\"}}}</li>\n          <li class=\"switch-channel-content\"></li>\n        </ul>\n      {{/if}}\n    `,\n  getTemplateData() {\n    const contextualData = this.options.appState.get('currentAuthenticator').contextualData;\n    return {\n      href: contextualData.qrcode?.href,\n      email: _.escape(contextualData?.email),\n      phoneNumber:  _.escape(contextualData?.phoneNumber),\n    };\n  }\n});\n","import { loc } from 'okta';\nimport { BaseFormWithPolling } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport polling from '../shared/polling';\nimport OVResendView from './OVResendView';\nimport SwitchEnrollChannelLinkView from './SwitchEnrollChannelLinkView';\nimport EnrollChannelPollDescriptionView from './EnrollChannelPollDescriptionView';\n\nconst OV_FORCE_FIPS_COMPLIANCE_UPGRAGE_KEY_IOS =\n  'oie.authenticator.app.non_fips_compliant_enrollment_device_incompatible';\nconst OV_FORCE_FIPS_COMPLIANCE_UPGRAGE_KEY_NON_IOS =\n  'oie.authenticator.app.non_fips_compliant_enrollment_app_update_required';\nconst OV_QR_ENROLL_ENABLE_BIOMETRICS_KEY = 'oie.authenticator.app.method.push.enroll.enable.biometrics';\n\nconst Body = BaseFormWithPolling.extend(Object.assign(\n  {\n    title() {\n      const selectedChannel = this.options.appState.get('currentAuthenticator').contextualData.selectedChannel;\n      let title;\n      switch (selectedChannel) {\n      case 'email':\n        title = loc('oie.enroll.okta_verify.setup.email.title', 'login');\n        break;\n      case 'sms':\n        title = loc('oie.enroll.okta_verify.setup.sms.title', 'login');\n        break;\n      default:\n        title = loc('oie.enroll.okta_verify.setup.title', 'login');\n      }\n      return title;\n    },\n    className: 'oie-enroll-ov-poll',\n    noButtonBar: true,\n    initialize() {\n      BaseFormWithPolling.prototype.initialize.apply(this, arguments);\n      this.listenTo(this.model, 'error', this.stopPolling);\n      this.startPolling();\n    },\n    showMessages() {\n      // override showMessages to display custom callout\n      const calloutOptions = {};\n      if (this.options.appState.containsMessageWithI18nKey(OV_FORCE_FIPS_COMPLIANCE_UPGRAGE_KEY_IOS) ||\n        this.options.appState.containsMessageWithI18nKey(OV_FORCE_FIPS_COMPLIANCE_UPGRAGE_KEY_NON_IOS)) {\n        // add a title for ov force upgrade\n        calloutOptions.title = loc('oie.okta_verify.enroll.force.upgrade.title', 'login');\n      } else if (this.options.appState.containsMessageWithI18nKey(OV_QR_ENROLL_ENABLE_BIOMETRICS_KEY)) {\n        // add a title for OV enable biometrics message during enrollment\n        calloutOptions.title = loc('oie.authenticator.app.method.push.enroll.enable.biometrics.title', 'login');\n      }\n      BaseFormWithPolling.prototype.showMessages.call(this, calloutOptions);\n    },\n    getUISchema() {\n      const schema = [];\n      const contextualData = this.options.appState.get('currentAuthenticator').contextualData;\n      const selectedChannel = contextualData.selectedChannel;\n      schema.push({\n        View: EnrollChannelPollDescriptionView,\n      });\n      schema.push({\n        View: SwitchEnrollChannelLinkView,\n        options: {\n          selectedChannel\n        },\n        selector: selectedChannel === 'qrcode' ? '.qrcode-container' : '.switch-channel-content',\n      });\n      if (['email', 'sms'].includes(selectedChannel)) {\n        schema.push({\n          View: OVResendView,\n          selector: '.o-form-error-container',\n        });\n      }\n      return schema;\n    },\n    remove() {\n      BaseFormWithPolling.prototype.remove.apply(this, arguments);\n      this.stopPolling();\n    },\n  },\n\n  polling,\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc, _, Model } from 'okta';\nimport { BaseForm, BaseView } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport CountryUtil from '../../../../util/CountryUtil';\nimport SwitchEnrollChannelLinkView from './SwitchEnrollChannelLinkView';\n\nconst Body = BaseForm.extend({\n  className: 'oie-enroll-ov-data',\n  title() {\n    return this.options.appState.get('currentAuthenticator').contextualData.selectedChannel === 'email' ?\n      loc('oie.enroll.okta_verify.enroll.channel.email.title', 'login'):\n      loc('oie.enroll.okta_verify.enroll.channel.sms.title', 'login');\n  },\n\n  save() {\n    return loc('oie.enroll.okta_verify.setupLink', 'login');\n  },\n\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    const phoneNumberUISchema = _.find(uiSchemas, ({ name }) => name === 'phoneNumber');\n    const phoneNumberUISchemaIndex = _.findIndex(uiSchemas, ({ name }) => name === 'phoneNumber');\n\n    const countryUISchema = {\n      'label-top': true,\n      label: loc('country.label', 'login'),\n      type: 'select',\n      options: CountryUtil.getCountries(),\n      name: 'country',\n      wide: true,\n    };\n\n    // Create an input group - serves as a display wrapper\n    const phoneNumberWithCodeUISchema = {\n      label: loc('mfa.phoneNumber.placeholder', 'login'),\n      type: 'group',\n      modelType: 'string',\n      'label-top': true,\n      name: 'phoneCode',\n      input: [\n        {\n          type: 'label',\n          /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n          label: `+${this.model.get('phoneCode')}`,\n          className: 'country-code-label no-translate',\n        },\n        Object.assign({}, phoneNumberUISchema),\n      ],\n    };\n\n    if (phoneNumberUISchemaIndex !== -1) {\n      // Replace phoneNumberUISchema and add countryUISchema before phone.\n      uiSchemas.splice(phoneNumberUISchemaIndex, 1, countryUISchema, phoneNumberWithCodeUISchema);\n    }\n\n    const description = {\n      View: this.options.appState.get('currentAuthenticator').contextualData.selectedChannel === 'email' ?\n        loc('oie.enroll.okta_verify.channel.email.description', 'login'):\n        loc('oie.enroll.okta_verify.channel.sms.description', 'login'),\n      selector: '.o-form-fieldset-container',\n    };\n\n    uiSchemas.push(description);\n    return uiSchemas;\n  },\n\n  handlePhoneCodeChange() {\n    const countryCodeField = this.el.querySelector('.country-code-label');\n    countryCodeField.innerText = `+${this.model.get('phoneCode')}`;\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    if (this.options.appState.get('currentAuthenticator').contextualData.selectedChannel === 'sms') {\n      this.listenTo(this.model, 'change:phoneCode', this.handlePhoneCodeChange.bind(this));\n    }\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n  createModelClass() {\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    if (this.options.appState.get('currentAuthenticator').contextualData.selectedChannel !== 'sms') {\n      return ModelClass;\n    }\n    const local = Object.assign(\n      {\n        country: {\n          // Set default country to \"US\"\n          'value': 'US',\n          'type': 'string',\n        },\n      },\n      ModelClass.prototype.local,\n    );\n    const derived = Object.assign(\n      {\n        phoneCode: {\n          deps: [ 'country'],\n          fn: function(country) {\n            return CountryUtil.getCallingCodeForCountry(country);\n          },\n        },\n      },\n      ModelClass.prototype.derived,\n    );\n    return ModelClass.extend({\n      local,\n      derived,\n      toJSON: function() {\n        const modelJSON = Model.prototype.toJSON.call(this, arguments);\n        const phoneCode = this.get('phoneCode');\n\n        // Add country code..\n        let formattedPhoneNumber = `+${phoneCode}${modelJSON.phoneNumber}`;\n\n        // Override phone with formatted number..\n        modelJSON.phoneNumber = formattedPhoneNumber;\n        return modelJSON;\n      },\n    });\n  },\n  postRender() {\n    this.add(SwitchEnrollChannelLinkView, 'form');\n  },\n});\n","import { View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\nconst NumberChallengePhoneView = View.extend({\n  className: 'number-challenge-section',\n  template: hbs`\n     <p>\n     {{i18n\n      code=\"oie.numberchallenge.instruction\"\n      bundle=\"login\"\n      arguments=\"correctAnswer\"\n      $1=\"<span class='strong'>$1</span>\"}}\n     </p>\n    <div class=\"phone no-translate\">\n      <div class=\"phone--body\">\n        <div class=\"phone--screen\">\n          <span class=\"phone--number\" data-se=\"challenge-number\">{{correctAnswer}}</span>\n        </div>\n        <div class=\"phone--home-button\"></div>\n      </div>\n    </div>\n  `,\n  getTemplateData() {\n    const correctAnswer = this.options.appState.get('currentAuthenticator')?.contextualData?.correctAnswer;\n    return {\n      correctAnswer\n    };\n  },\n});\n\n\nexport default NumberChallengePhoneView;\n","import { loc } from 'okta';\nimport { BaseFormWithPolling } from '../../internals';\nimport polling from '../shared/polling';\nimport ResendNumberChallengeView from './ResendNumberChallengeView';\nimport NumberChallengePhoneView from './NumberChallengePhoneView';\n\nconst Body = BaseFormWithPolling.extend(Object.assign(\n  {\n    noButtonBar: true,\n\n    className: 'okta-verify-number-challenge',\n\n    events: {\n      'click a.resend-number-challenge': 'handleResendNumberChallenge'\n    },\n\n    handleResendNumberChallenge() {\n      this.options.appState.trigger('invokeAction', 'currentAuthenticator-resend');\n      // hide the warning\n      this.options.appState.trigger('hideNumberChallengeWarning');\n    },\n\n    title() {\n      return loc('oie.okta_verify.push.sent', 'login');\n    },\n\n    initialize() {\n      BaseFormWithPolling.prototype.initialize.apply(this, arguments);\n      this.add(NumberChallengePhoneView);\n    },\n\n    triggerAfterError() {\n      BaseFormWithPolling.prototype.triggerAfterError.apply(this, arguments);\n      this.stopPolling();\n      this.$el.find('.o-form-fieldset-container').empty();\n    },\n\n    postRender() {\n      BaseFormWithPolling.prototype.postRender.apply(this, arguments);\n      this.startPoll();\n    },\n\n    startPoll() {\n      this.startPolling();\n      this.addWarning();\n    },\n\n    stopPoll() {\n      this.stopPolling();\n    },\n\n    addWarning() {\n      this.add(ResendNumberChallengeView, '.o-form-error-container');\n      this.options.appState.trigger('showNumberChallengeWarning');\n    },\n\n    remove() {\n      BaseFormWithPolling.prototype.remove.apply(this, arguments);\n      this.stopPolling();\n    },\n  },\n\n  polling,\n));\n\nexport default Body;\n","import { createCallout } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport BaseResendView from '../shared/BaseResendView';\n\nexport default BaseResendView.extend({\n  //only show after certain threshold of polling\n  className: 'hide resend-ov-link-view',\n  events: {\n    'click a.resend-link' : 'handelResendLink'\n  },\n\n  initialize() {\n    const selectedChannel = this.options.appState.get('currentAuthenticator').contextualData.selectedChannel;\n    this.add(createCallout({\n      content: selectedChannel === 'email' ?\n        hbs `{{{i18n code=\"oie.enroll.okta_verify.email.notReceived\" bundle=\"login\"}}}`:\n        hbs `{{{i18n code=\"oie.enroll.okta_verify.sms.notReceived\" bundle=\"login\"}}}`,\n      type: 'warning',\n    }));\n  },\n\n  handelResendLink() {\n    this.options.appState.trigger('invokeAction', 'currentAuthenticator-resend');\n    //hide warning, but reinitiate to show warning again after some threshold of polling\n    this.$el.addClass('hide');\n    this.showCalloutAfterTimeout();\n  },\n});\n","import { _, View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport { WARNING_TIMEOUT } from '../../utils/Constants';\n\nconst ResendNumberChallengeView = View.extend({\n  initialize() {\n    this.listenTo(this.options.appState, 'showNumberChallengeWarning',  () => {\n      this.startWarningTimeout();\n    });\n\n    this.listenTo(this.options.appState, 'hideNumberChallengeWarning', () => {\n      this.clearWarning();\n    });\n  },\n  className: 'resend-number-challenge-warning hide',\n  template: hbs`\n      <div class=\"okta-form-infobox-warning infobox infobox-warning\">\n        <span class=\"icon warning-16\"></span>\n        <p>{{i18n\n          code=\"oie.numberchallenge.warning\"\n          bundle=\"login\"\n          $1=\"<a href='#' class='resend-number-challenge'>$1</a>\"}}\n        </p>\n      </div>\n  `,\n  showWarning() {\n    this.$el.removeClass('hide');\n  },\n  clearWarning() {\n    this.$el.addClass('hide');\n    clearTimeout(this.warningTimeout);\n    this.startWarningTimeout();\n  },\n  startWarningTimeout() {\n    this.warningTimeout = setTimeout(_.bind(function() {\n      this.showWarning();\n    }, this), WARNING_TIMEOUT);\n  }\n});\n\nexport default ResendNumberChallengeView;\n","import { loc, _ } from 'okta';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport BrowserFeatures from '../../../../util/BrowserFeatures';\n\nconst Body = BaseForm.extend({\n  title() {\n    return (BrowserFeatures.isAndroid() || BrowserFeatures.isIOS())\n      ? loc('oie.enroll.okta_verify.setup.title', 'login')\n      : loc('oie.enroll.okta_verify.select.channel.title', 'login');\n  },\n  getUISchema() {\n    const schemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    // filter selected channel\n    const channelField = _.find(schemas, (schema) => schema.name === 'authenticator.channel');\n    channelField.options = _.filter(channelField?.options, (option) =>\n      option.value !== this.options.appState.get('currentAuthenticator')?.contextualData?.selectedChannel);\n    channelField.value = channelField.options[0]?.value;\n    channelField.sublabel = null;\n    this.model.set('authenticator.channel', channelField.value);\n    const description = {\n      View: loc('oie.enroll.okta_verify.select.channel.description', 'login'),\n      selector: '.o-form-fieldset-container',\n    };\n    return [description, ...schemas];\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport { FORMS as RemediationForms } from '../../../ion/RemediationConstants';\n\nexport default View.extend({\n  className: 'switch-channel-text',\n  template: hbs `\n    {{#if isQRcodeChannel}}\n      <a href=\"#\" class=\"switch-channel-link\" aria-label=\"{{i18n code=\"enroll.totp.aria.cannotScan\" bundle=\"login\" }}\">\n        {{i18n code=\"enroll.totp.cannotScan\" bundle=\"login\"}}</a>\n    {{else}}\n      {{{i18n code=\"oie.enroll.okta_verify.switch.channel.link.text\" bundle=\"login\"}}}\n    {{/if}}`,\n  getTemplateData() {\n    return {\n      isQRcodeChannel: this.options.appState.get('currentAuthenticator').contextualData.selectedChannel === 'qrcode',\n    };\n  },\n  postRender() {\n    this.$el.find('.switch-channel-link').on('click', (event) => {\n      const appState = this.options.appState;\n      event.preventDefault();\n      appState.trigger('switchForm', RemediationForms.SELECT_ENROLLMENT_CHANNEL);\n    });\n  },\n});\n","import { loc } from 'okta';\nimport { BaseForm } from '../../internals';\nimport AuthenticatorFooter from '../../components/AuthenticatorFooter';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport { getForgotPasswordLink } from '../../utils/LinksUtil';\nimport { isCustomizedI18nKey } from '../../../ion/i18nTransformer';\n\n\nconst Body = BaseForm.extend({\n\n  title: function() {\n    return loc('oie.password.challenge.title', 'login');\n  },\n\n  save: function() {\n    return loc('mfa.challenge.verify', 'login');\n  },\n\n  /**\n   * Update UI schemas for customization from .widgetrc.js or Admin Customization settings page.\n   * @returns Array\n   */\n  getUISchema() {\n    const schemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n\n    const { settings } = this.options;\n    const passwordExplainLabeli18nKey = 'primaryauth.password.tooltip';\n\n    const passwordSchema = schemas.find(({name}) => name === 'credentials.passcode');\n\n    if (passwordSchema && isCustomizedI18nKey(passwordExplainLabeli18nKey, settings)) {\n      passwordSchema.explain = loc(passwordExplainLabeli18nKey, 'login');\n      passwordSchema['explain-top'] = true;\n    }\n\n    return schemas;\n  },\n\n});\n\nconst Footer = AuthenticatorFooter.extend({\n  links: function() {\n    let links = AuthenticatorFooter.prototype.links.apply(this, arguments);\n\n    links = getForgotPasswordLink(this.options.appState, this.options.settings).concat(links);\n\n    return links;\n  }\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n  Footer,\n});\n","import { loc } from 'okta';\nimport { BaseForm, BaseView } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport {\n  getPasswordComplexityDescriptionForHtmlList,\n  removeRequirementsFromError } from '../../utils/AuthenticatorUtil';\nimport { generatePasswordPolicyHtml } from './PasswordPolicyUtil';\n\nconst Body = BaseForm.extend({\n  title() {\n    return loc('oie.password.enroll.title', 'login');\n  },\n  save() {\n    return loc('oform.next', 'login');\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    const policy = this.getPasswordPolicySettings();\n    this.displayPasswordPolicy(policy);\n  },\n\n  displayPasswordPolicy(policy) {\n    if (policy) {\n      const rulesList = getPasswordComplexityDescriptionForHtmlList( policy );\n      generatePasswordPolicyHtml(this, rulesList, true);\n    }\n  },\n\n  triggerAfterError(model, error) {\n    error.responseJSON = removeRequirementsFromError(error.responseJSON);\n    this.options.appState.trigger('afterError', error);\n  },\n\n  getPasswordPolicySettings() {\n    // This will be overridden by following scenario since the policies could be different for those.\n    // - password reset (`ReEnrollAuthenticatorPasswordView.js`)\n    //\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    return relatesToObject?.value?.settings;\n  },\n\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    const confirmPassword = {\n      name: 'confirmPassword',\n      label: loc('oie.password.confirmPasswordLabel','login'),\n      type: 'password',\n      'label-top': true,\n      params: {\n        showPasswordToggle: this.settings.get('showPasswordToggle'),\n      }\n    };\n\n    const updatedSchema = [];\n\n    for (let field of uiSchemas) {\n      updatedSchema.push(field);\n      if (field.name === 'credentials.passcode') {\n        updatedSchema.push(confirmPassword);\n      }\n    }\n\n    return updatedSchema;\n  }\n});\n\nexport default BaseAuthenticatorView.extend({\n\n  Body,\n\n  createModelClass() {\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    const local = Object.assign(\n      {\n        confirmPassword: {\n          type: 'string',\n          required: true,\n        }\n      },\n      ModelClass.prototype.local,\n    );\n    return ModelClass.extend({\n      local,\n      validate() {\n        if (this.get('credentials.passcode') !== this.get('confirmPassword') &&\n            this.get('credential.value') !== this.get('confirmPassword')) {\n          const errors = {\n            'confirmPassword': loc('password.error.match', 'login'),\n          };\n          return errors;\n        } else {\n          return null;\n        }\n      }\n    });\n  }\n});\n","import { View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\nconst generatePasswordPolicyHtml = function(form, rulesList, prepend) {\n  form.add(\n    View.extend({\n      tagName: 'section',\n      template:\n        hbs`<div class=\"password-authenticator--heading\">\n        {{i18n code=\"password.complexity.requirements.header\" bundle=\"login\"}}\n      </div>\n      <ul class=\"password-authenticator--list\">\n        {{#each rulesList}}<li>{{this}}</li>{{/each}}\n      </ul>`,\n      getTemplateData: () => ({ rulesList }),\n      attributes: {\n        'data-se': 'password-authenticator--rules'\n      }\n    }),\n    {\n      prepend,\n      selector: '.o-form-fieldset-container',\n    }\n  );\n};\n\nexport {\n  generatePasswordPolicyHtml,\n};","import { loc } from 'okta';\nimport EnrollAuthenticatorPasswordView from './EnrollAuthenticatorPasswordView';\n\nconst Body = EnrollAuthenticatorPasswordView.prototype.Body.extend({\n\n  className: 'password-authenticator',\n\n  title() {\n    const title = this.options.settings.get('brandName')?\n      loc('password.expired.title.specific', 'login', [this.options.settings.get('brandName')]):\n      loc('password.expired.title.generic', 'login');\n    return title;\n  },\n\n  save() {\n    return loc('password.expired.submit', 'login');\n  },\n\n  getPasswordPolicySettings() {\n    return this.options.appState.get('recoveryAuthenticator')?.settings\n      || this.options.appState.get('enrollmentAuthenticator')?.settings;\n  },\n\n});\n\nexport default EnrollAuthenticatorPasswordView.extend({ Body });\n","import { loc } from 'okta';\nimport { BaseFooter } from '../../internals';\nimport EnrollAuthenticatorPasswordView from './EnrollAuthenticatorPasswordView';\n\nconst Body = EnrollAuthenticatorPasswordView.prototype.Body.extend({\n  className: 'password-authenticator',\n  subtitle() {\n    if (this.options.settings.get('brandName')) {\n      return loc('password.expiring.subtitle.specific', 'login', [this.options.settings.get('brandName')]);\n    }\n  },\n  title() {\n    const passwordPolicy = this.getPasswordPolicySettings() || {};\n    const daysToExpiry = passwordPolicy.daysToExpiry;\n\n    if (daysToExpiry > 0) {\n      return loc('password.expiring.title', 'login', [daysToExpiry]);\n    } else if (daysToExpiry === 0) {\n      return loc('password.expiring.today', 'login');\n    } else {\n      return loc('password.expiring.soon', 'login');\n    }\n  },\n\n  save() {\n    return loc('password.expired.submit', 'login');\n  },\n  showMessages() {\n    // if brandName is configured and messages is present, render as subtitle with brandName in context\n    if (this.options.settings.get('brandName')) {\n      return null;\n    }\n    // else if brandName is not set, render messages object sent from server as text\n    EnrollAuthenticatorPasswordView.prototype.Body.prototype.showMessages.apply(this, arguments);\n  },\n});\n\nconst Footer = BaseFooter.extend({\n  links() {\n    const links = [];\n    if (this.options.appState.hasRemediationObject('skip')) {\n      links.push({\n        'type': 'link',\n        'label': loc('password.expiring.later', 'login'),\n        'name': 'skip',\n        'actionPath': 'skip',\n      });\n    }\n    return links;\n  }\n});\n\nexport default EnrollAuthenticatorPasswordView.extend({ Body, Footer });\n","import { loc } from 'okta';\nimport EnrollAuthenticatorPasswordView from './EnrollAuthenticatorPasswordView';\n\nconst Body = EnrollAuthenticatorPasswordView.prototype.Body.extend({\n\n  className: 'password-authenticator',\n\n  title() {\n    const title = this.options.settings.get('brandName')?\n      loc('password.reset.title.specific', 'login', [this.options.settings.get('brandName')]):\n      loc('password.reset.title.generic', 'login');\n    return title;\n  },\n\n  save() {\n    return loc('password.reset', 'login');\n  },\n\n});\n\nexport default EnrollAuthenticatorPasswordView.extend({ Body });\n","import { _, loc } from 'okta';\nimport { BaseForm, BaseView } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseForm.extend(\n  {\n    className: 'phone-authenticator-challenge',\n    events: {\n      'click a.phone-authenticator-challenge__link' : 'handleSecondaryLinkClick'\n    },\n\n    title() {\n      return loc('oie.phone.verify.title', 'login');\n    },\n\n    save() {\n      return (this.model.get('primaryMode') === 'sms')\n        ? loc('oie.phone.sms.primaryButton', 'login')\n        : loc('oie.phone.call.primaryButton', 'login');\n    },\n\n    handleSecondaryLinkClick(e) {\n      e.preventDefault();\n      // Call the API to send a code via secondary mode\n      const secondaryMode = this.model.get('secondaryMode');\n      this.model.set('authenticator.methodType', secondaryMode);\n      this.saveForm(this.model);\n    },\n\n    initialize() {\n      // This is needed when user clicks on secondary (say voice) and call fails with ratelimit server-side error.\n      // Then the user clicks primary button (say sms) and right methodType needs to be sent.\n      this.model.on('error', () => this.model.set('authenticator.methodType', this.model.get('primaryMode')));\n      BaseForm.prototype.initialize.apply(this, arguments);\n      const sendText = ( this.model.get('primaryMode') === 'sms' )\n        ? loc('oie.phone.verify.sms.sendText', 'login')\n        : loc('oie.phone.verify.call.sendText', 'login');\n      const carrierChargesText = loc('oie.phone.carrier.charges', 'login');\n      const extraCssClasses =\n        this.model.get('phoneNumber') !== loc('oie.phone.alternate.title', 'login') ?\n          'strong no-translate' : '';\n      // Courage doesn't support HTML, hence creating a subtitle here.\n      this.add(`<div class=\"okta-form-subtitle\" data-se=\"o-form-explain\">${sendText}\n        <span ${ extraCssClasses ? 'class=\"' + extraCssClasses + '\"' : ''}>${this.model.escape('phoneNumber')}</span>\n        <p>${carrierChargesText}</p>\n      </div>`);\n    },\n\n    getUISchema() {\n      // Change the UI schema to not display radios here.\n      const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n      return uiSchemas.filter(schema => schema.name !== 'authenticator.methodType');\n    },\n\n    render() {\n      BaseForm.prototype.render.apply(this, arguments);\n      const secondaryMode = this.model.get('secondaryMode');\n      if (secondaryMode) {\n        const secondaryButtonTitle = (secondaryMode === 'sms')\n          ? loc('oie.phone.sms.secondaryButton', 'login')\n          : loc('oie.phone.call.secondaryButton', 'login');\n        this.add(\n          `<a href=\"#\"\n            class=\"link phone-authenticator-challenge__link\"\n            data-se=\"phone-authenticator-challenge__link\">${secondaryButtonTitle}</a>`,\n          '.o-form-button-bar');\n      }\n    },\n  },\n);\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n\n  createModelClass({ uiSchema }) {\n    // It is important to get methods from here to maintain single source of truth.\n    const { options: methods } = _.find(uiSchema, schema => schema.name === 'authenticator.methodType');\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    const { profile } = relatesToObject?.value || {};\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    const local = Object.assign({\n      primaryMode: {\n        'value': methods[0].value,\n        'type': 'string',\n      },\n      secondaryMode: {\n        'value': methods[1] && methods[1].value,\n        'type': 'string',\n      },\n      phoneNumber: {\n        'value': profile?.phoneNumber ? profile.phoneNumber : loc('oie.phone.alternate.title', 'login'),\n        'type': 'string',\n      },\n    }, ModelClass.prototype.local);\n    return ModelClass.extend({ local });\n  },\n});\n","import { loc, createCallout } from 'okta';\nimport { BaseForm, BaseView } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport BaseResendView from '../shared/BaseResendView';\n\nconst ResendView = BaseResendView.extend(\n  {\n    // To be shown after a timeout\n    className: 'phone-authenticator-challenge__resend-warning hide',\n    events: {\n      'click a.resend-link': 'handleResendLink'\n    },\n\n    // Override this to change the resend action location from response\n    resendActionKey: 'currentAuthenticatorEnrollment-resend',\n\n    initialize() {\n      const resendText = (this.model.get('mode') === 'sms')\n        ? loc('oie.phone.verify.sms.resendText', 'login')\n        : loc('oie.phone.verify.call.resendText', 'login');\n      const linkText = (this.model.get('mode') === 'sms')\n        ? loc('oie.phone.verify.sms.resendLinkText', 'login')\n        : loc('oie.phone.verify.call.resendLinkText', 'login');\n      this.add(createCallout({\n        content: `${resendText}&nbsp;<a class='resend-link'>${linkText}</a>`,\n        type: 'warning',\n      }));\n    },\n\n    handleResendLink() {\n      this.options.appState.trigger('invokeAction', this.resendActionKey);\n      // Hide warning, but start a timeout again..\n      if (!this.el.classList.contains('hide')) {\n        this.el.classList.add('hide');\n      }\n      this.showCalloutAfterTimeout();\n    },\n  },\n);\n\nconst Body = BaseForm.extend(Object.assign(\n  {\n    className: 'phone-authenticator-challenge',\n\n    title() {\n      return loc('oie.phone.verify.title', 'login');\n    },\n\n    save() {\n      return loc('mfa.challenge.verify', 'login');\n    },\n\n    initialize() {\n      BaseForm.prototype.initialize.apply(this, arguments);\n      const sendText = (this.model.get('mode') === 'sms')\n        ? loc('oie.phone.verify.sms.codeSentText', 'login')\n        : loc('mfa.calling', 'login');\n      const enterCodeText = loc('oie.phone.verify.enterCodeText', 'login');\n      const carrierChargesText = loc('oie.phone.carrier.charges', 'login');\n\n      const strongClass = this.model.get('phoneNumber') !== loc('oie.phone.alternate.title', 'login') ?\n        'strong no-translate' : '';\n      // Courage doesn't support HTML, hence creating a subtitle here.\n      this.add(`<div class=\"okta-form-subtitle\" data-se=\"o-form-explain\">\n        ${sendText}&nbsp;<span class='${strongClass}'>${this.model.escape('phoneNumber')}.</span>\n        &nbsp;${enterCodeText}\n        <p>${carrierChargesText}</p>\n        </div>`, {\n        prepend: true,\n        selector: '.o-form-fieldset-container',\n      });\n    },\n\n    postRender() {\n      BaseForm.prototype.postRender.apply(this, arguments);\n      this.add(ResendView, {\n        selector: '.o-form-info-container',\n        prepend: true,\n      });\n    },\n  },\n));\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n\n  createModelClass() {\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    const { methods, profile } = relatesToObject?.value || {};\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    const local = Object.assign({\n      mode: {\n        'value': methods[0].type,\n        'type': 'string',\n      },\n      phoneNumber: {\n        'value': profile?.phoneNumber ? profile.phoneNumber : loc('oie.phone.alternate.title', 'login'),\n        'type': 'string',\n      }\n    }, ModelClass.prototype.local );\n    return ModelClass.extend({ local });\n  },\n});\n\nexport { ResendView };","import { _, loc, Model } from 'okta';\nimport { BaseForm, BaseView } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport CountryUtil from '../../../../util/CountryUtil';\n\nconst Body = BaseForm.extend({\n\n  className: 'phone-authenticator-enroll',\n\n  title() {\n    return loc('oie.phone.enroll.title', 'login');\n  },\n\n  subtitle() {\n    return this.model.get('authenticator.methodType') === 'voice'\n      ? loc('oie.phone.enroll.call.subtitle', 'login')\n      : loc('oie.phone.enroll.sms.subtitle', 'login');\n  },\n\n  render() {\n    BaseForm.prototype.render.apply(this, arguments);\n    const selectedMethod = this.model.get('authenticator.methodType');\n    const phoneField = this.el.querySelector('.phone-authenticator-enroll__phone');\n    const extensionField = this.el.querySelector('.phone-authenticator-enroll__phone-ext');\n\n    if (selectedMethod === 'voice') {\n      if (!phoneField.classList.contains('phone-authenticator-enroll__phone--small')) {\n        phoneField.classList.add('phone-authenticator-enroll__phone--small');\n      }\n      extensionField.classList.remove('hide');\n    }\n\n    if (selectedMethod === 'sms') {\n      phoneField.classList.remove('phone-authenticator-enroll__phone--small');\n      if (!extensionField.classList.contains('hide')) {\n        extensionField.classList.add('hide');\n      }\n    }\n\n    this.el.querySelector('.phone-authenticator-enroll__phone-code').innerText = `+${this.model.get('phoneCode')}`;\n  },\n\n  handlePhoneCodeChange() {\n    const countryCodeField = this.el.querySelector('.phone-authenticator-enroll__phone-code');\n    countryCodeField.innerText = `+${this.model.get('phoneCode')}`;\n  },\n\n  save() {\n    return this.model.get('authenticator.methodType') === 'voice'\n      ? loc('oie.phone.call.primaryButton', 'login')\n      : loc('oie.phone.sms.primaryButton', 'login');\n  },\n\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n\n    // TODO: Using underscore to support IE, replace with Array.prototype methods (find, findIndex) when IE\n    // support is removed\n    const phoneNumberUISchemaIndex = _.findIndex(uiSchemas, ({ name }) => name === 'authenticator.phoneNumber');\n\n    const countryUISchema = {\n      'label-top': true,\n      label: loc('country.label', 'login'),\n      type: 'select',\n      options: CountryUtil.getCountries(),\n      name: 'country',\n      wide: true,\n    };\n\n    // Create an input group - serves as a display wrapper\n    const phoneNumberWithCodeUISchema = {\n      label: loc('mfa.phoneNumber.placeholder', 'login'),\n      type: 'group',\n      modelType: 'string',\n      'label-top': true,\n      name: 'phoneCode',\n      className : 'phone-authenticator-enroll__phone',\n      input: [\n        {\n          type: 'label',\n          /* eslint-disable-next-line @okta/okta/no-unlocalized-text */\n          label: `+${this.model.get('phoneCode')}`,\n          className: 'phone-authenticator-enroll__phone-code no-translate',\n        },\n        Object.assign({}, uiSchemas[phoneNumberUISchemaIndex]),\n      ],\n    };\n\n    const extensionUISchema = {\n      label: loc('phone.extention.label', 'login'),\n      type: 'text',\n      // Need to manually hide and show\n      // - toggleWhen puts display: block on the element when it unhides hence can't be used.\n      //   Because in this case, the element needs to be rendered as an inline-block.\n      // - showWhen has an animation on the element when unhiding\n      //   The animation makes the element look weird because of the way it is positioned,\n      //   hence can't be used\n      className: 'phone-authenticator-enroll__phone-ext hide',\n      'label-top': true,\n      name: 'extension',\n    };\n\n    if (phoneNumberUISchemaIndex !== -1) {\n      // Replace phoneNumberUISchema..\n      uiSchemas.splice(phoneNumberUISchemaIndex, 1, phoneNumberWithCodeUISchema);\n      // Add countryUISchema before & extensionUISchema after phone..\n      uiSchemas.splice(phoneNumberUISchemaIndex, 0, countryUISchema);\n      uiSchemas.splice(phoneNumberUISchemaIndex + 2, 0, extensionUISchema);\n    }\n\n    const methodType = _.find(uiSchemas,  ({ name }) => name === 'authenticator.methodType');\n\n    if (methodType && methodType.options.length === 1) {\n      methodType.className = 'hide';\n    }\n\n    return uiSchemas;\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.listenTo(this.model, 'change:authenticator.methodType', this.render.bind(this));\n    this.listenTo(this.model, 'change:phoneCode', this.handlePhoneCodeChange.bind(this));\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n\n  Body,\n\n  createModelClass() {\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    const local = Object.assign(\n      {\n        country: {\n          // Set default country to \"US\"\n          'value': 'US',\n          'type': 'string',\n        },\n        extension: {\n          'type': 'string',\n        },\n      },\n      ModelClass.prototype.local,\n    );\n    const derived = Object.assign(\n      {\n        phoneCode: {\n          deps: [ 'country' ],\n          fn: function(country) {\n            return CountryUtil.getCallingCodeForCountry(country);\n          },\n        },\n      },\n      ModelClass.prototype.derived,\n    );\n    return ModelClass.extend({\n      local,\n      derived,\n      toJSON: function() {\n        const modelJSON = Model.prototype.toJSON.call(this, arguments);\n        const extension = this.get('extension');\n        const phoneCode = this.get('phoneCode');\n\n        // Add country code..\n        let formattedPhoneNumber = `+${phoneCode}${modelJSON.authenticator.phoneNumber}`;\n\n        // Add extension if present..\n        if (modelJSON.authenticator.methodType === 'voice' && extension?.trim().length) {\n          formattedPhoneNumber = `${formattedPhoneNumber}x${extension}`;\n        }\n        // Override phone with formatted number..\n        modelJSON.authenticator.phoneNumber = formattedPhoneNumber;\n        return modelJSON;\n      },\n    });\n  },\n});\n","import { loc } from 'okta';\nimport {\n  default as ChallengeAuthenticatorPhoneView,\n  ResendView\n} from './ChallengeAuthenticatorPhoneView';\nimport { BaseForm } from '../../internals';\n\nconst EnrollResendView = ResendView.extend(\n  {\n    // To be shown after a timeout\n    className: 'phone-authenticator-enroll--warning hide',\n    resendActionKey: 'currentAuthenticator-resend',\n  },\n);\n\nconst Body = ChallengeAuthenticatorPhoneView.prototype.Body.extend(\n  {\n    className: 'phone-authenticator-enroll',\n\n    title() {\n      return loc('oie.phone.enroll.title', 'login');\n    },\n\n    postRender() {\n      BaseForm.prototype.postRender.apply(this, arguments);\n      this.add(EnrollResendView, {\n        selector: '.o-form-info-container',\n        prepend: true,\n      });\n    },\n  },\n);\n\nexport default ChallengeAuthenticatorPhoneView.extend({ Body });\n","import { loc } from 'okta';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport PIVHeader from './PIVHeader';\n\nconst Body = BaseForm.extend({\n\n  className: 'piv-cac-card',\n  modelEvents: {\n    request: 'startAuthentication',\n    error: 'stopAuthentication',\n  },\n\n  initialize() {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.model.set('useRedirect', true);\n    this.addInstructions();\n  },\n\n  title() {\n    return loc('piv.cac.title', 'login');\n  },\n\n  save() {\n    return loc('retry', 'login');\n  },\n\n  addInstructions() {\n    this.add(\n      `<div class='piv-verify-text'>\n        <p>${loc('piv.cac.card.insert', 'login')}</p>\n        <div data-se='piv-waiting' class='okta-waiting-spinner'></div>\n      </div>`\n    );\n  },\n  \n  startAuthentication: function() {\n    this.$('.okta-waiting-spinner').show();\n    this.$('.o-form-button-bar').hide();\n  },\n\n  stopAuthentication: function() {\n    this.$('.okta-waiting-spinner').hide();\n    this.$('.o-form-button-bar').show();\n  }\n  \n});\n\nexport default BaseAuthenticatorView.extend({\n  Header: PIVHeader,\n  Body,\n  postRender() {\n    BaseAuthenticatorView.prototype.postRender.apply(this, arguments);\n    const messages = this.options.appState.get('messages') || {};\n    // if piv view has errors, show errors and stop authentication.\n    // otherwise trigger authentication on page load\n    if (Array.isArray(messages.value)) {\n      this.form.stopAuthentication();\n    } else {\n      this.form.startAuthentication();\n      this.form.trigger('save', this.model);\n    }\n  },\n});\n","import { BaseHeader } from '../../internals';\nimport HeaderBeacon from '../../components/HeaderBeacon';\n\nexport default BaseHeader.extend({\n  HeaderBeacon: HeaderBeacon.extend({\n    getBeaconClassName: function() {\n      return 'smartcard';\n    },\n  })\n});\n","import { loc } from 'okta';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseForm.extend({\n  title() {\n    return loc('oie.security.question.challenge.title', 'login');\n  },\n\n  save() {\n    return loc('mfa.challenge.verify', 'login');\n  },\n\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    const questionKey = uiSchemas.filter(s => s.name.indexOf('questionKey') >= 0);\n    const answer = uiSchemas.filter(s => s.name.indexOf('answer') >= 0);\n\n    /**\n     * At verify SQ case,\n     * 'questionKey' is read-only hence it won't show up in UI anyway.\n     * 'answer' has label 'answer' but apparently UI want to display the\n     * actual question (label of `questionKey`) as better user experience.\n     */\n    if (questionKey.length === 1 && answer.length === 1) {\n      answer[0].label = questionKey[0].label;\n    }\n\n    return uiSchemas;\n  }\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc } from 'okta';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseForm.extend({\n  title() {\n    return loc('oie.security.question.enroll.title', 'login');\n  },\n  save() {\n    return loc('mfa.challenge.verify', 'login');\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { View } from 'okta';\nimport { SHOW_RESEND_TIMEOUT } from '../../utils/Constants';\nimport sessionStorageHelper from '../../../client/sessionStorageHelper';\n\nexport default View.extend({\n\n  postRender() {\n    this.showCalloutAfterTimeout();\n  },\n\n  showCalloutAfterTimeout() {\n    const timeStamp = sessionStorageHelper.getResendTimestamp();\n    if (!timeStamp) {\n      sessionStorageHelper.setResendTimestamp(Date.now());\n    }\n\n    // We keep track of a 'global' timestamp in sessionStorage because if the SIW does a re-render,\n    // we don't want to force the user to wait another 30s again to see the resend link. With this\n    // the user will wait AT MOST 30s until they see the resend link.\n    this.showMeInterval = setInterval(() => {\n      const start = sessionStorageHelper.getResendTimestamp();\n      const now = Date.now();\n      if (now - start >= SHOW_RESEND_TIMEOUT) {\n        this.$el.removeClass('hide');\n        clearInterval(this.showMeInterval);\n        sessionStorageHelper.removeResendTimestamp();\n      }\n    }, 250);\n  },\n\n  remove() {\n    View.prototype.remove.apply(this, arguments);\n    clearInterval(this.showMeInterval);\n\n    const formName = this.options.appState.get('currentFormName');\n    const resendContext = this.options.appState.get('currentAuthenticator')?.resend \n      || this.options.appState.get('currentAuthenticatorEnrollment')?.resend;\n    const didFormNameChange = this.options.model.get('formName') !== formName;\n\n    // Clear resend timeStamp whenever we change views (this means we're navigating away from the resend view)\n    if (sessionStorageHelper.getResendTimestamp()\n      && (!resendContext || didFormNameChange)) {\n      sessionStorageHelper.removeResendTimestamp();\n    }    \n  },\n});\n","// Common view for OV push and custom app.\nimport { BaseFooter } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport ChallengeOktaVerifyCustomAppPushOnlyFormView from './ChallengeOktaVerifyCustomAppPushOnlyFormView';\nimport ChallengeOktaVerifyCustomAppFormView from './ChallengeOktaVerifyCustomAppFormView';\n\nexport default BaseAuthenticatorView.extend({\n  initialize() {\n    BaseAuthenticatorView.prototype.initialize.apply(this, arguments);\n    if (this.isPushOnlyWithAutoChallengeFlow()) {\n      this.Body = ChallengeOktaVerifyCustomAppPushOnlyFormView;\n    } else {\n      this.Body = ChallengeOktaVerifyCustomAppFormView;\n      this.Footer = BaseFooter;\n    }\n  },\n\n  isPushOnlyWithAutoChallengeFlow() {\n    const methodType = this.options.appState.getSchemaByName('authenticator.methodType');\n    const hasAutoChallengeSchema = this.options.appState.getSchemaByName('authenticator.autoChallenge');\n    const methodTypeOptions = methodType?.options;\n    return hasAutoChallengeSchema && methodTypeOptions.length === 1 && methodTypeOptions[0].value === 'push';\n  },\n});\n","// Common view for OV push and custom app.\nimport { Collection } from 'okta';\nimport { BaseForm } from '../../internals';\nimport AuthenticatorVerifyOptions from '../../components/AuthenticatorVerifyOptions';\nimport { getAuthenticatorDataForVerification } from '../../utils/AuthenticatorUtil';\nimport { Body as SelectAuthenticatorVerifyViewBody } from '../SelectAuthenticatorVerifyView';\nimport { AUTHENTICATOR_KEY } from '../../../ion/RemediationConstants';\n\nconst Body = SelectAuthenticatorVerifyViewBody.extend({\n  getUISchema() {\n    // Change the UI schema to not display radios here.\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    const methodsSchema = uiSchemas.find(schema => schema.name === 'authenticator.methodType');\n\n    this._sortMethodOptionsIfDeviceKnown(methodsSchema.options);\n\n    const methodOptions = methodsSchema.options.map((option) => {\n      return Object.assign({}, option, getAuthenticatorDataForVerification({authenticatorKey:\n            this.isOV() ? AUTHENTICATOR_KEY.OV : AUTHENTICATOR_KEY.CUSTOM_APP}));\n    });\n    return [{\n      View: AuthenticatorVerifyOptions,\n      options: {\n        name: methodsSchema.name,\n        collection: new Collection(methodOptions),\n      }\n    }];\n  },\n\n  // If the `deviceKnown` attribute is true, we should put the signed_nonce method to the top of authenticator list.\n  // This is in sync with v2/ion/ui-schema/ion-object-handler.js - createOVOptions\n  _sortMethodOptionsIfDeviceKnown(methodOptions) {\n    // Check if the `deviceKnown` attribute is true\n    const deviceKnown = this.options?.currentViewState?.relatesTo?.value?.deviceKnown;\n\n    if (deviceKnown) {\n      const signedNonceIndex = methodOptions.findIndex((e) => e.value === 'signed_nonce');\n\n      if (signedNonceIndex > 0) {\n        const signedNonceModel = methodOptions[signedNonceIndex];\n\n        // Put the 'signed_nonce' option to the top of the list\n        methodOptions.splice(signedNonceIndex, 1);\n        methodOptions.unshift(signedNonceModel);\n      }\n    }\n  },\n  isOV() {\n    return this.options.appState.get('authenticatorKey') === AUTHENTICATOR_KEY.OV;\n  },\n});\n\nexport default Body;\n","// Common view for OV push and custom app.\nimport { BaseForm } from '../../internals';\nimport {AUTHENTICATOR_KEY} from 'v2/ion/RemediationConstants';\nimport { loc } from 'okta';\n\n\nconst Body = BaseForm.extend(Object.assign({\n  className: function() {\n    return this.isOV() ? 'okta-verify-send-push-form' : 'custom-app-send-push-form';\n  },\n\n  save() {\n    return this.options.appState.get('authenticatorKey') === AUTHENTICATOR_KEY.OV ?\n      loc('oie.okta_verify.sendPushButton', 'login'):\n      loc('oie.custom_app.sendPushButton', 'login');\n  },\n\n  title() {\n    return this.isOV() ? loc('oie.okta_verify.push.title', 'login'): loc('oie.custom_app.push.title', 'login');\n  },\n\n  render() {\n    BaseForm.prototype.render.apply(this, arguments);\n    // Move checkbox below the button\n    // Checkbox is rendered by BaseForm using remediation response and \n    // hence by default always gets added above buttons.\n    const checkbox = this.$el.find('[data-se=\"o-form-fieldset-authenticator.autoChallenge\"]');\n    checkbox.length && this.$el.find('.o-form-button-bar').after(checkbox);\n  },\n\n  getUISchema() {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    return uiSchemas.filter(schema => schema.name !== 'authenticator.methodType');\n  },\n\n  isOV() {\n    return this.options.appState.get('authenticatorKey') === AUTHENTICATOR_KEY.OV;\n  },\n}));\n\nexport default Body;\n","// Common view for OV push and custom push.\nimport { loc, createButton, View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport { BaseFormWithPolling } from '../../internals';\nimport polling from '../shared/polling';\nimport { WARNING_TIMEOUT } from '../../utils/Constants';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport { AUTHENTICATOR_KEY } from '../../../ion/RemediationConstants';\n\nconst warningTemplate = View.extend({\n  className: 'okta-form-infobox-warning infobox infobox-warning',\n  template: hbs`\n    <span class=\"icon warning-16\"></span>\n    <p>{{warning}}</p>\n  `\n});\nconst Body = BaseFormWithPolling.extend(Object.assign(\n  {\n    noButtonBar: true,\n\n    title() {\n      return this.isOV() ? loc('oie.okta_verify.push.title', 'login') :\n        loc('oie.verify.custom_app.title', 'login', [this.options.appState.getAuthenticatorDisplayName()]);\n    },\n\n    initialize() {\n      BaseFormWithPolling.prototype.initialize.apply(this, arguments);\n      // 'hasSavingState' would be true by default.\n      // Setting it to false when auth key is okta_verify or custom_app with autochallenge schema\n      // So that 'o-form-saving' css class is not added while polling and checkbox remains enabled.\n      if ((this.isOV() || this.isCustomApp()) && this.isAutoChallengeSupported()) {\n        this.hasSavingState = false;\n      }\n      this.listenTo(this.model, 'error', this.stopPoll);\n      this.addView();\n    },\n\n    addView() {\n      this.add(createButton({\n        className: 'button button-wide button-primary send-push link-button-disabled',\n        title: this.isOV() ? loc('oie.okta_verify.push.sent', 'login') : loc('oie.custom_app.push.sent', 'login'),\n        click: (e) => {\n          e.preventDefault();\n        }\n      }));\n      this.add(\n        `<span class='accessibility-text' role='alert'>\n        ${this.isOV() ? loc('oie.okta_verify.push.sent', 'login') : loc('oie.custom_app.push.sent', 'login')}</span>`,\n      );\n    },\n\n    render() {\n      BaseFormWithPolling.prototype.render.apply(this, arguments);\n\n      const checkbox = this.$el.find('[data-se=\"o-form-fieldset-autoChallenge\"]');\n\n      if (!this.isAutoChallengeSupported()) {\n        checkbox.length && checkbox.hide();\n      } else if (this.isOV() || this.isCustomApp()) {\n        // Move checkbox below the button\n        // Checkbox is rendered by BaseForm using remediation response and\n        // hence by default always gets added above buttons.\n        checkbox.length && this.$el.find('.o-form-fieldset-container').append(checkbox);\n      }\n    },\n\n    postRender() {\n      BaseFormWithPolling.prototype.postRender.apply(this, arguments);\n\n      const className = this.isOV() ?\n        'okta-verify-push-challenge' : ' custom-app-push-challenge';\n      this.$el.addClass(className);\n      this.startPoll();\n    },\n\n    startPoll() {\n      this.startPolling();\n      this.warningTimeout = setTimeout(() => {\n        const warningText = this.isOV() ? loc('oktaverify.warning', 'login') :\n          loc('oie.custom_app.push.warning', 'login', [this.options.appState.getAuthenticatorDisplayName()]);\n        this.showWarning(warningText);\n      }, WARNING_TIMEOUT);\n    },\n\n    stopPoll() {\n      this.stopPolling();\n      this.clearWarning();\n    },\n\n    showWarning(msg) {\n      this.clearWarning();\n      this.add(warningTemplate, '.o-form-error-container', {options: {warning: msg}});\n    },\n\n    clearWarning() {\n      if (this.$('.o-form-error-container div').hasClass('okta-form-infobox-warning')) {\n        this.$('.okta-form-infobox-warning').remove();\n      }\n      clearTimeout(this.warningTimeout);\n    },\n\n    remove() {\n      BaseFormWithPolling.prototype.remove.apply(this, arguments);\n      this.stopPolling();\n    },\n\n    isOV() {\n      return this.options.appState.get('authenticatorKey') === AUTHENTICATOR_KEY.OV;\n    },\n\n    isCustomApp() {\n      return this.options.appState.get('authenticatorKey') === AUTHENTICATOR_KEY.CUSTOM_APP;\n    },\n\n    isAutoChallengeSupported() {\n      return (this.options.appState.getSchemaByName('autoChallenge') !== null &&\n        this.options.appState.getSchemaByName('autoChallenge') !== undefined);\n    }\n  },\n\n  polling,\n));\n\nconst AuthenticatorView = BaseAuthenticatorView.extend({\n  Body,\n});\n\nexport {\n  AuthenticatorView as default,\n  Body,\n};\n","import { View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\nexport default View.extend({\n  className: 'custom-access-denied-error-message',\n  template: hbs`\n    {{#if message}}\n      <p>{{message}}</p>\n    {{/if}}\n    {{#if links}}\n      <ul class=\"custom-links\">\n        {{#each links}}\n        <li>\n          <a href={{url}} target=\"_blank\" rel=\"noopener noreferrer\">\n            {{label}}\n          </a>\n        </li>\n        {{/each}}\n      </ul>\n    {{/if}}\n  `,\n  getTemplateData() {\n    return {\n      message: this.options.message,\n      links: this.options.links,\n    };\n  },\n});","import { loc } from 'okta';\nexport default {\n  title() {\n    return loc('oie.email.mfa.title', 'login');\n  }\n};\n","import { _ } from 'okta';\nimport { MS_PER_SEC } from '../../utils/Constants';\n\nexport default {\n  startPolling(newRefreshInterval) {\n    this.fixedPollingInterval = this.options.currentViewState.refresh;\n    this.dynamicPollingInterval = newRefreshInterval;\n    this.countDownCounterValue = Math.ceil(this.pollingInterval / MS_PER_SEC);\n    // Poll is present in remediation form\n    if (this.fixedPollingInterval) {\n      this._startRemediationPolling();\n    } else {\n      // Poll is present in authenticator/ authenticator Enrollment obj.\n      // Authenticator won't co-exists hence it's safe to trigger both.\n      this._startAuthenticatorPolling();\n    }\n  },\n\n  _startAuthenticatorPolling() {\n    // Authenticator won't co-exists hence it's safe to trigger both.\n    [\n      'currentAuthenticator',\n      'currentAuthenticatorEnrollment',\n    ].some(responseKey => {\n      if (this.options.appState.has(responseKey)) {\n        const authenticator = this.options.appState.get(responseKey);\n        const authenticatorPollAction = `${responseKey}-poll`;\n        const pollInterval = this.dynamicPollingInterval || authenticator?.poll?.refresh;\n        if (_.isNumber(pollInterval)) {\n          this.polling = setTimeout(()=>{\n            this.options.appState.trigger('invokeAction', authenticatorPollAction);\n          }, pollInterval);\n        }\n        return true;\n      } else {\n        return false;\n      }\n    });\n  },\n\n  _startRemediationPolling() {\n    const pollInterval = this.dynamicPollingInterval || this.fixedPollingInterval;\n    if (_.isNumber(pollInterval)) {\n      this.polling = setTimeout(() => {\n        this.options.appState.trigger('saveForm', this.model);\n      }, pollInterval);\n    }\n  },\n\n  stopPolling() {\n    if (this.polling) {\n      clearTimeout(this.polling);\n      this.polling = null;\n    }\n  }\n};\n","import { View, createButton } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\nexport default View.extend({\n  className: 'custom-buttons',\n  template: hbs`\n    {{#if addSeparateLine}}\n    <div class=\"separation-line\"><span>{{i18n code=\"socialauth.divider.text\" bundle=\"login\"}}</span></div>\n    {{/if}}\n    <div class=\"okta-custom-buttons-container primary-auth-container\"></div>\n    `,\n\n  initialize(options) {\n    options.customButtons.forEach((idpButton) => {\n      this.add(createButton(idpButton), '.okta-custom-buttons-container');\n    });\n  },\n\n  getTemplateData() {\n    const jsonData = View.prototype.getTemplateData.apply(this, arguments);\n\n    return Object.assign(jsonData, {\n      addSeparateLine: this.options.addSeparateLine,\n    });\n  }\n});\n","import { View, createButton, loc } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport Util from '../../../../util/Util';\nimport Enums from '../../../../util/Enums';\nimport { UNIVERSAL_LINK_POST_DELAY } from '../../utils/Constants';\nimport { FORMS } from '../../../ion/RemediationConstants';\nimport { appendLoginHint } from '../../utils/ChallengeViewUtil';\n\nexport default View.extend({\n  className: 'sign-in-with-device-option',\n  template: hbs`\n    <div class=\"okta-verify-container\">\n    {{#if signInWithDeviceIsRequired}}\n      <div class=\"signin-with-ov-description\">\n      </div>\n    {{/if}}\n    </div>\n    {{#unless signInWithDeviceIsRequired}}\n    <div class=\"separation-line\">\n      <span>{{i18n code=\"authbutton.divider.text\" bundle=\"login\"}}</span>\n    </div>\n    {{/unless}}\n  `,\n  initialize() {\n    const appState = this.options.appState;\n    const deviceChallengePollRemediation = appState.hasRemediationObject(FORMS.LAUNCH_AUTHENTICATOR);\n    \n    const deviceChallenge = deviceChallengePollRemediation?.relatesTo?.value;\n    this.add(createButton({\n      className: 'button',\n      icon: 'okta-verify-authenticator',\n      title: loc('oktaVerify.button', 'login'),\n      click() {\n        if (this.settings.get('features.engFastpassMultipleAccounts') && this.model.get('identifier')) {\n          this.options.settings.set('identifier', encodeURIComponent(this.model.get('identifier')));\n        }\n\n        const isUVapproach = deviceChallenge?.challengeMethod === Enums.UNIVERSAL_LINK_CHALLENGE;\n        if (isUVapproach) {\n          // launch the Okta Verify app\n          let deviceChallengeUrl = appendLoginHint(deviceChallenge.href, this.options?.settings?.get('identifier'));\n          Util.redirect(deviceChallengeUrl);\n        }\n\n        const isAppLinkapproach = deviceChallenge?.challengeMethod === Enums.APP_LINK_CHALLENGE;\n        if (isAppLinkapproach) {\n          // launch the Okta Verify app\n          let deviceChallengeUrl = appendLoginHint(deviceChallenge.href, this.options?.settings?.get('identifier'));\n          Util.redirect(deviceChallengeUrl, window, true);\n        }\n\n        // OKTA-350084\n        // For the universal link (iOS) and app link (Android) approach,\n        // we need to 1. launch the Okta Verify app\n        // and 2. take the enduser to the next step right away\n        // In Safari, when Okta Verify app is not installed, step 1 responds with error immediately,\n        // then step 2 will respond with error.\n        // To avoid showing the error right before switching to the next UI,\n        // wait for 500 milliseconds before invoking step 2\n        Util.callAfterTimeout(() => {\n          if (this.options.isRequired) {\n            appState.trigger('saveForm', this.model);\n          } else {\n            appState.trigger('invokeAction', FORMS.LAUNCH_AUTHENTICATOR);\n          }\n        }, isUVapproach || isAppLinkapproach ? UNIVERSAL_LINK_POST_DELAY : 0);\n      }\n    }), '.okta-verify-container');\n  },\n\n  getTemplateData() {\n    return {\n      signInWithDeviceIsRequired: !!this.options.isRequired,\n    };\n  },\n\n  postRender() {\n    if(this.options.isRequired) {\n      const appLabel = this.options.appState.attributes?.app?.label;\n      const resourceLabel = appLabel ? loc('oktaVerify.appDescription', 'login', [appLabel]) : \n        loc('oktaVerify.description', 'login');\n      const ovDescContainer = this.$el.find('.signin-with-ov-description');\n      ovDescContainer.text(resourceLabel);\n    }\n  }\n});\n","import { View, createButton } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\nexport default View.extend({\n  className: 'sign-in-with-idp',\n  template: hbs`\n    {{#if isSecondaryIdpDisplay}}\n    <div class=\"separation-line\"><span>{{i18n code=\"socialauth.divider.text\" bundle=\"login\"}}</span></div>\n    {{/if}}\n    <div class=\"okta-idps-container\"></div>\n    {{#if isPrimaryIdpDisplay}}\n    <div class=\"separation-line\"><span>{{i18n code=\"socialauth.divider.text\" bundle=\"login\"}}</span></div>\n    {{/if}}    \n    `,\n  initialize() {\n    this.options.idpButtons.forEach((idpButton) => {\n      this.add(createButton(idpButton), '.okta-idps-container');\n    });\n  },\n\n  getTemplateData() {\n    const jsonData = View.prototype.getTemplateData.apply(this, arguments);\n    const addDivider = this.options.idpButtons.length > 0;\n\n    return Object.assign(jsonData, {\n      isPrimaryIdpDisplay: addDivider && this.options.isPrimaryIdpDisplay,\n      isSecondaryIdpDisplay: addDivider && !this.options.isPrimaryIdpDisplay\n    });\n  }\n});\n","import { View, loc, createButton } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport { FORMS } from '../../../ion/RemediationConstants';\n\nexport default View.extend({\n  className: 'sign-in-with-webauthn-option',\n  template: hbs`\n    <div class=\"okta-webauthn-container\">\n    </div>\n    <div class=\"separation-line\">\n      <span>{{i18n code=\"authbutton.divider.text\" bundle=\"login\"}}</span>\n    </div>\n  `,\n  initialize() {\n    this.add(createButton({\n      className: 'button',\n      icon: 'okta-webauthn-authenticator',\n      title: loc('signinWithWebAuthn.button', 'login'),\n      click: () => {\n        this.options.appState.trigger('invokeAction', FORMS.LAUNCH_WEBAUTHN_AUTHENTICATOR);\n      }\n    }), '.okta-webauthn-container');\n  },\n});","import { loc } from 'okta';\nimport BaseForm from '../../internals/BaseForm';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst Body = BaseForm.extend({\n\n  title() {\n    const displayName = this.options.appState.getAuthenticatorDisplayName();\n    return this.options.appState.isAuthenticatorChallenge()\n      ? loc('oie.symantecVip.challenge.title', 'login', [displayName])\n      : loc('oie.symantecVip.enroll.title', 'login', [displayName]);\n  },\n\n  subtitle() {\n    const displayName = this.options.appState.getAuthenticatorDisplayName();\n    return this.options.appState.isAuthenticatorChallenge()\n      ? loc('oie.symantecVip.challenge.description', 'login', [displayName])\n      : loc('oie.symantecVip.enroll.description', 'login', [displayName]);\n  },\n\n  save() {\n    return this.options.appState.isAuthenticatorChallenge()\n      ? loc('mfa.challenge.verify', 'login')\n      : loc('mfa.enroll', 'login');\n  },\n\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { loc, View, createCallout } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\n\nexport default View.extend({\n  // eslint-disable-next-line max-len\n  template: hbs`<p class=\"idx-webauthn-verify-text\">{{i18n code=\"oie.verify.webauthn.instructions\" bundle=\"login\"}}</p>`,\n  initialize() {\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    const challengeData = relatesToObject?.value.contextualData.challengeData;\n    if (challengeData.userVerification === 'required') {\n      this.add(createCallout({\n        className: 'uv-required-callout',\n        size: 'slim',\n        type: 'warning',\n        subtitle: loc('oie.verify.webauthn.uv.required.instructions', 'login'),\n      }));\n    }\n    this.add('<div data-se=\"webauthn-waiting\" class=\"okta-waiting-spinner\"></div>');\n  },\n});\n","import { _, loc, createButton, createCallout } from 'okta';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport CryptoUtil from '../../../../util/CryptoUtil';\nimport webauthn from '../../../../util/webauthn';\nimport BrowserFeatures from '../../../../util/BrowserFeatures';\nimport ChallengeWebauthnInfoView from './ChallengeWebauthnInfoView';\nimport { getMessageFromBrowserError } from '../../../ion/i18nTransformer';\nimport ChallengeWebauthnFooter from '../../components/ChallengeWebauthnFooter';\nimport { FORMS as RemediationForms } from '../../../ion/RemediationConstants';\nimport EnrollWebAuthnResidentKeyLinkView from './EnrollWebAuthnResidentkeyLinkView';\n\nconst Body = BaseForm.extend({\n\n  title() {\n    return loc('oie.verify.webauth.title', 'login');\n  },\n\n  className: 'oie-verify-webauthn',\n\n  getUISchema() {\n    const schema = [];\n    // Returning custom array so no input fields are displayed for webauthn\n    if (webauthn.isNewApiAvailable()) {\n      const retryButton = createButton({\n        className: 'retry-webauthn button-primary default-custom-button',\n        title: loc('mfa.challenge.verify', 'login'),\n        click: () => {\n          this.getCredentialsAndSave();\n        }\n      });\n\n      schema.push({\n        View: ChallengeWebauthnInfoView,\n      }, {\n        View: retryButton,\n      });\n      if (this._canSetupWebAuthnResidentKey()) {\n        schema.push({View: EnrollWebAuthnResidentKeyLinkView});\n      }\n    } else {\n      schema.push({\n        View: createCallout({\n          className: 'webauthn-not-supported',\n          type: 'error',\n          subtitle: loc('oie.webauthn.error.not.supported', 'login'),\n        }),\n      });\n    }\n    return schema;\n  },\n\n  remove() {\n    BaseForm.prototype.remove.apply(this, arguments);\n    if (this.webauthnAbortController) {\n      this.webauthnAbortController.abort();\n      this.webauthnAbortController = null;\n    }\n  },\n\n  noButtonBar: true,\n\n  modelEvents: {\n    'error': '_stopVerification'\n  },\n\n  getCredentialsAndSave() {\n    this.clearErrors();\n    this._startVerification();\n    // AbortController is not supported in IE11\n    if (typeof AbortController !== 'undefined') {\n      this.webauthnAbortController = new AbortController();\n    }\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    const authenticatorData = relatesToObject?.value || {};\n    const allowCredentials = [];\n    const authenticatorEnrollments = this.options.appState.get('authenticatorEnrollments')?.value || [];\n    authenticatorEnrollments.forEach((enrollement) => {\n      if (enrollement.key === 'webauthn') {\n        allowCredentials.push({\n          type: 'public-key',\n          id: CryptoUtil.strToBin(enrollement.credentialId),\n        });\n      }\n    });\n    const challengeData = authenticatorData.contextualData.challengeData;\n    const options = _.extend({}, challengeData, {\n      allowCredentials,\n      challenge: CryptoUtil.strToBin(challengeData.challenge),\n    });\n    // navigator.credentials() is not supported in IE11\n    // eslint-disable-next-line compat/compat\n    navigator.credentials.get({\n      publicKey: options,\n      signal: this.webauthnAbortController && this.webauthnAbortController.signal\n    }).then((assertion) => {\n      const credentials = {\n        clientData: CryptoUtil.binToStr(assertion.response.clientDataJSON),\n        authenticatorData: CryptoUtil.binToStr(assertion.response.authenticatorData),\n        signatureData: CryptoUtil.binToStr(assertion.response.signature)\n      };\n      const hasUserHandleSchema = this.options.appState.getSchemaByName('credentials.userHandle');\n      if (hasUserHandleSchema) {\n        _.extend(credentials, {\n          userHandle: CryptoUtil.binToStr(assertion.response.userHandle ?? '')\n        });\n      }\n      \n      this.model.set({\n        credentials\n      });\n      this.saveForm(this.model);\n    }, (error) => {\n      // Do not display if it is abort error triggered by code when switching.\n      // this.webauthnAbortController would be null if abort was triggered by code.\n      if (this.webauthnAbortController) {\n        this.model.trigger('error', this.model, {responseJSON: {errorSummary: getMessageFromBrowserError(error)}});\n      }\n    }).finally(() => {\n      // unset webauthnAbortController on successful authentication or error\n      this.webauthnAbortController = null;\n    });\n  },\n\n  _startVerification: function() {\n    this.$('.okta-waiting-spinner').show();\n    this.$('.retry-webauthn').hide();\n    this.$('.setup-webauthn-residentkey-text').hide();\n    this.$('.retry-webauthn')[0].textContent = loc('retry', 'login');\n  },\n\n  _stopVerification: function() {\n    this.$('.okta-waiting-spinner').hide();\n    this.$('.retry-webauthn').show();\n    this.$('.setup-webauthn-residentkey-text').show();\n  },\n\n  _canSetupWebAuthnResidentKey: function() {\n    return this.options.appState.hasRemediationObject(RemediationForms.ENROLL_WEBAUTHN_RESIDENTKEY);\n  }\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n  Footer: ChallengeWebauthnFooter,\n  postRender() {\n    BaseAuthenticatorView.prototype.postRender.apply(this, arguments);\n    // Trigger browser prompt automatically for other browsers for better UX.\n    if (webauthn.isNewApiAvailable() && !BrowserFeatures.isSafari()) {\n      this.form.getCredentialsAndSave();\n    }\n  },\n});\n","import { View } from 'okta';\nimport { FORMS as RemediationForms } from '../../../ion/RemediationConstants';\nimport hbs from 'handlebars-inline-precompile';\n\nexport default View.extend({\n  className: 'setup-webauthn-residentkey-text',\n  template: hbs `<div>{{{i18n code=\"oie.enroll.webauthn.rk.link\" bundle=\"login\"}}}</div>`,\n  events: {\n    'click .setup-webauthn-residentkey-link': function(e) {\n      e.preventDefault();\n      this.options.appState.trigger('invokeAction', RemediationForms.ENROLL_WEBAUTHN_RESIDENTKEY);\n    },\n  },\n});\n","import { loc, View, createCallout } from 'okta';\nimport BrowserFeatures from 'util/BrowserFeatures';\nimport hbs from 'handlebars-inline-precompile';\n\nexport default View.extend({\n  // eslint-disable-next-line max-len\n  template: hbs`<p class=\"idx-webauthn-enroll-text\">{{i18n code=\"oie.enroll.webauthn.instructions\" bundle=\"login\"}}</p>`,\n  initialize() {\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    const activationData = relatesToObject?.value.contextualData.activationData;\n    if (BrowserFeatures.isEdge()) {\n      this.add(View.extend({\n        tagName: 'p',\n        className: 'idx-webauthn-enroll-text-edge',\n        template: hbs`{{i18n code=\"oie.enroll.webauthn.instructions.edge\" bundle=\"login\"}}`\n      }));\n    }\n    if (activationData.authenticatorSelection.userVerification === 'required') {\n      this.add(createCallout({\n        className: 'uv-required-callout',\n        size: 'slim',\n        type: 'warning',\n        subtitle: loc('oie.enroll.webauthn.uv.required.instructions', 'login'),\n      }));\n    }\n    this.add('<div data-se=\"webauthn-waiting\" class=\"okta-waiting-spinner\"></div>');\n  },\n});\n","import { _, loc, createCallout, createButton } from 'okta';\nimport { BaseForm } from '../../internals';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\nimport webauthn from 'util/webauthn';\nimport CryptoUtil from 'util/CryptoUtil';\nimport EnrollWebauthnInfoView from './EnrollWebauthnInfoView';\nimport { getMessageFromBrowserError } from '../../../ion/i18nTransformer';\n\nfunction getExcludeCredentials(authenticatorEnrollments = []) {\n  const credentials = [];\n  authenticatorEnrollments.forEach((enrollement) => {\n    if (enrollement.key === 'webauthn') {\n      credentials.push({\n        type: 'public-key',\n        id: CryptoUtil.strToBin(enrollement.credentialId),\n      });\n    }\n  });\n  return credentials;\n}\n\nconst Body = BaseForm.extend({\n  title() {\n    return loc('oie.enroll.webauthn.title', 'login');\n  },\n  className: 'oie-enroll-webauthn',\n  modelEvents: {\n    'error': '_stopEnrollment',\n  },\n  getUISchema() {\n    const schema = [];\n    // Returning custom array so no input fields are displayed for webauthn\n    if (webauthn.isNewApiAvailable()) {\n      schema.push({\n        View: EnrollWebauthnInfoView,\n      });\n      schema.push({\n        View: createButton({\n          className: 'webauthn-setup button button-primary button-wide',\n          title: loc('oie.enroll.webauthn.save', 'login'),\n          click: () => {\n            this.triggerWebauthnPrompt();\n          },\n        }),\n      });\n    } else {\n      schema.push({\n        View: createCallout({\n          className: 'webauthn-not-supported',\n          type: 'error',\n          subtitle: loc('oie.webauthn.error.not.supported', 'login'),\n        }),\n      });\n    }\n    return schema;\n  },\n  triggerWebauthnPrompt() {\n    this.$el.find('.o-form-error-container').empty();\n    this._startEnrollment();\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    const activationData = relatesToObject?.value.contextualData.activationData;\n    if (webauthn.isNewApiAvailable()) {\n      const excludeCredentials = activationData.authenticatorSelection?.requireResidentKey === true ?\n        [] :\n        getExcludeCredentials(this.options.appState.get('authenticatorEnrollments').value);\n      const options = _.extend({}, activationData, {\n        challenge: CryptoUtil.strToBin(activationData.challenge),\n        user: {\n          id: CryptoUtil.strToBin(activationData.user.id),\n          name: activationData.user.name,\n          displayName: activationData.user.displayName\n        },\n        excludeCredentials\n      });\n      // AbortController is not supported in IE11\n      if (typeof AbortController !== 'undefined') {\n        this.webauthnAbortController = new AbortController();\n      }\n      navigator.credentials.create({\n        publicKey: options,\n        signal: this.webauthnAbortController && this.webauthnAbortController.signal\n      }).then((newCredential) => {\n        this.model.set({\n          credentials : {\n            clientData: CryptoUtil.binToStr(newCredential.response.clientDataJSON),\n            attestation: CryptoUtil.binToStr(newCredential.response.attestationObject),\n          }\n        });\n        this.saveForm(this.model);\n      })\n        .catch((error) => {\n          this.model.trigger('error', this.model, {responseJSON: {errorSummary: getMessageFromBrowserError(error)}});\n        }).finally(() => {\n          this.webauthnAbortController = null;\n        });\n    }\n  },\n  _startEnrollment: function() {\n    this.$('.okta-waiting-spinner').show();\n    this.$('.webauthn-setup').hide();\n  },\n\n  _stopEnrollment: function() {\n    this.$('.okta-waiting-spinner').hide();\n    this.$('.webauthn-setup').show();\n  },\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n  postRender() {\n    BaseAuthenticatorView.prototype.postRender.apply(this, arguments);\n    this.$el.find('.o-form-button-bar [type=\"submit\"]').remove();\n  },\n});\n","import { loc, View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport BaseForm from '../../internals/BaseForm';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView';\n\nconst ExampleView = View.extend({\n  template: hbs`<div aria-hidden=\"true\" class=\"yubikey-demo\"></div>`,\n});\n\nconst Body = BaseForm.extend({\n  title() {\n    return this.options.appState.isAuthenticatorChallenge()\n      ? loc('oie.yubikey.challenge.title', 'login')\n      : loc('oie.yubikey.enroll.title', 'login');\n  },\n\n  subtitle() {\n    return loc('oie.yubikey.description', 'login');\n  },\n\n  save() {\n    return loc('mfa.challenge.verify', 'login');\n  },\n\n  getUISchema() {\n    const schema = BaseForm.prototype.getUISchema.apply(this, arguments);\n    schema.unshift({\n      View: ExampleView,\n      selector: '.o-form-fieldset-container',\n    });\n    return schema;\n  },\n\n});\n\nexport default BaseAuthenticatorView.extend({\n  Body,\n});\n","import { _, $ } from 'okta';\nimport { ConfigError } from 'util/Errors';\nimport OAuth2Util from 'util/OAuth2Util';\n\nexport default function buildRenderOptions(widgetOptions = {}, options = {}) {\n  const authParams = $.extend(true, {}, widgetOptions.authParams, _.pick(options, OAuth2Util.AUTH_PARAMS));\n  const { el, clientId, redirectUri } = Object.assign({}, widgetOptions, options);\n  const renderOptions = Object.assign({}, { el, clientId, redirectUri, authParams });\n\n  if (!renderOptions.el) {\n    throw new ConfigError('\"el\" is required');\n  }\n\n  if (!renderOptions.clientId) {\n    throw new ConfigError('\"clientId\" is required');\n  }\n\n  if (!renderOptions.redirectUri) {\n    throw new ConfigError('\"redirectUri\" is required');\n  }\n\n  return renderOptions;\n}","import { $ } from 'okta';\nimport Enums from 'util/Enums';\n\nexport default function createRouter(Router, widgetOptions, renderOptions, authClient, successFn, errorFn, hooks) {\n  let resolve;\n  let reject;\n  const promise = new Promise((_resolve, _reject) => {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  const routerOptions = $.extend(true, {}, widgetOptions, renderOptions, {\n    authClient,\n    hooks,\n    globalSuccessFn: (res) => {\n      successFn && successFn(res); // call success function if provided\n      if (res && res.status === Enums.SUCCESS) {\n        resolve(res);\n      }\n    },\n    globalErrorFn: (error) => {\n      errorFn && errorFn(error); // call error function if provided\n      reject(error);\n    }\n  });\n  const router = new Router(routerOptions);\n  router.start();\n  return {\n    router,\n    routerOptions,\n    promise\n  };\n}\n\n","// OIE supports only IDX pipeline\nimport {\n  createOktaAuthOAuth,\n  mixinIdx,\n  IdxTransactionMeta,\n  IdxStorageManagerInterface,\n  createIdxStorageManager,\n  createIdxOptionsConstructor,\n  OktaAuthIdxOptions,\n  IdxTransactionManagerInterface,\n  createIdxTransactionManager\n} from '@okta/okta-auth-js';\n\n// okta-auth-js supports a mixin pattern that allows us to compose a custom version containing only the code we need\n// build an AuthJS client that supports only the OIE engine\n\ntype M = IdxTransactionMeta;\ntype S = IdxStorageManagerInterface<M>;\ntype O = OktaAuthIdxOptions;\ntype TM = IdxTransactionManagerInterface;\n\nconst OptionsConstructor = createIdxOptionsConstructor();\nconst StorageManager = createIdxStorageManager<M>();\nconst IdxTransactionManager = createIdxTransactionManager();\n\n// Start with OAuth as base\nconst OktaAuthOAuth = createOktaAuthOAuth<M, S, O, TM>(StorageManager, OptionsConstructor, IdxTransactionManager);\n\n// Mixin IDX support\nconst OktaAuth = mixinIdx(OktaAuthOAuth);\n\nexport { OktaAuth };\n","import { OktaSignIn } from '../oie';\n\n// CDN bundle must have a single default export\nexport default OktaSignIn;\n","// OIE supports only IDX pipeline\nimport { loc } from 'okta';\nimport Logger from 'util/Logger';\nimport { ConfigError } from 'util/Errors';\nimport { OktaAuth } from '../authClient/oie';\nimport { routerClassFactory } from '../router/oie';\nimport { WidgetOptions } from '../types/options';\nimport { createOktaSignIn } from '../widget/OktaSignIn';\n\nclass OktaSignIn extends createOktaSignIn(OktaAuth, routerClassFactory) {\n  constructor(options: WidgetOptions) {\n    super(options);\n\n    if (options.useClassicEngine !== false) {\n      Logger.error('This version of the Okta Signin Widget only supports OIE. Remove `useClassicEngine` option or set it to `false`.');\n      throw new ConfigError(loc('error.config'));\n    }\n  }\n}\n\nexport default OktaSignIn\nexport { OktaSignIn }\nexport * from '../types';\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { Model } from 'okta';\nimport { mergeHook } from 'util/Hooks';\nimport { HookDefinition, HooksOptions } from 'types';\n\nexport default class Hooks extends Model {\n\n  mergeHook(formName: string, hookToMerge: HookDefinition): void {\n    const hooks = this.get('hooks') || {};\n    mergeHook(hooks, formName, hookToMerge);\n    this.set('hooks', hooks);\n  }\n\n  getHook(formName: string): HookDefinition {\n    const hooks: HooksOptions = this.get('hooks') || {};\n    return hooks[formName]; // may be undefined\n  }\n  \n}\n","/* eslint max-statements: [2, 22],  complexity: [2, 12] */\n\n/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { _, Model, loc, internal, ModelProperty } from 'okta';\nimport config from 'config/config.json';\nimport hbs from 'handlebars-inline-precompile';\nimport Q from 'q';\nimport BrowserFeatures from 'util/BrowserFeatures';\nimport {\n  ConfigError,\n  UnsupportedBrowserError\n} from 'util/Errors';\nimport IDP from 'util/IDP';\nimport Logger from 'util/Logger';\nimport Util from 'util/Util';\nimport CountryUtil from 'util/CountryUtil';\nimport { OktaAuth } from '@okta/okta-auth-js';\nconst SharedUtil = internal.util.Util;\nconst assetBaseUrlTpl = hbs('https://global.oktacdn.com/okta-signin-widget/{{version}}');\n\nconst local: Record<string, ModelProperty> = {\n  authClient: ['object', false, undefined],\n  baseUrl: ['string', true],\n  recoveryToken: ['string', false, undefined],\n  stateToken: ['string', false, undefined],\n  username: ['string', false],\n  relayState: ['string', false],\n\n  // These two settings are aliases. Setting either value will set `backToSignInUri` \n  signOutLink: ['string', false], // for backward compatibility\n  backToSignInLink: ['string', false], // preferred setting\n\n  redirect: {\n    type: 'string',\n    values: ['never', 'always', 'auto'],\n    value: 'auto',\n  },\n\n  // allows bootstrapping the Widget into a specific view such\n  // as register or forgot password\n  flow: ['string', false, 'default'],\n\n  // Function to transform the username before passing it to the API\n  // for Primary Auth, Forgot Password and Unlock Account.\n  transformUsername: ['function', false],\n\n  // CALLBACKS\n  globalSuccessFn: 'function',\n  globalErrorFn: 'function',\n  processCreds: 'function',\n  hooks: 'object',\n\n  // IMAGES\n  logo: 'string',\n  logoText: ['string', false],\n  helpSupportNumber: 'string',\n\n  // <OIE>\n  // attribute to hold proxy (fake) idx response\n  // to render static pages without initiating idx pipeline\n  proxyIdxResponse: ['object', false],\n\n  // <OIE>\n  // By default, state handle will be saved to session storage\n  // and will be clear when terminal error or success redirect.\n  // Set this flag to true if you want to override this behavior.\n  // a.k.a dishonor the state handle stored in session storage.\n  overrideExistingStateToken: ['boolean', false, false],\n\n  // FEATURES\n  'features.router': ['boolean', true, false],\n  'features.securityImage': ['boolean', true, false],\n  'features.rememberMe': ['boolean', true, true],\n  'features.autoPush': ['boolean', true, false],\n  'features.smsRecovery': ['boolean', true, false],\n  'features.callRecovery': ['boolean', true, false],\n  'features.emailRecovery': ['boolean', false, true],\n  'features.webauthn': ['boolean', true, false],\n  'features.selfServiceUnlock': ['boolean', true, false],\n  'features.multiOptionalFactorEnroll': ['boolean', true, false],\n  'features.deviceFingerprinting': ['boolean', false, false],\n  'features.hideSignOutLinkInMFA': ['boolean', false, false],\n  'features.skipIdpFactorVerificationBtn': ['boolean', false, false],\n  'features.hideBackToSignInForReset': ['boolean', false, false],\n  'features.customExpiredPassword': ['boolean', true, false],\n  'features.registration': ['boolean', false, false],\n  'features.idpDiscovery': ['boolean', false, false],\n  'features.passwordlessAuth': ['boolean', false, false],\n  'features.showPasswordToggleOnSignInPage': ['boolean', false, false],\n  'features.trackTypingPattern': ['boolean', false, false],\n  'features.redirectByFormSubmit': ['boolean', false, false],\n  'features.useDeviceFingerprintForSecurityImage': ['boolean', false, true],\n  'features.showPasswordRequirementsAsHtmlList': ['boolean', false, false],\n  'features.mfaOnlyFlow': ['boolean', false, false],\n  'features.scrollOnError': ['boolean', false, true],\n  'features.showKeepMeSignedIn': ['boolean', false, true],\n  'features.showIdentifier': ['boolean', false, true],\n  'features.autoFocus': ['boolean', false, true],\n  'features.rememberMyUsernameOnOIE': ['boolean', false, false],\n  \n  defaultCountryCode: ['string', false, 'US'],\n\n  // I18N\n  language: ['any', false], // Can be a string or a function\n  i18n: ['object', false],\n\n  // ASSETS\n  'assets.baseUrl': ['string', false],\n  'assets.rewrite': {\n    type: 'function',\n    value: _.identity,\n  },\n  'assets.languages': ['array', false],\n\n  // OAUTH2\n  issuer: 'string',\n  clientId: 'string',\n  redirectUri: 'string',\n  state: 'string',\n  nonce: 'string',\n  scopes: 'array',\n  codeChallenge: 'string',\n  codeChallengeMethod: ['string', false],\n  oAuthTimeout: ['number', false],\n\n  authScheme: ['string', false, 'OAUTH2'],\n\n  // External IdPs\n  idps: ['array', false, []],\n  idpDisplay: {\n    type: 'string',\n    values: ['PRIMARY', 'SECONDARY'],\n    value: 'SECONDARY',\n  },\n\n  // HELP LINKS\n  'helpLinks.help': 'string',\n  'helpLinks.forgotPassword': 'string',\n  'helpLinks.unlock': 'string',\n  'helpLinks.custom': 'array',\n  'helpLinks.factorPage.href': 'string',\n  'helpLinks.factorPage.text': 'string',\n\n  //Custom Buttons\n  customButtons: ['array', false, []],\n\n  //Registration\n  policyId: 'string',\n  'registration.click': 'function',\n  'registration.parseSchema': 'function',\n  'registration.preSubmit': 'function',\n  'registration.postSubmit': 'function',\n\n  //Consent\n  'consent.cancel': 'function',\n\n  //IDP Discovery\n  'idpDiscovery.requestContext': 'string',\n\n  //Colors\n  'colors.brand': 'string',\n\n  //Descriptions\n  brandName: 'string',\n\n  //PIV\n  piv: ['object', false, {}],\n\n  //Email verify callback\n  otp: 'string',\n\n  //Support classic engine\n  useClassicEngine: ['boolean', false, false]\n};\n\nconst derived: Record<string, ModelProperty>  = {\n  backToSignInUri: {\n    deps: ['backToSignInLink', 'signOutLink'],\n    fn: function(backToSignInLink, signOutLink) {\n      return backToSignInLink || signOutLink; // prefer backToSignInLink over signOutLink, but they are aliases\n    }\n  },\n  showPasswordToggle: {\n    deps: ['features.showPasswordToggleOnSignInPage'],\n    fn: function() {\n      // showPasswordToggle is for OIE only.\n      // Used to default showPasswordToggleOnSignInPage to true.\n      const defaultValue = true;\n      const customizedValue = this.options?.features?.showPasswordToggleOnSignInPage ??\n        this.options?.['features.showPasswordToggleOnSignInPage'];\n      return customizedValue ?? defaultValue;\n    },\n    cache: true,\n  },\n  redirectUtilFn: {\n    deps: ['features.redirectByFormSubmit'],\n    fn: function(redirectByFormSubmit) {\n      return redirectByFormSubmit ? Util.redirectWithFormGet.bind(Util) : SharedUtil.redirect.bind(SharedUtil);\n    },\n    cache: true,\n  },\n  supportedLanguages: {\n    deps: ['i18n', 'language', 'assets.languages'],\n    fn: function(i18n, language, hostedLanguages) {\n      // By default, the language be automatically detected from the browser\n      // Developers can specify the language. It will be added to the supportedLanguages list.\n      // Developers can also provide a list of languages with hosted assets, these replace the default list\n      const supportedLanguages = hostedLanguages || config.supportedLanguages;\n      return _.union(\n        supportedLanguages, \n        _.keys(i18n), \n        _.isString(language) ? [language] : []\n      );\n    },\n    cache: true,\n  },\n  languageCode: {\n    deps: ['language', 'supportedLanguages'],\n    fn: function(language, supportedLanguages) {\n      const userLanguages = BrowserFeatures.getUserLanguages();\n\n      // TODO: revisit this fix - OKTA-491150\n      userLanguages.forEach((val, idx) => {\n        if (val === 'nl') {\n          userLanguages[idx] = 'nl-NL';\n        }\n        else if (val === 'pt') {\n          userLanguages[idx] = 'pt-BR';\n        }\n      });\n      \n      const preferred = _.clone(userLanguages);\n\n      const supportedLowerCase = Util.toLower(supportedLanguages);\n\n      // Any developer defined \"language\" takes highest priority:\n      // As a string, i.e. 'en', 'ja', 'zh-CN'\n      if (_.isString(language)) {\n        preferred.unshift(language);\n      } else if (_.isFunction(language)) {\n        // As a callback function, which is passed the list of supported\n        // languages and detected user languages. This function must return\n        // a languageCode, i.e. 'en', 'ja', 'zh-CN'\n        preferred.unshift(language(supportedLanguages, userLanguages));\n      }\n\n      // Add default language, and expand to include any language\n      // codes that do not include region, dialect, etc.\n      preferred.push(config.defaultLanguage);\n      const expanded = Util.toLower(Util.expandLanguages(preferred));\n\n      // Perform a case insensitive search - this is necessary in the case\n      // of browsers like Safari\n      let i;\n      let supportedPos;\n\n      for (i = 0; i < expanded.length; i++) {\n        supportedPos = supportedLowerCase.indexOf(expanded[i]);\n        if (supportedPos > -1) {\n          return supportedLanguages[supportedPos];\n        }\n      }\n    },\n  },\n  countryCode: {\n    deps: ['defaultCountryCode'],\n    fn: function(defaultCountryCode) {\n      const countries = CountryUtil.getCountries();\n      return Object.keys(countries).includes(defaultCountryCode)\n        ? defaultCountryCode : 'US';\n    },\n  },\n  mode: {\n    deps: ['codeChallenge'],\n    fn: function(codeChallenge) {\n      if (codeChallenge) {\n        return 'remediation';\n      }\n      return 'relying-party';\n    }\n  },\n  oauth2Enabled: {\n    deps: ['clientId', 'authScheme', 'authClient'],\n    fn: function(clientId, authScheme, authClient) {\n       if (!clientId && authClient) {\n        clientId = authClient.options.clientId;\n      }\n      return (!!clientId) && authScheme.toLowerCase() === 'oauth2';\n    },\n    cache: true,\n  },\n  // Redirect Uri to provide in the oauth API\n  oauthRedirectUri: {\n    deps: ['redirectUri'],\n    fn: function(redirectUri) {\n      if (redirectUri) {\n        return redirectUri;\n      }\n\n      let origin = window.location.origin;\n\n      // IE8\n      if (!origin) {\n        const href = window.location.href;\n        const path = window.location.pathname;\n\n        if (path !== '') {\n          origin = href.substring(0, href.lastIndexOf(path));\n        }\n      }\n\n      return encodeURI(origin);\n    },\n  },\n  // Adjusts the idps passed into the widget based on if they get explicit support\n  configuredSocialIdps: {\n    deps: ['idps'],\n    fn: function(idps) {\n      return _.map(idps, function(idpConfig) {\n        const idp = _.clone(idpConfig);\n\n        let type = idp.type && idp.type.toLowerCase();\n\n        if (!(type && _.contains(IDP.SUPPORTED_SOCIAL_IDPS, type))) {\n          type = 'general-idp';\n          idp.text = idp.text || '{ Please provide a text value }';\n        }\n\n        idp.className = [\n          'social-auth-button',\n          'social-auth-' + type + '-button ',\n          idp.className ? idp.className : '',\n        ].join(' ');\n        idp.dataAttr = 'social-auth-' + type + '-button';\n        idp.i18nKey = 'socialauth.' + type + '.label';\n        return idp;\n      });\n    },\n    cache: true,\n  },\n  // Can support piv authentication\n  hasPivCard: {\n    deps: ['piv'],\n    fn: function(piv) {\n      return piv && piv.certAuthUrl;\n    },\n    cache: true,\n  },\n  // social auth buttons order - 'above'/'below' the primary auth form (boolean)\n  socialAuthPositionTop: {\n    deps: ['configuredSocialIdps', 'hasPivCard', 'idpDisplay'],\n    fn: function(configuredSocialIdps, hasPivCard, idpDisplay) {\n      return (!_.isEmpty(configuredSocialIdps) || hasPivCard) && idpDisplay.toUpperCase() === 'PRIMARY';\n    },\n    cache: true,\n  },\n  hasConfiguredButtons: {\n    deps: ['configuredSocialIdps', 'customButtons', 'hasPivCard'],\n    fn: function(configuredSocialIdps, customButtons, hasPivCard) {\n      return !_.isEmpty(configuredSocialIdps) || !_.isEmpty(customButtons) || hasPivCard;\n    },\n    cache: true,\n  }\n};\n\ntype SettingsProps = typeof local & typeof derived;\n\nexport default class Settings extends Model {\n  authClient:OktaAuth;\n\n  constructor(attributes, options) {\n    // base class constructor will call preinitialize() and initialize() and compute derived properties\n    super(attributes, options);\n\n    // apply languageCode\n    const authClient = this.getAuthClient();\n    this.setAcceptLanguageHeader(authClient);\n  }\n\n  get<A extends Backbone._StringKey<SettingsProps>>(attributeName: A): any {\n    return Model.prototype.get.call(this, attributeName);\n  }\n\n  preinitialize(...args) {\n    this.local = local;\n    this.derived = derived;\n    Model.prototype.preinitialize.apply(this, args);\n  }\n\n  initialize(options) {\n    options = options || {};\n    const { colors, authClient } = options;\n    let { baseUrl } = options;\n\n    if (!baseUrl) {\n      // infer baseUrl from the issuer\n      // favor authClient API first\n      if (authClient) {\n        baseUrl = authClient.getIssuerOrigin();\n      } else {\n        // issuer can also be passed a top-level option or exist in authParams\n        const { authParams } = options;\n        let { issuer } = options;\n        issuer = issuer || authParams?.issuer;\n        baseUrl = issuer?.split('/oauth2/')[0];\n      }\n      this.set('baseUrl', baseUrl);\n    }\n\n    if (!baseUrl) {\n      this.callGlobalError(new ConfigError(loc('error.required.baseUrl')));\n    } else if (colors && _.isString(colors.brand) && !colors.brand.match(/^#[0-9A-Fa-f]{6}$/)) {\n      this.callGlobalError(new ConfigError(loc('error.invalid.colors.brand')));\n    } else if (BrowserFeatures.corsIsNotSupported()) {\n      this.callGlobalError(new UnsupportedBrowserError(loc('error.unsupported.cors')));\n    }\n  }\n\n  setAcceptLanguageHeader(authClient) {\n    if (authClient) {\n      authClient.http.setRequestHeader('Accept-Language', this.get('languageCode'));\n    }\n  }\n\n  setAuthClient(authClient) {\n    this.set('authClient', authClient);\n    this.setAcceptLanguageHeader(authClient);\n  }\n\n  getAuthClient() {\n    return this.get('authClient');\n  }\n\n  set(...args: any[]) {\n    try {\n      return Model.prototype.set.apply(this, args);\n    } catch (e) {\n      const message = e.message ? e.message : e;\n\n      this.callGlobalError(new ConfigError(message));\n    }\n  }\n\n  // Invokes the global success function. This should only be called on a\n  // terminal part of the code (i.e. authStatus SUCCESS or after sending\n  // a recovery email)\n  callGlobalSuccess(status, data) {\n    const res = _.extend(data, { status: status });\n    // Defer this to ensure that our functions have rendered completely\n    // before invoking their function\n\n    _.defer(_.partial(this.get('globalSuccessFn'), res));\n  }\n\n  // Invokes the global error function. This should only be called on non\n  // recoverable errors (i.e. configuration errors, browser unsupported\n  // errors, etc)\n  callGlobalError(err) {\n    const globalErrorFn = this.get('globalErrorFn') || this.options.globalErrorFn;\n    // Note: Must use \"this.options.globalErrorFn\" when they've passed invalid\n    // arguments - globalErrorFn will not have been set yet\n\n    if (globalErrorFn) {\n      globalErrorFn(err);\n    } else {\n      // Only throw the error if they have not registered a globalErrorFn\n      throw err;\n    }\n  }\n\n  // Get the username by applying the transform function if it exists.\n  transformUsername(username, operation) {\n    const transformFn = this.get('transformUsername');\n\n    if (transformFn && _.isFunction(transformFn)) {\n      return transformFn(username, operation);\n    }\n    return username;\n  }\n\n  processCreds(creds) {\n    const processCreds = this.get('processCreds');\n\n    return Q.Promise(function(resolve) {\n      if (!_.isFunction(processCreds)) {\n        resolve();\n      } else if (processCreds.length === 2) {\n        processCreds(creds, resolve);\n      } else {\n        processCreds(creds);\n        resolve();\n      }\n    });\n  }\n\n  parseRegistrationSchema(schema, onSuccess, onFailure) {\n    const parseSchema = this.get('registration.parseSchema');\n\n    //check for parseSchema callback\n    if (_.isFunction(parseSchema)) {\n      parseSchema(\n        schema,\n        function(schema) {\n          onSuccess(schema);\n        },\n        function(error) {\n          error = error || { errorSummary: loc('registration.default.callbackhook.error') };\n          error['callback'] = 'parseSchema';\n          onFailure(error);\n        }\n      );\n    } else {\n      //no callback\n      onSuccess(schema);\n    }\n  }\n\n  preRegistrationSubmit(postData, onSuccess, onFailure) {\n    const preSubmit = this.get('registration.preSubmit');\n\n    //check for preSubmit callback\n    if (_.isFunction(preSubmit)) {\n      preSubmit(\n        postData,\n        function(postData) {\n          onSuccess(postData);\n        },\n        function(error) {\n          error = error || { errorSummary: loc('registration.default.callbackhook.error') };\n          error['callback'] = 'preSubmit';\n          onFailure(error);\n        }\n      );\n    } else {\n      //no callback\n      onSuccess(postData);\n    }\n  }\n\n  postRegistrationSubmit(response, onSuccess, onFailure) {\n    const postSubmit = this.get('registration.postSubmit');\n\n    //check for postSubmit callback\n    if (_.isFunction(postSubmit)) {\n      postSubmit(\n        response,\n        function(response) {\n          onSuccess(response);\n        },\n        function(error) {\n          error = error || { errorSummary: loc('registration.default.callbackhook.error') };\n          error['callback'] = 'postSubmit';\n          onFailure(error);\n        }\n      );\n    } else {\n      //no callback\n      onSuccess(response);\n    }\n  }\n\n  // Use the parse function to transform config options to the standard\n  // settings we currently support. This is a good place to deprecate old\n  // option formats.\n  parse(options) {\n    if (options.labels || options.country) {\n      Logger.deprecate('Use \"i18n\" instead of \"labels\" and \"country\"');\n      const overrides = options.labels || {};\n\n      _.each(options.country, function(val, key) {\n        overrides['country.' + key] = val;\n      });\n      // Old behavior is to treat the override as a global override, so we\n      // need to add these overrides to each language\n      options.i18n = {};\n      _.each(config.supportedLanguages, function(language) {\n        options.i18n[language] = overrides;\n      });\n      delete options.labels;\n      delete options.country;\n    }\n\n    // Default the assets.baseUrl to the cdn, or remove any trailing slashes\n    if (!options.assets) {\n      options.assets = {};\n    }\n    const abu = options.assets.baseUrl;\n\n    if (!abu) {\n      options.assets.baseUrl = assetBaseUrlTpl({ version: config.version });\n    } else if (abu[abu.length - 1] === '/') {\n      options.assets.baseUrl = abu.substring(0, abu.length - 1);\n    }\n\n    return options;\n  }\n\n  isDsTheme() {\n    return false;\n  }\n\n}\n","import V2Router from 'v2/WidgetRouter';\nimport { RouterConstructor, WidgetOptions } from 'types';\nimport Util from 'util/Util';\nimport { ConfigError } from 'util/Errors';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function routerClassFactory(options: WidgetOptions): RouterConstructor<V2Router> {\n  if (options.stateToken && Util.isV1StateToken(options.stateToken)) {\n    throw new ConfigError('This version of the Sign-in Widget does not support Classic Engine');\n  }\n  return V2Router;\n}\n","export * from './appState';\nexport * from './api';\nexport * from './authClient';\nexport * from './errors';\nexport * from './events';\nexport * from './registration';\nexport * from './options';\nexport * from './results';\nexport * from './router';\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nconst fn: Record<string, (...any: any[]) => any> = {};\nconst hasFullCorsSupport = 'withCredentials' in new window.XMLHttpRequest();\nconst hasXDomainRequest = typeof window.XDomainRequest !== 'undefined';\n\nfn.corsIsNotSupported = function() {\n  return !(hasFullCorsSupport || hasXDomainRequest);\n};\n\nfn.corsIsNotEnabled = function(jqXhr) {\n  // Not a definitive check, but it's the best we've got.\n  // Note: This will change when OktaAuth is updated\n  return jqXhr.status === 0;\n};\n\n// This is currently not being used, but we'll keep it around for when we\n// want a fallback mechanism - i.e. use localStorage if it exists, else fall\n// back to cookies.\nfn.localStorageIsNotSupported = function() {\n  const test = 'test';\n\n  try {\n    localStorage.setItem(test, test);\n    localStorage.removeItem(test);\n    return false;\n  } catch (e) {\n    return true;\n  }\n};\n\nfn.supportsPushState = function(win) {\n  win = win || window;\n  return !!(win.history && win.history.pushState);\n};\n\nfn.isIE = function() {\n  return /(msie|trident)/i.test(navigator.userAgent);\n};\n\nfn.isFirefox = function() {\n  return navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n};\n\nfn.isEdge = function() {\n  // This is to just check for windows edge. Mac edge - chromium based's UA is 'edg'.\n  return navigator.userAgent.toLowerCase().indexOf('edge') > -1;\n};\n\nfn.isSafari = function() {\n  // Chrome has safari in its useragent string so adding this extra check.\n  return (\n    navigator.userAgent.toLowerCase().indexOf('safari') > -1 &&\n    navigator.userAgent.toLowerCase().indexOf('chrome') === -1\n  );\n};\n\nfn.isMac = function() {\n  return navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n};\n\n\nfn.isAndroid = function() {\n  // Windows Phone also contains \"Android\"\n  return /android/i.test(navigator.userAgent) &&\n    !/windows phone/i.test(navigator.userAgent);\n};\n\nfn.isIOS = function() {\n  // iOS detection from: http://stackoverflow.com/a/9039885/177710\n  return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n};\n\n// Returns a list of languages the user has configured for their browser, in\n// order of preference.\nfn.getUserLanguages = function() {\n  // Chrome, Firefox\n  if (navigator.languages) {\n    return [...navigator.languages];\n  }\n\n  const languages = [];\n  const properties = [\n    'language',         // Safari, IE11\n    'userLanguage',     // IE\n    'browserLanguage',  // IE\n    'systemLanguage'    // IE\n  ];\n\n  properties.forEach(function(property) {\n    if (navigator[property]) {\n      languages.push(navigator[property]);\n    }\n  });\n\n  return languages;\n};\n\n\nexport default fn;\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport config from 'config/config.json';\nimport fetch from 'cross-fetch';\nimport country from 'nls/country.json';\nimport login from 'nls/login.json';\nimport Q from 'q';\nimport { _ } from 'okta';\nimport BrowserFeatures from 'util/BrowserFeatures';\nimport Logger from 'util/Logger';\nconst STORAGE_KEY = 'osw.languages';\n\ndeclare type i18nOptions = {\n  [localeOrCountry: string]: {\n    [i18nKey: string]: string;\n  }\n}\n\ndeclare type Assets = {\n  baseUrl: string;\n  rewrite(origPath: string): string;\n}\n\n/**\n * Converts options to our internal format, which distinguishes between\n * login and country bundles.\n *\n * Example options.i18n passed in by the developer:\n * {\n *   'en': {\n *     'needhelp': 'need help override',\n *     'primaryauth.title': 'new sign in text',\n *     'country.JP' = 'Japan, Japan'\n *   }\n * }\n *\n * Parsed:\n * {\n *  'en': {\n *    'login': {\n *      'needhelp': 'need help override',\n *      'primaryauth.title': 'new sign in text',\n *    },\n *    'country': {\n *      'JP': 'Japan, Japan'\n *    }\n *  }\n * }\n */\nfunction parseOverrides(i18n) {\n  if (!i18n) {\n    return {};\n  }\n\n  const i18nWithLowerCaseKeys = {};\n\n  _.each(_.keys(i18n), function(key) {\n    i18nWithLowerCaseKeys[key.toLowerCase()] = i18n[key];\n  });\n\n  return _.mapObject(i18nWithLowerCaseKeys, function(props) {\n    const mapped = { login: {}, country: {} };\n\n    if (!_.isObject(props)) {\n      throw new Error('Invalid format for \"i18n\"');\n    }\n    _.each(props, function(val, key) {\n      const split = key.split(/^country\\./);\n\n      if (split.length > 1) {\n        mapped.country[split[1]] = val;\n      } else {\n        mapped.login[split[0]] = val;\n      }\n    });\n    return mapped;\n  });\n}\n\n// Caching: We only bundle English by default in the Sign-In Widget. Other\n// languages are loaded on demand and cached in localStorage. These languages\n// are tied to the version of the widget - when it bumps, we reset the cache.\n\nfunction getCachedLanguages() {\n  let storage = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n  if (!storage || storage.version !== config.version) {\n    storage = {\n      version: config.version,\n    };\n  }\n  return storage;\n}\n\nfunction addLanguageToCache(language, loginJson, countryJson) {\n  const current = getCachedLanguages();\n\n  current[language] = {\n    login: loginJson,\n    country: countryJson,\n  };\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(current));\n}\n\n// By default, the assets.bundleUrl is tied to the Okta CDN.\n//\n// There are two overrides available for modifying where we load the asset\n// bundles from:\n//\n// 1. assets.baseUrl\n//\n//    This is the base path the OSW pulls assets from, which in this case is\n//    the Okta CDN. Override this config option if you want to host the\n//    files on your own domain, or if you're using a new version of the\n//    widget whose language files haven't been published to the CDN yet.\n//\n// 2. assets.rewrite\n//\n//    This is a function that can be used to modify the path + fileName of\n//    the bundle we're loading, relative to the baseUrl. When called, it\n//    will pass the current path, and expect the new path to be returned.\n//    This is useful, for example, if your build process has an extra\n//    cachebusting step, i.e:\n//\n//    function rewrite(file) {\n//      // file: /labels/json/login_ja.json\n//      return file.replace('.json', '.' + md5file(file) + '.json');\n//    }\n//\n// Note: Most developers will not need to use these overrides - the default\n// is to use the Okta CDN and to use the same path + file structure the\n// widget module publishes by default.\nfunction fetchJson(bundle, language, assets) {\n  // Our bundles use _ to separate country and region, i.e:\n  // zh-CN -> zh_CN\n  const languageCode = language.replace('-', '_');\n\n  const path = assets.rewrite(encodeURI(`/labels/json/${bundle}_${languageCode}.json`));\n\n  const headers = {\n    Accept: 'application/json',\n    'Content-Type': 'text/plain',\n  };\n\n  const mode = 'no-cors';\n\n  return fetch(assets.baseUrl + path, {\n    method: 'GET',\n    headers,\n    mode,\n  })\n    .then(res => res.text())\n    .then(txt => JSON.parse(txt));\n}\n\nfunction getBundles(language, assets, supportedLanguages) {\n  // Two special cases:\n  // 1. Default language is already bundled with the widget\n  // 2. If the language is not in our config file, it means that they've\n  //    probably defined it on their own.\n  if (language === config.defaultLanguage || !_.contains(supportedLanguages, language)) {\n    return Q({});\n  }\n\n  //local storage does not work correctly with android web views (embeded browers)\n  //so skip the caching and just make the request to get the local info\n  const localStorageIsSupported = !BrowserFeatures.localStorageIsNotSupported();\n\n  if (localStorageIsSupported) {\n    const cached = getCachedLanguages();\n\n    if (cached[language]) {\n      return Q(cached[language]);\n    }\n  }\n\n  return Q.all([fetchJson('login', language, assets), fetchJson('country', language, assets)])\n    .spread(function(loginJson, countryJson) {\n      if (localStorageIsSupported) {\n        addLanguageToCache(language, loginJson, countryJson);\n      }\n      return { login: loginJson, country: countryJson };\n    })\n    .catch(function() {\n      // If there is an error, this will default to the bundled language and\n      // we will no longer try to load the language this session.\n      Logger.warn('Unable to load language: ' + language);\n      return {};\n    });\n}\n\nexport default {\n  login: login,\n  country: country,\n  // Courage components within the sign in widget point to courage bundle to look\n  // up i18nkeys. Since we dont have courage.properties inside the sign in widget\n  // we are pointing courage bundle to login.\n  courage: login,\n\n  currentLanguage: null,\n\n  isLoaded: function(language: string): boolean {\n    return this.currentLanguage === language;\n  },\n\n  remove: function(): void {\n    this.currentLanguage = null;\n  },\n\n  loadLanguage: function(language: string, overrides: i18nOptions, assets: Assets, supportedLanguages: string[]): Q.Promise<void> {\n    const parsedOverrides = parseOverrides(overrides);\n    const lowerCaseLanguage = language.toLowerCase();\n    return getBundles(language, assets, supportedLanguages).then(bundles => {\n      // Always extend from the built in defaults in the event that some\n      // properties are not translated\n      this.login = _.extend({}, login, bundles.login);\n      this.country = _.extend({}, country, bundles.country);\n      this.courage = _.extend({}, login, bundles.login);\n      if (parsedOverrides[lowerCaseLanguage]) {\n        _.extend(this.login, parsedOverrides[lowerCaseLanguage]['login']);\n        _.extend(this.country, parsedOverrides[lowerCaseLanguage]['country']);\n        _.extend(this.courage, parsedOverrides[lowerCaseLanguage]['login']);\n      }\n      this.currentLanguage = language;\n    });\n  },\n};\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { loc } from 'okta';\nimport Enums from './Enums';\nimport { ErrorXHR, ErrorContextData } from 'types/errors';\nimport { FlowIdentifier } from '@okta/okta-auth-js';\n\nabstract class CustomError extends Error {\n  constructor(message?: string) {\n    super(message);\n\n    // 'Error' breaks prototype chain. Need to restore it for ES5.\n    // https://github.com/microsoft/TypeScript/wiki/FAQ#why-doesnt-extending-built-ins-like-error-array-and-map-work\n    // Note: no need to adjust prototype in subclasses of 'CustomError'.\n    Object.setPrototypeOf(this, new.target.prototype);\n  }\n}\n\nexport class ConfigError extends CustomError {\n  name = Enums.CONFIG_ERROR;\n  constructor(message?: string) {\n    super(message || loc('error.config'));\n  }\n}\n\nexport class UnsupportedBrowserError extends CustomError {\n  name = Enums.UNSUPPORTED_BROWSER_ERROR;\n  constructor(message?: string) {\n    super(message || loc('error.unsupported.browser'));\n  }\n}\n\nexport class OAuthError extends CustomError {\n  name = Enums.OAUTH_ERROR;\n}\n\nexport class RegistrationError extends CustomError {\n  name = Enums.REGISTRATION_FAILED;\n}\n\n// Thrown when initiation of poll was cancelled.\nexport class AuthStopPollInitiationError extends CustomError {\n  name = Enums.AUTH_STOP_POLL_INITIATION_ERROR;\n}\n\nexport class U2FError extends CustomError {\n  xhr: ErrorXHR;\n  name = Enums.U2F_ERROR;\n  constructor(err: ErrorContextData) {\n    super(err.xhr.responseJSON.errorSummary);\n    this.xhr = err.xhr;\n  }\n}\n\nexport class WebAuthnError extends CustomError {\n  xhr: ErrorXHR;\n  name = Enums.WEB_AUTHN_ERROR;\n  constructor(err: ErrorContextData) {\n    super(err.xhr.responseJSON.errorSummary);\n    this.xhr = err.xhr;\n  }\n}\n\n// This is triggered only when code aborts webauthn browser prompt.\nexport class WebauthnAbortError extends CustomError {\n  name = Enums.WEBAUTHN_ABORT_ERROR;\n}\n\nexport class ConfiguredFlowError extends CustomError {\n  flowSetting: FlowIdentifier;\n  name = Enums.CONFIGURED_FLOW_ERROR;\n  constructor(message: string, flowSetting: FlowIdentifier) {\n    super(message);\n    this.flowSetting = flowSetting;\n  }\n}\n","import { loc } from 'okta';\n\nimport { AuthSdkError, OAuthError as SdkOAuthError} from '@okta/okta-auth-js';\nimport { OAuthError } from './Errors';\nimport { ErrorDetails } from 'types/errors';\n\ntype ErrorTraits = 'inline' | 'terminal';\n\ntype ErrorType = {\n  [key in ErrorTraits]?: boolean;\n};\n\nclass InlineErrorType implements ErrorType {\n  inline = true;\n}\n\nclass TerminalErrorType implements ErrorType {\n  terminal = true;\n}\n\nclass TypedOAuthError<T extends ErrorType> extends OAuthError {\n  errorType: T;\n  orginalError: AuthSdkError | SdkOAuthError;\n  errorDetails: ErrorDetails\n\n  constructor(originalError, errorTypeCtor: new () => T) {\n    super(originalError.message);\n    this.errorType = new errorTypeCtor();\n    this.orginalError = originalError;\n\n    this.errorDetails = {\n      errorSummary: this.getErrorSummary(),\n      errorCode: originalError.errorCode,\n      errorCauses: originalError.errorCauses,\n    }\n  }\n\n  protected getErrorSummary() {\n    return this.orginalError.errorSummary;\n  }\n\n  public is(errorTrait: ErrorTraits) {\n    return Boolean(Object.getOwnPropertyDescriptor(this.errorType, errorTrait as PropertyKey)?.value);\n  }\n}\n\nclass RecoverableError<T extends ErrorType> extends TypedOAuthError<T> {\n  \n}\n\nclass NonRecoverableError<T extends ErrorType> extends TypedOAuthError<T> {\n  \n}\n\nclass ClockDriftError extends RecoverableError<TerminalErrorType> {\n  constructor(error) {\n    super(error, TerminalErrorType);\n  }\n\n  getErrorSummary(): string {\n    return loc('error.unsynced.clock', 'login');\n  }\n}\n\nclass UserNotAssignedError extends RecoverableError<InlineErrorType> {\n  constructor(error) {\n    super(error, InlineErrorType);\n  }\n}\n\nclass JITProfileProvisioningError extends RecoverableError<InlineErrorType> {\n  constructor(error) {\n    super(error, InlineErrorType);\n  }\n  getErrorSummary(): string {\n    return loc('error.jit_failure', 'login');\n  }\n}\n\nclass MfaRequiredError extends NonRecoverableError<InlineErrorType> {\n  constructor(error) {\n    super(error, InlineErrorType);\n  }\n\n  getErrorSummary(): string {\n    return loc('error.mfa.required', 'login');\n  }\n}\n\nfunction getTypedOAuthError(error: AuthSdkError | SdkOAuthError) {\n  switch(error.errorCode) {\n    case 'access_denied':\n      return new UserNotAssignedError(error);\n\n    case 'jit_failure_missing_fields':\n    case 'jit_failure_invalid_login_format':\n    case 'jit_failure_values_not_match_pattern':\n    case 'jit_failure_values_too_long':\n    case 'jit_failure_invalid_locale':\n      return new JITProfileProvisioningError(error);\n\n    case 'login_required':\n      const mfaRequiredMsg = 'The client specified not to prompt, but the client app requires re-authentication or MFA.';\n      if (error.message === mfaRequiredMsg) {\n        return new MfaRequiredError(error);\n      }\n\n    case 'INTERNAL':\n      const clockDriftMsg = 'The JWT was issued in the future';\n      if (error.message === clockDriftMsg) {\n        return new ClockDriftError(error);\n      }\n\n    default:\n      return new RecoverableError(error, Object);\n  }\n}\n\nexport {\n  RecoverableError,\n  NonRecoverableError,\n  JITProfileProvisioningError,\n  ClockDriftError,\n  UserNotAssignedError,\n  MfaRequiredError,\n  TypedOAuthError,\n  getTypedOAuthError\n}\n","/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { View } from 'okta';\nimport hbs from 'handlebars-inline-precompile';\nimport Animations from 'util/Animations';\nimport LoadingBeacon from 'v1/views/shared/LoadingBeacon';\nconst NO_BEACON_CLS = 'no-beacon';\nconst LOADING_BEACON_CLS = 'beacon-small beacon-loading';\n\nfunction isLoadingBeacon(beacon) {\n  return beacon && beacon.equals(LoadingBeacon);\n}\n\nfunction removeBeacon(view) {\n  // There are some timing issues with removing beacons (i.e. the case of\n  // transitioning from loadingBeacon -> loadingBeacon)\n  if (!view.currentBeacon) {\n    return;\n  }\n  view.currentBeacon.remove();\n  view.currentBeacon = null;\n}\n\nfunction addBeacon(view, NextBeacon, selector, options) {\n  view.add(NextBeacon, {\n    selector: selector,\n    options: options,\n  });\n  view.currentBeacon = view.first();\n}\n\nfunction typeOfTransition(currentBeacon, NextBeacon, options) {\n  if (!currentBeacon && !NextBeacon) {\n    return 'none';\n  }\n  // Show Loading beacon\n  if (!currentBeacon && options.loading) {\n    return 'load';\n  }\n  // Swap/Hide Loading beacon\n  if (currentBeacon && isLoadingBeacon(currentBeacon)) {\n    return NextBeacon ? 'swap' : 'unload';\n  }\n  if (currentBeacon && currentBeacon.equals(NextBeacon, options)) {\n    return 'same';\n  }\n  if (!currentBeacon && NextBeacon) {\n    return 'add';\n  }\n  if (currentBeacon && !NextBeacon) {\n    return 'remove';\n  }\n  if (currentBeacon instanceof NextBeacon) {\n    return 'fade';\n  }\n  // If none of the above\n  // then we are changing the type of beacon\n  // ex. from SecurityBeacon to FactorBeacon\n  return 'swap';\n}\n\nexport default class Header extends View {\n  currentBeacon;\n  \n  preinitialize(...args) {\n    this.currentBeacon = null;\n    /* eslint-disable @okta/okta/no-unlocalized-text-in-templates */\n    this.template = hbs(\n      '\\\n        <div class=\"okta-sign-in-header auth-header\">\\\n          {{#if logo}}\\\n          <h1><img src=\"{{logo}}\" class=\"auth-org-logo\" alt=\"{{logoText}} logo\" aria-label=\"{{logoText}} logo\"></h1>\\\n          {{/if}}\\\n          <div data-type=\"beacon-container\" class=\"beacon-container\"></div>\\\n        </div>\\\n        <div class=\"auth-content\"><div class=\"auth-content-inner\"></div></div>\\\n      '\n    );\n    /* eslint-enable @okta/okta/no-unlocalized-text-in-templates */\n    View.prototype.preinitialize.apply(this, args);\n  }\n\n\n  // Attach a 'no-beacon' class if the security image feature\n  // is not passed in to prevent the beacon from jumping.\n  initialize(options) {\n    if (!options.settings.get('features.securityImage')) {\n      this.$el.addClass(NO_BEACON_CLS);\n      // To show/hide the spinner when there is no security image,\n      // listen to the appState's loading/removeLoading events.\n      this.listenTo(options.appState, 'loading', this.setLoadingBeacon);\n      this.listenTo(options.appState, 'removeLoading', this.removeLoadingBeacon);\n    }\n  }\n\n  /* eslint complexity: 0 */\n  setBeacon(NextBeacon, options) {\n    const selector = '[data-type=\"beacon-container\"]';\n    const container = this.$(selector);\n    const transition = typeOfTransition(this.currentBeacon, NextBeacon, options);\n\n    switch (transition) {\n    case 'none':\n      this.$el.addClass(NO_BEACON_CLS);\n      return;\n    case 'same':\n      return;\n    case 'add':\n      this.$el.removeClass(NO_BEACON_CLS);\n      addBeacon(this, NextBeacon, selector, options);\n      return Animations.explode(container);\n    case 'remove':\n      this.$el.addClass(NO_BEACON_CLS);\n      return Animations.implode(container)\n        .then(() => {\n          removeBeacon(this);\n        })\n        .done(); // TODO: can this be removed if Animations.implode returns standard ES6 Promise?\n    case 'fade':\n      // Other transitions are performed on the beacon container,\n      // but this transition is on the content inside the beacon.\n      // For a SecurityBeacon the username change will update the\n      // AppState and trigger an transition to a new Becon\n      // Since there is no url change this method is not called.\n      // For a FactorBeacon a page refresh has occurred\n      // so we execute the beacon's own transition method.\n      if (!this.currentBeacon.fadeOut) {\n        throw new Error('The current beacon is missing the \"fadeOut\" method');\n      }\n      options.animate = true;\n      return this.currentBeacon\n        .fadeOut()\n        .then(() => {\n          removeBeacon(this);\n          addBeacon(this, NextBeacon, selector, options);\n        })\n        .done(); // TODO: can this be removed if fadeOut returns standard ES6 Promise?\n    case 'swap':\n      return Animations.swapBeacons({\n        $el: container,\n        swap: () => {\n          const isLoading = isLoadingBeacon(this.currentBeacon);\n\n          // Order of these calls is important for -\n          // loader --> security/factor beacon swap.\n          removeBeacon(this);\n          if (isLoading) {\n            container.removeClass(LOADING_BEACON_CLS);\n            this.$el.removeClass(NO_BEACON_CLS);\n          }\n          addBeacon(this, NextBeacon, selector, options);\n        },\n      }).done(); // TODO: can this be removed if Animations.swapBeacons returns standard ES6 Promise?\n    case 'load':\n      // Show the loading beacon. Add a couple of classes\n      // before triggering the add beacon code.\n      container.addClass(LOADING_BEACON_CLS);\n      addBeacon(this, NextBeacon, selector, options);\n      return Animations.explode(container);\n    case 'unload':\n      // Hide the loading beacon.\n      return this.removeLoadingBeacon();\n    default:\n      throw new Error('the \"' + transition + '\" is not recognized');\n    }\n  }\n\n  // Show the loading beacon when the security image feature is not enabled.\n  setLoadingBeacon(isLoading) {\n    if (!isLoading || isLoadingBeacon(this.currentBeacon)) {\n      return;\n    }\n    this.setBeacon(LoadingBeacon, { loading: true });\n  }\n\n  // Hide the beacon on primary auth failure. On primary auth success, setBeacon does this job.\n  removeLoadingBeacon() {\n    const container = this.$('[data-type=\"beacon-container\"]');\n\n    return Animations.implode(container)\n      .then(() => {\n        removeBeacon(this);\n        container.removeClass(LOADING_BEACON_CLS);\n      })\n      .done(); // TODO: can this be removed if Animations.implode returns standard ES6 Promise?\n  }\n\n  getTemplateData() {\n    return this.settings.toJSON({ verbose: true });\n  }\n\n  getContentEl() {\n    return this.$('.auth-content-inner');\n  }\n}\n","/* eslint max-depth: [1,4] */\n/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n// BaseLoginRouter contains the more complicated router logic - rendering/\n// transition, etc. Most router changes should happen in LoginRouter (which is\n// responsible for adding new routes)\nimport { _, $, Backbone, Router, loc, BaseRouterOptions } from 'okta';\nimport Settings from 'models/Settings';\nimport Bundles from 'util/Bundles';\nimport BrowserFeatures from 'util/BrowserFeatures';\nimport ColorsUtil from 'util/ColorsUtil';\nimport Enums from 'util/Enums';\nimport { ConfigError } from 'util/Errors';\nimport Logger from 'util/Logger';\nimport LanguageUtil from 'util/LanguageUtil';\nimport AuthContainer from 'v1/views/shared/AuthContainer';\nimport Header from 'v1/views/shared/Header';\nimport AppState from './models/AppState';\nimport sessionStorageHelper from './client/sessionStorageHelper';\nimport {\n  startLoginFlow,\n  handleConfiguredFlow,\n  updateAppState,\n} from './client';\n\nimport CookieUtil from 'util/CookieUtil';\nimport { formatError, LegacyIdxError, StandardApiError } from './client/formatError';\nimport { RenderError, RenderResult } from 'types';\nimport { OktaAuth, IdxResponse } from '@okta/okta-auth-js';\nimport Hooks from 'models/Hooks';\nimport IonHelper from './ion/IonResponseHelper';\n\nexport interface BaseLoginRouterOptions extends BaseRouterOptions, Backbone.RouterOptions {\n  globalSuccessFn?: (res: RenderResult) => void;\n  globalErrorFn?: (res: RenderError) => void;\n  authClient?: OktaAuth;\n  hooks: Hooks\n}\n\nclass BaseLoginRouter extends Router<Settings, BaseLoginRouterOptions> {\n  Events: Backbone.Events = Backbone.Events; // also set on prototype\n  hasControllerRendered = false;\n  settings: Settings;\n  appState: AppState;\n  hooks: Hooks;\n  header: Header;\n\n  constructor(options: BaseLoginRouterOptions) {\n    super(options);\n\n    // Create a default success and/or error handler if\n    // one is not provided.\n    if (!options.globalSuccessFn) {\n      options.globalSuccessFn = function() { /* dummy function */ };\n    }\n    if (!options.globalErrorFn) {\n      options.globalErrorFn = function(err) {\n        Logger.error(err);\n      };\n    }\n\n    this.settings = new Settings(_.omit(options, 'el', 'hooks'), { parse: true });\n\n    if (!options.el) {\n      this.settings.callGlobalError(new ConfigError(loc('error.required.el')));\n    }\n\n    $('body > div').on('click', function() {\n      // OKTA-69769 Tooltip wont close on iPhone/iPad\n      // Registering a click handler on the first div\n      // allows a tap that falls outside the tooltip\n      // to be registered as a tap by iOS\n      // and then the open tooltip will lose focus and close.\n    });\n\n    this.hooks = options.hooks;\n    this.appState = new AppState({}, {\n      settings: this.settings,\n      hooks: this.hooks\n    });\n\n    const wrapper = new AuthContainer({ appState: this.appState });\n\n    $(options.el).append(wrapper.render().$el);\n    this.el = `#${Enums.WIDGET_CONTAINER_ID}`;\n    this.header = new Header({\n      el: this.el,\n      appState: this.appState,\n      settings: this.settings,\n    });\n\n    // Hide until unitial render\n    this.hide();\n\n    this.listenTo(this.appState, 'change:deviceFingerprint', this.updateDeviceFingerprint);\n    this.listenTo(this.appState, 'restartLoginFlow', this.restartLoginFlow);\n  }\n\n  updateDeviceFingerprint() {\n    const authClient = this.settings.getAuthClient();\n    const fingerprint = this.appState.get('deviceFingerprint');\n    if (fingerprint) {\n      authClient.http.setRequestHeader('X-Device-Fingerprint', fingerprint);\n    }\n  }\n\n  async handleIdxResponseFailure(error: LegacyIdxError = { error: 'unknown', details: undefined }) {\n    // IDX errors will not call the global error handler\n    error = formatError(error);\n    await updateAppState(this.appState, error.details);\n  }\n\n  // Generic error handler for all exceptions\n  async handleError(error: LegacyIdxError | StandardApiError | Error = { error: 'unknown', details: undefined }) {\n    const formattedError = formatError({...error}); // format the error to resemble an IDX response\n    await updateAppState(this.appState, formattedError.details);\n  }\n\n  /* eslint max-statements: [2, 36], complexity: [2, 16] */\n  async render(Controller, options = {}) {\n    // If url changes then widget assumes that user's intention was to initiate a new login flow,\n    // so clear stored token to use the latest token.\n    if (sessionStorageHelper.getLastInitiatedLoginUrl() !== window.location.href) {\n      sessionStorageHelper.removeStateHandle();\n    }\n    // Since we have a wrapper view, render our wrapper and use its content\n    // element as our new el.\n    // Note: Render it here because we know dom is ready at this point\n    if (!this.header.rendered()) {\n      this.el = this.header.render().getContentEl();\n    }\n\n    // If we need to load a language (or apply custom i18n overrides), do\n    // this now and re-run render after it's finished.\n    if (!Bundles.isLoaded(this.settings.get('languageCode'))) {\n      await LanguageUtil.loadLanguage(this.appState, this.settings);\n    }\n\n    let error;\n    try {\n      let idxResp = await startLoginFlow(this.settings);\n      if (idxResp.error) {\n        await this.handleIdxResponseFailure(idxResp.error);\n      } else {\n        if (this.settings.get('flow') && !this.hasControllerRendered) {\n          idxResp = await handleConfiguredFlow(idxResp, this.settings);\n        }\n\n        // TODO: OKTA-494979 - temporary fix, remove when auth-js is upgraded to 6.6+\n        if (!idxResp.requestDidSucceed && IonHelper.isIdxSessionExpiredError(idxResp)) {\n          // clear transaction subsequent page loads do not use stale interactionHandle\n          const authClient = this.settings.getAuthClient();\n          authClient.transactionManager.clear();\n        }\n\n        await updateAppState(this.appState, idxResp);\n      }\n    } catch (exception) {\n      if (exception.is?.('terminal')) {\n        this.appState.setNonIdxError(exception);\n      } else {\n        error = exception;\n        await this.handleError(exception);\n      }\n    } finally {\n      // These settings should only be used one time, for initial render\n      this.settings.unset('stateToken');\n      this.settings.unset('proxyIdxResponse');\n    }\n\n    // Load the custom colors only on the first render\n    if (this.settings.get('colors.brand') && !ColorsUtil.isLoaded()) {\n      const colors = {\n        brand: this.settings.get('colors.brand'),\n      };\n\n      ColorsUtil.addStyle(colors);\n    }\n\n    // Show before initial render\n    this.show();\n\n    // render Controller\n    this.unload();\n    const controllerOptions = _.extend({\n      el: this.el,\n      settings: this.settings,\n      appState: this.appState\n    }, options);\n    this.controller = new Controller(controllerOptions);\n\n    // Bubble up all controller events\n    this.listenTo(this.controller, 'all', this.trigger);\n\n    this.controller.render();\n\n    this.hasControllerRendered = true;\n\n    // This will reject the promise returned from renderEl\n    if (error) {\n      this.settings.callGlobalError(error);\n    }\n\n    // -- TODO: OKTA-244631 How to surface up the CORS error in IDX?\n    // -- The `err` object from idx.js doesn't have XHR object\n    // Global error handling for CORS enabled errors\n    // if (err.xhr && BrowserFeatures.corsIsNotEnabled(err.xhr)) {\n    //   this.settings.callGlobalError(new UnsupportedBrowserError(loc('error.enabled.cors')));\n    //   return;\n    // }\n  }\n\n  /**\n    * When \"Remember My Username\" is enabled, we save the identifier in a cookie\n    * so that the next time the user visits the SIW, the identifier field can be \n    * pre-filled with this value.\n   */\n  updateIdentifierCookie(idxResponse: IdxResponse) {\n    if (this.settings.get('features.rememberMe')) {\n      // Update the cookie with the identifier\n      const user = idxResponse?.context?.user;\n      const { identifier } = user?.value || {};\n      if (identifier) {\n        CookieUtil.setUsernameCookie(identifier);\n      }\n    } else {\n      // We remove the cookie explicitly if this feature is disabled.\n      CookieUtil.removeUsernameCookie();\n    }    \n  }\n\n  hasAuthenticationSucceeded(idxResponse: IdxResponse) {\n    // Check whether authentication has succeeded. This is done by checking the server response\n    // and seeing if either the 'success' or 'successWithInteractionCode' objects are present.\n    return idxResponse?.rawIdxState?.success || idxResponse?.rawIdxState?.successWithInteractionCode;\n  }\n\n  restartLoginFlow() {\n    // clear all transaction data and saved IDX response\n    this.settings.getAuthClient().transactionManager.clear();\n    this.appState.set('idx', undefined);\n\n    // Clear the recoveryToken, if any\n    const authClient = this.settings.getAuthClient();\n    delete authClient.options['recoveryToken'];\n    this.settings.unset('recoveryToken');\n    // clear otp (email magic link), if any\n    this.settings.unset('otp');\n\n    // remove all event listeners from current controller instance. A new instance will be created in render().\n    this.controller.stopListening();\n\n    // Re-render the widget\n    this.render(this.controller.constructor);\n  }\n\n  start() {\n    const pushState = BrowserFeatures.supportsPushState();\n    Router.prototype.start.call(this, { pushState: pushState });\n  }\n\n  hide() {\n    this.header.$el.hide();\n  }\n\n  show() {\n    this.header.$el.show();\n  }\n\n  remove() {\n    this.unload();\n    this.header.$el.remove();\n    this.stopListening(this.appState);\n    this.stopListening(this.settings);\n    Bundles.remove();\n    Backbone.history.stop();\n  }\n}\n\n// Add \"Events\" to prototype for compatibility with existing code\nBaseLoginRouter.prototype.Events = Backbone.Events;\n\nexport default BaseLoginRouter;\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { AbstractRouter } from 'types';\nimport BaseLoginRouter, { BaseLoginRouterOptions } from './BaseLoginRouter';\nimport FormController from './controllers/FormController';\n\nconst routes = {\n  '': 'defaultAuth',\n  '*wildcard': 'defaultAuth',\n};\n\nexport default class WidgetRouter extends BaseLoginRouter implements AbstractRouter {\n  constructor(options: BaseLoginRouterOptions) {\n    super({ routes, ...options });\n  }\n\n  defaultAuth() {\n    this.render(FormController);\n  }\n}\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { ProceedOptions } from '@okta/okta-auth-js';\n\nexport async function emailVerifyCallback(settings) {\n  const authClient = settings.getAuthClient();\n  const idxOptions: ProceedOptions = {\n    exchangeCodeForTokens: false, // we handle this in interactionCodeFlow.js\n  };\n  const meta = await authClient.idx.getSavedTransactionMeta(); // meta can load in another tab using state if it matches\n  if (!meta || !meta.interactionHandle) {\n    // Flow can not continue in this tab. Create a synthetic server response and use it to display a message to the user\n    const messages = {\n      type: 'array',\n      value: [\n        // terminal-return-otp-only-no-location.json\n        {\n          'message': 'Enter the OTP in your original browser or device.',\n          'i18n': {\n            'key': 'idx.enter.otp.in.original.tab'\n          },\n          'class': 'INFO'\n        }\n      ]\n    };\n\n    const resp = {\n      neededToProceed: [],\n      // OKTA-382410 so bad that has to leverage rawIdxState\n      rawIdxState: {\n        messages,\n      },\n      context: {\n        messages,\n      }\n    };\n    return resp;\n  }\n  \n  // Proceed using the OTP code\n  const otp = settings.get('otp');\n  const idxResponse = await authClient.idx.proceed({\n    ...idxOptions,\n    otp\n  });\n  return idxResponse;\n}\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport {\n  IdxContext,\n  IdxMessages,\n  IdxResponse,\n  RawIdxResponse\n} from '@okta/okta-auth-js';\nimport { loc } from 'okta';\n\nexport interface LegacyIdxError {\n  error: string;\n  details: IdxResponse\n}\n\nexport interface StandardApiError {\n  error: string;\n  error_description: string;\n}\n\nexport function isInvalidRecoveryTokenError(error): error is StandardApiError {\n  // special case: error from interact when passing an (invalid) recovery token\n  return (error?.error === 'invalid_request' && error.error_description === 'The recovery token is invalid');\n}\n\nexport function formatInvalidRecoveryTokenError(error: StandardApiError) {\n  // This error comes from `oauth2/interact` so is not an IDX error.\n  // simulate an IDX-JS error response\n  const idxError = formatIDXError(error);\n  const { details } = idxError;\n  const messages: IdxMessages = {\n    type: 'array',\n    value: [\n      {\n        message: error.error_description,\n        i18n: {\n          key: 'oie.invalid.recovery.token'\n        },\n        class: 'ERROR'\n      }\n    ],\n  };\n  details.rawIdxState.messages = messages;\n  details.context.messages = messages;\n  return idxError;\n}\n\nexport function isOIENotEnabledError(error): error is StandardApiError {\n  // special case: error from interact when the Org does not have OIE enabled\n  // The response is not in IDX format. See playground/mocks/data/oauth2/error-feature-not-enabled.json\n  return (error?.error === 'access_denied' && error.error_description);\n}\n\nexport function formatOIENotEnabledError(error: StandardApiError) {\n  // This error comes from `oauth2/interact` so the error is in OAuth format\n  // simulate an IDX-JS error response\n  const idxError = formatIDXError(error);\n  const { details } = idxError;\n  const messages: IdxMessages = {\n    type: 'array',\n    value: [\n      {\n        message: error.error_description,\n        i18n: {\n          key: 'oie.feature.disabled'\n        },\n        class: 'ERROR'\n      }\n    ],\n  };\n  details.rawIdxState.messages = messages;\n  details.context.messages = messages;\n  return error;\n}\n\nexport function isOIEConfigurationError(error): error is StandardApiError {\n  return (error?.error && error.error_description);\n}\n\nexport function formatOIEConfigurationError(error) {\n  // This error comes from `oauth2/interact` so the error is in OAuth format\n  // simulate an IDX-JS error response\n  const idxError = formatIDXError(error);\n  const { details } = idxError;\n  const messages: IdxMessages = {\n    type: 'array',\n    value: [\n      {\n        message: loc('oie.configuration.error', 'login'),\n        class: 'ERROR',\n        i18n: undefined\n      }\n    ],\n  };\n  details.rawIdxState.messages = messages;\n  details.context.messages = messages;\n  return error;\n}\n\nexport function formatIDXError(error: LegacyIdxError | StandardApiError | Error): LegacyIdxError {\n  // Make the error object resemble an IDX response\n  const idxError = error as LegacyIdxError;\n  idxError.details = idxError.details || {} as IdxResponse;\n  const { details } = idxError;\n  details.rawIdxState = details.rawIdxState || {} as RawIdxResponse;\n  details.context = details.context || {} as IdxContext;\n  details.neededToProceed = details.neededToProceed || [];\n\n  // Populate generic error message if there isn't any.\n  if (!details.rawIdxState.messages) {\n    const idxMessage: IdxMessages = {\n      type: 'array',\n      value: [\n        {\n          message: loc('oform.error.unexpected', 'login'),\n          class: 'ERROR',\n          i18n: undefined\n        }\n      ]\n    };\n    details.rawIdxState.messages = idxMessage;\n    details.context.messages = idxMessage;\n  }\n\n  return idxError;\n}\n\nexport function formatError(error: string | Error | LegacyIdxError | StandardApiError) {\n  // If the error is a string, wrap it in an Error object\n  if (typeof error === 'string') {\n    error = new Error(error);\n  }\n\n  // special case error handling\n\n  // invalid reccovery token\n  if (isInvalidRecoveryTokenError(error)) {\n    return formatInvalidRecoveryTokenError(error);\n  }\n\n  // OIE is not enabled\n  if (isOIENotEnabledError(error)) {\n    return formatOIENotEnabledError(error);\n  }\n\n  // Other errors from /interact in OAuth format\n  if (isOIEConfigurationError(error)) {\n    return formatOIEConfigurationError(error);\n  }\n\n  error = formatIDXError(error);\n  return error;\n}","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { ConfiguredFlowError, ConfigError } from 'util/Errors';\nimport { emailVerifyCallback } from './emailVerifyCallback';\nimport sessionStorageHelper from './sessionStorageHelper';\nimport { CONFIGURED_FLOW } from './constants';\nimport { IdxTransactionMeta, ProceedOptions } from '@okta/okta-auth-js';\n\nconst handleProxyIdxResponse = async (settings) => {\n  return Promise.resolve({\n    rawIdxState: settings.get('proxyIdxResponse'),\n    context: settings.get('proxyIdxResponse'),\n    neededToProceed: [],\n  });\n};\n\n/* eslint max-depth: [2, 3] */\n// eslint-disable-next-line complexity, max-statements\nexport async function startLoginFlow(settings) {\n  const authClient = settings.getAuthClient();\n  // nonce is not a top-level auth-js option, must be passed in manually\n  const { authParams } = settings.toJSON({verbose: true});\n  const nonce = settings.get('nonce') || authParams?.nonce;\n  const idxOptions: ProceedOptions = {\n    exchangeCodeForTokens: false, // we handle this in interactionCodeFlow.js\n    ...(nonce && { nonce })\n  };\n\n  // Return a preset response\n  if (settings.get('proxyIdxResponse')) {\n    return handleProxyIdxResponse(settings);\n  }\n\n  if (settings.get('overrideExistingStateToken')) {\n    sessionStorageHelper.removeStateHandle();\n  }\n\n  if (settings.get('otp')) {\n    return emailVerifyCallback(settings);\n  }\n\n  if (settings.get('oauth2Enabled')) {\n    const meta: IdxTransactionMeta = await authClient.idx.getSavedTransactionMeta();\n    if (!meta) {\n      // no saved transaction\n      // if the configured flow is set to `proceed`, the SIW should only continue an existing idx transaction\n      // if the SIW loads from a fresh state (there is no current transaction), throw an error\n      const flow = authClient.idx.getFlow();\n      if (flow && flow === CONFIGURED_FLOW.PROCEED) {\n        throw new ConfiguredFlowError(\n          'Unable to proceed: saved transaction could not be loaded', flow\n        );\n      }\n      // start new transaction\n      return authClient.idx.start(idxOptions); // calls interact\n    }\n\n    // continue saved transaction\n    return authClient.idx.proceed(idxOptions); // calls introspect\n  }\n\n  // Use stateToken from session storage if exists\n  // See more details at ./docs/use-session-token-prior-to-settings.png\n  const stateHandleFromSession = sessionStorageHelper.getStateHandle();\n  if (stateHandleFromSession) {\n    try {\n      const idxResp = await authClient.idx.start({\n        ...idxOptions,\n        stateHandle: stateHandleFromSession\n      });\n      const hasError = idxResp.context?.messages?.value.length > 0;\n      if (hasError) {\n        throw new Error('saved stateToken is invalid'); // will be caught in this function\n      }\n\n      // 1. abandon the settings.stateHandle given session.stateHandle is still valid\n      settings.set('stateToken', stateHandleFromSession);\n      // 2. chain the idxResp to next handler\n      return idxResp;\n    } catch {\n      // 1. remove session.stateHandle\n      sessionStorageHelper.removeStateHandle();\n      // 2. start the login again in order to introspect on settings.stateHandle\n      return startLoginFlow(settings);\n    }\n  }\n\n  // Use stateToken from options\n  const stateHandle = settings.get('stateToken');\n  if (stateHandle) {\n    return authClient.idx.start({\n      ...idxOptions,\n      stateHandle\n    });\n  }\n\n  throw new ConfigError('Invalid OIDC configuration. Set \"clientId\" and \"redirectUri\" in the widget options.');\n}\n","import { IdxResponse } from \"@okta/okta-auth-js\";\nimport CookieUtil from '../../util/CookieUtil';\nimport AppState from '../models/AppState';\nimport sessionStorageHelper from './sessionStorageHelper';\nimport { interactionCodeFlow } from './interactionCodeFlow';\nimport { FORMS } from \"../ion/RemediationConstants\";\nimport transformIdxResponse from '../ion/transformIdxResponse';\n\nfunction hasAuthenticationSucceeded(idxResponse: IdxResponse) {\n  // Check whether authentication has succeeded. This is done by checking the server response\n  // and seeing if either the 'success' or 'successWithInteractionCode' objects are present.\n  return idxResponse?.rawIdxState?.success || idxResponse?.rawIdxState?.successWithInteractionCode;\n}\n\n/**\n  * When \"Remember My Username\" is enabled, we save the identifier in a cookie\n  * so that the next time the user visits the SIW, the identifier field can be \n  * pre-filled with this value.\n  */\nfunction updateIdentifierCookie(appState: AppState, idxResponse: IdxResponse) {\n  const settings = appState.settings;\n  if (settings.get('features.rememberMe')) {\n    // Update the cookie with the identifier\n    const user = idxResponse?.context?.user;\n    const { identifier } = user?.value || {};\n    if (identifier) {\n      CookieUtil.setUsernameCookie(identifier);\n    }\n  } else {\n    // We remove the cookie explicitly if this feature is disabled.\n    CookieUtil.removeUsernameCookie();\n  }    \n}\n\nexport async function updateAppState(appState: AppState, idxResponse: IdxResponse): Promise<void> {\n  const settings = appState.settings;\n\n  // Only update the cookie when the user has successfully authenticated themselves \n  // to avoid incorrect/unnecessary updates.\n  if (hasAuthenticationSucceeded(idxResponse) && settings.get('features.rememberMyUsernameOnOIE')) {\n      updateIdentifierCookie(appState, idxResponse);\n  }\n\n  const lastResponse = appState.get('idx');\n  const useInteractionCodeFlow = settings.get('oauth2Enabled');\n  if (useInteractionCodeFlow) {\n    if (idxResponse.interactionCode) {\n      // Although session.stateHandle isn't used by interation flow,\n      // it's better to clean up at the end of the flow.\n      sessionStorageHelper.removeStateHandle();\n      // This is the end of the IDX flow, now entering OAuth\n      const tokens = await interactionCodeFlow(settings, idxResponse);\n      // reset terminal view in case the were OAuth errors prior to successful token retrieval\n      if (appState.get('currentFormName') === FORMS.TERMINAL) {\n        appState.unset('currentFormName', { silent: true });\n      }\n      return tokens;\n    }  \n  } else {\n    // Do not save state handle for the first page loads.\n    // Because there shall be no difference between following behavior\n    // 1. bootstrap widget\n    //    -> save state handle to session storage\n    //    -> refresh page\n    //    -> introspect using sessionStorage.stateHandle\n    // 2. bootstrap widget\n    //    -> do not save state handle to session storage\n    //    -> refresh page\n    //    -> introspect using options.stateHandle\n    if (lastResponse) {\n      sessionStorageHelper.setStateHandle(idxResponse?.context?.stateHandle);\n    }\n    // Login flows that mimic step up (moving forward in login pipeline) via internal api calls,\n    // need to clear stored stateHandles.\n    // This way the flow can maintain the latest state handle. For eg. Device probe calls\n    if (appState.get('currentFormName') === FORMS.CANCEL_TRANSACTION) {\n      sessionStorageHelper.removeStateHandle();\n    }\n  }\n\n  // transform response\n  const ionResponse = transformIdxResponse(settings, idxResponse, lastResponse);\n\n  await appState.setIonResponse(ionResponse);\n}\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { _, Controller, loc } from 'okta';\nimport ViewFactory from '../view-builder/ViewFactory';\nimport IonResponseHelper from '../ion/IonResponseHelper';\nimport { getV1ClassName } from '../ion/ViewClassNamesFactory';\nimport { FORMS, TERMINAL_FORMS, FORM_NAME_TO_OPERATION_MAP } from '../ion/RemediationConstants';\nimport Util from 'util/Util';\nimport sessionStorageHelper from '../client/sessionStorageHelper';\nimport { HttpResponse, IdxStatus, ProceedOptions } from '@okta/okta-auth-js';\nimport { EventErrorContext } from 'types/events';\nimport { CONFIGURED_FLOW } from '../client/constants';\nimport { ConfigError } from 'util/Errors';\nimport { updateAppState } from 'v2/client';\n\nexport interface ContextData {\n  controller: string;\n  formName: string;\n  authenticatorKey?: string;\n  methodType?: string;\n}\n\nexport default Controller.extend({\n  className: 'form-controller',\n\n  appStateEvents: {\n    'change:currentFormName': 'handleFormNameChange',\n    'afterError': 'handleAfterError',\n    'invokeAction': 'handleInvokeAction',\n    'saveForm': 'handleSaveForm',\n    'switchForm': 'handleSwitchForm',\n  },\n\n  preRender() {\n    this.removeChildren();\n  },\n\n  postRender() {\n    const currentViewState = this.options.appState.getCurrentViewState();\n    // TODO: add comments regarding when `currentViewState` would be null?\n    if (!currentViewState) {\n      return;\n    }\n\n    this.clearMetadata();\n\n    let formName = currentViewState.name;\n    if (formName === 'identify' && this.options.settings.get('flow') === CONFIGURED_FLOW.RESET_PASSWORD) {\n      formName = 'identify-recovery';\n    }\n    const TheView = ViewFactory.create(\n      formName,\n      this.options.appState.get('authenticatorKey'),\n    );\n    try {\n      this.formView = this.add(TheView, {\n        options: {\n          currentViewState,\n        }\n      }).last();\n    } catch (error) {\n      // This is the place where runtime error (NPE) happens at most of time.\n      // It has been swallowed by Q.js hence add try/catch to surface up errors.\n      this.options.settings.callGlobalError(error);\n      return;\n    }\n\n    this.triggerAfterRenderEvent();\n  },\n\n  clearMetadata() {\n    const formName = this.options.appState.get('currentFormName');\n    // TODO: OKTA-392835 shall not clear state handle at terminal page\n    if (TERMINAL_FORMS.includes(formName)) {\n      sessionStorageHelper.removeStateHandle();\n    }\n  },\n\n  triggerAfterRenderEvent() {\n    const contextData = this.createAfterEventContext();\n    this.trigger('afterRender', contextData);\n  },\n\n  handleFormNameChange() {\n    this.render();\n  },\n\n  handleAfterError(error: HttpResponse) {\n    const contextData = this.createAfterEventContext();\n    const errorContextData: EventErrorContext = {\n      xhr: error,\n      errorSummary: error.responseJSON && error.responseJSON.errorSummary,\n    };\n    // TODO: need some enhancement after https://github.com/okta/okta-idx-js/pull/27\n    // OKTA-318062\n    this.trigger('afterError', contextData, errorContextData);\n  },\n\n  createAfterEventContext(): ContextData {\n    const formName = this.options.appState.get('currentFormName');\n    const authenticatorKey = this.options.appState.get('authenticatorKey');\n    const methodType = this.options.appState.get('authenticatorMethodType');\n    const isPasswordRecoveryFlow = this.options.appState.get('isPasswordRecoveryFlow');\n\n    const v1ControllerClassName = getV1ClassName(\n      formName,\n      authenticatorKey,\n      methodType,\n      isPasswordRecoveryFlow,\n    );\n\n    const eventData: ContextData = {\n      controller: v1ControllerClassName,\n      formName,\n    };\n\n    if (authenticatorKey) {\n      eventData.authenticatorKey = authenticatorKey;\n    }\n    if (methodType) {\n      eventData.methodType = methodType;\n    }\n\n    return eventData;\n  },\n\n  handleSwitchForm(formName) {\n    // trigger formName change to change view\n    if (this.options.appState.get('messages')) {\n      // Clear messages before calling switch form.\n      // If a form has errors sent form API inside messages\n      // and user hits back to factors list which triggers switchForm,\n      // those error will show up on another screen that gets rendered after switchForm\n      this.options.appState.unset('messages');\n    }\n    this.options.appState.set('currentFormName', formName);\n  },\n\n  // eslint-disable-next-line max-statements\n  async handleInvokeAction(actionPath = '', actionParams = {}) {\n    const { appState, settings } = this.options;\n    const idx = appState.get('idx');\n    const { stateHandle } = idx.context;\n    let invokeOptions: ProceedOptions = {\n      exchangeCodeForTokens: false, // we handle this in interactionCodeFlow.js\n      stateHandle\n    };\n    let error;\n\n    // Cancel action is executes synchronously\n    if (actionPath === 'cancel') {\n      // TODO: resolve race conditions caused by event pattern: OKTA-490220\n      settings.getAuthClient().transactionManager.clear({ clearIdxResponse: false });\n      sessionStorageHelper.removeStateHandle();\n      appState.clearAppStateCache();\n\n      if (settings.get('oauth2Enabled')) {\n        // In this case we need to restart login flow and recreate transaction meta\n        // that will be used in interactionCodeFlow function\n        appState.trigger('restartLoginFlow');\n        return;\n      }\n    }\n\n    // Build options to invoke or throw error for invalid action\n    if (idx['neededToProceed'].find(item => item.name === actionPath)) {\n      invokeOptions = { ...invokeOptions, step: actionPath };\n    } else if (_.isFunction(idx['actions'][actionPath])) {\n      invokeOptions = {\n        ...invokeOptions,\n        actions: [{\n          name: actionPath,\n          params: actionParams\n        }]\n      };\n    } else {\n      error = new ConfigError(`Invalid action selected: ${actionPath}`);\n      this.options.settings.callGlobalError(error);\n      await this.showFormErrors(this.formView.model, error, this.formView.form);\n      return;\n    }\n\n    // action will be executed asynchronously\n    await this.invokeAction(invokeOptions);\n  },\n\n  async invokeAction(invokeOptions) {\n    const authClient = this.options.settings.getAuthClient();\n    let resp;\n    let error;\n    try {\n      resp = await authClient.idx.proceed(invokeOptions);\n      if (resp.requestDidSucceed === false) {\n        error = resp;\n      }\n    } catch (e) {\n      error = e;\n    }\n\n    // if request did not succeed, show error on the current form\n    if (error) {\n      await this.showFormErrors(this.formView.model, error, this.formView.form);\n      return;\n    }\n\n    // process response, may render a new form\n    await this.handleIdxResponse(resp);\n  },\n\n  // eslint-disable-next-line max-statements, complexity\n  async handleSaveForm(model) {\n    const formName = model.get('formName');\n\n    // Toggle Form saving status (e.g. disabling save button, etc)\n    this.toggleFormButtonState(true);\n    model.trigger('request');\n\n    // Use full page redirection if necessary\n    if (model.get('useRedirect')) {\n      // Clear when navigates away from SIW page, e.g. success, IdP Authenticator.\n      // Because SIW sort of finished its current /transaction/\n      sessionStorageHelper.removeStateHandle();\n\n      const currentViewState = this.options.appState.getCurrentViewState();\n      Util.redirectWithFormGet(currentViewState.href);\n      return;\n    }\n\n    // Run hook: transform the user name (a.k.a identifier)\n    const values = this.transformIdentifier(formName, model);\n\n    // Error out when this is not a remediation form. Unexpected Exception.\n    if (!this.options.appState.hasRemediationObject(formName)) {\n      this.options.settings.callGlobalError(`Cannot find http action for \"${formName}\".`);\n      await this.showFormErrors(this.formView.model, 'Cannot find action to proceed.', this.formView.form);\n      return;\n    }\n\n    // Reset password in identity-first flow needs some help to auto-select password and begin the reset flow\n    if (formName === 'identify' && this.options.settings.get('flow') === CONFIGURED_FLOW.RESET_PASSWORD) {\n      values.authenticator = 'okta_password';\n    }\n\n    // Submit request to idx endpoint\n    const authClient = this.options.settings.getAuthClient();\n    const idxOptions: ProceedOptions = {\n      exchangeCodeForTokens: false, // we handle this in interactionCodeFlow.js\n    };\n    try {\n      const idx = this.options.appState.get('idx');\n      const { stateHandle } = idx.context;\n      const resp = await authClient.idx.proceed({\n        ...idxOptions,\n        step: formName,\n        stateHandle,\n        ...values\n      });\n\n      if (resp.status === IdxStatus.FAILURE) {\n        throw resp.error; // caught and handled in this function\n      }\n      // follow idx transaction to render terminal view for session expired error\n      if (IonResponseHelper.isIdxSessionExpiredError(resp)) {\n        const authClient = this.settings.getAuthClient();\n        authClient.transactionManager.clear();\n        await this.handleIdxResponse(resp);\n        return;\n      }\n      // If the last request did not succeed, show errors on the current form\n      // Special case: Okta server responds 401 status code with WWW-Authenticate header and new remediation\n      // so that the iOS/MacOS credential SSO extension (Okta Verify) can intercept\n      // the response reaches here when Okta Verify is not installed\n      // we need to return an idx object so that\n      // the SIW can proceed to the next step without showing error\n      if (resp.requestDidSucceed === false && !resp.stepUp) {\n        await this.showFormErrors(model, resp, this.formView.form);\n        return;\n      }\n      const onSuccess = this.handleIdxResponse.bind(this, resp);\n      if (formName === FORMS.ENROLL_PROFILE) {\n        // call registration (aka enroll profile) hook\n        this.settings.postRegistrationSubmit(values?.userProfile?.email, onSuccess, (error) => {\n          model.trigger('error', model, {\n            responseJSON: error,\n          });\n        });\n      } else {\n        await onSuccess();\n      }\n    } catch(error) {\n      if (error.is?.('terminal')) {\n        this.options.appState.setNonIdxError(error);\n      } else {\n        await this.showFormErrors(model, error, this.formView.form);\n      }\n    } finally {\n      this.toggleFormButtonState(false);\n    }\n  },\n\n  transformIdentifier(formName, model) {\n    const modelJSON = model.toJSON();\n    if (Object.prototype.hasOwnProperty.call(modelJSON, 'identifier')) {\n      // The callback function is passed two arguments:\n      // 1) username: The name entered by the user\n      // 2) operation: The type of operation the user is trying to perform:\n      //      - PRIMARY_AUTH\n      //      - FORGOT_PASSWORD\n      //      - UNLOCK_ACCOUNT\n      const operation = FORM_NAME_TO_OPERATION_MAP[formName];\n      modelJSON.identifier = this.settings.transformUsername(modelJSON.identifier, operation);\n    }\n    return modelJSON;\n  },\n\n  /**\n   * @param model current form model\n   * @param error any errors after user action\n   * @param form current form\n   * Handle errors that get displayed right after any user action. After such form errors widget doesn't\n   * reload or re-render, but updates the AppSate with latest remediation.\n   */\n  async showFormErrors(model, error, form) {\n    /* eslint max-statements: [2, 24] */\n    let errorObj;\n    let idxStateError;\n    let showErrorBanner = true;\n    model.trigger('clearFormError');\n\n    if (!error) {\n      error = 'FormController - unknown error found';\n      this.options.settings.callGlobalError(error);\n    }\n\n    if(error?.rawIdxState) {\n      idxStateError = error;\n      error = error.rawIdxState;\n    }\n\n    if (IonResponseHelper.isIonErrorResponse(error)) {\n      errorObj = IonResponseHelper.convertFormErrors(error);\n    } else if (error.errorSummary) {\n      errorObj = { responseJSON: error };\n    } else {\n      Util.logConsoleError(error);\n      errorObj = { responseJSON: { errorSummary: loc('error.unsupported.response', 'login')}};\n    }\n\n    if(_.isFunction(form?.showCustomFormErrorCallout)) {\n      showErrorBanner = !form.showCustomFormErrorCallout(errorObj, idxStateError.messages);\n    }\n\n    // show error before updating app state.\n    model.trigger('error', model, errorObj, showErrorBanner);\n    idxStateError = Object.assign({}, idxStateError, {hasFormError: true});\n\n    // TODO OKTA-408410: Widget should update the state on every new response. It should NOT do selective update.\n    // For eg 429 rate-limit errors, we have to skip updating idx state, because error response is not an idx response.\n    if (Array.isArray(idxStateError?.neededToProceed) && idxStateError?.neededToProceed.length) {\n      await this.handleIdxResponse(idxStateError);\n    }\n  },\n\n  async handleIdxResponse(idxResp) {\n    await updateAppState(this.options.appState, idxResp);\n  },\n\n  /**\n   * SignIn widget has its own (hacky) way to customize the button disabled state:\n   * adding `link-button-disabled` despite the name was intend only to disable\n   * `link-button`.\n   * Instead of doing decent refactor, we want to follow the convention for now.\n   *\n   * @param {boolean} disabled whether add extra disable CSS class.\n   */\n  toggleFormButtonState: function(disabled) {\n    const button = this.$el.find('.o-form-button-bar .button');\n    button.toggleClass('link-button-disabled', disabled);\n  },\n});\n","import { _ } from 'okta';\n\ndeclare module 'okta' {\n  interface OktaUnderscore {\n    nestedOmit(obj: Record<string, any>, names): Record<string, any>\n  }\n}\n\n_.mixin({\n  nestedOmit: function(obj, names) {\n    let result = _.omit(obj, names);\n\n    if (names.includes(result.name)) {\n      result = _.omit(result, 'value');\n    }\n\n    _.each(result, function(val, key) {\n      if (Array.isArray(val)) {\n        result[key] = val.map((v) => {\n          return _.nestedOmit(v, names);\n        });\n      } else if (typeof val === 'object') {\n        result[key] = _.nestedOmit(val, names);\n      }\n    });\n    return result;\n  },\n});\n\nexport { _ };\n","/*!\n * Copyright (c) 2020, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { Model, ModelProperty } from 'okta';\nimport Logger from 'util/Logger';\nimport {\n  FORMS_WITHOUT_SIGNOUT,\n  FORMS_WITH_STATIC_BACK_LINK,\n  FORMS_FOR_VERIFICATION,\n  AUTHENTICATOR_KEY,\n  FORMS,\n} from '../ion/RemediationConstants';\nimport { createOVOptions } from '../ion/ui-schema/ion-object-handler';\nimport { _ } from '../mixins/mixins';\nimport { executeHooksBefore, executeHooksAfter } from 'util/Hooks';\nimport Settings from 'models/Settings';\nimport Hooks from 'models/Hooks';\nimport { RecoverableError } from 'util/OAuthErrors';\nimport { IdxRemediation } from '@okta/okta-auth-js';\nimport BrowserFeatures from 'util/BrowserFeatures';\n\nconst UNKNOWN_USER_I8N_KEY = \"idx.unknown.user\";\n/**\n * Keep track of stateMachine with this special model. Similar to `src/models/AppState.js`\n */\n\nconst local: Record<string, ModelProperty> = {\n  user: 'object',        // optional\n  currentFormName: 'string',\n  idx: 'object',\n  remediations: 'array',\n  dynamicRefreshInterval: 'number',\n  deviceFingerprint: 'string',\n  hooks: 'object' // instance of models/Hooks\n};\n\nconst derived: Record<string, ModelProperty> = {\n  authenticatorProfile: {\n    deps: ['currentAuthenticator', 'currentAuthenticatorEnrollment'],\n    fn(currentAuthenticator = { profile: undefined }, currentAuthenticatorEnrollment = { profile: undefined }) {\n      return currentAuthenticator.profile\n        || currentAuthenticatorEnrollment.profile\n        || {};\n    },\n  },\n  authenticatorKey: {\n    deps: ['currentAuthenticator', 'currentAuthenticatorEnrollment'],\n    fn(currentAuthenticator = { key: undefined }, currentAuthenticatorEnrollment = { key: undefined }) {\n      return currentAuthenticator.key\n        || currentAuthenticatorEnrollment.key\n        || '';\n    },\n  },\n  authenticatorMethodType: {\n    deps: ['currentAuthenticator', 'currentAuthenticatorEnrollment'],\n    fn(currentAuthenticator = { methods: undefined }, currentAuthenticatorEnrollment = { methods: undefined }) {\n      return currentAuthenticator.methods && currentAuthenticator.methods[0].type\n        || currentAuthenticatorEnrollment.methods && currentAuthenticatorEnrollment.methods[0].type\n        || '';\n    },\n  },\n  isPasswordRecovery: {\n    deps: ['recoveryAuthenticator'],\n    fn: function(recoveryAuthenticator = { type: undefined }) {\n      return recoveryAuthenticator?.type === 'password';\n    }\n  }\n};\n\nexport type AppStateProps = typeof local & typeof derived;\n\nexport default class AppState extends Model {\n  settings: Settings;\n  hooks: Hooks;\n  \n  constructor(attributes, options) {\n    super(attributes, options);\n    this.settings = options.settings;\n    this.hooks = options.hooks;\n  }\n\n  get<A extends Backbone._StringKey<AppStateProps>>(attributeName: A): any {\n    return Model.prototype.get.call(this, attributeName);\n  }\n\n  preinitialize(...args) {\n    this.local = local;\n    this.derived = derived;\n    Model.prototype.preinitialize.apply(this, args);\n  }\n\n  isIdentifierOnlyView() {\n    return !this.get('remediations')?.find(({ name }) => name === 'identify')\n      ?.uiSchema?.find(({ name }) => name === 'credentials.passcode');\n  }\n\n  hasRemediationObject(formName) {\n    return this.get('idx').neededToProceed.find((remediation) => remediation.name === formName);\n  }\n\n  hasActionObject(actionName) {\n    return !!this.get('idx')?.actions?.[actionName];\n  }\n\n  getRemediationAuthenticationOptions(formName) {\n    const form = this.hasRemediationObject(formName);\n    if (!form) {\n      return [];\n    }\n    const authenticator = form.value.find((value) => value.name === 'authenticator');\n    let authenticatorOptions = authenticator?.options || [];\n    // OV is a special case, so process OV options\n    authenticatorOptions = [...authenticatorOptions]; //clone it since we are changing it for OV\n    createOVOptions(authenticatorOptions);\n    return authenticatorOptions;\n  }\n\n  getActionByPath(actionPath) {\n    const paths = actionPath.split('.');\n    let targetObject;\n    if (paths.length === 1) {\n      targetObject = this.get('idx').actions;\n    } else {\n      targetObject = this.get(paths.shift());\n    }\n    // Limitation\n    // At the time of writting, action only lives in first level of state objects.\n    const actionName = paths.shift();\n    if (targetObject && _.isFunction(targetObject[actionName])) {\n      return targetObject[actionName];\n    } else {\n      return null;\n    }\n  }\n\n  getCurrentViewState() {\n    const currentFormName = this.get('currentFormName');\n\n    if (!currentFormName) {\n      return;\n    }\n\n    // didn't expect `remediations` is empty. See `setIonResponse`.\n    const currentViewState = this.get('remediations').filter(r => r.name === currentFormName)[0];\n\n    if (!currentViewState) {\n      Logger.error('Panic!!');\n      Logger.error(`\\tCannot find view state for form ${currentFormName}.`);\n      const allFormNames = this.get('remediations').map(r => r.name);\n      Logger.error(`\\tAll available form names: ${allFormNames}`);\n    }\n\n    return currentViewState;\n  }\n\n  /**\n   * Returns ui schema of the form field from current view state\n   * @param {string} fieldName\n   * @returns {}\n   */\n  getSchemaByName(fieldName) {\n    const currentViewState = this.getCurrentViewState();\n    if(currentViewState) {\n      const uiSchema = currentViewState.uiSchema;\n      return uiSchema.find(({ name }) => name === fieldName);\n    }\n  }\n\n  /**\n   * Returns the displayName of the authenticator\n   * @returns {string}\n   */\n  getAuthenticatorDisplayName() {\n    const currentAuthenticator = this.get('currentAuthenticator') || {};\n    const currentAuthenticatorEnrollment = this.get('currentAuthenticatorEnrollment') || {};\n\n    // For enrollment and certain verification flows, the currentAuthenticator object will be present.\n    // If not, we're likely in a traditional verify/challenge flow.\n    return currentAuthenticator.displayName || currentAuthenticatorEnrollment.displayName;\n  }\n\n  /**\n   * Checks to see if we're in an authenticator challenge flow.\n   * @returns {boolean}\n   */\n  isAuthenticatorChallenge() {\n    const currentFormName = this.get('currentFormName');\n    return FORMS_FOR_VERIFICATION.includes(currentFormName);\n  }\n\n  shouldReRenderView(transformedResponse) {\n    if (transformedResponse?.idx?.hasFormError) {\n      return false;\n    }\n\n    const previousRawState = this.has('idx') ? this.get('idx').rawIdxState : null;\n\n    const identicalResponse = _.isEqual(\n      _.nestedOmit(transformedResponse.idx.rawIdxState, ['expiresAt', 'refresh', 'stateHandle', 'headers']),\n      _.nestedOmit(previousRawState, ['expiresAt', 'refresh', 'stateHandle', 'headers']));\n\n    if (identicalResponse) {\n      this.set('dynamicRefreshInterval', this.getRefreshInterval(transformedResponse));\n    }\n\n    return this._isReRenderRequired(identicalResponse, transformedResponse, previousRawState);\n  }\n\n  getRefreshInterval(transformedResponse) {\n    // Only polling refresh interval has changed in the response,\n    // make sure to update the correct poll view's refresh value\n    const currentFormName = this.get('currentFormName');\n    const currentViewState = transformedResponse.remediations.filter(r => r.name === currentFormName)[0];\n    // Get new refresh interval for either: remediations, authenticator, or authenticator enrollment\n    return currentViewState.refresh ||\n      transformedResponse.currentAuthenticatorEnrollment?.poll?.refresh ||\n      transformedResponse.currentAuthenticator?.poll?.refresh;\n  }\n\n  // Sign Out link will be displayed in the footer of a form, unless:\n  // - widget configuration set hideSignOutLinkInMFA or mfaOnlyFlow to true\n  // - cancel remediation form is not present in the response\n  // - form is part of our list FORMS_WITHOUT_SIGNOUT\n  shouldShowSignOutLinkInCurrentForm(hideSignOutLinkInMFA) {\n    const idxActions = this.get('idx') && this.get('idx').actions;\n    const currentFormName = this.get('currentFormName');\n\n    return !hideSignOutLinkInMFA\n      && _.isFunction(idxActions?.cancel)\n      && !FORMS_WITHOUT_SIGNOUT.includes(currentFormName);\n  }\n\n  containsMessageWithI18nKey(keys) {\n    if (!Array.isArray(keys)) {\n      keys = [keys];\n    }\n    const messagesObjs = this.get('messages');\n    return messagesObjs && Array.isArray(messagesObjs.value)\n      && messagesObjs.value.some(messagesObj => _.contains(keys, messagesObj.i18n?.key));\n  }\n\n  containsMessageStartingWithI18nKey(keySubStr) {\n    const messagesObjs = this.get('messages');\n    return messagesObjs && Array.isArray(messagesObjs.value)\n      && messagesObjs.value.some(messagesObj => messagesObj.i18n?.key.startsWith(keySubStr));\n  }\n\n  clearAppStateCache() {\n    // clear appState before setting new values\n    const attrs = {};\n    for (const key in this.attributes) {\n      if (key !== 'currentFormName') {\n        attrs[key] = void 0;\n      }\n    }\n    this.set(attrs, Object.assign({}, { unset: true, silent: true }));\n    // clear cache for derived props.\n    this.trigger('cache:clear');\n  }\n\n  chooseRemediation(transformedResponse): IdxRemediation | undefined {\n    if (_.isEmpty(transformedResponse.remediations)) {\n      return;\n    }\n\n    const firstRemediation = transformedResponse.remediations[0];\n\n    // Special case: Okta Verify: show select enrollment channel instead of QR code on mobile\n    if (firstRemediation.name === 'enroll-poll'\n      && this.get('authenticatorKey') === AUTHENTICATOR_KEY.OV\n      && (BrowserFeatures.isAndroid() || BrowserFeatures.isIOS())\n      && transformedResponse.currentAuthenticator?.contextualData?.selectedChannel === 'qrcode'\n    ) {\n        return transformedResponse.remediations.find(r => r.name === 'select-enrollment-channel')\n    }\n\n    // Default case: return the first remediation in the list\n    return firstRemediation;\n  }\n\n  async setIonResponse(transformedResponse) {\n    const doRerender = this.shouldReRenderView(transformedResponse);\n    this.clearAppStateCache();\n    // set new app state properties\n    this.set(transformedResponse);\n\n    if (doRerender) {\n      const remediation = this.chooseRemediation(transformedResponse);\n      let currentFormName = null;\n      if (remediation) {\n        currentFormName = remediation.name;\n      } else {\n        Logger.error('Panic!!');\n        Logger.error('\\tNo remediation found.');\n        Logger.error('\\tHere is the entire response');\n        Logger.error(JSON.stringify(transformedResponse, null, 2));\n      }\n\n      const hook = this.hooks?.getHook(currentFormName); // may be undefined\n      await executeHooksBefore(hook);\n  \n      this.unset('currentFormName', { silent: true });\n      // make sure change `currentFormName` is last step.\n      // change `currentFormName` will re-render FormController,\n      // which may depend on other derived properties hence\n      // those derived properties must be re-computed before\n      // re-rendering controller.\n      this.set({ currentFormName });\n\n      await executeHooksAfter(hook);\n    }\n  }\n\n  setNonIdxError(error: RecoverableError<any>) {\n    this.set('remediations', [{ name: FORMS.TERMINAL }]);\n    this.set('messages', { value: [\n      {\n        message: error.errorDetails.errorSummary,\n        class: 'ERROR'\n      }\n    ]})\n    this.set('currentFormName', FORMS.TERMINAL);\n  }\n\n  getUser() {\n    return this.get('user');\n  }\n\n  _isReRenderRequired(identicalResponse, transformedResponse, previousRawState) {\n    let reRender = true;\n\n    const isPreviousStateError = this.get('idx')?.hasFormError;\n    if (isPreviousStateError && this._isChallengeAuthenticatorPoll(transformedResponse, previousRawState)) {\n      reRender = false;\n    }\n\n    if (identicalResponse) {\n      /**\n       * returns false: When new response is same as last.\n       * usually happens during polling when pipeline doesn't proceed to next step.\n       * expiresAt will be different for each response, hence compare objects without that property\n       */\n      reRender = false;\n      if (this.get('currentFormName') === 'poll') {\n        /**\n         * returns true: We want to force reRender when currentForm is poll because request has to reinitiate\n         * based on new refresh and UI has to reflect new timer.\n         * We dont technical poll here we just make a request after the specified refresh time each time\n         * we get a new response.\n         */\n        reRender = true;\n      } else if (FORMS_WITH_STATIC_BACK_LINK.includes(this.get('currentFormName'))) {\n        /**\n         * returns true: We want to force reRender if you go back to selection screen from challenge or enroll screen\n         * and re-select the same authenticator for challenge. In this case also new response will be identical\n         * to the old response.\n         */\n        reRender = true;\n      } else if (this.containsMessageWithI18nKey(UNKNOWN_USER_I8N_KEY)) {\n        /**\n         * Need to re-render or else form will be stuck in saving mode.\n         * This message is a form warning that can result in identical responses if the user enters the same\n         * username as the one in the last message warning.\n         */\n        reRender = true;\n      }\n    }\n\n    return reRender;\n  }\n\n  /**\n   * This is to account for the edge case introduced by this issue: OKTA-419210. With the current idx remediations,\n   * there's no good way to generalize this as the backend handles the authenticators for phone, sms and \n   * email differently. Although not ideal, we have to keep this check in for now until we find a better solution.\n   */\n  _isChallengeAuthenticatorPoll(transformedResponse, previousRawState) {\n    const isSameExceptMessages = _.isEqual(\n      _.nestedOmit(transformedResponse.idx.rawIdxState, ['expiresAt', 'refresh', 'stateHandle', 'headers']),\n      _.nestedOmit(previousRawState, ['expiresAt', 'refresh', 'stateHandle', 'messages', 'headers']));\n\n    const isChallengeAuthenticator = this.get('currentFormName') === 'challenge-authenticator';\n    const isCurrentAuthenticatorEmail = this.get('currentAuthenticatorEnrollment')?.key === AUTHENTICATOR_KEY.EMAIL;\n\n    return isSameExceptMessages && isChallengeAuthenticator && isCurrentAuthenticatorEmail;\n  }\n}\n","import Logger from 'util/Logger';\nimport { AUTHENTICATOR_KEY, FORMS as RemediationForms } from '../ion/RemediationConstants';\nimport { BaseView } from './internals';\n\n// Identify\nimport IdentifierView from './views/IdentifierView';\nimport RedirectIdPView from './views/RedirectIdPView';\nimport IdentifyRecoveryView from './views/IdentifyRecoveryView';\n\n// Terminal & Auto-Redirect\nimport TerminalView from './views/TerminalView';\nimport AutoRedirectView from './views/AutoRedirectView';\n\n// safe mode poll view\nimport PollView from './views/PollView';\n\n// consent\nimport AdminConsentView from './views/consent/AdminConsentView';\nimport EnduserConsentView from './views/consent/EnduserConsentView';\nimport GranularConsentView from './views/consent/GranularConsentView';\nimport EnduserEmailConsentView from './views/consent/EnduserEmailConsentView';\n\n// Device (Okta Verify)\nimport DeviceChallengePollView from './views/device/DeviceChallengePollView';\nimport SSOExtensionView from './views/device/SSOExtensionView';\nimport SignInDeviceView from './views/device/SignInDeviceView';\nimport DeviceEnrollmentTerminalView from './views/device/DeviceEnrollmentTerminalView';\n\n// registration\nimport EnrollProfileView from './views/EnrollProfileView';\n\n// registration update\nimport EnrollProfileUpdateView from './views/EnrollProfileUpdateView';\n\n// Email Activation\nimport RequestActivationEmail from './views/activation/RequestActivationEmailView';\n\n// authenticator list\nimport SelectAuthenticatorEnrollView from './views/SelectAuthenticatorEnrollView';\nimport SelectAuthenticatorVerifyView from './views/SelectAuthenticatorVerifyView';\nimport SelectAuthenticatorUnlockAccountView from './views/authenticator/SelectAuthenticatorUnlockAccountView';\n\n// password\nimport EnrollAuthenticatorPasswordView from './views/password/EnrollAuthenticatorPasswordView';\nimport ChallengeAuthenticatorPasswordView from './views/password/ChallengeAuthenticatorPasswordView';\nimport ReEnrollAuthenticatorPasswordView from './views/password/ReEnrollAuthenticatorPasswordView';\nimport ReEnrollAuthenticatorWarningPasswordView from './views/password/ReEnrollAuthenticatorWarningPasswordView';\nimport ResetAuthenticatorPasswordView from './views/password/ResetAuthenticatorPasswordView';\n\n// phone\nimport EnrollAuthenticatorPhoneView from './views/phone/EnrollAuthenticatorPhoneView';\nimport EnrollAuthenticatorDataPhoneView from './views/phone/EnrollAuthenticatorDataPhoneView';\nimport ChallengeAuthenticatorPhoneView from './views/phone/ChallengeAuthenticatorPhoneView';\nimport ChallengeAuthenticatorDataPhoneView from './views/phone/ChallengeAuthenticatorDataPhoneView';\n\n// security question\nimport EnrollAuthenticatorSecurityQuestion from './views/security-question/EnrollAuthenticatorSecurityQuestionView';\nimport ChallengeAuthenticatorSecurityQuestion from './views/security-question/ChallengeAuthenticatorSecurityQuestion';\n\n//webauthn\nimport EnrollWebauthnView from './views/webauthn/EnrollWebauthnView';\nimport ChallengeWebauthnView from './views/webauthn/ChallengeWebauthnView';\n\n// email\nimport EnrollAuthenticatorEmailView from './views/email/EnrollAuthenticatorEmailView';\nimport ChallengeAuthenticatorEmailView from './views/email/ChallengeAuthenticatorEmailView';\nimport ChallengeAuthenticatorDataEmailView from './views/email/ChallengeAuthenticatorDataEmailView';\n\n// app (okta verify)\nimport EnrollPollOktaVerifyView from './views/ov/EnrollPollOktaVerifyView';\nimport SelectEnrollmentChannelOktaVerifyView from './views/ov/SelectEnrollmentChannelOktaVerifyView';\nimport EnrollementChannelDataOktaVerifyView from './views/ov/EnrollementChannelDataOktaVerifyView';\nimport ChallengeOktaVerifyView from './views/ov/ChallengeOktaVerifyView';\nimport ChallengeOktaVerifyTotpView from './views/ov/ChallengeOktaVerifyTotpView';\nimport ChallengeOktaVerifyResendPushView from './views/ov/ChallengeOktaVerifyResendPushView';\nimport ChallengeOktaVerifyCustomAppDataView from './views/shared/ChallengeOktaVerifyCustomAppDataView';\nimport ChallengeOktaVerifySSOExtensionView from './views/ov/ChallengeOktaVerifySSOExtensionView';\n\n// app (google authenticator)\nimport EnrollAuthenticatorGoogleAuthenticatorView\n  from './views/google-authenticator/EnrollAuthenticatorGoogleAuthenticatorView';\nimport ChallengeGoogleAuthenticatorView from './views/google-authenticator/ChallengeGoogleAuthenticatorView';\n\n// on-prem mfa\nimport EnrollAuthenticatorOnPremView from './views/on-prem/EnrollAuthenticatorOnPremView';\nimport ChallengeAuthenticatorOnPremView from './views/on-prem/ChallengeAuthenticatorOnPremView';\n\n// duo mfa\nimport EnrollDuoAuthenticatorView from './views/duo/EnrollDuoAuthenticatorView';\nimport ChallengeDuoAuthenticatorView from './views/duo/ChallengeDuoAuthenticatorView';\n\n// idp authenticator\nimport AuthenticatorIdPVerifyView from './views/idp/AuthenticatorIdPVerifyView';\nimport AuthenticatorIdPEnrollView from './views/idp/AuthenticatorIdPEnrollView';\n\n// custom otp\nimport ChallengeCustomOTPAuthenticatorView from './views/custom-otp/ChallengeCustomOTPAuthenticatorView';\n\n// Symantec VIP authenticator\nimport AuthenticatorSymantecView from './views/symantec/AuthenticatorSymantecView';\n\n// Device code activate view\nimport DeviceCodeActivateView from './views/device/DeviceCodeActivateView';\n\n// X509 PIV view\nimport ChallengePIVView from './views/piv/ChallengePIVView';\n\n// YubiKey\nimport AuthenticatorYubiKeyView from './views/yubikey/AuthenticatorYubiKeyView';\n\n// custom app\nimport ChallengePushView from './views/shared/ChallengePushView';\nimport ChallengeCustomAppResendPushView from './views/custom-app/ChallengeCustomAppResendPushView'; \n\nconst DEFAULT = '_';\n\nconst VIEWS_MAPPING = {\n  [RemediationForms.IDENTIFY]: {\n    [DEFAULT]: IdentifierView,\n  },\n  [RemediationForms.IDENTIFY_RECOVERY]: {\n    [DEFAULT]: IdentifyRecoveryView,\n  },\n  [RemediationForms.DEVICE_CHALLENGE_POLL]: {\n    [DEFAULT]: DeviceChallengePollView,\n  },\n  [RemediationForms.LAUNCH_AUTHENTICATOR]: {\n    [DEFAULT]: SignInDeviceView,\n  },\n  [RemediationForms.DEVICE_APPLE_SSO_EXTENSION]: {\n    [DEFAULT]: SSOExtensionView,\n    [AUTHENTICATOR_KEY.OV]: ChallengeOktaVerifySSOExtensionView,\n  },\n  [RemediationForms.CANCEL_TRANSACTION]: {\n    [DEFAULT]: SSOExtensionView,\n  },\n  [RemediationForms.ENROLL_PROFILE]: {\n    [DEFAULT]: EnrollProfileView,\n  },\n  [RemediationForms.ENROLL_PROFILE_UPDATE]: {\n    [DEFAULT]: EnrollProfileUpdateView,\n  },\n  [RemediationForms.POLL]: {\n    [DEFAULT]: PollView\n  },\n  [RemediationForms.REQUEST_ACTIVATION]: {\n    [DEFAULT]: RequestActivationEmail\n  },\n  [RemediationForms.SELECT_AUTHENTICATOR_ENROLL]: {\n    [DEFAULT]: SelectAuthenticatorEnrollView,\n  },\n  [RemediationForms.AUTHENTICATOR_ENROLLMENT_DATA]: {\n    [AUTHENTICATOR_KEY.PHONE]: EnrollAuthenticatorDataPhoneView,\n  },\n  [RemediationForms.CONSENT_ADMIN]: {\n    [DEFAULT]: AdminConsentView\n  },\n  [RemediationForms.CONSENT_ENDUSER]: {\n    [DEFAULT]: EnduserConsentView\n  },\n  [RemediationForms.CONSENT_GRANULAR]: {\n    [DEFAULT]: GranularConsentView\n  },\n  [RemediationForms.CONSENT_EMAIL_CHALLENGE]: {\n    [DEFAULT]: EnduserEmailConsentView,\n  },\n  [RemediationForms.ENROLL_AUTHENTICATOR]: {\n    [AUTHENTICATOR_KEY.DUO]: EnrollDuoAuthenticatorView,\n    [AUTHENTICATOR_KEY.EMAIL]: EnrollAuthenticatorEmailView,\n    [AUTHENTICATOR_KEY.GOOGLE_OTP]: EnrollAuthenticatorGoogleAuthenticatorView,\n    [AUTHENTICATOR_KEY.IDP]: AuthenticatorIdPEnrollView,\n    [AUTHENTICATOR_KEY.ON_PREM]: EnrollAuthenticatorOnPremView,\n    [AUTHENTICATOR_KEY.PASSWORD]: EnrollAuthenticatorPasswordView,\n    [AUTHENTICATOR_KEY.PHONE]: EnrollAuthenticatorPhoneView,\n    [AUTHENTICATOR_KEY.RSA]: EnrollAuthenticatorOnPremView,\n    [AUTHENTICATOR_KEY.SECURITY_QUESTION]: EnrollAuthenticatorSecurityQuestion,\n    [AUTHENTICATOR_KEY.SYMANTEC_VIP]: AuthenticatorSymantecView,\n    [AUTHENTICATOR_KEY.WEBAUTHN]: EnrollWebauthnView,\n    [AUTHENTICATOR_KEY.YUBIKEY]: AuthenticatorYubiKeyView,\n  },\n  [RemediationForms.CHALLENGE_AUTHENTICATOR]: {\n    [AUTHENTICATOR_KEY.CUSTOM_OTP]: ChallengeCustomOTPAuthenticatorView,\n    [AUTHENTICATOR_KEY.DUO]: ChallengeDuoAuthenticatorView,\n    [AUTHENTICATOR_KEY.EMAIL]: ChallengeAuthenticatorEmailView,\n    [AUTHENTICATOR_KEY.GOOGLE_OTP]: ChallengeGoogleAuthenticatorView,\n    [AUTHENTICATOR_KEY.IDP]: AuthenticatorIdPVerifyView,\n    [AUTHENTICATOR_KEY.ON_PREM]: ChallengeAuthenticatorOnPremView,\n    [AUTHENTICATOR_KEY.OV]: ChallengeOktaVerifyTotpView,\n    [AUTHENTICATOR_KEY.PASSWORD]: ChallengeAuthenticatorPasswordView,\n    [AUTHENTICATOR_KEY.PHONE]: ChallengeAuthenticatorPhoneView,\n    [AUTHENTICATOR_KEY.RSA]: ChallengeAuthenticatorOnPremView,\n    [AUTHENTICATOR_KEY.SECURITY_QUESTION]: ChallengeAuthenticatorSecurityQuestion,\n    [AUTHENTICATOR_KEY.SYMANTEC_VIP]: AuthenticatorSymantecView,\n    [AUTHENTICATOR_KEY.WEBAUTHN]: ChallengeWebauthnView,\n    [AUTHENTICATOR_KEY.YUBIKEY]: AuthenticatorYubiKeyView,\n  },\n  [RemediationForms.ENROLL_POLL]: {\n    [AUTHENTICATOR_KEY.OV]: EnrollPollOktaVerifyView,\n  },\n  [RemediationForms.SELECT_ENROLLMENT_CHANNEL]: {\n    [AUTHENTICATOR_KEY.OV]: SelectEnrollmentChannelOktaVerifyView,\n  },\n  [RemediationForms.ENROLLMENT_CHANNEL_DATA]: {\n    [AUTHENTICATOR_KEY.OV]: EnrollementChannelDataOktaVerifyView,\n  },\n  // Expired scenarios for authenticators..\n  [RemediationForms.REENROLL_AUTHENTICATOR]: {\n    // Password expired scenario..\n    [AUTHENTICATOR_KEY.PASSWORD]: ReEnrollAuthenticatorPasswordView,\n  },\n  // Will expire soon warnings for authenticators..\n  [RemediationForms.REENROLL_AUTHENTICATOR_WARNING]: {\n    // Password will expire soon scenario..\n    [AUTHENTICATOR_KEY.PASSWORD]: ReEnrollAuthenticatorWarningPasswordView,\n  },\n  // Reset forms for authenticators..\n  [RemediationForms.RESET_AUTHENTICATOR]: {\n    // Admin driven password reset..\n    [AUTHENTICATOR_KEY.PASSWORD]: ResetAuthenticatorPasswordView,\n  },\n  [RemediationForms.SELECT_AUTHENTICATOR_AUTHENTICATE]: {\n    [DEFAULT]: SelectAuthenticatorVerifyView,\n  },\n  [RemediationForms.SELECT_AUTHENTICATOR_UNLOCK]: {\n    [DEFAULT]: SelectAuthenticatorUnlockAccountView,\n  },\n  [RemediationForms.CHALLENGE_POLL]: {\n    [AUTHENTICATOR_KEY.OV]: ChallengeOktaVerifyView,\n    [AUTHENTICATOR_KEY.CUSTOM_APP]: ChallengePushView,\n  },\n  [RemediationForms.RESEND]: {\n    [AUTHENTICATOR_KEY.OV]: ChallengeOktaVerifyResendPushView,\n    [AUTHENTICATOR_KEY.CUSTOM_APP]: ChallengeCustomAppResendPushView,\n  },\n  [RemediationForms.AUTHENTICATOR_VERIFICATION_DATA]: {\n    [AUTHENTICATOR_KEY.PHONE]: ChallengeAuthenticatorDataPhoneView,\n    [AUTHENTICATOR_KEY.OV]: ChallengeOktaVerifyCustomAppDataView,\n    [AUTHENTICATOR_KEY.EMAIL]: ChallengeAuthenticatorDataEmailView,\n    [AUTHENTICATOR_KEY.CUSTOM_APP]: ChallengeOktaVerifyCustomAppDataView,\n  },\n  [RemediationForms.FAILURE_REDIRECT]: {\n    [DEFAULT]: AutoRedirectView,\n  },\n  [RemediationForms.SUCCESS_REDIRECT]: {\n    [DEFAULT]: AutoRedirectView,\n  },\n  [RemediationForms.REDIRECT_IDP]: {\n    [DEFAULT]: RedirectIdPView,\n  },\n  [RemediationForms.PIV_IDP]: {\n    [DEFAULT]: ChallengePIVView,\n  },\n  [RemediationForms.DEVICE_ENROLLMENT_TERMINAL]: {\n    [DEFAULT]: DeviceEnrollmentTerminalView,\n  },\n  [RemediationForms.USER_CODE] : {\n    [DEFAULT] : DeviceCodeActivateView\n  },\n  [RemediationForms.TERMINAL]: {\n    [DEFAULT]: TerminalView,\n  },\n};\n\nexport default {\n  create(formName, authenticatorKey = DEFAULT) {\n    const config = VIEWS_MAPPING[formName];\n    if (!config) {\n      Logger.warn(`Cannot find customized View for ${formName}.`);\n      return BaseView;\n    }\n    const View = config[authenticatorKey] || config[DEFAULT];\n    if (!View) {\n      Logger.warn(`Cannot find customized View for ${formName} + ${authenticatorKey}.`);\n      return BaseView;\n    }\n\n    return View;\n  }\n};\n","import hbs from 'handlebars-inline-precompile';\n\nimport { _, Form, loc, internal, createCallout, View } from 'okta';\nimport * as FormInputFactory from './FormInputFactory';\n\nconst { FormUtil } = internal.views.forms.helpers;\nconst INFO_MESSAGE_CLASS = 'INFO';\n\nexport default Form.extend({\n\n  layout: 'o-form-theme',\n  className: 'ion-form',\n  hasSavingState: true,\n  autoSave: false,\n  noCancelButton: true,\n\n  title() {\n    return loc('oform.title.authenticate', 'login');\n  },\n\n  save() {\n    return loc('oform.next', 'login');\n  },\n\n  modelEvents: {\n    'clearFormError': 'handleClearFormError',\n    'error': 'triggerAfterError',\n  },\n\n  initialize() {\n    const uiSchemas = this.getUISchema();\n    const inputOptions = uiSchemas.map(FormInputFactory.create);\n\n    //should be used before adding any other input components\n    this.showMessages();\n\n    // Render CAPTCHA if one of the form fields requires us to.\n    this.listenTo(this.options.appState, 'onCaptchaLoaded', (captchaObject) => {\n      this.captchaObject = captchaObject;\n    });\n\n    inputOptions.forEach(input => {\n      this.addInputOrView(input);\n    });\n\n    this.listenTo(this, 'save', this.saveForm);\n    this.listenTo(this, 'cancel', this.cancelForm);\n  },\n\n  focus(...args) {\n    if (this.settings.get('features.autoFocus')) {\n      Form.prototype.focus.apply(this, args);\n    }\n  },\n\n  handleClearFormError() {\n    const formErrorContainer = this.$('.o-form-error-container');\n    formErrorContainer.empty();\n    if (formErrorContainer.hasClass('o-form-has-errors')) {\n      this.clearErrors();\n    }\n  },\n\n  triggerAfterError(model, error) {\n    this.options.appState.trigger('afterError', error);\n  },\n\n  saveForm(model) {\n    //remove any existing warnings or messages before saving form\n    this.$el.find('.o-form-error-container').empty();\n\n    // Execute Captcha if enabled for this form.\n    if (this.captchaObject) {\n      this.captchaObject.execute();\n    } else {\n      this.options.appState.trigger('saveForm', model);\n    }\n  },\n\n  postRender() {\n    /**\n     * Widget would use infoContainer to display interactive messages that should be persisted during\n     * invalid form submissions. For eg resend-warning callout should not be cleared upon invalid form submit.\n     * Rerender would clear infoContainer or views classes can clear it explicitly.\n     */\n    const infoContainer= '<div class=\\'o-form-info-container\\'></div>';\n    this.$el.find('.o-form-error-container').before(infoContainer);\n\n    this.addIdentifier();\n  },\n\n  /**\n   * Render user identifier below title, or if no title, render below message.\n   */\n  addIdentifier() {\n    const { identifier } = this.options.appState.get('user') || {};\n    if (!identifier) {\n      return;\n    } else if (!this.settings.get('features.showIdentifier')) {\n      return;\n    }\n\n    const header = this.$el.find('[data-se=\"o-form-head\"]');\n    const identifierHTMLString = hbs('<div class=\"identifier-container\">\\\n        <span class=\"identifier no-translate\" data-se=\"identifier\" title={{identifier}}>{{identifier}}</span>\\\n      </div>')({identifier});\n\n    if (header.length) {\n      header.after(identifierHTMLString);\n    } else {\n      this.$el.find('.o-form-error-container').after(identifierHTMLString);\n    }\n  },\n\n  cancelForm() {\n    this.options.appState.trigger('invokeAction', 'cancel');\n  },\n\n  getUISchema() {\n    if (Array.isArray(this.options.currentViewState.uiSchema)) {\n      return this.options.currentViewState.uiSchema;\n    } else {\n      return [];\n    }\n  },\n\n  addInputOrView(input) {\n    if (input.visible === false || (input.mutable === false && input.visible !== true)) {\n      return;\n    }\n    if (input.View) {\n      this.add(input.View, _.omit(input, 'View', 'showWhen'));\n      if (input.showWhen) {\n        FormUtil.applyShowWhen(this.last(), input.showWhen);\n      }\n    } else {\n      this.addInput(input);\n    }\n\n    if (Array.isArray(input.optionsUiSchemas)) {\n      if (this.options.optionUiSchemaConfig[input.name]) {\n        const optionUiSchemaIndex = Number(this.options.optionUiSchemaConfig[input.name]);\n        const optionUiSchemas = input.optionsUiSchemas[optionUiSchemaIndex] || [];\n        optionUiSchemas.forEach(this.addInputOrView.bind(this));\n      }\n    }\n  },\n\n  /*\n  * Views should override this function to render custom error callouts for invalid form actions.\n  * Should return true when callout is customized\n  */\n  showCustomFormErrorCallout: null,\n\n  /*\n   * Renders the contents of messages object (if any, on error) during initialize\n   * This function is called during Form.initialize, and will display\n   * messages when the form reloads.\n   * Note: Any user action related form errors handled by FormController.showFormErrors\n   */\n  showMessages(options) {\n    const messages = this.options.appState.get('messages') || {};\n    const errContainer = '.o-form-error-container';\n    if (Array.isArray(messages.value) && !(options instanceof View)) {\n      this.add('<div class=\"ion-messages-container\"></div>', errContainer);\n      messages.value.forEach(obj => {\n        if(!obj?.class || obj.class === INFO_MESSAGE_CLASS) {\n          // add message as plain text\n          this.add(`<p>${obj.message}</p>`, '.ion-messages-container');\n        } else {\n          const errorObj = {\n            class: obj?.class ?? '',\n            message: obj?.message,\n            title: '',\n            ...options\n          };\n          this.add(createCallout({\n            content: errorObj.message,\n            type: errorObj.class.toLowerCase(),\n            title: errorObj.title\n          }), errContainer);\n          options = null; // prevent repeating first error message\n        }\n      });\n    } else if (options instanceof View) {\n      // if callee is showCustomFormErrorCallout. show custom error views\n      this.add(options, errContainer);\n    }\n  },\n});","import { Collection, _, loc, createButton, InputOptions } from 'okta';\n\nimport AuthenticatorEnrollOptions from '../components/AuthenticatorEnrollOptions';\nimport AuthenticatorVerifyOptions from '../components/AuthenticatorVerifyOptions';\nimport { getAuthenticatorDataForEnroll, getAuthenticatorDataForVerification } from '../utils/AuthenticatorUtil';\nimport { AUTHENTICATOR_KEY, FORMS as RemediationForms } from '../../ion/RemediationConstants';\nimport IDP from 'util/IDP';\nimport AdminScopeList from 'v1/views/admin-consent/ScopeList';\nimport EnduserScopeList from 'v1/views/consent/ScopeList';\nimport CaptchaView from '../views/captcha/CaptchaView';\n\nconst isTextOverflowing = (text, maxWidth) => {\n  // Create a temporary element and attach it to the document so we can compare the client width to the \n  // max width allowed.\n  const elem = document.createElement('div');\n  elem.style.position = 'absolute';\n  elem.style.left = '-9999px';\n  elem.style.whiteSpace = 'nowrap';\n  elem.innerHTML = text;\n\n  document.body.appendChild(elem);\n  const result = elem.clientWidth;\n  document.body.removeChild(elem);\n\n  return result > maxWidth;\n};\n\nconst createAuthenticatorEnrollSelectView = (opt) => {\n  const optionItems = (opt.options || [])\n    .map(opt => {\n      return Object.assign({}, opt, getAuthenticatorDataForEnroll(opt));\n    });\n  return {\n    View: AuthenticatorEnrollOptions,\n    options: {\n      name: opt.name,\n      collection: new Collection(optionItems),\n    }\n  };\n};\n\nconst createAuthenticatorVerifySelectView = (opt) => {\n  let optionItems = (opt.options || []);\n  // If webauthn enrollments > 1 just show one entry with a generic namne (first) so user doesnt have to select which\n  // one to pick. eg) If there is yubikey5 and another unknown u2f key, user cannot identify that easily. We need to\n  // do this at least  until users can give authenticator enrollments custom names.\n  const authSet = new Set();\n  optionItems = optionItems.filter(opt => {\n    let isDuplicate;\n    if (opt.authenticatorKey === AUTHENTICATOR_KEY.WEBAUTHN) {\n      isDuplicate = authSet.has(opt.authenticatorKey);\n      authSet.add(opt.authenticatorKey);\n    } else if(opt.authenticatorKey === AUTHENTICATOR_KEY.CUSTOM_APP) {\n      // Filter the duplicate enrollment by id for custom app. \n      isDuplicate = authSet.has(opt?.value?.id);\n      authSet.add(opt?.value?.id);\n    }  \n    return !isDuplicate;\n  });\n  optionItems = optionItems.map(opt => {\n    return Object.assign({}, opt, getAuthenticatorDataForVerification(opt));\n  });\n  return {\n    View: AuthenticatorVerifyOptions,\n    options: {\n      name: opt.name,\n      collection: new Collection(optionItems),\n    }\n  };\n};\n\nconst createAdminScopesView = () => {\n  return {\n    View: AdminScopeList,\n  };\n};\nconst createEnduserScopesView = () => {\n  return {\n    View: EnduserScopeList,\n  };\n};\n\nconst createCaptchaView = (opt) => {\n  return {\n    View: CaptchaView,\n    options: {\n      name: opt.name,\n    }    \n  };\n};\n\nconst inputCreationStrategy = {\n  authenticatorEnrollSelect: createAuthenticatorEnrollSelectView,\n  authenticatorVerifySelect: createAuthenticatorVerifySelectView,\n  ['admin-consent']: createAdminScopesView,\n  ['consent']: createEnduserScopesView,\n  ['captcha']: createCaptchaView,\n};\n\n// TODO: move logic to uiSchemaTransformer\nconst create = function(uiSchemaObj) {\n  const strategyFn = inputCreationStrategy[uiSchemaObj.type] || _.identity;\n  return strategyFn(uiSchemaObj);\n};\n\nconst createPIVButton = (settings, appState) => {\n  const pivIdp =\n    appState.get('remediations').filter(idp => idp.name === RemediationForms.PIV_IDP);\n  if (pivIdp.length < 1) {\n    return [];\n  }\n  const pivConfig = settings.get('piv');\n  const className = pivConfig.className || '';\n  return [{\n    attributes: {\n      'data-se': 'piv-card-button',\n    },\n    className: className + ' piv-button',\n    title: pivConfig.text || loc('piv.cac.card', 'login'),\n    click: (e) => {\n      e.preventDefault();\n      appState.trigger('switchForm', RemediationForms.PIV_IDP);\n    },\n  }];\n};\n\n/**\n * Example of `redirect-idp` remediation.\n * {\n *   \"name\": \"redirect-idp\",\n *   \"type\": \"MICROSOFT\",\n *   \"idp\": {\n *      \"id\": \"0oa2szc1K1YPgz1pe0g4\",\n *      \"name\": \"Microsoft IDP\"\n *    },\n *   \"href\": \"http://localhost:3000/sso/idps/0oa2szc1K1YPgz1pe0g4?stateToken=BB...AA\",\n *   \"method\": \"GET\"\n * }\n *\n */\nconst createIdpButtons = ({ settings, appState }) => {\n  // This is the max allowable text width that we can display for IDP buttons.\n  // Generated by taking the 316px width of button minus padding-left (90 px) and padding-right (50px)\n  const MAX_IDP_BUTTON_WIDTH = 186;\n\n  const redirectIdpRemediations =\n    appState.get('remediations').filter(idp => idp.name === RemediationForms.REDIRECT_IDP);\n\n  if (!Array.isArray(redirectIdpRemediations)) {\n    return [];\n  }\n\n  // create piv button\n  const pivButton = createPIVButton(settings, appState);\n\n  //add buttons from idp object\n  const idpButtons = redirectIdpRemediations.map(idpObject => {\n    let type = idpObject.type?.toLowerCase();\n    let displayName;\n\n    if (!_.contains(IDP.SUPPORTED_SOCIAL_IDPS, type)) {\n      type = 'general-idp';\n      // OKTA-396684 - makes sure that custom idps always have a name\n      displayName = loc('customauth.sign.in.with.label', 'login', [idpObject.idp?.name]);\n    } else {\n      displayName = loc(`socialauth.${type}.label`, 'login');\n    }\n\n    const classNames = [\n      'social-auth-button',\n      `social-auth-${type}-button`,\n    ];\n\n    if (type === 'general-idp') {\n      classNames.push('no-translate');\n    }\n\n    if (idpObject.idp.className) {\n      classNames.push(idpObject.idp.className);\n    }\n\n    const button: InputOptions = {\n      attributes: {\n        'data-se': `social-auth-${type}-button`,\n      },\n      className: classNames.join(' '),\n      title: displayName,\n      href: idpObject.href,\n    };\n\n    if (isTextOverflowing(displayName, MAX_IDP_BUTTON_WIDTH)) {\n      // We add a tooltip in case the name gets truncated if too long\n      button.attributes.title = displayName;\n    }\n\n    return button;\n  });\n\n  return [...pivButton, ...idpButtons];\n};\n\nconst createCustomButtons = (settings) => {\n  const customButtons = settings.get('customButtons');\n  return customButtons.map(customButton => {\n    const button = {\n      attributes: {\n        'data-se': customButton.dataAttr\n      },\n      className: customButton.className + ' default-custom-button',\n      title: customButton.title || loc(customButton.i18nKey, 'login'),\n      click: customButton.click\n    };\n    return button;\n  });\n};\n\nconst addCustomButton = (customButtonSettings) => {\n  return createButton({\n    ...customButtonSettings,\n    className: `${customButtonSettings.className} default-custom-button button-primary`,\n  });\n};\n\nexport {\n  create,\n  createIdpButtons,\n  createCustomButtons,\n  addCustomButton,\n  isTextOverflowing\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { ConfigError } from 'util/Errors';\nimport Util from 'util/Util';\nimport Logger from 'util/Logger';\nimport getAuthClient from 'widget/getAuthClient';\nimport buildRenderOptions from 'widget/buildRenderOptions';\nimport createRouter from 'widget/createRouter';\nimport Hooks from 'models/Hooks';\nimport {\n  WidgetOptions,\n  WidgetOktaAuthConstructor,\n  WidgetOktaAuthInterface,\n  OktaSignInAPI,\n  RenderSuccessCallback,\n  RenderErrorCallback,\n  RenderResult,\n  RenderOptions,\n  HookFunction,\n  RenderResultSuccess,\n  EventCallback,\n  EventCallbackWithError,\n  EventName,\n  RouterClassFactory,\n  AbstractRouter,\n  RouterConstructor\n} from '../types';\nimport { Tokens } from '@okta/okta-auth-js';\n\nconst EVENTS_LIST = ['ready', 'afterError', 'afterRender'];\n\nexport function createOktaSignIn\n(\n  authClientConstructor: WidgetOktaAuthConstructor,\n  routerClassFactory: RouterClassFactory\n)\n{\n  return class OktaSignIn implements OktaSignInAPI {\n    Router: RouterConstructor;\n    options: WidgetOptions;\n    hooks: Hooks;\n    router: AbstractRouter;\n    authClient: WidgetOktaAuthInterface;\n\n    constructor(options: WidgetOptions) {\n      Util.debugMessage(`\n          The Okta Sign-In Widget is running in development mode.\n          When you are ready to publish your app, embed the minified version to turn on production mode.\n          See: https://developer.okta.com/code/javascript/okta_sign-in_widget#cdn\n        `);\n\n      this.options = options;\n      this.authClient = getAuthClient(authClientConstructor, options);\n\n      // validate authClient configuration against widget options\n      if (options.useClassicEngine !== true && this.authClient.options.clientId && this.authClient.isPKCE() === false) {\n        throw new ConfigError(\n          'OAuth2 with interaction code flow requires PKCE to be enabled on the authClient.'\n        );\n      }\n\n      // Hooks can be modified before or after render\n      this.hooks = new Hooks({\n        hooks: options.hooks\n      });\n\n      this.Router = routerClassFactory(options);\n\n      // Triggers the event up the chain so it is available to the consumers of the widget.\n      this.Router.prototype.Events.listenTo.call(this, this.Router.prototype, 'all', this.trigger);\n\n      // On the first afterRender event (usually when the Widget is ready) - emit a 'ready' event\n      this.once('afterRender', function(context) {\n        this.trigger('ready', context);\n      });\n    }\n\n    /**\n     * Render the sign in widget to an element. Returns a promise that will resolve on success or reject on error.\n     * @param options - options for the signin widget.\n     *        Must have an el or $el property to render the widget to.\n     * @param success - success callback function\n     * @param error - error callback function\n     */\n    renderEl(renderOptions: RenderOptions, successFn?: RenderSuccessCallback, errorFn?: RenderErrorCallback): Promise<RenderResult> {\n      if (this.router) {\n        throw new Error('An instance of the widget has already been rendered. Call remove() first.');\n      }\n\n      const res = createRouter(this.Router, this.options, renderOptions, this.authClient, successFn, errorFn, this.hooks);\n      this.router = res.router;\n      return res.promise;\n    }\n\n    \n    hide(): void {\n      if (this.router) {\n        this.router.hide();\n      }\n    }\n\n    show(): void {\n      if (this.router) {\n        this.router.show();\n      }\n    }\n\n    remove(): void {\n      if (this.router) {\n        this.router.remove();\n        this.router = undefined;\n      }\n    }\n\n    /**\n     * Renders the Widget and returns a promise that resolves to OAuth tokens\n     * @param options - options for the signin widget\n     */\n    showSignInToGetTokens(options?: RenderOptions): Promise<Tokens> {\n      const renderOptions = Object.assign(buildRenderOptions(this.options, options), {\n        redirect: 'never'\n      });\n      const promise = this.renderEl(renderOptions).then(res => {\n        return (res as RenderResultSuccess).tokens;\n      });\n      const authClient = this.router.settings.getAuthClient();\n      if (authClient.isAuthorizationCodeFlow() && !authClient.isPKCE()) {\n        throw new ConfigError('\"showSignInToGetTokens()\" should not be used for authorization_code flow. ' + \n          'Use \"showSignInAndRedirect()\" instead');\n      }\n      return promise;\n    }\n\n    /**\n     * Renders the widget and redirects to the OAuth callback\n     * @param options - options for the signin widget\n     */\n    showSignInAndRedirect(options?: RenderOptions): Promise<void> {\n      const renderOptions = Object.assign(buildRenderOptions(this.options, options), {\n        redirect: 'always'\n      });\n      return this.renderEl(renderOptions).then(() => {\n        // This method should never return, it will either redirect or reject with error\n        return;\n      });\n    }\n\n    /**\n     * Renders the widget. Either resolves the returned promise, or redirects.\n     * @param options - options for the signin widget\n     */\n    showSignIn(options?: RenderOptions): Promise<RenderResult> {\n      const renderOptions = Object.assign(buildRenderOptions(this.options, options));\n      return this.renderEl(renderOptions);\n    }\n\n    // Hook convenience functions\n    before(formName: string, callbackFn: HookFunction): void {\n      this.hooks.mergeHook(formName, {\n        before: [\n          callbackFn\n        ]\n      });\n    }\n\n    after(formName: string, callbackFn: HookFunction): void {\n      this.hooks.mergeHook(formName, {\n        after: [\n          callbackFn\n        ]\n      });\n    }\n\n    getUser(): any {\n      return this.router?.appState?.getUser();\n    }\n    \n    // Events API\n\n    on(event: EventName, callback: EventCallback | EventCallbackWithError): void {\n      // custom events listener on widget instance to trap third-party callback errors\n      if (EVENTS_LIST.includes(event)) {\n        const origCallback = callback;\n        callback = function(...callbackArgs) {\n          try {\n            origCallback.apply(this, callbackArgs);\n          } catch (err) {\n            Logger.error(`[okta-signin-widget] \"${event}\" event handler error:`, err);\n          }\n        };\n      }\n      this.Router.prototype.Events.on.call(this, event, callback);\n    }\n\n    off(event?: EventName, callback?: EventCallback | EventCallbackWithError): void {\n      this.Router.prototype.Events.off.call(this, event, callback);\n    }\n\n    once(event: EventName, callback: EventCallback): void {\n      this.Router.prototype.Events.once.call(this, event, callback);\n    }\n\n    stopListening(event?: EventName, callback?: EventCallback): void {\n      this.Router.prototype.Events.stopListening.call(this, event, callback);\n    }\n\n    listenTo(object: any, event: EventName, callback: EventCallback): void {\n      this.Router.prototype.Events.listenTo.call(this, object, event, callback);\n    }\n\n    trigger(event: EventName, ...args: any[]): void {\n      this.Router.prototype.Events.trigger.apply(this, [event, ...args]);\n    }\n\n  };\n}\n","import { ConfigError } from 'util/Errors';\nimport Util from 'util/Util';\nimport config from 'config/config.json';\nimport { WidgetOptions, WidgetOktaAuthConstructor, WidgetOktaAuthInterface } from 'types';\n\nexport default function getAuthClientInstance(\n  OktaAuth: WidgetOktaAuthConstructor,\n  options: WidgetOptions = {}\n): WidgetOktaAuthInterface\n{\n  // if authClient is set, authParams are disregarded\n  let { authClient, authParams } = options;\n\n  if (!authClient) {\n    // Create an authClient using widget options and optional authParams\n    const {\n      issuer,\n      clientId,\n      redirectUri,\n      state,\n      scopes,\n      flow,\n      codeChallenge,\n      codeChallengeMethod,\n      recoveryToken\n    } = options;\n    authParams = {\n      issuer,\n      clientId,\n      redirectUri,\n      state,\n      scopes,\n      flow,\n      codeChallenge,\n      codeChallengeMethod,\n      transformErrorXHR: Util.transformErrorXHR,\n      recoveryToken,\n      ...authParams\n    };\n\n    if (!authParams.issuer) {\n      authParams.issuer = options.baseUrl + '/oauth2/default';\n    }\n\n    authClient = new OktaAuth(authParams);\n  }\n\n  // Add widget version to extended user agent header\n  if (!authClient._oktaUserAgent) {\n    throw new ConfigError('The passed in authClient should be version 5.4.0 or above.');\n  } else {\n    authClient._oktaUserAgent.addEnvironment(`okta-signin-widget-${config.version}`);\n  }\n\n  return authClient;\n}\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OktaAuth\"] = factory();\n\telse\n\t\troot[\"OktaAuth\"] = factory();\n})(self, function() {\nreturn ","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nvar isNativeFunction = require(\"./isNativeFunction.js\");\n\nvar construct = require(\"./construct.js\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","module.exports = require(\"regenerator-runtime\");\n","\n\n// Do not use this type in code, so it won't be emitted in the declaration output\nimport { removeNils } from '../util';\n\nimport * as features from '../features';\nimport * as constants from '../constants';\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore \n// Do not use this type in code, so it won't be emitted in the declaration output\nimport Emitter from 'tiny-emitter';\n\nimport {\n  EventEmitter,\n  OktaAuthConstructor,\n  OktaAuthBaseInterface,\n  OktaAuthBaseOptions,\n  OktaAuthOptionsConstructor, \n  FeaturesAPI,\n} from './types';\n\nexport function createOktaAuthBase\n<\n  O extends OktaAuthBaseOptions = OktaAuthBaseOptions,\n>\n(\n  OptionsConstructor: OktaAuthOptionsConstructor<O>\n): OktaAuthConstructor<OktaAuthBaseInterface<O>>\n{\n  class OktaAuthBase implements OktaAuthBaseInterface<O>\n  {\n    options: O;\n    emitter: EventEmitter;\n    features: FeaturesAPI;\n    static features: FeaturesAPI = features;\n    static constants = constants;\n    \n    constructor(...args: any[]) {\n      const options = new OptionsConstructor(args.length ? args[0] || {} : {});\n      this.options = removeNils(options) as O; // clear out undefined values\n      this.emitter = new Emitter();\n      this.features = features;\n    }\n  }\n\n  // Hoist feature detection functions to prototype & static type\n  OktaAuthBase.features = OktaAuthBase.prototype.features = features;\n\n  // Also hoist constants for CommonJS users\n  Object.assign(OktaAuthBase, {\n    constants\n  });\n\n  return OktaAuthBase;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { OktaAuthBaseOptions } from './types';\n\nexport function createBaseOptionsConstructor() {\n\n  return class BaseOptionsConstructor implements Required<OktaAuthBaseOptions> {\n    devMode: boolean;\n\n    constructor(args: any) {\n      this.devMode = !!args.devMode;\n    }\n  };\n\n}\n","/*! js-cookie v3.0.1 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (key, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    key = encodeURIComponent(key)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      key + '=' + converter.write(value, key) + stringifiedAttributes)\n  }\n\n  function get (key) {\n    if (typeof document === 'undefined' || (arguments.length && !key)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var foundKey = decodeURIComponent(parts[0]);\n        jar[foundKey] = converter.read(value, foundKey);\n\n        if (key === foundKey) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return key ? jar[key] : jar\n  }\n\n  return Object.create(\n    {\n      set: set,\n      get: get,\n      remove: function (key, attributes) {\n        set(\n          key,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport default api;\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport Cookies from 'js-cookie';\nimport AuthSdkError from '../errors/AuthSdkError';\nimport {\n  StorageOptions,\n  CookieOptions,\n  SimpleStorage,\n  StorageType,\n  StorageUtil,\n} from '../storage/types';\nimport { warn } from '../util';\nimport { isIE11OrLess } from '../features';\n\nexport interface CookieStorage extends SimpleStorage {\n  setItem(key: string, value: any, expiresAt?: string | null): void; // can customize expiresAt\n  getItem(key?: string): any; // if no key is passed, all cookies are returned\n  removeItem(key: string); // remove a cookie\n}\n\nexport interface BrowserStorageUtil extends StorageUtil {\n  browserHasLocalStorage(): boolean;\n  browserHasSessionStorage(): boolean;\n  getStorageByType(storageType: StorageType, options: StorageOptions): SimpleStorage;\n  getLocalStorage(): Storage;\n  getSessionStorage(): Storage;\n  getInMemoryStorage(): SimpleStorage;\n  getCookieStorage(options?: StorageOptions): CookieStorage;\n  testStorage(storage: any): boolean;\n  storage: Cookies;\n  inMemoryStore: Record<string, unknown>;\n}\n\n// Building this as an object allows us to mock the functions in our tests\nvar storageUtil: BrowserStorageUtil = {\n\n  // IE11 bug that Microsoft doesn't plan to fix\n  // https://connect.microsoft.com/IE/Feedback/Details/1496040\n  browserHasLocalStorage: function() {\n    try {\n      var storage = this.getLocalStorage();\n      return this.testStorage(storage);\n    } catch (e) {\n      return false;\n    }\n  },\n\n  browserHasSessionStorage: function() {\n    try {\n      var storage = this.getSessionStorage();\n      return this.testStorage(storage);\n    } catch (e) {\n      return false;\n    }\n  },\n\n  testStorageType: function(storageType: StorageType): boolean {\n    var supported = false;\n    switch (storageType) {\n      case 'sessionStorage':\n        supported = this.browserHasSessionStorage();\n        break;\n      case 'localStorage':\n        supported = this.browserHasLocalStorage();\n        break;\n      case 'cookie':\n      case 'memory':\n        supported = true;\n        break;\n      default:\n        supported = false;\n        break;\n    }\n    return supported;\n  },\n\n  getStorageByType: function(storageType: StorageType, options?: StorageOptions): SimpleStorage {\n    let storageProvider;\n    switch (storageType) {\n      case 'sessionStorage':\n        storageProvider = this.getSessionStorage();\n        break;\n      case 'localStorage':\n        storageProvider = this.getLocalStorage();\n        break;\n      case 'cookie':\n        storageProvider = this.getCookieStorage(options);\n        break;\n      case 'memory':\n        storageProvider = this.getInMemoryStorage();\n        break;\n      default:\n        throw new AuthSdkError(`Unrecognized storage option: ${storageType}`);\n        break;\n    }\n    return storageProvider;\n  },\n\n  findStorageType: function(types: StorageType[]) {\n    let curType;\n    let nextType;\n    \n    types = types.slice(); // copy array\n    curType = types.shift();\n    nextType = types.length ? types[0] : null;\n    if (!nextType) {\n      return curType;\n    }\n\n    if (this.testStorageType(curType)) {\n      return curType;\n    }\n\n    // preferred type was unsupported.\n    warn(`This browser doesn't support ${curType}. Switching to ${nextType}.`);\n\n    // fallback to the next type. this is a recursive call\n    return this.findStorageType(types);\n  },\n\n  getLocalStorage: function() {\n    // Workaound for synchronization issue of LocalStorage cross tabs in IE11\n    if (isIE11OrLess() && !window.onstorage) {\n      window.onstorage = function() {};\n    }\n    \n    return localStorage;\n  },\n\n  getSessionStorage: function() {\n    return sessionStorage;\n  },\n\n  // Provides webStorage-like interface for cookies\n  getCookieStorage: function(options): CookieStorage {\n    const secure = options!.secure;\n    const sameSite = options!.sameSite;\n    const sessionCookie = options!.sessionCookie;\n    if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n      throw new AuthSdkError('getCookieStorage: \"secure\" and \"sameSite\" options must be provided');\n    }\n    const storage: CookieStorage = {\n      getItem: this.storage.get,\n      setItem: (key, value, expiresAt = '2200-01-01T00:00:00.000Z') => {\n        // By defauilt, cookie shouldn't expire\n        expiresAt = (sessionCookie ? null : expiresAt) as string;\n        this.storage.set(key, value, expiresAt, {\n          secure: secure, \n          sameSite: sameSite,\n        });\n      },\n      removeItem: (key) => {\n        this.storage.delete(key);\n      },\n    };\n\n    if (!options!.useSeparateCookies) {\n      return storage;\n    }\n\n    // Tokens are stored separately because cookies have size limits.\n    // Can only be used when storing an object value. Object properties will be saved to separate cookies.\n    // Each property of the object must also be an object.\n    return {\n      getItem: function(key) {\n        var data = storage.getItem(); // read all cookies\n        var value = {};\n        Object.keys(data).forEach(k => {\n          if (k.indexOf(key!) === 0) { // filter out unrelated cookies\n            value[k.replace(`${key}_`, '')] = JSON.parse(data[k]); // populate with cookie data\n          }\n        });\n        return JSON.stringify(value);\n      },\n      setItem: function(key, value) {\n        var existingValues = JSON.parse(this.getItem(key));\n        value = JSON.parse(value);\n        // Set key-value pairs from input to cookies\n        Object.keys(value).forEach(k => {\n          var storageKey = key + '_' + k;\n          var valueToStore = JSON.stringify(value[k]);\n          storage.setItem(storageKey, valueToStore);\n          delete existingValues[k];\n        });\n        // Delete unmatched keys from existing cookies\n        Object.keys(existingValues).forEach(k => {\n          storage.removeItem(key + '_' + k);\n        });\n      },\n      removeItem: function(key) {\n        var existingValues = JSON.parse(this.getItem(key));\n        Object.keys(existingValues).forEach(k => {\n          storage.removeItem(key + '_' + k);\n        });\n      },\n    };\n  },\n\n  // Provides an in-memory solution\n  inMemoryStore: {}, // override this for a unique memory store per instance\n  getInMemoryStorage: function() {\n    return {\n      getItem: (key) => {\n        return this.inMemoryStore[key];\n      },\n      setItem: (key, value) => {\n        this.inMemoryStore[key] = value;\n      },\n    };\n  },\n\n  testStorage: function(storage) {\n    var key = 'okta-test-storage';\n    try {\n      storage.setItem(key, key);\n      storage.removeItem(key);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  },\n\n  storage: {\n    set: function(name: string, value: string, expiresAt: string, options: CookieOptions): string {\n      const { sameSite, secure } = options;\n      if (typeof secure === 'undefined' || typeof sameSite === 'undefined') {\n        throw new AuthSdkError('storage.set: \"secure\" and \"sameSite\" options must be provided');\n      }\n      var cookieOptions: CookieOptions = {\n        path: options.path || '/',\n        secure,\n        sameSite\n      };\n\n      // eslint-disable-next-line no-extra-boolean-cast\n      if (!!(Date.parse(expiresAt))) {\n        // Expires value can be converted to a Date object.\n        //\n        // If the 'expiresAt' value is not provided, or the value cannot be\n        // parsed as a Date object, the cookie will set as a session cookie.\n        cookieOptions.expires = new Date(expiresAt);\n      }\n\n      Cookies.set(name, value, cookieOptions);\n      return this.get(name);\n    },\n\n    get: function(name?: string): string {\n      // return all cookies when no args is provided\n      if (!arguments.length) {\n        return Cookies.get();\n      }\n      return Cookies.get(name);\n    },\n\n    delete: function(name: string): string {\n      return Cookies.remove(name, { path: '/' });\n    }\n  }\n};\n\nexport default storageUtil;\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport const STATE_TOKEN_KEY_NAME = 'oktaStateToken';\nexport const DEFAULT_POLLING_DELAY = 500;\nexport const DEFAULT_MAX_CLOCK_SKEW = 300;\nexport const DEFAULT_CACHE_DURATION = 86400;\nexport const TOKEN_STORAGE_NAME = 'okta-token-storage';\nexport const CACHE_STORAGE_NAME = 'okta-cache-storage';\nexport const PKCE_STORAGE_NAME = 'okta-pkce-storage';\nexport const TRANSACTION_STORAGE_NAME = 'okta-transaction-storage';\nexport const SHARED_TRANSACTION_STORAGE_NAME = 'okta-shared-transaction-storage';\nexport const ORIGINAL_URI_STORAGE_NAME = 'okta-original-uri-storage';\nexport const IDX_RESPONSE_STORAGE_NAME = 'okta-idx-response-storage';\nexport const ACCESS_TOKEN_STORAGE_KEY = 'accessToken';\nexport const ID_TOKEN_STORAGE_KEY =  'idToken';\nexport const REFRESH_TOKEN_STORAGE_KEY =  'refreshToken';\nexport const REFERRER_PATH_STORAGE_KEY = 'referrerPath';\n\n// Code verifier: Random URL-safe string with a minimum length of 43 characters.\n// Code challenge: Base64 URL-encoded SHA-256 hash of the code verifier.\nexport const MIN_VERIFIER_LENGTH = 43;\nexport const MAX_VERIFIER_LENGTH = 128;\nexport const DEFAULT_CODE_CHALLENGE_METHOD = 'S256';\n\nexport const IDX_API_VERSION = '1.0.0';","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n \n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore \n// Do not use this type in code, so it won't be emitted in the declaration output\nimport PCancelable from 'p-cancelable';\nimport { AuthSdkError } from '../errors';\nimport {\n  EVENT_ADDED,\n  EVENT_REMOVED,\n  OAuthStorageManagerInterface,\n  OAuthTransactionMeta,\n  OktaAuthOAuthInterface\n} from '../oidc';\nimport {\n  AuthState,\n  AuthStateLogOptions,\n  OktaAuthCoreOptions,\n} from './types';\nimport { PromiseQueue, getConsole } from '../util';\n\nexport const INITIAL_AUTH_STATE = null;\nconst DEFAULT_PENDING = {\n  updateAuthStatePromise: null,\n  canceledTimes: 0\n};\nconst EVENT_AUTH_STATE_CHANGE = 'authStateChange';\nconst MAX_PROMISE_CANCEL_TIMES = 10;\n\n// only compare first level of authState\nconst isSameAuthState = (prevState: AuthState | null, state: AuthState) => {\n  // initial state is null\n  if (!prevState) {\n    return false;\n  }\n\n  return prevState.isAuthenticated === state.isAuthenticated \n    && JSON.stringify(prevState.idToken) === JSON.stringify(state.idToken)\n    && JSON.stringify(prevState.accessToken) === JSON.stringify(state.accessToken)\n    && prevState.error === state.error;\n};\n\n\nexport class AuthStateManager\n<\n  M extends OAuthTransactionMeta,\n  S extends OAuthStorageManagerInterface<M>,\n  O extends OktaAuthCoreOptions\n>\n{\n  _sdk: OktaAuthOAuthInterface<M, S, O>;\n  _pending: { \n    updateAuthStatePromise: any;\n    canceledTimes: number; \n  };\n  _authState: AuthState | null;\n  _prevAuthState: AuthState | null;\n  _logOptions: AuthStateLogOptions;\n  _transformQueue: PromiseQueue;\n\n  constructor(sdk: OktaAuthOAuthInterface<M, S, O>) {\n    if (!sdk.emitter) {\n      throw new AuthSdkError('Emitter should be initialized before AuthStateManager');\n    }\n\n    this._sdk = sdk;\n    this._pending = { ...DEFAULT_PENDING };\n    this._authState = INITIAL_AUTH_STATE;\n    this._logOptions = {};\n    this._prevAuthState = null;\n    this._transformQueue = new PromiseQueue({\n      quiet: true\n    });\n\n    // Listen on tokenManager events to start updateState process\n    // \"added\" event is emitted in both add and renew process\n    // Only listen on \"added\" event to update auth state\n    sdk.tokenManager.on(EVENT_ADDED, (key, token) => {\n      this._setLogOptions({ event: EVENT_ADDED, key, token });\n      this.updateAuthState();\n    });\n    sdk.tokenManager.on(EVENT_REMOVED, (key, token) => {\n      this._setLogOptions({ event: EVENT_REMOVED, key, token });\n      this.updateAuthState();\n    });\n  }\n\n  _setLogOptions(options) {\n    this._logOptions = options;\n  }\n\n  getAuthState(): AuthState | null {\n    return this._authState;\n  }\n\n  getPreviousAuthState(): AuthState | null {\n    return this._prevAuthState;\n  }\n\n  async updateAuthState(): Promise<AuthState> {\n    const { transformAuthState, devMode } = this._sdk.options;\n\n    const log = (status) => {\n      const { event, key, token } = this._logOptions;\n      getConsole().group(`OKTA-AUTH-JS:updateAuthState: Event:${event} Status:${status}`);\n      getConsole().log(key, token);\n      getConsole().log('Current authState', this._authState);\n      getConsole().groupEnd();\n      \n      // clear log options after logging\n      this._logOptions = {};\n    };\n\n    const emitAuthStateChange = (authState) => {\n      if (isSameAuthState(this._authState, authState)) {\n        devMode && log('unchanged'); \n        return;\n      }\n      this._prevAuthState = this._authState;\n      this._authState = authState;\n      // emit new authState object\n      this._sdk.emitter.emit(EVENT_AUTH_STATE_CHANGE, { ...authState });\n      devMode && log('emitted');\n    };\n\n    const finalPromise = (origPromise) => {       \n      return this._pending.updateAuthStatePromise.then(() => {\n        const curPromise = this._pending.updateAuthStatePromise;\n        if (curPromise && curPromise !== origPromise) {\n          return finalPromise(curPromise);\n        }\n        return this.getAuthState();\n      });\n    };\n\n    if (this._pending.updateAuthStatePromise) {\n      if (this._pending.canceledTimes >= MAX_PROMISE_CANCEL_TIMES) {\n        // stop canceling then starting a new promise\n        // let existing promise finish to prevent running into loops\n        devMode && log('terminated');\n        return finalPromise(this._pending.updateAuthStatePromise);\n      } else {\n        this._pending.updateAuthStatePromise.cancel();\n      }\n    }\n\n    /* eslint-disable complexity */\n    const cancelablePromise = new PCancelable((resolve, _, onCancel) => {\n      onCancel.shouldReject = false;\n      onCancel(() => {\n        this._pending.updateAuthStatePromise = null;\n        this._pending.canceledTimes = this._pending.canceledTimes + 1;\n        devMode && log('canceled');\n      });\n\n      const emitAndResolve = (authState) => {\n        if (cancelablePromise.isCanceled) {\n          resolve();\n          return;\n        }\n        // emit event and resolve promise \n        emitAuthStateChange(authState);\n        resolve();\n\n        // clear pending states after resolve\n        this._pending = { ...DEFAULT_PENDING };\n      };\n\n      this._sdk.isAuthenticated()\n        .then(() => {\n          if (cancelablePromise.isCanceled) {\n            resolve();\n            return;\n          }\n\n          const { accessToken, idToken, refreshToken } = this._sdk.tokenManager.getTokensSync();\n          const authState = {\n            accessToken,\n            idToken,\n            refreshToken,\n            isAuthenticated: !!(accessToken && idToken)\n          };\n\n          // Enqueue transformAuthState so that it does not run concurrently\n          const promise: Promise<AuthState> = transformAuthState\n            ? this._transformQueue.push(transformAuthState, null, this._sdk, authState) as Promise<AuthState>\n            : Promise.resolve(authState);\n\n          promise\n            .then(authState => emitAndResolve(authState))\n            .catch(error => emitAndResolve({\n              accessToken, \n              idToken, \n              refreshToken,\n              isAuthenticated: false, \n              error\n            }));\n        });\n    });\n    /* eslint-enable complexity */\n    this._pending.updateAuthStatePromise = cancelablePromise;\n\n    return finalPromise(cancelablePromise);\n  }\n\n  subscribe(handler): void {\n    this._sdk.emitter.on(EVENT_AUTH_STATE_CHANGE, handler);\n  }\n\n  unsubscribe(handler?): void {\n    this._sdk.emitter.off(EVENT_AUTH_STATE_CHANGE, handler);\n  }\n}\n","/**\n * returns true if the given object is a promise\n */\nexport function isPromise(obj) {\n  if (obj && typeof obj.then === 'function') {\n    return true;\n  } else {\n    return false;\n  }\n}\nexport var PROMISE_RESOLVED_FALSE = Promise.resolve(false);\nexport var PROMISE_RESOLVED_TRUE = Promise.resolve(true);\nexport var PROMISE_RESOLVED_VOID = Promise.resolve();\nexport function sleep(time, resolveWith) {\n  if (!time) time = 0;\n  return new Promise(function (res) {\n    return setTimeout(function () {\n      return res(resolveWith);\n    }, time);\n  });\n}\nexport function randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n/**\n * https://stackoverflow.com/a/8084248\n */\n\nexport function randomToken() {\n  return Math.random().toString(36).substring(2);\n}\nvar lastMs = 0;\nvar additional = 0;\n/**\n * returns the current time in micro-seconds,\n * WARNING: This is a pseudo-function\n * Performance.now is not reliable in webworkers, so we just make sure to never return the same time.\n * This is enough in browsers, and this function will not be used in nodejs.\n * The main reason for this hack is to ensure that BroadcastChannel behaves equal to production when it is used in fast-running unit tests.\n */\n\nexport function microSeconds() {\n  var ms = new Date().getTime();\n\n  if (ms === lastMs) {\n    additional++;\n    return ms * 1000 + additional;\n  } else {\n    lastMs = ms;\n    additional = 0;\n    return ms * 1000;\n  }\n}","import { microSeconds as micro, PROMISE_RESOLVED_VOID } from '../util.js';\nexport var microSeconds = micro;\nexport var type = 'native';\nexport function create(channelName) {\n  var state = {\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName),\n    subFns: [] // subscriberFunctions\n\n  };\n\n  state.bc.onmessage = function (msg) {\n    if (state.messagesCallback) {\n      state.messagesCallback(msg.data);\n    }\n  };\n\n  return state;\n}\nexport function close(channelState) {\n  channelState.bc.close();\n  channelState.subFns = [];\n}\nexport function postMessage(channelState, messageJson) {\n  try {\n    channelState.bc.postMessage(messageJson, false);\n    return PROMISE_RESOLVED_VOID;\n  } catch (err) {\n    return Promise.reject(err);\n  }\n}\nexport function onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  if (typeof window === 'undefined') {\n    return false;\n  }\n\n  if (typeof BroadcastChannel === 'function') {\n    if (BroadcastChannel._pubkey) {\n      throw new Error('BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill');\n    }\n\n    return true;\n  } else {\n    return false;\n  }\n}\nexport function averageResponseTime() {\n  return 150;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","/**\n * this is a set which automatically forgets\n * a given entry when a new entry is set and the ttl\n * of the old one is over\n */\nvar ObliviousSet = /** @class */ (function () {\n    function ObliviousSet(ttl) {\n        this.ttl = ttl;\n        this.map = new Map();\n        /**\n         * Creating calls to setTimeout() is expensive,\n         * so we only do that if there is not timeout already open.\n         */\n        this._to = false;\n    }\n    ObliviousSet.prototype.has = function (value) {\n        return this.map.has(value);\n    };\n    ObliviousSet.prototype.add = function (value) {\n        var _this = this;\n        this.map.set(value, now());\n        /**\n         * When a new value is added,\n         * start the cleanup at the next tick\n         * to not block the cpu for more important stuff\n         * that might happen.\n         */\n        if (!this._to) {\n            this._to = true;\n            setTimeout(function () {\n                _this._to = false;\n                removeTooOldValues(_this);\n            }, 0);\n        }\n    };\n    ObliviousSet.prototype.clear = function () {\n        this.map.clear();\n    };\n    return ObliviousSet;\n}());\nexport { ObliviousSet };\n/**\n * Removes all entries from the set\n * where the TTL has expired\n */\nexport function removeTooOldValues(obliviousSet) {\n    var olderThen = now() - obliviousSet.ttl;\n    var iterator = obliviousSet.map[Symbol.iterator]();\n    /**\n     * Because we can assume the new values are added at the bottom,\n     * we start from the top and stop as soon as we reach a non-too-old value.\n     */\n    while (true) {\n        var next = iterator.next().value;\n        if (!next) {\n            return; // no more elements\n        }\n        var value = next[0];\n        var time = next[1];\n        if (time < olderThen) {\n            obliviousSet.map.delete(value);\n        }\n        else {\n            // We reached a value that is not old enough\n            return;\n        }\n    }\n}\nexport function now() {\n    return new Date().getTime();\n}\n//# sourceMappingURL=index.js.map","export function fillOptionsWithDefaults() {\n  var originalOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = JSON.parse(JSON.stringify(originalOptions)); // main\n\n  if (typeof options.webWorkerSupport === 'undefined') options.webWorkerSupport = true; // indexed-db\n\n  if (!options.idb) options.idb = {}; //  after this time the messages get deleted\n\n  if (!options.idb.ttl) options.idb.ttl = 1000 * 45;\n  if (!options.idb.fallbackInterval) options.idb.fallbackInterval = 150; //  handles abrupt db onclose events.\n\n  if (originalOptions.idb && typeof originalOptions.idb.onclose === 'function') options.idb.onclose = originalOptions.idb.onclose; // localstorage\n\n  if (!options.localstorage) options.localstorage = {};\n  if (!options.localstorage.removeTimeout) options.localstorage.removeTimeout = 1000 * 60; // custom methods\n\n  if (originalOptions.methods) options.methods = originalOptions.methods; // node\n\n  if (!options.node) options.node = {};\n  if (!options.node.ttl) options.node.ttl = 1000 * 60 * 2; // 2 minutes;\n\n  /**\n   * On linux use 'ulimit -Hn' to get the limit of open files.\n   * On ubuntu this was 4096 for me, so we use half of that as maxParallelWrites default.\n   */\n\n  if (!options.node.maxParallelWrites) options.node.maxParallelWrites = 2048;\n  if (typeof options.node.useFastPath === 'undefined') options.node.useFastPath = true;\n  return options;\n}","/**\n * this method uses indexeddb to store the messages\n * There is currently no observerAPI for idb\n * @link https://github.com/w3c/IndexedDB/issues/51\n * \n * When working on this, ensure to use these performance optimizations:\n * @link https://rxdb.info/slow-indexeddb.html\n */\nimport { sleep, randomInt, randomToken, microSeconds as micro, PROMISE_RESOLVED_VOID } from '../util.js';\nexport var microSeconds = micro;\nimport { ObliviousSet } from 'oblivious-set';\nimport { fillOptionsWithDefaults } from '../options.js';\nvar DB_PREFIX = 'pubkey.broadcast-channel-0-';\nvar OBJECT_STORE_ID = 'messages';\n/**\n * Use relaxed durability for faster performance on all transactions.\n * @link https://nolanlawson.com/2021/08/22/speeding-up-indexeddb-reads-and-writes/\n */\n\nexport var TRANSACTION_SETTINGS = {\n  durability: 'relaxed'\n};\nexport var type = 'idb';\nexport function getIdb() {\n  if (typeof indexedDB !== 'undefined') return indexedDB;\n\n  if (typeof window !== 'undefined') {\n    if (typeof window.mozIndexedDB !== 'undefined') return window.mozIndexedDB;\n    if (typeof window.webkitIndexedDB !== 'undefined') return window.webkitIndexedDB;\n    if (typeof window.msIndexedDB !== 'undefined') return window.msIndexedDB;\n  }\n\n  return false;\n}\n/**\n * If possible, we should explicitly commit IndexedDB transactions\n * for better performance.\n * @link https://nolanlawson.com/2021/08/22/speeding-up-indexeddb-reads-and-writes/\n */\n\nexport function commitIndexedDBTransaction(tx) {\n  if (tx.commit) {\n    tx.commit();\n  }\n}\nexport function createDatabase(channelName) {\n  var IndexedDB = getIdb(); // create table\n\n  var dbName = DB_PREFIX + channelName;\n  /**\n   * All IndexedDB databases are opened without version\n   * because it is a bit faster, especially on firefox\n   * @link http://nparashuram.com/IndexedDB/perf/#Open%20Database%20with%20version\n   */\n\n  var openRequest = IndexedDB.open(dbName);\n\n  openRequest.onupgradeneeded = function (ev) {\n    var db = ev.target.result;\n    db.createObjectStore(OBJECT_STORE_ID, {\n      keyPath: 'id',\n      autoIncrement: true\n    });\n  };\n\n  var dbPromise = new Promise(function (res, rej) {\n    openRequest.onerror = function (ev) {\n      return rej(ev);\n    };\n\n    openRequest.onsuccess = function () {\n      res(openRequest.result);\n    };\n  });\n  return dbPromise;\n}\n/**\n * writes the new message to the database\n * so other readers can find it\n */\n\nexport function writeMessage(db, readerUuid, messageJson) {\n  var time = new Date().getTime();\n  var writeObject = {\n    uuid: readerUuid,\n    time: time,\n    data: messageJson\n  };\n  var tx = db.transaction([OBJECT_STORE_ID], 'readwrite', TRANSACTION_SETTINGS);\n  return new Promise(function (res, rej) {\n    tx.oncomplete = function () {\n      return res();\n    };\n\n    tx.onerror = function (ev) {\n      return rej(ev);\n    };\n\n    var objectStore = tx.objectStore(OBJECT_STORE_ID);\n    objectStore.add(writeObject);\n    commitIndexedDBTransaction(tx);\n  });\n}\nexport function getAllMessages(db) {\n  var tx = db.transaction(OBJECT_STORE_ID, 'readonly', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  return new Promise(function (res) {\n    objectStore.openCursor().onsuccess = function (ev) {\n      var cursor = ev.target.result;\n\n      if (cursor) {\n        ret.push(cursor.value); //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n\n        cursor[\"continue\"]();\n      } else {\n        commitIndexedDBTransaction(tx);\n        res(ret);\n      }\n    };\n  });\n}\nexport function getMessagesHigherThan(db, lastCursorId) {\n  var tx = db.transaction(OBJECT_STORE_ID, 'readonly', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  var keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n  /**\n   * Optimization shortcut,\n   * if getAll() can be used, do not use a cursor.\n   * @link https://rxdb.info/slow-indexeddb.html\n   */\n\n  if (objectStore.getAll) {\n    var getAllRequest = objectStore.getAll(keyRangeValue);\n    return new Promise(function (res, rej) {\n      getAllRequest.onerror = function (err) {\n        return rej(err);\n      };\n\n      getAllRequest.onsuccess = function (e) {\n        res(e.target.result);\n      };\n    });\n  }\n\n  function openCursor() {\n    // Occasionally Safari will fail on IDBKeyRange.bound, this\n    // catches that error, having it open the cursor to the first\n    // item. When it gets data it will advance to the desired key.\n    try {\n      keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n      return objectStore.openCursor(keyRangeValue);\n    } catch (e) {\n      return objectStore.openCursor();\n    }\n  }\n\n  return new Promise(function (res, rej) {\n    var openCursorRequest = openCursor();\n\n    openCursorRequest.onerror = function (err) {\n      return rej(err);\n    };\n\n    openCursorRequest.onsuccess = function (ev) {\n      var cursor = ev.target.result;\n\n      if (cursor) {\n        if (cursor.value.id < lastCursorId + 1) {\n          cursor[\"continue\"](lastCursorId + 1);\n        } else {\n          ret.push(cursor.value);\n          cursor[\"continue\"]();\n        }\n      } else {\n        commitIndexedDBTransaction(tx);\n        res(ret);\n      }\n    };\n  });\n}\nexport function removeMessagesById(db, ids) {\n  var tx = db.transaction([OBJECT_STORE_ID], 'readwrite', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  return Promise.all(ids.map(function (id) {\n    var deleteRequest = objectStore[\"delete\"](id);\n    return new Promise(function (res) {\n      deleteRequest.onsuccess = function () {\n        return res();\n      };\n    });\n  }));\n}\nexport function getOldMessages(db, ttl) {\n  var olderThen = new Date().getTime() - ttl;\n  var tx = db.transaction(OBJECT_STORE_ID, 'readonly', TRANSACTION_SETTINGS);\n  var objectStore = tx.objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  return new Promise(function (res) {\n    objectStore.openCursor().onsuccess = function (ev) {\n      var cursor = ev.target.result;\n\n      if (cursor) {\n        var msgObk = cursor.value;\n\n        if (msgObk.time < olderThen) {\n          ret.push(msgObk); //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n\n          cursor[\"continue\"]();\n        } else {\n          // no more old messages,\n          commitIndexedDBTransaction(tx);\n          res(ret);\n          return;\n        }\n      } else {\n        res(ret);\n      }\n    };\n  });\n}\nexport function cleanOldMessages(db, ttl) {\n  return getOldMessages(db, ttl).then(function (tooOld) {\n    return removeMessagesById(db, tooOld.map(function (msg) {\n      return msg.id;\n    }));\n  });\n}\nexport function create(channelName, options) {\n  options = fillOptionsWithDefaults(options);\n  return createDatabase(channelName).then(function (db) {\n    var state = {\n      closed: false,\n      lastCursorId: 0,\n      channelName: channelName,\n      options: options,\n      uuid: randomToken(),\n\n      /**\n       * emittedMessagesIds\n       * contains all messages that have been emitted before\n       * @type {ObliviousSet}\n       */\n      eMIs: new ObliviousSet(options.idb.ttl * 2),\n      // ensures we do not read messages in parrallel\n      writeBlockPromise: PROMISE_RESOLVED_VOID,\n      messagesCallback: null,\n      readQueuePromises: [],\n      db: db\n    };\n    /**\n     * Handle abrupt closes that do not originate from db.close().\n     * This could happen, for example, if the underlying storage is\n     * removed or if the user clears the database in the browser's\n     * history preferences.\n     */\n\n    db.onclose = function () {\n      state.closed = true;\n      if (options.idb.onclose) options.idb.onclose();\n    };\n    /**\n     * if service-workers are used,\n     * we have no 'storage'-event if they post a message,\n     * therefore we also have to set an interval\n     */\n\n\n    _readLoop(state);\n\n    return state;\n  });\n}\n\nfunction _readLoop(state) {\n  if (state.closed) return;\n  readNewMessages(state).then(function () {\n    return sleep(state.options.idb.fallbackInterval);\n  }).then(function () {\n    return _readLoop(state);\n  });\n}\n\nfunction _filterMessage(msgObj, state) {\n  if (msgObj.uuid === state.uuid) return false; // send by own\n\n  if (state.eMIs.has(msgObj.id)) return false; // already emitted\n\n  if (msgObj.data.time < state.messagesCallbackTime) return false; // older then onMessageCallback\n\n  return true;\n}\n/**\n * reads all new messages from the database and emits them\n */\n\n\nfunction readNewMessages(state) {\n  // channel already closed\n  if (state.closed) return PROMISE_RESOLVED_VOID; // if no one is listening, we do not need to scan for new messages\n\n  if (!state.messagesCallback) return PROMISE_RESOLVED_VOID;\n  return getMessagesHigherThan(state.db, state.lastCursorId).then(function (newerMessages) {\n    var useMessages = newerMessages\n    /**\n     * there is a bug in iOS where the msgObj can be undefined some times\n     * so we filter them out\n     * @link https://github.com/pubkey/broadcast-channel/issues/19\n     */\n    .filter(function (msgObj) {\n      return !!msgObj;\n    }).map(function (msgObj) {\n      if (msgObj.id > state.lastCursorId) {\n        state.lastCursorId = msgObj.id;\n      }\n\n      return msgObj;\n    }).filter(function (msgObj) {\n      return _filterMessage(msgObj, state);\n    }).sort(function (msgObjA, msgObjB) {\n      return msgObjA.time - msgObjB.time;\n    }); // sort by time\n\n    useMessages.forEach(function (msgObj) {\n      if (state.messagesCallback) {\n        state.eMIs.add(msgObj.id);\n        state.messagesCallback(msgObj.data);\n      }\n    });\n    return PROMISE_RESOLVED_VOID;\n  });\n}\n\nexport function close(channelState) {\n  channelState.closed = true;\n  channelState.db.close();\n}\nexport function postMessage(channelState, messageJson) {\n  channelState.writeBlockPromise = channelState.writeBlockPromise.then(function () {\n    return writeMessage(channelState.db, channelState.uuid, messageJson);\n  }).then(function () {\n    if (randomInt(0, 10) === 0) {\n      /* await (do not await) */\n      cleanOldMessages(channelState.db, channelState.options.idb.ttl);\n    }\n  });\n  return channelState.writeBlockPromise;\n}\nexport function onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n  readNewMessages(channelState);\n}\nexport function canBeUsed() {\n  var idb = getIdb();\n\n  if (!idb) {\n    return false;\n  }\n\n  return true;\n}\nexport function averageResponseTime(options) {\n  return options.idb.fallbackInterval * 2;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","/**\n * A localStorage-only method which uses localstorage and its 'storage'-event\n * This does not work inside of webworkers because they have no access to locastorage\n * This is basically implemented to support IE9 or your grandmothers toaster.\n * @link https://caniuse.com/#feat=namevalue-storage\n * @link https://caniuse.com/#feat=indexeddb\n */\nimport { ObliviousSet } from 'oblivious-set';\nimport { fillOptionsWithDefaults } from '../options.js';\nimport { sleep, randomToken, microSeconds as micro } from '../util.js';\nexport var microSeconds = micro;\nvar KEY_PREFIX = 'pubkey.broadcastChannel-';\nexport var type = 'localstorage';\n/**\n * copied from crosstab\n * @link https://github.com/tejacques/crosstab/blob/master/src/crosstab.js#L32\n */\n\nexport function getLocalStorage() {\n  var localStorage;\n  if (typeof window === 'undefined') return null;\n\n  try {\n    localStorage = window.localStorage;\n    localStorage = window['ie8-eventlistener/storage'] || window.localStorage;\n  } catch (e) {// New versions of Firefox throw a Security exception\n    // if cookies are disabled. See\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1028153\n  }\n\n  return localStorage;\n}\nexport function storageKey(channelName) {\n  return KEY_PREFIX + channelName;\n}\n/**\n* writes the new message to the storage\n* and fires the storage-event so other readers can find it\n*/\n\nexport function postMessage(channelState, messageJson) {\n  return new Promise(function (res) {\n    sleep().then(function () {\n      var key = storageKey(channelState.channelName);\n      var writeObj = {\n        token: randomToken(),\n        time: new Date().getTime(),\n        data: messageJson,\n        uuid: channelState.uuid\n      };\n      var value = JSON.stringify(writeObj);\n      getLocalStorage().setItem(key, value);\n      /**\n       * StorageEvent does not fire the 'storage' event\n       * in the window that changes the state of the local storage.\n       * So we fire it manually\n       */\n\n      var ev = document.createEvent('Event');\n      ev.initEvent('storage', true, true);\n      ev.key = key;\n      ev.newValue = value;\n      window.dispatchEvent(ev);\n      res();\n    });\n  });\n}\nexport function addStorageEventListener(channelName, fn) {\n  var key = storageKey(channelName);\n\n  var listener = function listener(ev) {\n    if (ev.key === key) {\n      fn(JSON.parse(ev.newValue));\n    }\n  };\n\n  window.addEventListener('storage', listener);\n  return listener;\n}\nexport function removeStorageEventListener(listener) {\n  window.removeEventListener('storage', listener);\n}\nexport function create(channelName, options) {\n  options = fillOptionsWithDefaults(options);\n\n  if (!canBeUsed()) {\n    throw new Error('BroadcastChannel: localstorage cannot be used');\n  }\n\n  var uuid = randomToken();\n  /**\n   * eMIs\n   * contains all messages that have been emitted before\n   * @type {ObliviousSet}\n   */\n\n  var eMIs = new ObliviousSet(options.localstorage.removeTimeout);\n  var state = {\n    channelName: channelName,\n    uuid: uuid,\n    eMIs: eMIs // emittedMessagesIds\n\n  };\n  state.listener = addStorageEventListener(channelName, function (msgObj) {\n    if (!state.messagesCallback) return; // no listener\n\n    if (msgObj.uuid === uuid) return; // own message\n\n    if (!msgObj.token || eMIs.has(msgObj.token)) return; // already emitted\n\n    if (msgObj.data.time && msgObj.data.time < state.messagesCallbackTime) return; // too old\n\n    eMIs.add(msgObj.token);\n    state.messagesCallback(msgObj.data);\n  });\n  return state;\n}\nexport function close(channelState) {\n  removeStorageEventListener(channelState.listener);\n}\nexport function onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  var ls = getLocalStorage();\n  if (!ls) return false;\n\n  try {\n    var key = '__broadcastchannel_check';\n    ls.setItem(key, 'works');\n    ls.removeItem(key);\n  } catch (e) {\n    // Safari 10 in private mode will not allow write access to local\n    // storage and fail with a QuotaExceededError. See\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API#Private_Browsing_Incognito_modes\n    return false;\n  }\n\n  return true;\n}\nexport function averageResponseTime() {\n  var defaultTime = 120;\n  var userAgent = navigator.userAgent.toLowerCase();\n\n  if (userAgent.includes('safari') && !userAgent.includes('chrome')) {\n    // safari is much slower so this time is higher\n    return defaultTime * 2;\n  }\n\n  return defaultTime;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","import { microSeconds as micro } from '../util.js';\nexport var microSeconds = micro;\nexport var type = 'simulate';\nvar SIMULATE_CHANNELS = new Set();\nexport function create(channelName) {\n  var state = {\n    name: channelName,\n    messagesCallback: null\n  };\n  SIMULATE_CHANNELS.add(state);\n  return state;\n}\nexport function close(channelState) {\n  SIMULATE_CHANNELS[\"delete\"](channelState);\n}\nexport function postMessage(channelState, messageJson) {\n  return new Promise(function (res) {\n    return setTimeout(function () {\n      var channelArray = Array.from(SIMULATE_CHANNELS);\n      channelArray.filter(function (channel) {\n        return channel.name === channelState.name;\n      }).filter(function (channel) {\n        return channel !== channelState;\n      }).filter(function (channel) {\n        return !!channel.messagesCallback;\n      }).forEach(function (channel) {\n        return channel.messagesCallback(messageJson);\n      });\n      res();\n    }, 5);\n  });\n}\nexport function onMessage(channelState, fn) {\n  channelState.messagesCallback = fn;\n}\nexport function canBeUsed() {\n  return true;\n}\nexport function averageResponseTime() {\n  return 5;\n}\nexport default {\n  create: create,\n  close: close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: microSeconds\n};","import NativeMethod from './methods/native.js';\nimport IndexeDbMethod from './methods/indexed-db.js';\nimport LocalstorageMethod from './methods/localstorage.js';\nimport SimulateMethod from './methods/simulate.js'; // the line below will be removed from es5/browser builds\n\n\nvar METHODS = [NativeMethod, // fastest\nIndexeDbMethod, LocalstorageMethod];\nexport function chooseMethod(options) {\n  var chooseMethods = [].concat(options.methods, METHODS).filter(Boolean); // the line below will be removed from es5/browser builds\n\n\n  if (options.type) {\n    if (options.type === 'simulate') {\n      // only use simulate-method if directly chosen\n      return SimulateMethod;\n    }\n\n    var ret = chooseMethods.find(function (m) {\n      return m.type === options.type;\n    });\n    if (!ret) throw new Error('method-type ' + options.type + ' not found');else return ret;\n  }\n  /**\n   * if no webworker support is needed,\n   * remove idb from the list so that localstorage is been chosen\n   */\n\n\n  if (!options.webWorkerSupport) {\n    chooseMethods = chooseMethods.filter(function (m) {\n      return m.type !== 'idb';\n    });\n  }\n\n  var useMethod = chooseMethods.find(function (method) {\n    return method.canBeUsed();\n  });\n  if (!useMethod) throw new Error(\"No useable method found in \" + JSON.stringify(METHODS.map(function (m) {\n    return m.type;\n  })));else return useMethod;\n}","import { isPromise, PROMISE_RESOLVED_FALSE, PROMISE_RESOLVED_VOID } from './util.js';\nimport { chooseMethod } from './method-chooser.js';\nimport { fillOptionsWithDefaults } from './options.js';\n/**\n * Contains all open channels,\n * used in tests to ensure everything is closed.\n */\n\nexport var OPEN_BROADCAST_CHANNELS = new Set();\nvar lastId = 0;\nexport var BroadcastChannel = function BroadcastChannel(name, options) {\n  // identifier of the channel to debug stuff\n  this.id = lastId++;\n  OPEN_BROADCAST_CHANNELS.add(this);\n  this.name = name;\n\n  if (ENFORCED_OPTIONS) {\n    options = ENFORCED_OPTIONS;\n  }\n\n  this.options = fillOptionsWithDefaults(options);\n  this.method = chooseMethod(this.options); // isListening\n\n  this._iL = false;\n  /**\n   * _onMessageListener\n   * setting onmessage twice,\n   * will overwrite the first listener\n   */\n\n  this._onML = null;\n  /**\n   * _addEventListeners\n   */\n\n  this._addEL = {\n    message: [],\n    internal: []\n  };\n  /**\n   * Unsend message promises\n   * where the sending is still in progress\n   * @type {Set<Promise>}\n   */\n\n  this._uMP = new Set();\n  /**\n   * _beforeClose\n   * array of promises that will be awaited\n   * before the channel is closed\n   */\n\n  this._befC = [];\n  /**\n   * _preparePromise\n   */\n\n  this._prepP = null;\n\n  _prepareChannel(this);\n}; // STATICS\n\n/**\n * used to identify if someone overwrites\n * window.BroadcastChannel with this\n * See methods/native.js\n */\n\nBroadcastChannel._pubkey = true;\n/**\n * clears the tmp-folder if is node\n * @return {Promise<boolean>} true if has run, false if not node\n */\n\nexport function clearNodeFolder(options) {\n  options = fillOptionsWithDefaults(options);\n  var method = chooseMethod(options);\n\n  if (method.type === 'node') {\n    return method.clearNodeFolder().then(function () {\n      return true;\n    });\n  } else {\n    return PROMISE_RESOLVED_FALSE;\n  }\n}\n/**\n * if set, this method is enforced,\n * no mather what the options are\n */\n\nvar ENFORCED_OPTIONS;\nexport function enforceOptions(options) {\n  ENFORCED_OPTIONS = options;\n} // PROTOTYPE\n\nBroadcastChannel.prototype = {\n  postMessage: function postMessage(msg) {\n    if (this.closed) {\n      throw new Error('BroadcastChannel.postMessage(): ' + 'Cannot post message after channel has closed ' +\n      /**\n       * In the past when this error appeared, it was realy hard to debug.\n       * So now we log the msg together with the error so it at least\n       * gives some clue about where in your application this happens.\n       */\n      JSON.stringify(msg));\n    }\n\n    return _post(this, 'message', msg);\n  },\n  postInternal: function postInternal(msg) {\n    return _post(this, 'internal', msg);\n  },\n\n  set onmessage(fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time: time,\n      fn: fn\n    };\n\n    _removeListenerObject(this, 'message', this._onML);\n\n    if (fn && typeof fn === 'function') {\n      this._onML = listenObj;\n\n      _addListenerObject(this, 'message', listenObj);\n    } else {\n      this._onML = null;\n    }\n  },\n\n  addEventListener: function addEventListener(type, fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time: time,\n      fn: fn\n    };\n\n    _addListenerObject(this, type, listenObj);\n  },\n  removeEventListener: function removeEventListener(type, fn) {\n    var obj = this._addEL[type].find(function (obj) {\n      return obj.fn === fn;\n    });\n\n    _removeListenerObject(this, type, obj);\n  },\n  close: function close() {\n    var _this = this;\n\n    if (this.closed) {\n      return;\n    }\n\n    OPEN_BROADCAST_CHANNELS[\"delete\"](this);\n    this.closed = true;\n    var awaitPrepare = this._prepP ? this._prepP : PROMISE_RESOLVED_VOID;\n    this._onML = null;\n    this._addEL.message = [];\n    return awaitPrepare // wait until all current sending are processed\n    .then(function () {\n      return Promise.all(Array.from(_this._uMP));\n    }) // run before-close hooks\n    .then(function () {\n      return Promise.all(_this._befC.map(function (fn) {\n        return fn();\n      }));\n    }) // close the channel\n    .then(function () {\n      return _this.method.close(_this._state);\n    });\n  },\n\n  get type() {\n    return this.method.type;\n  },\n\n  get isClosed() {\n    return this.closed;\n  }\n\n};\n/**\n * Post a message over the channel\n * @returns {Promise} that resolved when the message sending is done\n */\n\nfunction _post(broadcastChannel, type, msg) {\n  var time = broadcastChannel.method.microSeconds();\n  var msgObj = {\n    time: time,\n    type: type,\n    data: msg\n  };\n  var awaitPrepare = broadcastChannel._prepP ? broadcastChannel._prepP : PROMISE_RESOLVED_VOID;\n  return awaitPrepare.then(function () {\n    var sendPromise = broadcastChannel.method.postMessage(broadcastChannel._state, msgObj); // add/remove to unsend messages list\n\n    broadcastChannel._uMP.add(sendPromise);\n\n    sendPromise[\"catch\"]().then(function () {\n      return broadcastChannel._uMP[\"delete\"](sendPromise);\n    });\n    return sendPromise;\n  });\n}\n\nfunction _prepareChannel(channel) {\n  var maybePromise = channel.method.create(channel.name, channel.options);\n\n  if (isPromise(maybePromise)) {\n    channel._prepP = maybePromise;\n    maybePromise.then(function (s) {\n      // used in tests to simulate slow runtime\n\n      /*if (channel.options.prepareDelay) {\n           await new Promise(res => setTimeout(res, this.options.prepareDelay));\n      }*/\n      channel._state = s;\n    });\n  } else {\n    channel._state = maybePromise;\n  }\n}\n\nfunction _hasMessageListeners(channel) {\n  if (channel._addEL.message.length > 0) return true;\n  if (channel._addEL.internal.length > 0) return true;\n  return false;\n}\n\nfunction _addListenerObject(channel, type, obj) {\n  channel._addEL[type].push(obj);\n\n  _startListening(channel);\n}\n\nfunction _removeListenerObject(channel, type, obj) {\n  channel._addEL[type] = channel._addEL[type].filter(function (o) {\n    return o !== obj;\n  });\n\n  _stopListening(channel);\n}\n\nfunction _startListening(channel) {\n  if (!channel._iL && _hasMessageListeners(channel)) {\n    // someone is listening, start subscribing\n    var listenerFn = function listenerFn(msgObj) {\n      channel._addEL[msgObj.type].forEach(function (listenerObject) {\n        /**\n         * Getting the current time in JavaScript has no good precision.\n         * So instead of only listening to events that happend 'after' the listener\n         * was added, we also listen to events that happended 100ms before it.\n         * This ensures that when another process, like a WebWorker, sends events\n         * we do not miss them out because their timestamp is a bit off compared to the main process.\n         * Not doing this would make messages missing when we send data directly after subscribing and awaiting a response.\n         * @link https://johnresig.com/blog/accuracy-of-javascript-time/\n         */\n        var hundredMsInMicro = 100 * 1000;\n        var minMessageTime = listenerObject.time - hundredMsInMicro;\n\n        if (msgObj.time >= minMessageTime) {\n          listenerObject.fn(msgObj.data);\n        }\n      });\n    };\n\n    var time = channel.method.microSeconds();\n\n    if (channel._prepP) {\n      channel._prepP.then(function () {\n        channel._iL = true;\n        channel.method.onMessage(channel._state, listenerFn, time);\n      });\n    } else {\n      channel._iL = true;\n      channel.method.onMessage(channel._state, listenerFn, time);\n    }\n  }\n}\n\nfunction _stopListening(channel) {\n  if (channel._iL && !_hasMessageListeners(channel)) {\n    // noone is listening, stop subscribing\n    channel._iL = false;\n    var time = channel.method.microSeconds();\n    channel.method.onMessage(channel._state, null, time);\n  }\n}","/* global WorkerGlobalScope */\nfunction add(fn) {\n  if (typeof WorkerGlobalScope === 'function' && self instanceof WorkerGlobalScope) {// this is run inside of a webworker\n  } else {\n    /**\n     * if we are on react-native, there is no window.addEventListener\n     * @link https://github.com/pubkey/unload/issues/6\n     */\n    if (typeof window.addEventListener !== 'function') return;\n    /**\n     * for normal browser-windows, we use the beforeunload-event\n     */\n\n    window.addEventListener('beforeunload', function () {\n      fn();\n    }, true);\n    /**\n     * for iframes, we have to use the unload-event\n     * @link https://stackoverflow.com/q/47533670/3443137\n     */\n\n    window.addEventListener('unload', function () {\n      fn();\n    }, true);\n  }\n  /**\n   * TODO add fallback for safari-mobile\n   * @link https://stackoverflow.com/a/26193516/3443137\n   */\n\n}\n\nexport default {\n  add: add\n};","import isNode from 'detect-node';\nimport BrowserMethod from './browser.js';\nimport NodeMethod from './node.js';\nvar USE_METHOD = isNode ? NodeMethod : BrowserMethod;\nvar LISTENERS = new Set();\nvar startedListening = false;\n\nfunction startListening() {\n  if (startedListening) return;\n  startedListening = true;\n  USE_METHOD.add(runAll);\n}\n\nexport function add(fn) {\n  startListening();\n  if (typeof fn !== 'function') throw new Error('Listener is no function');\n  LISTENERS.add(fn);\n  var addReturn = {\n    remove: function remove() {\n      return LISTENERS[\"delete\"](fn);\n    },\n    run: function run() {\n      LISTENERS[\"delete\"](fn);\n      return fn();\n    }\n  };\n  return addReturn;\n}\nexport function runAll() {\n  var promises = [];\n  LISTENERS.forEach(function (fn) {\n    promises.push(fn());\n    LISTENERS[\"delete\"](fn);\n  });\n  return Promise.all(promises);\n}\nexport function removeAll() {\n  LISTENERS.clear();\n}\nexport function getSize() {\n  return LISTENERS.size;\n}","import { sleep, randomToken, PROMISE_RESOLVED_VOID, PROMISE_RESOLVED_TRUE } from './util.js';\nimport { add as unloadAdd } from 'unload';\n\nvar LeaderElection = function LeaderElection(broadcastChannel, options) {\n  var _this = this;\n\n  this.broadcastChannel = broadcastChannel;\n  this._options = options;\n  this.isLeader = false;\n  this.hasLeader = false;\n  this.isDead = false;\n  this.token = randomToken();\n  /**\n   * Apply Queue,\n   * used to ensure we do not run applyOnce()\n   * in parallel.\n   */\n\n  this._aplQ = PROMISE_RESOLVED_VOID; // amount of unfinished applyOnce() calls\n\n  this._aplQC = 0; // things to clean up\n\n  this._unl = []; // _unloads\n\n  this._lstns = []; // _listeners\n\n  this._dpL = function () {}; // onduplicate listener\n\n\n  this._dpLC = false; // true when onduplicate called\n\n  /**\n   * Even when the own instance is not applying,\n   * we still listen to messages to ensure the hasLeader flag\n   * is set correctly.\n   */\n\n  var hasLeaderListener = function hasLeaderListener(msg) {\n    if (msg.context === 'leader') {\n      if (msg.action === 'death') {\n        _this.hasLeader = false;\n      }\n\n      if (msg.action === 'tell') {\n        _this.hasLeader = true;\n      }\n    }\n  };\n\n  this.broadcastChannel.addEventListener('internal', hasLeaderListener);\n\n  this._lstns.push(hasLeaderListener);\n};\n\nLeaderElection.prototype = {\n  /**\n   * Returns true if the instance is leader,\n   * false if not.\n   * @async\n   */\n  applyOnce: function applyOnce( // true if the applyOnce() call came from the fallbackInterval cycle\n  isFromFallbackInterval) {\n    var _this2 = this;\n\n    if (this.isLeader) {\n      return sleep(0, true);\n    }\n\n    if (this.isDead) {\n      return sleep(0, false);\n    }\n    /**\n     * Already applying more then once,\n     * -> wait for the apply queue to be finished.\n     */\n\n\n    if (this._aplQC > 1) {\n      return this._aplQ;\n    }\n    /**\n     * Add a new apply-run\n     */\n\n\n    var applyRun = function applyRun() {\n      /**\n       * Optimization shortcuts.\n       * Directly return if a previous run\n       * has already elected a leader.\n       */\n      if (_this2.isLeader) {\n        return PROMISE_RESOLVED_TRUE;\n      }\n\n      var stopCriteria = false;\n      var stopCriteriaPromiseResolve;\n      /**\n       * Resolves when a stop criteria is reached.\n       * Uses as a performance shortcut so we do not\n       * have to await the responseTime when it is already clear\n       * that the election failed.\n       */\n\n      var stopCriteriaPromise = new Promise(function (res) {\n        stopCriteriaPromiseResolve = function stopCriteriaPromiseResolve() {\n          stopCriteria = true;\n          res();\n        };\n      });\n      var recieved = [];\n\n      var handleMessage = function handleMessage(msg) {\n        if (msg.context === 'leader' && msg.token != _this2.token) {\n          recieved.push(msg);\n\n          if (msg.action === 'apply') {\n            // other is applying\n            if (msg.token > _this2.token) {\n              /**\n               * other has higher token\n               * -> stop applying and let other become leader.\n               */\n              stopCriteriaPromiseResolve();\n            }\n          }\n\n          if (msg.action === 'tell') {\n            // other is already leader\n            stopCriteriaPromiseResolve();\n            _this2.hasLeader = true;\n          }\n        }\n      };\n\n      _this2.broadcastChannel.addEventListener('internal', handleMessage);\n      /**\n       * If the applyOnce() call came from the fallbackInterval,\n       * we can assume that the election runs in the background and\n       * not critical process is waiting for it.\n       * When this is true, we give the other intances\n       * more time to answer to messages in the election cycle.\n       * This makes it less likely to elect duplicate leaders.\n       * But also it takes longer which is not a problem because we anyway\n       * run in the background.\n       */\n\n\n      var waitForAnswerTime = isFromFallbackInterval ? _this2._options.responseTime * 4 : _this2._options.responseTime;\n\n      var applyPromise = _sendMessage(_this2, 'apply') // send out that this one is applying\n      .then(function () {\n        return Promise.race([sleep(waitForAnswerTime), stopCriteriaPromise.then(function () {\n          return Promise.reject(new Error());\n        })]);\n      }) // send again in case another instance was just created\n      .then(function () {\n        return _sendMessage(_this2, 'apply');\n      }) // let others time to respond\n      .then(function () {\n        return Promise.race([sleep(waitForAnswerTime), stopCriteriaPromise.then(function () {\n          return Promise.reject(new Error());\n        })]);\n      })[\"catch\"](function () {}).then(function () {\n        _this2.broadcastChannel.removeEventListener('internal', handleMessage);\n\n        if (!stopCriteria) {\n          // no stop criteria -> own is leader\n          return beLeader(_this2).then(function () {\n            return true;\n          });\n        } else {\n          // other is leader\n          return false;\n        }\n      });\n\n      return applyPromise;\n    };\n\n    this._aplQC = this._aplQC + 1;\n    this._aplQ = this._aplQ.then(function () {\n      return applyRun();\n    }).then(function () {\n      _this2._aplQC = _this2._aplQC - 1;\n    });\n    return this._aplQ.then(function () {\n      return _this2.isLeader;\n    });\n  },\n  awaitLeadership: function awaitLeadership() {\n    if (\n    /* _awaitLeadershipPromise */\n    !this._aLP) {\n      this._aLP = _awaitLeadershipOnce(this);\n    }\n\n    return this._aLP;\n  },\n\n  set onduplicate(fn) {\n    this._dpL = fn;\n  },\n\n  die: function die() {\n    var _this3 = this;\n\n    this._lstns.forEach(function (listener) {\n      return _this3.broadcastChannel.removeEventListener('internal', listener);\n    });\n\n    this._lstns = [];\n\n    this._unl.forEach(function (uFn) {\n      return uFn.remove();\n    });\n\n    this._unl = [];\n\n    if (this.isLeader) {\n      this.hasLeader = false;\n      this.isLeader = false;\n    }\n\n    this.isDead = true;\n    return _sendMessage(this, 'death');\n  }\n};\n/**\n * @param leaderElector {LeaderElector}\n */\n\nfunction _awaitLeadershipOnce(leaderElector) {\n  if (leaderElector.isLeader) {\n    return PROMISE_RESOLVED_VOID;\n  }\n\n  return new Promise(function (res) {\n    var resolved = false;\n\n    function finish() {\n      if (resolved) {\n        return;\n      }\n\n      resolved = true;\n      leaderElector.broadcastChannel.removeEventListener('internal', whenDeathListener);\n      res(true);\n    } // try once now\n\n\n    leaderElector.applyOnce().then(function () {\n      if (leaderElector.isLeader) {\n        finish();\n      }\n    });\n    /**\n     * Try on fallbackInterval\n     * @recursive\n     */\n\n    var tryOnFallBack = function tryOnFallBack() {\n      return sleep(leaderElector._options.fallbackInterval).then(function () {\n        if (leaderElector.isDead || resolved) {\n          return;\n        }\n\n        if (leaderElector.isLeader) {\n          finish();\n        } else {\n          return leaderElector.applyOnce(true).then(function () {\n            if (leaderElector.isLeader) {\n              finish();\n            } else {\n              tryOnFallBack();\n            }\n          });\n        }\n      });\n    };\n\n    tryOnFallBack(); // try when other leader dies\n\n    var whenDeathListener = function whenDeathListener(msg) {\n      if (msg.context === 'leader' && msg.action === 'death') {\n        leaderElector.hasLeader = false;\n        leaderElector.applyOnce().then(function () {\n          if (leaderElector.isLeader) {\n            finish();\n          }\n        });\n      }\n    };\n\n    leaderElector.broadcastChannel.addEventListener('internal', whenDeathListener);\n\n    leaderElector._lstns.push(whenDeathListener);\n  });\n}\n/**\n * sends and internal message over the broadcast-channel\n */\n\n\nfunction _sendMessage(leaderElector, action) {\n  var msgJson = {\n    context: 'leader',\n    action: action,\n    token: leaderElector.token\n  };\n  return leaderElector.broadcastChannel.postInternal(msgJson);\n}\n\nexport function beLeader(leaderElector) {\n  leaderElector.isLeader = true;\n  leaderElector.hasLeader = true;\n  var unloadFn = unloadAdd(function () {\n    return leaderElector.die();\n  });\n\n  leaderElector._unl.push(unloadFn);\n\n  var isLeaderListener = function isLeaderListener(msg) {\n    if (msg.context === 'leader' && msg.action === 'apply') {\n      _sendMessage(leaderElector, 'tell');\n    }\n\n    if (msg.context === 'leader' && msg.action === 'tell' && !leaderElector._dpLC) {\n      /**\n       * another instance is also leader!\n       * This can happen on rare events\n       * like when the CPU is at 100% for long time\n       * or the tabs are open very long and the browser throttles them.\n       * @link https://github.com/pubkey/broadcast-channel/issues/414\n       * @link https://github.com/pubkey/broadcast-channel/issues/385\n       */\n      leaderElector._dpLC = true;\n\n      leaderElector._dpL(); // message the lib user so the app can handle the problem\n\n\n      _sendMessage(leaderElector, 'tell'); // ensure other leader also knows the problem\n\n    }\n  };\n\n  leaderElector.broadcastChannel.addEventListener('internal', isLeaderListener);\n\n  leaderElector._lstns.push(isLeaderListener);\n\n  return _sendMessage(leaderElector, 'tell');\n}\n\nfunction fillOptionsWithDefaults(options, channel) {\n  if (!options) options = {};\n  options = JSON.parse(JSON.stringify(options));\n\n  if (!options.fallbackInterval) {\n    options.fallbackInterval = 3000;\n  }\n\n  if (!options.responseTime) {\n    options.responseTime = channel.method.averageResponseTime(channel.options);\n  }\n\n  return options;\n}\n\nexport function createLeaderElection(channel, options) {\n  if (channel._leaderElector) {\n    throw new Error('BroadcastChannel already has a leader-elector');\n  }\n\n  options = fillOptionsWithDefaults(options, channel);\n  var elector = new LeaderElection(channel, options);\n\n  channel._befC.push(function () {\n    return elector.die();\n  });\n\n  channel._leaderElector = elector;\n  return elector;\n}","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { ServiceInterface, ServiceManagerOptions } from '../core/types';\nimport {\n  BroadcastChannel,\n  createLeaderElection,\n  LeaderElector\n} from 'broadcast-channel';\nimport { isBrowser } from '../features';\n\ndeclare type OnLeaderHandler = (() => Promise<void>);\ndeclare type ServiceOptions = ServiceManagerOptions & {\n  onLeader?: OnLeaderHandler;\n};\n\nexport class LeaderElectionService implements ServiceInterface {\n  private options: ServiceOptions;\n  private channel?: BroadcastChannel;\n  private elector?: LeaderElector;\n  private started = false;\n\n  constructor(options: ServiceOptions = {}) {\n    this.options = options;\n    this.onLeaderDuplicate = this.onLeaderDuplicate.bind(this);\n    this.onLeader = this.onLeader.bind(this);\n  }\n\n  private onLeaderDuplicate() {\n  }\n\n  private async onLeader() {\n    await this.options.onLeader?.();\n  }\n\n  isLeader() {\n    return !!this.elector?.isLeader;\n  }\n\n  hasLeader() {\n    return !!this.elector?.hasLeader;\n  }\n\n  async start() {\n    await this.stop();\n    if (this.canStart()) {\n      const { electionChannelName } = this.options;\n      this.channel = new BroadcastChannel(electionChannelName as string);\n      this.elector = createLeaderElection(this.channel);\n      this.elector.onduplicate = this.onLeaderDuplicate;\n      this.elector.awaitLeadership().then(this.onLeader);\n      this.started = true;\n    }\n  }\n\n  async stop() {\n    if (this.started) {\n      if (this.elector) {\n        await this.elector.die();\n        this.elector = undefined;\n      }\n      if (this.channel) {\n        // Workaround to fix error `Failed to execute 'postMessage' on 'BroadcastChannel': Channel is closed`\n        (this.channel as any).postInternal = () => Promise.resolve();\n        await this.channel.close();\n        this.channel = undefined;\n      }\n      this.started = false;\n    }\n  }\n\n  requiresLeadership() {\n    return false;\n  }\n\n  isStarted() {\n    return this.started;\n  }\n\n  canStart() {\n    return isBrowser();\n  }\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { AuthSdkError } from '../errors';\nimport { ServiceInterface, ServiceManagerOptions } from '../core/types';\nimport { EVENT_EXPIRED, TokenManagerInterface } from '../oidc/types';\nimport { isBrowser } from '../features';\n\nexport class AutoRenewService implements ServiceInterface {\n  private tokenManager: TokenManagerInterface;\n  private options: ServiceManagerOptions;\n  private renewTimeQueue: Array<number>;\n  private started = false;\n\n  constructor(tokenManager: TokenManagerInterface, options: ServiceManagerOptions = {}) {\n    this.tokenManager = tokenManager;\n    this.options = options;\n    this.renewTimeQueue = [];\n    this.onTokenExpiredHandler = this.onTokenExpiredHandler.bind(this);\n  }\n  \n  private shouldThrottleRenew(): boolean {\n    let res = false;\n    this.renewTimeQueue.push(Date.now());\n    if (this.renewTimeQueue.length >= 10) {\n      // get and remove first item from queue\n      const firstTime = this.renewTimeQueue.shift() as number;\n      const lastTime = this.renewTimeQueue[this.renewTimeQueue.length - 1];\n      res = (lastTime - firstTime) < 30 * 1000;\n    }\n    return res;\n  }\n\n  requiresLeadership() {\n    // If tokens sync storage is enabled, handle tokens expiration only in 1 leader tab\n    return !!this.options.syncStorage && isBrowser();\n  }\n\n  private onTokenExpiredHandler(key: string) {\n    if (this.options.autoRenew) {\n      if (this.shouldThrottleRenew()) {\n        const error = new AuthSdkError('Too many token renew requests');\n        this.tokenManager.emitError(error);\n      } else {\n        this.tokenManager.renew(key).catch(() => {}); // Renew errors will emit an \"error\" event \n      }\n    } else if (this.options.autoRemove) {\n      this.tokenManager.remove(key);\n    }\n  }\n\n  canStart() {\n    return (!!this.options.autoRenew || !!this.options.autoRemove);\n  }\n\n  async start() {\n    if (this.canStart()) {\n      await this.stop();\n      this.tokenManager.on(EVENT_EXPIRED, this.onTokenExpiredHandler);\n      this.started = true;\n    }\n  }\n\n  async stop() {\n    if (this.started) {\n      this.tokenManager.off(EVENT_EXPIRED, this.onTokenExpiredHandler);\n      this.renewTimeQueue = [];\n      this.started = false;\n    }\n  }\n\n  isStarted() {\n    return this.started;\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { BroadcastChannel } from 'broadcast-channel';\nimport { isBrowser } from '../features';\nimport {\n  ServiceManagerOptions, ServiceInterface\n} from '../core/types';\nimport {\n  Token, Tokens, \n  EVENT_ADDED, EVENT_REMOVED, EVENT_RENEWED, EVENT_SET_STORAGE, TokenManagerInterface\n} from '../oidc/types';\nimport { AuthSdkError } from '../errors';\n\nexport type SyncMessage = {\n  type: string;\n  key?: string;\n  token?: Token;\n  oldToken?: Token;\n  storage?: Tokens;\n};\nexport class SyncStorageService implements ServiceInterface {\n  private tokenManager: TokenManagerInterface;\n  private options: ServiceManagerOptions;\n  private channel?: BroadcastChannel<SyncMessage>;\n  private started = false;\n  private enablePostMessage = true;\n\n  constructor(tokenManager: TokenManagerInterface, options: ServiceManagerOptions = {}) {\n    this.tokenManager = tokenManager;\n    this.options = options;\n    this.onTokenAddedHandler = this.onTokenAddedHandler.bind(this);\n    this.onTokenRemovedHandler = this.onTokenRemovedHandler.bind(this);\n    this.onTokenRenewedHandler = this.onTokenRenewedHandler.bind(this);\n    this.onSetStorageHandler = this.onSetStorageHandler.bind(this);\n    this.onSyncMessageHandler = this.onSyncMessageHandler.bind(this);\n  }\n\n  requiresLeadership() {\n    return false;\n  }\n\n  isStarted() {\n    return this.started;\n  }\n\n  canStart() {\n    return !!this.options.syncStorage && isBrowser();\n  }\n\n  async start() {\n    if (!this.canStart()) {\n      return;\n    }\n\n    await this.stop();\n    \n    const { syncChannelName } = this.options;\n    try {\n      // BroadcastChannel throws if no supported method can be found\n      this.channel = new BroadcastChannel(syncChannelName as string);\n    } catch (err) {\n      throw new AuthSdkError('SyncStorageService is not supported in current browser.');\n    }\n\n    this.tokenManager.on(EVENT_ADDED, this.onTokenAddedHandler);\n    this.tokenManager.on(EVENT_REMOVED, this.onTokenRemovedHandler);\n    this.tokenManager.on(EVENT_RENEWED, this.onTokenRenewedHandler);\n    this.tokenManager.on(EVENT_SET_STORAGE, this.onSetStorageHandler);\n    this.channel.addEventListener('message', this.onSyncMessageHandler);\n    this.started = true;\n  }\n\n  async stop() {\n    if (this.started) {\n      this.tokenManager.off(EVENT_ADDED, this.onTokenAddedHandler);\n      this.tokenManager.off(EVENT_REMOVED, this.onTokenRemovedHandler);\n      this.tokenManager.off(EVENT_RENEWED, this.onTokenRenewedHandler);\n      this.tokenManager.off(EVENT_SET_STORAGE, this.onSetStorageHandler);\n      this.channel?.removeEventListener('message', this.onSyncMessageHandler);\n      await this.channel?.close();\n      this.channel = undefined;\n      this.started = false;\n    }\n  }\n\n  private onTokenAddedHandler(key: string, token: Token) {\n    if (!this.enablePostMessage) {\n      return;\n    }\n    this.channel?.postMessage({\n      type: EVENT_ADDED,\n      key,\n      token\n    });\n  }\n\n  private onTokenRemovedHandler(key: string, token: Token) {\n    if (!this.enablePostMessage) {\n      return;\n    }\n    this.channel?.postMessage({\n      type: EVENT_REMOVED,\n      key,\n      token\n    });\n  }\n\n  private onTokenRenewedHandler(key: string, token: Token, oldToken?: Token) {\n    if (!this.enablePostMessage) {\n      return;\n    }\n    this.channel?.postMessage({\n      type: EVENT_RENEWED,\n      key,\n      token,\n      oldToken\n    });\n  }\n\n  private onSetStorageHandler(storage: Tokens) {\n    this.channel?.postMessage({\n      type: EVENT_SET_STORAGE,\n      storage\n    });\n  }\n\n  /* eslint-disable complexity */\n  private onSyncMessageHandler(msg: SyncMessage) {\n    // Notes:\n    // 1. Using `enablePostMessage` flag here to prevent sync message loop.\n    //    If this flag is on, tokenManager event handlers do not post sync message.\n    // 2. IE11 has known issue with synchronization of LocalStorage cross tabs.\n    //    One workaround is to set empty event handler for `window.onstorage`.\n    //    But it's not 100% working, sometimes you still get old value from LocalStorage.\n    //    Better approch is to explicitly udpate LocalStorage with `setStorage`.\n\n    this.enablePostMessage = false;\n    switch (msg.type) {\n      case EVENT_SET_STORAGE:\n        this.tokenManager.getStorage().setStorage(msg.storage);\n        break;\n      case EVENT_ADDED:\n        this.tokenManager.emitAdded(msg.key!, msg.token!);\n        this.tokenManager.setExpireEventTimeout(msg.key!, msg.token!);\n        break;\n      case EVENT_REMOVED:\n        this.tokenManager.clearExpireEventTimeout(msg.key!);\n        this.tokenManager.emitRemoved(msg.key!, msg.token!);\n        break;\n      case EVENT_RENEWED:\n        this.tokenManager.emitRenewed(msg.key!, msg.token!, msg.oldToken);\n        break;\n      default:\n        break;\n    }\n    this.enablePostMessage = true;\n  }\n} ","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport {\n  OAuthTransactionMeta,\n  OAuthStorageManagerInterface,\n} from '../../oidc';\n\nimport {\n  ServiceManagerInterface,\n  ServiceInterface,\n  ServiceManagerOptions,\n  OktaAuthCoreInterface,\n  OktaAuthCoreOptions\n} from '../types';\nimport { AutoRenewService, SyncStorageService, LeaderElectionService } from '../../services';\nimport { removeNils } from '../../util';\n\nconst AUTO_RENEW = 'autoRenew';\nconst SYNC_STORAGE = 'syncStorage';\nconst LEADER_ELECTION = 'leaderElection';\n\nexport class ServiceManager\n<\n  M extends OAuthTransactionMeta,\n  S extends OAuthStorageManagerInterface<M>,\n  O extends OktaAuthCoreOptions\n>\nimplements ServiceManagerInterface \n{\n  private sdk: OktaAuthCoreInterface<M, S, O>;\n  private options: ServiceManagerOptions;\n  private services: Map<string, ServiceInterface>;\n  private started: boolean;\n\n  private static knownServices = [AUTO_RENEW, SYNC_STORAGE, LEADER_ELECTION];\n\n  private static defaultOptions = {\n    autoRenew: true,\n    autoRemove: true,\n    syncStorage: true\n  };\n\n  constructor(sdk: OktaAuthCoreInterface<M, S, O>, options: ServiceManagerOptions = {}) {\n    this.sdk = sdk;\n    this.onLeader = this.onLeader.bind(this);\n\n    // TODO: backwards compatibility, remove in next major version - OKTA-473815\n    const { autoRenew, autoRemove, syncStorage } = sdk.tokenManager.getOptions();\n    options.electionChannelName = options.electionChannelName || options.broadcastChannelName;\n    this.options = Object.assign({}, \n      ServiceManager.defaultOptions,\n      { autoRenew, autoRemove, syncStorage }, \n      {\n        electionChannelName: `${sdk.options.clientId}-election`,\n        syncChannelName: `${sdk.options.clientId}-sync`,\n      },\n      removeNils(options)\n    );\n\n    this.started = false;\n    this.services = new Map();\n\n    ServiceManager.knownServices.forEach(name => {\n      const svc = this.createService(name);\n      if (svc) {\n        this.services.set(name, svc);\n      }\n    });\n  }\n\n  private async onLeader() {\n    if (this.started) {\n      // Start services that requires leadership\n      await this.startServices();\n    }\n  }\n\n  isLeader() {\n    return (this.getService(LEADER_ELECTION) as LeaderElectionService)?.isLeader();\n  }\n\n  isLeaderRequired() {\n    return [...this.services.values()].some(srv => srv.canStart() && srv.requiresLeadership());\n  }\n\n  async start() {\n    if (this.started) {\n      return;     // noop if services have already started\n    }\n    await this.startServices();\n    this.started = true;\n  }\n  \n  async stop() {\n    await this.stopServices();\n    this.started = false;\n  }\n\n  getService(name: string): ServiceInterface | undefined {\n    return this.services.get(name);\n  }\n\n  private async startServices() {\n    for (const [name, srv] of this.services.entries()) {\n      if (this.canStartService(name, srv)) {\n        await srv.start();\n      }\n    }\n  }\n\n  private async stopServices() {\n    for (const srv of this.services.values()) {\n      await srv.stop();\n    }\n  }\n\n  // eslint-disable-next-line complexity\n  private canStartService(name: string, srv: ServiceInterface): boolean {\n    let canStart = srv.canStart() && !srv.isStarted();\n    // only start election if a leader is required\n    if (name === LEADER_ELECTION) {\n      canStart &&= this.isLeaderRequired();\n    } else if (srv.requiresLeadership()) {\n      canStart &&= this.isLeader();\n    }\n    return canStart;\n  }\n\n  private createService(name: string): ServiceInterface {\n    const tokenManager = this.sdk.tokenManager;\n\n    let service: ServiceInterface;\n    switch (name) {\n      case LEADER_ELECTION:\n        service = new LeaderElectionService({...this.options, onLeader: this.onLeader});\n        break;\n      case AUTO_RENEW:\n        service = new AutoRenewService(tokenManager, {...this.options});\n        break;\n      case SYNC_STORAGE:\n        service = new SyncStorageService(tokenManager, {...this.options});\n        break;\n      default:\n        throw new Error(`Unknown service ${name}`);\n    }\n    return service;\n  }\n\n}\n","import { StorageManagerConstructor } from '../storage/types';\nimport { OktaAuthConstructor, OktaAuthOptionsConstructor } from '../base/types';\n\nimport { OktaAuthCoreInterface, OktaAuthCoreOptions } from './types';\nimport { createOktaAuthBase } from '../base';\nimport { mixinStorage } from '../storage/mixin';\nimport { mixinHttp } from '../http/mixin';\nimport { mixinOAuth } from '../oidc/mixin';\nimport {\n  OAuthStorageManagerInterface,\n  PKCETransactionMeta,\n  TransactionManagerConstructor,\n  TransactionManagerInterface\n} from '../oidc/types';\nimport { mixinCore } from './mixin';\nimport { mixinSession } from '../session/mixin';\n\nexport function createOktaAuthCore<\n  M extends PKCETransactionMeta = PKCETransactionMeta,\n  S extends OAuthStorageManagerInterface<M> = OAuthStorageManagerInterface<M>,\n  O extends OktaAuthCoreOptions = OktaAuthCoreOptions,\n  TM extends TransactionManagerInterface = TransactionManagerInterface\n>(\n  StorageManagerConstructor: StorageManagerConstructor<S>,\n  OptionsConstructor: OktaAuthOptionsConstructor<O>,\n  TransactionManagerConstructor: TransactionManagerConstructor<TM>\n): OktaAuthConstructor<OktaAuthCoreInterface<M, S, O, TM>>\n{\n  const Base = createOktaAuthBase(OptionsConstructor);\n  const WithStorage = mixinStorage<S, O>(Base, StorageManagerConstructor);\n  const WithHttp = mixinHttp<S, O>(WithStorage);\n  const WithSession = mixinSession<S, O>(WithHttp);\n  const WithOAuth = mixinOAuth<M, S, O, TM>(WithSession, TransactionManagerConstructor);\n  const Core = mixinCore<M, S, O, TM>(WithOAuth);\n  return Core;\n}\n","import { parseOAuthResponseFromUrl } from '../oidc/parseFromUrl';\nimport { OktaAuthConstructor } from '../base/types';\nimport {\n  OAuthStorageManagerInterface,\n  OAuthTransactionMeta,\n  OktaAuthOAuthInterface,\n  PKCETransactionMeta,\n  Tokens,\n  TransactionManagerInterface,\n} from '../oidc/types';\nimport { AuthStateManager } from './AuthStateManager';\nimport { ServiceManager } from './ServiceManager';\nimport { OktaAuthCoreInterface, OktaAuthCoreOptions } from './types';\n\nexport function mixinCore\n<\n  M extends OAuthTransactionMeta = PKCETransactionMeta,\n  S extends OAuthStorageManagerInterface<M> = OAuthStorageManagerInterface<M>,\n  O extends OktaAuthCoreOptions = OktaAuthCoreOptions,\n  TM extends TransactionManagerInterface = TransactionManagerInterface,\n  TBase extends OktaAuthConstructor<OktaAuthOAuthInterface<M, S, O, TM>>\n    = OktaAuthConstructor<OktaAuthOAuthInterface<M, S, O, TM>>\n>\n(Base: TBase): TBase & OktaAuthConstructor<OktaAuthCoreInterface<M, S, O, TM>>\n{\n  return class OktaAuthCore extends Base implements OktaAuthCoreInterface<M, S, O, TM>\n  {\n    authStateManager: AuthStateManager<M, S, O>;\n    serviceManager: ServiceManager<M, S, O>;\n    \n    constructor(...args: any[]) {\n      super(...args);\n\n      // AuthStateManager\n      this.authStateManager = new AuthStateManager<M, S, O>(this);\n\n      // ServiceManager\n      this.serviceManager = new ServiceManager<M, S, O>(this, this.options.services);\n    }\n\n    async start() {\n      await this.serviceManager.start();\n      // TODO: review tokenManager.start\n      this.tokenManager.start();\n      if (!this.token.isLoginRedirect()) {\n        await this.authStateManager.updateAuthState();\n      }\n    }\n  \n    async stop() {\n      // TODO: review tokenManager.stop\n      this.tokenManager.stop();\n      await this.serviceManager.stop();\n    }\n\n    // eslint-disable-next-line complexity\n    async handleLoginRedirect(tokens?: Tokens, originalUri?: string): Promise<void> {\n      let state = this.options.state;\n  \n      // Store tokens and update AuthState by the emitted events\n      if (tokens) {\n        this.tokenManager.setTokens(tokens);\n        originalUri = originalUri || this.getOriginalUri(this.options.state);\n      } else if (this.isLoginRedirect()) {\n        try {\n          // For redirect flow, get state from the URL and use it to retrieve the originalUri\n          const oAuthResponse = await parseOAuthResponseFromUrl(this, {});\n          state = oAuthResponse.state;\n          originalUri = originalUri || this.getOriginalUri(state);\n          await this.storeTokensFromRedirect();\n        } catch(e) {\n          // auth state should be updated\n          await this.authStateManager.updateAuthState();\n          throw e;\n        }\n      } else {\n        return; // nothing to do\n      }\n      \n      // ensure auth state has been updated\n      await this.authStateManager.updateAuthState();\n  \n      // clear originalUri from storage\n      this.removeOriginalUri(state);\n  \n      // Redirect to originalUri\n      const { restoreOriginalUri } = this.options;\n      if (restoreOriginalUri) {\n        await restoreOriginalUri(this, originalUri);\n      } else if (originalUri) {\n        window.location.replace(originalUri);\n      }\n    }\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { createOAuthOptionsConstructor } from '../oidc';\nimport { AuthState, OktaAuthCoreInterface, OktaAuthCoreOptions, ServiceManagerOptions } from './types';\n\n\nexport function createCoreOptionsConstructor()\n{\n  const OAuthOptionsConstructor = createOAuthOptionsConstructor();\n  return class CoreOptionsConstructor\n    extends OAuthOptionsConstructor\n    implements Required<OktaAuthCoreOptions>\n  {\n    services: ServiceManagerOptions;\n    transformAuthState: (oktaAuth: OktaAuthCoreInterface, authState: AuthState) => Promise<AuthState>;\n\n    constructor(options: any) {\n      super(options);\n      this.services = options.services;\n      this.transformAuthState = options.transformAuthState;\n    }\n  };\n}\n","import { createOAuthStorageManager } from '../oidc/storage';\nimport { PKCETransactionMeta } from '../oidc/types';\n\nexport function createCoreStorageManager<M extends PKCETransactionMeta = PKCETransactionMeta>() {\n  return createOAuthStorageManager<M>();\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { AuthSdkError } from '../errors';\nimport { atob, btoa } from './webcrypto';\n\n// converts a string to base64 (url/filename safe variant)\nexport function stringToBase64Url(str) {\n  var b64 = btoa(str);\n  return base64ToBase64Url(b64);\n}\n\n// converts a standard base64-encoded string to a \"url/filename safe\" variant\nexport function base64ToBase64Url(b64) {\n  return b64.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n}\n\n// converts a \"url/filename safe\" base64 string to a \"standard\" base64 string\nexport function base64UrlToBase64(b64u) {\n  return b64u.replace(/-/g, '+').replace(/_/g, '/');\n}\n\nexport function base64UrlToString(b64u) {\n  var b64 = base64UrlToBase64(b64u);\n  switch (b64.length % 4) {\n    case 0:\n      break;\n    case 2:\n      b64 += '==';\n      break;\n    case 3:\n      b64 += '=';\n      break;\n    default:\n      throw new AuthSdkError('Not a valid Base64Url');\n  }\n  var utf8 = atob(b64);\n  try {\n    return decodeURIComponent(escape(utf8));\n  } catch (e) {\n    return utf8;\n  }\n}\n\nexport function stringToBuffer(str) {\n  var buffer = new Uint8Array(str.length);\n  for (var i = 0; i < str.length; i++) {\n    buffer[i] = str.charCodeAt(i);\n  }\n  return buffer;\n}\n\nexport function base64UrlDecode(str) {\n  return atob(base64UrlToBase64(str));\n}\n\n// Converts base64 string to binary data view\nexport function base64UrlToBuffer(b64u) {\n  return Uint8Array.from(base64UrlDecode(b64u), (c: string) => c.charCodeAt(0));\n}\n\n// Converts an ArrayBuffer object that contains binary data to base64 encoded string\nexport function bufferToBase64Url(bin) {\n  return btoa(new Uint8Array(bin).reduce((s, byte) => s + String.fromCharCode(byte), ''));\n}\n\n\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\n/* global atob, btoa, crypto */\nconst a = function(str) { return atob(str); };\nconst b = function (str) { return btoa(str); };\nconst c = typeof crypto === 'undefined' ? null : crypto;\n\nexport { a as atob, b as btoa, c as webcrypto };\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* global TextEncoder */\nimport { stringToBase64Url } from './base64';\nimport { webcrypto } from './webcrypto';\n\nexport function getOidcHash(str) {  \n  var buffer = new TextEncoder().encode(str);\n  return webcrypto.subtle.digest('SHA-256', buffer).then(function(arrayBuffer) {\n    var intBuffer = new Uint8Array(arrayBuffer);\n    var firstHalf = intBuffer.slice(0, 16);\n    var hash = String.fromCharCode.apply(null, firstHalf as unknown as number[]);\n    var b64u = stringToBase64Url(hash); // url-safe base64 variant\n    return b64u;\n  });\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { clone } from '../util';\nimport { stringToBuffer, base64UrlDecode } from './base64';\nimport { webcrypto } from './webcrypto';\n\nexport function verifyToken(idToken, key) {\n  key = clone(key);\n\n  var format = 'jwk';\n  var algo = {\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: { name: 'SHA-256' }\n  };\n  var extractable = true;\n  var usages = ['verify'];\n\n  // https://connect.microsoft.com/IE/feedback/details/2242108/webcryptoapi-importing-jwk-with-use-field-fails\n  // This is a metadata tag that specifies the intent of how the key should be used.\n  // It's not necessary to properly verify the jwt's signature.\n  delete key.use;\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  return webcrypto.subtle.importKey(\n    format,\n    key,\n    algo,\n    extractable,\n    usages\n  )\n  .then(function(cryptoKey) {\n    var jwt = idToken.split('.');\n    var payload = stringToBuffer(jwt[0] + '.' + jwt[1]);\n    var b64Signature = base64UrlDecode(jwt[2]);\n    var signature = stringToBuffer(b64Signature);\n\n    return webcrypto.subtle.verify(\n      algo,\n      cryptoKey,\n      signature,\n      payload\n    );\n  });\n}\n\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport CustomError from './CustomError';\nimport { HttpResponse } from '../http/types';\nimport { APIError, FieldError } from './types';\n\nexport default class AuthApiError extends CustomError implements APIError {\n  errorSummary: string;\n  errorCode?: string;\n  errorLink?: string;\n  errorId?: string;\n  errorCauses?: Array<FieldError>;\n  xhr?: HttpResponse;\n  meta?: Record<string, string | number>;\n\n  constructor(err: APIError, xhr?: HttpResponse, meta?: Record<string, string | number>) {\n    const message = err.errorSummary;\n    super(message);\n\n    this.name = 'AuthApiError';\n    this.errorSummary = err.errorSummary;\n    this.errorCode = err.errorCode;\n    this.errorLink = err.errorLink;\n    this.errorId = err.errorId;\n    this.errorCauses = err.errorCauses;\n\n    if (xhr) {\n      this.xhr = xhr;\n    }\n\n    if (meta) {\n      this.meta = meta;\n    }\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport CustomError from './CustomError';\n\nexport default class AuthPollStopError extends CustomError {\n  constructor() {\n    const message = 'The poll was stopped by the sdk';\n    super(message);\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport CustomError from './CustomError';\nimport { APIError, FieldError } from './types';\n\nexport default class AuthSdkError extends CustomError implements APIError {\n  errorSummary: string;\n  errorCode: string;\n  errorLink: string;\n  errorId: string;\n  errorCauses: Array<FieldError>;\n  xhr?: XMLHttpRequest;\n\n  constructor(msg: string, xhr?: XMLHttpRequest) {\n    super(msg);\n    this.name = 'AuthSdkError';\n    this.errorCode = 'INTERNAL';\n    this.errorSummary = msg;\n    this.errorLink = 'INTERNAL';\n    this.errorId = 'INTERNAL';\n    this.errorCauses = [];\n    if (xhr) {\n      this.xhr = xhr;\n    }\n  }\n}\n","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport default class CustomError extends Error {\n  constructor(message: string) {\n    // https://stackoverflow.com/questions/41102060/typescript-extending-error-class\n    super(message); // 'Error' breaks prototype chain here\n    Object.setPrototypeOf(this, new.target.prototype); // restore prototype chain\n  }\n}\n","/* eslint-disable camelcase */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport CustomError from './CustomError';\n\nexport default class OAuthError extends CustomError {\n  errorCode: string;\n  errorSummary: string;\n\n  // for widget / idx-js backward compatibility\n  error: string;\n  error_description: string;\n\n  constructor(errorCode: string, summary: string) {\n    super(summary);\n\n    this.name = 'OAuthError';\n    this.errorCode = errorCode;\n    this.errorSummary = summary;\n\n    // for widget / idx-js backward compatibility\n    this.error = errorCode;\n    this.error_description = summary;\n  }\n}\n\n","\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport AuthApiError from './AuthApiError';\nimport AuthPollStopError from './AuthPollStopError';\nimport AuthSdkError from './AuthSdkError';\nimport OAuthError from './OAuthError';\n\nfunction isAuthApiError(obj: any): obj is AuthApiError {\n  return (obj instanceof AuthApiError);\n}\n\nfunction isOAuthError(obj: any): obj is OAuthError {\n  return (obj instanceof OAuthError);\n}\n\nexport {\n  isAuthApiError,\n  isOAuthError,\n  AuthApiError,\n  AuthPollStopError,\n  AuthSdkError,\n  OAuthError\n};\n\nexport * from './types';\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint-disable node/no-unsupported-features/node-builtins */\n/* global document, window, TextEncoder, navigator */\n\nimport { webcrypto } from './crypto';\n\nconst isWindowsPhone = /windows phone|iemobile|wpdesktop/i;\t\n\nexport function isBrowser() {\n  return typeof document !== 'undefined' && typeof window !== 'undefined';\n}\n\nexport function isIE11OrLess() {\n  if (!isBrowser()) {\n    return false;\n  }\n  const documentMode = (document as any).documentMode;\n  return !!documentMode && documentMode <= 11;\n}\n\nexport function getUserAgent() {\n  return navigator.userAgent;\n}\n\nexport function isFingerprintSupported() {\n  const agent = getUserAgent();\n  return agent && !isWindowsPhone.test(agent);\t\n}\n\nexport function isPopupPostMessageSupported() {\n  if (!isBrowser()) {\n    return false;\n  }\n  const documentMode = (document as any).documentMode;\n  var isIE8or9 = documentMode && documentMode < 10;\n  if (typeof window.postMessage !== 'undefined' && !isIE8or9) {\n    return true;\n  }\n  return false;\n}\n\nexport function isTokenVerifySupported() {\n  return typeof webcrypto !== 'undefined'\n    && webcrypto !== null\n    && typeof webcrypto.subtle !== 'undefined'\n    && typeof Uint8Array !== 'undefined';\n}\n\nexport function hasTextEncoder() {\n  return typeof TextEncoder !== 'undefined';\n}\n\nexport function isPKCESupported() {\n  return isTokenVerifySupported() && hasTextEncoder();\n}\n\nexport function isHTTPS() {\n  if (!isBrowser()) {\n    return false;\n  }\n  return window.location.protocol === 'https:';\n}\n\nexport function isLocalhost() {\n  // eslint-disable-next-line compat/compat\n  return isBrowser() && window.location.hostname === 'localhost';\n}\n\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* global SDK_VERSION */\n\nimport { isBrowser } from '../features';\nexport class OktaUserAgent {\n  environments: string[];\n\n  constructor() {\n    // add base sdk env\n    this.environments = [`okta-auth-js/${SDK_VERSION}`];\n  }\n\n  addEnvironment(env: string) {\n    this.environments.push(env);\n  }\n\n  getHttpHeader() {\n    this.maybeAddNodeEnvironment();\n    return { 'X-Okta-User-Agent-Extended': this.environments.join(' ') };\n  }\n\n  getVersion() {\n    return SDK_VERSION;\n  }\n\n  maybeAddNodeEnvironment() {\n    if (isBrowser() || !process || !process.versions) {\n      return;\n    }\n    const { node: version } = process.versions;\n    this.environments.push(`nodejs/${version}`);\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { OktaAuthHttpInterface } from './types';\n\nexport function setRequestHeader(authClient: OktaAuthHttpInterface, headerName, headerValue) {\n  authClient.options.headers = authClient.options.headers || {};\n  authClient.options.headers[headerName] = headerValue;\n}","import { OktaAuthStorageInterface, StorageManagerInterface } from '../storage/types';\nimport { OktaAuthConstructor } from '../base/types';\nimport {\n  HttpAPI,\n  OktaAuthHttpInterface,\n  OktaAuthHttpOptions,\n} from './types';\nimport { OktaUserAgent } from './OktaUserAgent';\nimport { setRequestHeader } from './headers';\nimport { toQueryString } from '../util';\nimport { get } from './request';\n\nexport function mixinHttp\n<\n  S extends StorageManagerInterface = StorageManagerInterface,\n  O extends OktaAuthHttpOptions = OktaAuthHttpOptions,\n  TBase extends OktaAuthConstructor<OktaAuthStorageInterface<S, O>>\n    = OktaAuthConstructor<OktaAuthStorageInterface<S, O>>\n>\n(Base: TBase): TBase & OktaAuthConstructor<OktaAuthHttpInterface<S, O>>\n{\n  return class OktaAuthHttp extends Base implements OktaAuthHttpInterface<S, O>\n  {\n    _oktaUserAgent: OktaUserAgent;\n    http: HttpAPI;\n    \n    constructor(...args: any[]) {\n      super(...args);\n\n      this._oktaUserAgent = new OktaUserAgent();\n\n      // HTTP\n      this.http = {\n        setRequestHeader: setRequestHeader.bind(null, this)\n      };\n    }\n\n    setHeaders(headers) {\n      this.options.headers = Object.assign({}, this.options.headers, headers);\n    }\n  \n    getIssuerOrigin(): string {\n      // Infer the URL from the issuer URL, omitting the /oauth2/{authServerId}\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      return this.options.issuer!.split('/oauth2/')[0];\n    }\n  \n    webfinger(opts): Promise<object> {\n      var url = '/.well-known/webfinger' + toQueryString(opts);\n      var options = {\n        headers: {\n          'Accept': 'application/jrd+json'\n        }\n      };\n      return get(this, url, options);\n    }\n  };\n}\n","/*!\n * Copyright (c) 2018-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport crossFetch from 'cross-fetch';\nimport { FetchOptions, HttpResponse } from '../http/types';\n\n// content-type = application/json OR application/ion+json\nconst appJsonContentTypeRegex = /application\\/\\w*\\+?json/;\n\nfunction readData(response: Response): Promise<object | string> {\n  if (response.headers.get('Content-Type') &&\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    response.headers.get('Content-Type')!.toLowerCase().indexOf('application/json') >= 0) {\n  return response.json()\n    // JSON parse can fail if response is not a valid object\n    .catch(e => {\n      return {\n        error: e,\n        errorSummary: 'Could not parse server response'\n      };\n    });\n  } else {\n    return response.text();\n  }\n}\n\nfunction formatResult(status: number, data: object | string, response: Response) {\n  const isObject = typeof data === 'object';\n  const headers = {};\n  for (const pair of (response.headers as any).entries()) {\n    headers[pair[0]] = pair[1];\n  }\n  const result: HttpResponse = {\n    responseText: isObject ? JSON.stringify(data) : data as string,\n    status: status,\n    headers\n  };\n  if (isObject) {\n    result.responseType = 'json';\n    result.responseJSON = data as object;\n  }\n  return result;\n}\n\n/* eslint-disable complexity */\nfunction fetchRequest(method: string, url: string, args: FetchOptions) {\n  var body = args.data;\n  var headers = args.headers || {};\n  var contentType = (headers['Content-Type'] || headers['content-type'] || '');\n\n  if (body && typeof body !== 'string') {\n    // JSON encode body (if appropriate)\n    if (appJsonContentTypeRegex.test(contentType)) {\n      body = JSON.stringify(body);\n    }\n    else if (contentType === 'application/x-www-form-urlencoded') {\n      body = Object.entries(body)\n      .map( ([param, value]) => `${param}=${encodeURIComponent(value)}` )\n      .join('&');\n    }\n  }\n\n  var fetch = global.fetch || crossFetch;\n  var fetchPromise = fetch(url, {\n    method: method,\n    headers: args.headers,\n    body: body as string,\n    credentials: args.withCredentials ? 'include' : 'omit'\n  });\n\n  if (!fetchPromise.finally) {\n    fetchPromise = Promise.resolve(fetchPromise);\n  }\n\n  return fetchPromise.then(function(response) {\n    var error = !response.ok;\n    var status = response.status;\n    return readData(response)\n      .then(data => {\n        return formatResult(status, data, response);\n      })\n      .then(result => {\n        if (error || result.responseJSON?.error) {\n          // Throwing result object since error handling is done in http.js\n          throw result;\n        }\n        return result;\n      });\n  });\n}\n\nexport default fetchRequest;\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { createStorageOptionsConstructor } from '../storage';\nimport { HttpRequestClient, OktaAuthHttpOptions, RequestOptions } from './types';\nimport fetchRequest from '../fetch/fetchRequest';\n\nexport function createHttpOptionsConstructor() {\n  const StorageOptionsConstructor = createStorageOptionsConstructor();\n  return class HttpOptionsConstructor extends StorageOptionsConstructor implements Required<OktaAuthHttpOptions> {\n    issuer: string;\n    transformErrorXHR: (xhr: object) => any;\n    headers: object;\n    httpRequestClient: HttpRequestClient;\n    httpRequestInterceptors: ((request: RequestOptions) => void)[];\n    \n    constructor(args: any) {\n      super(args);\n      this.issuer = args.issuer;\n      this.transformErrorXHR = args.transformErrorXHR;\n      this.headers = args.headers;\n      this.httpRequestClient = args.httpRequestClient || fetchRequest;\n      this.httpRequestInterceptors = args.httpRequestInterceptors;\n    }\n  };\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint-disable complexity */\nimport { isString, clone, isAbsoluteUrl, removeNils } from '../util';\nimport { STATE_TOKEN_KEY_NAME, DEFAULT_CACHE_DURATION } from '../constants';\nimport {\n  OktaAuthHttpInterface,\n  RequestOptions,\n  FetchOptions,\n  RequestData\n} from './types';\nimport { AuthApiError, OAuthError } from '../errors';\n\nexport function httpRequest(sdk: OktaAuthHttpInterface, options: RequestOptions): Promise<any> {\n  options = options || {};\n\n  if (sdk.options.httpRequestInterceptors) {\n    for (const interceptor of sdk.options.httpRequestInterceptors) {\n      interceptor(options);\n    }\n  }\n\n  var url = options.url,\n      method = options.method,\n      args = options.args,\n      saveAuthnState = options.saveAuthnState,\n      accessToken = options.accessToken,\n      withCredentials = options.withCredentials === true, // default value is false\n      storageUtil = sdk.options.storageUtil,\n      storage = storageUtil!.storage,\n      httpCache = sdk.storageManager.getHttpCache(sdk.options.cookies);\n\n  if (options.cacheResponse) {\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[url as string];\n    if (cachedResponse && Date.now()/1000 < cachedResponse.expiresAt) {\n      return Promise.resolve(cachedResponse.response);\n    }\n  }\n\n  var oktaUserAgentHeader = sdk._oktaUserAgent.getHttpHeader();\n  var headers: HeadersInit = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    ...oktaUserAgentHeader\n  };\n  Object.assign(headers, sdk.options.headers, options.headers);\n  headers = removeNils(headers) as HeadersInit;\n\n  if (accessToken && isString(accessToken)) {\n    headers['Authorization'] = 'Bearer ' + accessToken;\n  }\n\n  var ajaxOptions: FetchOptions = {\n    headers,\n    data: args || undefined,\n    withCredentials\n  };\n\n  var err, res;\n  return sdk.options.httpRequestClient!(method!, url!, ajaxOptions)\n    .then(function(resp) {\n      res = resp.responseText;\n      if (res && isString(res)) {\n        res = JSON.parse(res);\n        if (res && typeof res === 'object' && !res.headers) {\n          if (Array.isArray(res)) {\n            res.forEach(item => {\n              item.headers = resp.headers;\n            });\n          } else {\n            res.headers = resp.headers;\n          }\n        }\n      }\n\n      if (saveAuthnState) {\n        if (!res.stateToken) {\n          storage.delete(STATE_TOKEN_KEY_NAME);\n        }\n      }\n\n      if (res && res.stateToken && res.expiresAt) {\n        storage.set(STATE_TOKEN_KEY_NAME, res.stateToken, res.expiresAt, sdk.options.cookies!);\n      }\n\n      if (res && options.cacheResponse) {\n        httpCache.updateStorage(url!, {\n          expiresAt: Math.floor(Date.now()/1000) + DEFAULT_CACHE_DURATION,\n          response: res\n        });\n      }\n      \n      return res;\n    })\n    .catch(function(resp) {\n      var serverErr = resp.responseText || {};\n      if (isString(serverErr)) {\n        try {\n          serverErr = JSON.parse(serverErr);\n        } catch (e) {\n          serverErr = {\n            errorSummary: 'Unknown error'\n          };\n        }\n      }\n\n      if (resp.status >= 500) {\n        serverErr.errorSummary = 'Unknown error';\n      }\n\n      if (sdk.options.transformErrorXHR) {\n        resp = sdk.options.transformErrorXHR(clone(resp));\n      }\n\n      if (serverErr.error && serverErr.error_description) {\n        err = new OAuthError(serverErr.error, serverErr.error_description);\n      } else {\n        err = new AuthApiError(serverErr, resp);\n      }\n\n      if (err.errorCode === 'E0000011') {\n        storage.delete(STATE_TOKEN_KEY_NAME);\n      }\n\n      throw err;\n    });\n}\n\nexport function get(sdk: OktaAuthHttpInterface, url: string, options?: RequestOptions) {\n  url = isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var getOptions = {\n    url: url,\n    method: 'GET'\n  };\n  Object.assign(getOptions, options);\n  return httpRequest(sdk, getOptions);\n}\n\nexport function post(sdk: OktaAuthHttpInterface, url: string, args?: RequestData, options?: RequestOptions) {\n  url = isAbsoluteUrl(url) ? url : sdk.getIssuerOrigin() + url;\n  var postOptions = {\n    url: url,\n    method: 'POST',\n    args: args,\n    saveAuthnState: true\n  };\n  Object.assign(postOptions, options);\n  return httpRequest(sdk, postOptions);\n}\n","import { ClearTransactionMetaOptions, TransactionManagerOptions } from '../oidc/types';\nimport { createTransactionManager } from '../oidc/TransactionManager';\nimport { IdxTransactionMeta, IntrospectOptions } from './types';\nimport { isRawIdxResponse } from './types/idx-js';\nimport { IdxStorageManagerInterface, SavedIdxResponse } from './types/storage';\n\nexport function createIdxTransactionManager\n<\n  M extends IdxTransactionMeta = IdxTransactionMeta,\n  S extends IdxStorageManagerInterface<M> = IdxStorageManagerInterface<M>\n>\n()\n{\n  const TransactionManager = createTransactionManager<M, S>();\n  return class IdxTransactionManager extends TransactionManager\n  {\n    constructor(options: TransactionManagerOptions) {\n      super(options);\n    }\n\n    clear(options: ClearTransactionMetaOptions = {}) {\n      super.clear(options);\n\n      if (options.clearIdxResponse !== false) {\n        this.clearIdxResponse();\n      }\n    }\n    \n    saveIdxResponse(data: SavedIdxResponse): void {\n      if (!this.saveLastResponse) {\n        return;\n      }\n      const storage = this.storageManager.getIdxResponseStorage();\n      if (!storage) {\n        return;\n      }\n      storage.setStorage(data);\n    }\n\n    // eslint-disable-next-line complexity\n    loadIdxResponse(options?: IntrospectOptions): SavedIdxResponse | null {\n      if (!this.saveLastResponse) {\n        return null;\n      }\n      const storage = this.storageManager.getIdxResponseStorage();\n      if (!storage) {\n        return null;\n      }\n      const storedValue = storage.getStorage();\n      if (!storedValue || !isRawIdxResponse(storedValue.rawIdxResponse)) {\n        return null;\n      }\n\n      if (options) {\n        const { stateHandle, interactionHandle } = options;\n        if (stateHandle && storedValue.stateHandle !== stateHandle) {\n          return null;\n        }\n        if (interactionHandle && storedValue.interactionHandle !== interactionHandle) {\n          return null;\n        }\n      }\n\n      return storedValue;\n    }\n\n    clearIdxResponse(): void {\n      if (!this.saveLastResponse) {\n        return;\n      }\n      const storage = this.storageManager.getIdxResponseStorage();\n      storage?.clearStorage();\n    }\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { \n  OktaAuthIdxInterface,\n  IdxTransaction,\n  AuthenticatorKey,\n  AuthenticationOptions\n} from './types';\nimport { run } from './run';\n\nexport async function authenticate(\n  authClient: OktaAuthIdxInterface, options: AuthenticationOptions = {}\n): Promise<IdxTransaction> {\n  if (options.password && !options.authenticator) {\n    options.authenticator = AuthenticatorKey.OKTA_PASSWORD;\n  }\n  return run(authClient, { \n    ...options, \n    flow: 'authenticate'\n  });\n}\n","import { IdxAuthenticator, IdxRemediationValue } from '../types/idx-js';\n\n\nexport interface Credentials {\n  [key: string]: string | undefined;\n}\n\nexport abstract class Authenticator<Values> {\n  meta: IdxAuthenticator;\n\n  constructor(authenticator: IdxAuthenticator) {\n    this.meta = authenticator;\n  }\n\n  abstract canVerify(values: Values): boolean;\n\n  abstract mapCredentials(values: Values): Credentials | undefined;\n\n  abstract getInputs(idxRemediationValue: IdxRemediationValue): any; // TODO: add type\n}\n","import { Authenticator, Credentials } from './Authenticator';\n\nexport interface OktaPasswordInputValues {\n  password?: string;\n  passcode?: string;\n  credentials?: Credentials;\n}\n\nexport class OktaPassword extends Authenticator<OktaPasswordInputValues> {\n  canVerify(values: OktaPasswordInputValues) {\n    return !!(values.credentials || values.password || values.passcode);\n  }\n\n  mapCredentials(values: OktaPasswordInputValues): Credentials | undefined {\n    const { credentials, password, passcode } = values;\n    if (!credentials && !password && !passcode) {\n      return;\n    }\n    return credentials || { passcode: passcode || password };\n  }\n\n  getInputs(idxRemediationValue) {\n    return {\n      ...idxRemediationValue.form?.value[0],\n      name: 'password',\n      type: 'string',\n      required: idxRemediationValue.required\n    };\n  }\n}\n","import { Authenticator, isAuthenticator } from '../types';\n\nexport function formatAuthenticator(incoming: unknown): Authenticator {\n  let authenticator: Authenticator;\n  if  (isAuthenticator(incoming)) {\n    authenticator = incoming;\n  } else if (typeof incoming === 'string') {\n    authenticator = {\n      key: incoming\n    };\n  } else {\n    throw new Error('Invalid format for authenticator');\n  }\n  return authenticator;\n}\n\n// Returns true if the authenticators are equivalent\nexport function compareAuthenticators(auth1, auth2) {\n  if (!auth1 || !auth2) {\n    return false;\n  }\n  // by id\n  if (auth1.id && auth2.id) {\n    return (auth1.id === auth2.id);\n  }\n  // by key\n  if (auth1.key && auth2.key) {\n    return (auth1.key === auth2.key);\n  }\n  return false;\n}\n\n// Find matched authenticator in provided order\nexport function findMatchedOption(authenticators, options) {\n  let option;\n  for (let authenticator of authenticators) {\n    option = options\n      .find(({ relatesTo }) => relatesTo.key === authenticator.key);\n    if (option) {\n      break;\n    }\n  }\n  return option;\n}","/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { OktaAuthIdxInterface, CancelOptions, IdxTransactionMeta } from './types';\nimport { run } from './run';\nimport { getFlowSpecification } from './flow';\n\nexport async function cancel (authClient: OktaAuthIdxInterface, options?: CancelOptions) {\n  const meta = authClient.transactionManager.load() as IdxTransactionMeta;\n  const flowSpec = getFlowSpecification(authClient, meta.flow);\n  return run(authClient, {\n    ...options,\n    ...flowSpec,\n    actions: ['cancel']\n  });\n}\n","\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { OktaAuthIdxInterface } from './types';\n\nimport CustomError from '../errors/CustomError';\nimport { urlParamsToObject  } from '../oidc/util/urlParams';\nimport { EmailVerifyCallbackResponse } from './types/api';\n\nexport class EmailVerifyCallbackError extends CustomError {\n  state: string;\n  otp: string;\n\n  constructor(state: string, otp: string) {\n    super(`Enter the OTP code in the originating client: ${otp}`);\n    this.name = 'EmailVerifyCallbackError';\n    this.state = state;\n    this.otp = otp;\n  }\n}\n\nexport function isEmailVerifyCallbackError(error: Error) {\n  return (error.name === 'EmailVerifyCallbackError');\n}\n\n// Check if state && otp have been passed back in the url\nexport function isEmailVerifyCallback (urlPath: string): boolean {\n  return /(otp=)/i.test(urlPath) && /(state=)/i.test(urlPath);\n}\n\n// Parse state and otp from a urlPath (should be either a search or fragment from the URL)\nexport function parseEmailVerifyCallback(urlPath: string): EmailVerifyCallbackResponse {\n  return urlParamsToObject(urlPath) as EmailVerifyCallbackResponse;\n}\n\nexport async function handleEmailVerifyCallback(authClient: OktaAuthIdxInterface, search: string) {\n  if (isEmailVerifyCallback(search)) {\n    const { state, otp } = parseEmailVerifyCallback(search);\n    if (authClient.idx.canProceed({ state })) {\n      // same browser / device\n      return await authClient.idx.proceed({ state, otp });\n    } else {\n      // different browser or device\n      throw new EmailVerifyCallbackError(state, otp);\n    }\n  }\n}\n","import { createOktaAuthCore } from '../../core/factory';\nimport { OktaAuthConstructor, OktaAuthOptionsConstructor } from '../../base/types';\nimport { StorageManagerConstructor } from '../../storage/types';\nimport { IdxTransactionManagerInterface, OktaAuthIdxInterface } from '../types/api';\nimport { IdxTransactionMeta } from '../types/meta';\nimport { IdxStorageManagerInterface } from '../types/storage';\nimport { OktaAuthIdxOptions } from '../types/options';\nimport { mixinIdx } from '../mixin';\nimport { TransactionManagerConstructor } from '../../oidc/types';\nimport { OktaAuthCoreInterface } from '../../core/types';\n\nexport function createOktaAuthIdx<\n  M extends IdxTransactionMeta = IdxTransactionMeta,\n  S extends IdxStorageManagerInterface<M> = IdxStorageManagerInterface<M>,\n  O extends OktaAuthIdxOptions = OktaAuthIdxOptions,\n  TM extends IdxTransactionManagerInterface = IdxTransactionManagerInterface\n>(\n  StorageManagerConstructor: StorageManagerConstructor<S>,\n  OptionsConstructor: OktaAuthOptionsConstructor<O>,\n  TransactionManagerConstructor: TransactionManagerConstructor<TM>\n)\n: OktaAuthConstructor<OktaAuthIdxInterface<M, S, O, TM> & OktaAuthCoreInterface<M, S, O, TM>>\n{\n  const Core = createOktaAuthCore<M, S, O, TM>(\n    StorageManagerConstructor,\n    OptionsConstructor,\n    TransactionManagerConstructor\n  );\n  const WithIdx = mixinIdx(Core);\n  return WithIdx;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport { isInteractionRequired, isInteractionRequiredError } from '../../oidc';\nimport { authenticate } from '../authenticate';\nimport { cancel } from '../cancel';\nimport {\n  handleEmailVerifyCallback,\n  isEmailVerifyCallback,\n  isEmailVerifyCallbackError,\n  parseEmailVerifyCallback\n} from '../emailVerify';\nimport { handleInteractionCodeRedirect } from '../handleInteractionCodeRedirect';\nimport { makeIdxState } from '../idxState';\nimport { interact } from '../interact';\nimport { introspect } from '../introspect';\nimport { poll } from '../poll';\nimport { canProceed, proceed } from '../proceed';\nimport { recoverPassword } from '../recoverPassword';\nimport { register } from '../register';\nimport { startTransaction } from '../startTransaction';\nimport {\n  clearTransactionMeta,\n  createTransactionMeta,\n  getSavedTransactionMeta,\n  getTransactionMeta,\n  isTransactionMetaValid,\n  saveTransactionMeta\n} from '../transactionMeta';\nimport { FlowIdentifier, IdxAPI, OktaAuthIdxInterface } from '../types';\nimport { unlockAccount } from '../unlockAccount';\n\n// Factory\nexport function createIdxAPI(sdk: OktaAuthIdxInterface): IdxAPI {\n  const boundStartTransaction = startTransaction.bind(null, sdk);\n  const idx = {\n    interact: interact.bind(null, sdk),\n    introspect: introspect.bind(null, sdk),\n    makeIdxResponse: makeIdxState.bind(null, sdk),\n    \n    authenticate: authenticate.bind(null, sdk),\n    register: register.bind(null, sdk),\n    start: boundStartTransaction,\n    startTransaction: boundStartTransaction, // Use `start` instead. `startTransaction` will be removed in 7.0\n    poll: poll.bind(null, sdk),\n    proceed: proceed.bind(null, sdk),\n    cancel: cancel.bind(null, sdk),\n    recoverPassword: recoverPassword.bind(null, sdk),\n\n    // oauth redirect callback\n    handleInteractionCodeRedirect: handleInteractionCodeRedirect.bind(null, sdk),\n\n    // interaction required callback\n    isInteractionRequired: isInteractionRequired.bind(null, sdk),\n    isInteractionRequiredError,\n\n    // email verify callback\n    handleEmailVerifyCallback: handleEmailVerifyCallback.bind(null, sdk),\n    isEmailVerifyCallback,\n    parseEmailVerifyCallback,\n    isEmailVerifyCallbackError,\n    \n    getSavedTransactionMeta: getSavedTransactionMeta.bind(null, sdk),\n    createTransactionMeta: createTransactionMeta.bind(null, sdk),\n    getTransactionMeta: getTransactionMeta.bind(null, sdk),\n    saveTransactionMeta: saveTransactionMeta.bind(null, sdk),\n    clearTransactionMeta: clearTransactionMeta.bind(null, sdk),\n    isTransactionMetaValid,\n    setFlow: (flow: FlowIdentifier) => {\n      sdk.options.flow = flow;\n    },\n    getFlow: (): FlowIdentifier | undefined => {\n      return sdk.options.flow;\n    },\n    canProceed: canProceed.bind(null, sdk),\n    unlockAccount: unlockAccount.bind(null, sdk),\n  };\n  return idx;\n}\n\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { RemediationFlow } from './RemediationFlow';\nimport { \n  Identify,\n  SelectAuthenticatorAuthenticate,\n  ChallengeAuthenticator,\n  ReEnrollAuthenticator,\n  RedirectIdp,\n  AuthenticatorEnrollmentData,\n  SelectAuthenticatorEnroll,\n  EnrollAuthenticator,\n  AuthenticatorVerificationData,\n  EnrollPoll,\n  ChallengePoll,\n  SelectEnrollmentChannel,\n  EnrollmentChannelData,\n  Skip\n} from '../remediators';\n\nexport const AuthenticationFlow: RemediationFlow = {\n  'identify': Identify,\n  'select-authenticator-authenticate': SelectAuthenticatorAuthenticate,\n  'select-authenticator-enroll': SelectAuthenticatorEnroll,\n  'authenticator-enrollment-data': AuthenticatorEnrollmentData,\n  'authenticator-verification-data': AuthenticatorVerificationData,\n  'enroll-authenticator': EnrollAuthenticator,\n  'challenge-authenticator': ChallengeAuthenticator,\n  'challenge-poll': ChallengePoll,\n  'reenroll-authenticator': ReEnrollAuthenticator,\n  'enroll-poll': EnrollPoll,\n  'select-enrollment-channel': SelectEnrollmentChannel,\n  'enrollment-channel-data': EnrollmentChannelData,\n  'redirect-idp': RedirectIdp,\n  'skip': Skip,\n};\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { RemediationFlow } from './RemediationFlow';\nimport {\n  Identify,\n  SelectAuthenticatorAuthenticate,\n  ChallengeAuthenticator,\n  AuthenticatorVerificationData,\n  ResetAuthenticator,\n  ReEnrollAuthenticator,\n  SelectAuthenticatorEnroll,\n  AuthenticatorEnrollmentData,\n  EnrollPoll\n} from '../remediators';\n\nexport const PasswordRecoveryFlow: RemediationFlow = {\n  'identify': Identify,\n  'identify-recovery': Identify,\n  'select-authenticator-authenticate': SelectAuthenticatorAuthenticate,\n  'select-authenticator-enroll': SelectAuthenticatorEnroll,\n  'challenge-authenticator': ChallengeAuthenticator,\n  'authenticator-verification-data': AuthenticatorVerificationData,\n  'authenticator-enrollment-data': AuthenticatorEnrollmentData,\n  'reset-authenticator': ResetAuthenticator,\n  'reenroll-authenticator': ReEnrollAuthenticator,\n  'enroll-poll': EnrollPoll,\n};\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { RemediationFlow } from './RemediationFlow';\nimport { \n  SelectEnrollProfile,\n  EnrollPoll,\n  SelectEnrollmentChannel,\n  EnrollmentChannelData,\n  EnrollProfile,\n  SelectAuthenticatorEnroll,\n  EnrollAuthenticator,\n  AuthenticatorEnrollmentData,\n  Skip,\n} from '../remediators';\n\nexport const RegistrationFlow: RemediationFlow = {\n  'select-enroll-profile': SelectEnrollProfile,\n  'enroll-profile': EnrollProfile,\n  'authenticator-enrollment-data': AuthenticatorEnrollmentData,\n  'select-authenticator-enroll': SelectAuthenticatorEnroll,\n  'enroll-poll': EnrollPoll,\n  'select-enrollment-channel': SelectEnrollmentChannel,\n  'enrollment-channel-data': EnrollmentChannelData,\n  'enroll-authenticator': EnrollAuthenticator,\n  'skip': Skip,\n};\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { RemediationFlow } from './RemediationFlow';\nimport {\n  Identify,\n  SelectAuthenticatorUnlockAccount,\n  SelectAuthenticatorAuthenticate,\n  ChallengeAuthenticator,\n  ChallengePoll,\n  AuthenticatorVerificationData\n} from '../remediators';\n\nexport const AccountUnlockFlow: RemediationFlow = {\n  'identify': Identify,\n  // NOTE: unlock-account is purposely not included. Handled as action\n  // because it's a rememdiation which requires no input\n  // 'unlock-account': UnlockAccount,\n  'select-authenticator-unlock-account': SelectAuthenticatorUnlockAccount,\n  'select-authenticator-authenticate': SelectAuthenticatorAuthenticate,\n  'challenge-authenticator': ChallengeAuthenticator,\n  'challenge-poll': ChallengePoll,\n  'authenticator-verification-data': AuthenticatorVerificationData,\n};\n","import { OktaAuthIdxInterface, FlowIdentifier } from '../types';\nimport { AuthenticationFlow } from './AuthenticationFlow';\nimport { PasswordRecoveryFlow } from './PasswordRecoveryFlow';\nimport { RegistrationFlow } from './RegistrationFlow';\nimport { AccountUnlockFlow } from './AccountUnlockFlow';\nimport { RemediationFlow } from './RemediationFlow';\n\nexport interface FlowSpecification {\n  flow: FlowIdentifier;\n  remediators: RemediationFlow;\n  actions?: string[];\n  withCredentials?: boolean;\n}\n\n// eslint-disable-next-line complexity\nexport function getFlowSpecification(\n  oktaAuth: OktaAuthIdxInterface,\n  flow: FlowIdentifier = 'default'\n): FlowSpecification {\n  let remediators, actions, withCredentials = true;\n  switch (flow) {\n    case 'register':\n    case 'signup':\n    case 'enrollProfile':\n      remediators = RegistrationFlow;\n      withCredentials = false;\n      break;\n    case 'recoverPassword':\n    case 'resetPassword':\n      remediators = PasswordRecoveryFlow;\n      actions = [\n        'currentAuthenticator-recover', \n        'currentAuthenticatorEnrollment-recover'\n      ];\n      withCredentials = false;\n      break;\n    case 'unlockAccount':\n      remediators = AccountUnlockFlow;\n      withCredentials = false;\n      actions = [\n        'unlock-account'\n      ];\n      break;\n    case 'authenticate':\n    case 'login':\n    case 'signin':\n      remediators = AuthenticationFlow;\n      break;\n    default:\n      // default case has no flow monitor\n      remediators = AuthenticationFlow;\n      break;\n  }\n  return { flow, remediators, actions, withCredentials };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { AuthSdkError, OAuthError } from '../errors';\nimport { IdxTransactionMeta } from './types/meta';\nimport { OktaAuthIdxInterface } from './types';\n\nexport async function handleInteractionCodeRedirect(\n  authClient: OktaAuthIdxInterface, \n  url: string\n): Promise<void> {\n  const meta = authClient.transactionManager.load() as IdxTransactionMeta;\n  if (!meta) {\n    throw new AuthSdkError('No transaction data was found in storage');\n  }\n\n  const { \n    codeVerifier,\n    state: savedState \n  } = meta;\n  const { \n    searchParams\n  // URL API has been added to the polyfill\n  // eslint-disable-next-line compat/compat\n  } = new URL(url); \n  const state = searchParams.get('state');\n  const interactionCode = searchParams.get('interaction_code');\n\n  // Error handling\n  const error = searchParams.get('error');\n  if (error) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    throw new OAuthError(error, searchParams.get('error_description')!);\n  }\n  if (state !== savedState) {\n    throw new AuthSdkError('State in redirect uri does not match with transaction state');\n  }\n  if (!interactionCode) {\n    throw new AuthSdkError('Unable to parse interaction_code from the url');\n  }\n  \n  // Save tokens to storage\n  const { tokens } = await authClient.token.exchangeCodeForTokens({ interactionCode, codeVerifier });\n  authClient.tokenManager.setTokens(tokens);\n}","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nconst isFieldMutable = function isFieldMutable(field) {\n  // mutable defaults to true, annoyingly\n  return ( field.mutable !== false );\n};\n\nconst divideSingleActionParamsByMutability = function divideSingleActionParamsByMutability( action ) {\n  const defaultParamsForAction = {}; // mutable and present\n  const neededParamsForAction = []; // mutable values\n  const immutableParamsForAction = {}; // immutable\n  // TODO: remove assumption that form names are unique, neededParams being an array is a temp fix\n  // not all actions have value (e.g. redirect)\n  // making sure they are not empty and instead hold the remediation object\n  if (!action.value) {\n    neededParamsForAction.push(action);\n    return { defaultParamsForAction, neededParamsForAction, immutableParamsForAction };\n  }\n\n  for ( let field of action.value ) {\n\n    if ( isFieldMutable( field ) ) {\n\n      neededParamsForAction.push(field);\n\n      if ( field.value ?? false ) {\n        defaultParamsForAction[field.name] = field.value;\n      }\n\n    } else {\n      immutableParamsForAction[field.name] = field.value ?? '';\n    }\n  }\n  return { defaultParamsForAction, neededParamsForAction, immutableParamsForAction };\n};\n\nexport const divideActionParamsByMutability = function divideActionParamsByMutability( actionList ) {\n  // TODO: when removing form name is unique assumption, this may all be redundant\n  actionList = Array.isArray(actionList) ? actionList : [ actionList ];\n  const neededParams = [];\n  const defaultParams = {};\n  const immutableParams = {};\n\n  for ( let action of actionList ) {\n    const { \n      defaultParamsForAction, \n      neededParamsForAction, \n      immutableParamsForAction \n    } = divideSingleActionParamsByMutability(action);\n    neededParams.push(neededParamsForAction);\n    defaultParams[action.name] = defaultParamsForAction;\n    immutableParams[action.name] = immutableParamsForAction;\n  }\n\n  return { defaultParams, neededParams, immutableParams };\n};\n\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint-disable max-len, complexity */\nimport { httpRequest } from '../../../http';\nimport { OktaAuthIdxInterface } from '../../types';    // auth-js/types\nimport { IdxActionFunction, IdxActionParams, IdxResponse, IdxToPersist } from '../../types/idx-js';\nimport { divideActionParamsByMutability } from './actionParser';\nimport AuthApiError from '../../../errors/AuthApiError';\n\nconst generateDirectFetch = function generateDirectFetch(authClient: OktaAuthIdxInterface, { \n  actionDefinition, \n  defaultParamsForAction = {}, \n  immutableParamsForAction = {}, \n  toPersist = {} as IdxToPersist\n}): IdxActionFunction {\n  const target = actionDefinition.href;\n  return async function(params: IdxActionParams = {}): Promise<IdxResponse> {\n    const headers = {\n      'Content-Type': 'application/json',\n      'Accept': actionDefinition.accepts || 'application/ion+json',\n    };\n    const body = JSON.stringify({\n      ...defaultParamsForAction,\n      ...params,\n      ...immutableParamsForAction\n    });\n\n    try {\n      const response = await httpRequest(authClient, {\n        url: target,\n        method: actionDefinition.method,\n        headers,\n        args: body,\n        withCredentials: toPersist?.withCredentials ?? true\n      });\n\n      return authClient.idx.makeIdxResponse({ ...response }, toPersist, true);\n    }\n    catch (err) {\n      if (!(err instanceof AuthApiError) || !err?.xhr) {\n        throw err;\n      }\n\n      const response = err.xhr;\n      const payload = response.responseJSON || JSON.parse(response.responseText);\n      const wwwAuthHeader = response.headers['WWW-Authenticate'] || response.headers['www-authenticate'];\n\n      const idxResponse = authClient.idx.makeIdxResponse({ ...payload }, toPersist, false);\n      if (response.status === 401 && wwwAuthHeader === 'Oktadevicejwt realm=\"Okta Device\"') {\n        // Okta server responds 401 status code with WWW-Authenticate header and new remediation\n        // so that the iOS/MacOS credential SSO extension (Okta Verify) can intercept\n        // the response reaches here when Okta Verify is not installed\n        // set `stepUp` to true if flow should be continued without showing any errors\n        idxResponse.stepUp = true;\n      }\n\n      return idxResponse;\n    }\n  };\n};\n\n// TODO: Resolve in M2: Either build the final polling solution or remove this code\n// const generatePollingFetch = function generatePollingFetch( { actionDefinition, defaultParamsForAction = {}, immutableParamsForAction = {} } ) {\n//   // TODO: Discussions ongoing about when/how to terminate polling: OKTA-246581\n//   const target = actionDefinition.href;\n//   return async function(params) {\n//     return fetch(target, {\n//       method: actionDefinition.method,\n//       headers: {\n//         'content-type': actionDefinition.accepts,\n//       },\n//       body: JSON.stringify({ ...defaultParamsForAction, ...params, ...immutableParamsForAction })\n//     })\n//       .then( response => response.ok ? response.json() : response.json().then( err => Promise.reject(err)) )\n//       .then( idxResponse => makeIdxState(authClient, idxResponse) );\n//   };\n// };\n\nconst generateIdxAction = function generateIdxAction( authClient: OktaAuthIdxInterface, actionDefinition, toPersist ): IdxActionFunction {\n  // TODO: leaving this here to see where the polling is EXPECTED to drop into the code, but removing any accidental trigger of incomplete code\n  // const generator =  actionDefinition.refresh ? generatePollingFetch : generateDirectFetch;\n  const generator = generateDirectFetch;\n  const { defaultParams, neededParams, immutableParams } = divideActionParamsByMutability( actionDefinition );\n\n  const action = generator(authClient, {\n    actionDefinition,\n    defaultParamsForAction: defaultParams[actionDefinition.name],\n    immutableParamsForAction: immutableParams[actionDefinition.name],\n    toPersist\n  });\n  action.neededParams = neededParams;\n  return action;\n};\n\nexport default generateIdxAction;\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nvar hasOwnProp = Object.prototype.hasOwnProperty;\n/**\n* @typedef {null|boolean|number|string|PlainObject|GenericArray} JSONObject\n*/\n\n/**\n * Copies array and then pushes item into it.\n * @param {GenericArray} arr Array to copy and into which to push\n * @param {any} item Array item to add (to end)\n * @returns {GenericArray} Copy of the original array\n */\n\nfunction push(arr, item) {\n  arr = arr.slice();\n  arr.push(item);\n  return arr;\n}\n/**\n * Copies array and then unshifts item into it.\n * @param {any} item Array item to add (to beginning)\n * @param {GenericArray} arr Array to copy and into which to unshift\n * @returns {GenericArray} Copy of the original array\n */\n\n\nfunction unshift(item, arr) {\n  arr = arr.slice();\n  arr.unshift(item);\n  return arr;\n}\n/**\n * Caught when JSONPath is used without `new` but rethrown if with `new`\n * @extends Error\n */\n\n\nvar NewError = /*#__PURE__*/function (_Error) {\n  _inherits(NewError, _Error);\n\n  var _super = _createSuper(NewError);\n\n  /**\n   * @param {any} value The evaluated scalar value\n   */\n  function NewError(value) {\n    var _this;\n\n    _classCallCheck(this, NewError);\n\n    _this = _super.call(this, 'JSONPath should not be called with \"new\" (it prevents return ' + 'of (unwrapped) scalar values)');\n    _this.avoidNew = true;\n    _this.value = value;\n    _this.name = 'NewError';\n    return _this;\n  }\n\n  return NewError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n* @typedef {PlainObject} ReturnObject\n* @property {string} path\n* @property {JSONObject} value\n* @property {PlainObject|GenericArray} parent\n* @property {string} parentProperty\n*/\n\n/**\n* @callback JSONPathCallback\n* @param {string|PlainObject} preferredOutput\n* @param {\"value\"|\"property\"} type\n* @param {ReturnObject} fullRetObj\n* @returns {void}\n*/\n\n/**\n* @callback OtherTypeCallback\n* @param {JSONObject} val\n* @param {string} path\n* @param {PlainObject|GenericArray} parent\n* @param {string} parentPropName\n* @returns {boolean}\n*/\n\n/* eslint-disable max-len -- Can make multiline type after https://github.com/syavorsky/comment-parser/issues/109 */\n\n/**\n * @typedef {PlainObject} JSONPathOptions\n * @property {JSON} json\n * @property {string|string[]} path\n * @property {\"value\"|\"path\"|\"pointer\"|\"parent\"|\"parentProperty\"|\"all\"} [resultType=\"value\"]\n * @property {boolean} [flatten=false]\n * @property {boolean} [wrap=true]\n * @property {PlainObject} [sandbox={}]\n * @property {boolean} [preventEval=false]\n * @property {PlainObject|GenericArray|null} [parent=null]\n * @property {string|null} [parentProperty=null]\n * @property {JSONPathCallback} [callback]\n * @property {OtherTypeCallback} [otherTypeCallback] Defaults to\n *   function which throws on encountering `@other`\n * @property {boolean} [autostart=true]\n */\n\n/* eslint-enable max-len -- Can make multiline type after https://github.com/syavorsky/comment-parser/issues/109 */\n\n/**\n * @param {string|JSONPathOptions} opts If a string, will be treated as `expr`\n * @param {string} [expr] JSON path to evaluate\n * @param {JSON} [obj] JSON object to evaluate against\n * @param {JSONPathCallback} [callback] Passed 3 arguments: 1) desired payload\n *     per `resultType`, 2) `\"value\"|\"property\"`, 3) Full returned object with\n *     all payloads\n * @param {OtherTypeCallback} [otherTypeCallback] If `@other()` is at the end\n *   of one's query, this will be invoked with the value of the item, its\n *   path, its parent, and its parent's property name, and it should return\n *   a boolean indicating whether the supplied value belongs to the \"other\"\n *   type or not (or it may handle transformations and return `false`).\n * @returns {JSONPath}\n * @class\n */\n\n\nfunction JSONPath(opts, expr, obj, callback, otherTypeCallback) {\n  // eslint-disable-next-line no-restricted-syntax\n  if (!(this instanceof JSONPath)) {\n    try {\n      return new JSONPath(opts, expr, obj, callback, otherTypeCallback);\n    } catch (e) {\n      if (!e.avoidNew) {\n        throw e;\n      }\n\n      return e.value;\n    }\n  }\n\n  if (typeof opts === 'string') {\n    otherTypeCallback = callback;\n    callback = obj;\n    obj = expr;\n    expr = opts;\n    opts = null;\n  }\n\n  var optObj = opts && _typeof(opts) === 'object';\n  opts = opts || {};\n  this.json = opts.json || obj;\n  this.path = opts.path || expr;\n  this.resultType = opts.resultType || 'value';\n  this.flatten = opts.flatten || false;\n  this.wrap = hasOwnProp.call(opts, 'wrap') ? opts.wrap : true;\n  this.sandbox = opts.sandbox || {};\n  this.preventEval = opts.preventEval || false;\n  this.parent = opts.parent || null;\n  this.parentProperty = opts.parentProperty || null;\n  this.callback = opts.callback || callback || null;\n\n  this.otherTypeCallback = opts.otherTypeCallback || otherTypeCallback || function () {\n    throw new TypeError('You must supply an otherTypeCallback callback option ' + 'with the @other() operator.');\n  };\n\n  if (opts.autostart !== false) {\n    var args = {\n      path: optObj ? opts.path : expr\n    };\n\n    if (!optObj) {\n      args.json = obj;\n    } else if ('json' in opts) {\n      args.json = opts.json;\n    }\n\n    var ret = this.evaluate(args);\n\n    if (!ret || _typeof(ret) !== 'object') {\n      throw new NewError(ret);\n    }\n\n    return ret;\n  }\n} // PUBLIC METHODS\n\n\nJSONPath.prototype.evaluate = function (expr, json, callback, otherTypeCallback) {\n  var _this2 = this;\n\n  var currParent = this.parent,\n      currParentProperty = this.parentProperty;\n  var flatten = this.flatten,\n      wrap = this.wrap;\n  this.currResultType = this.resultType;\n  this.currPreventEval = this.preventEval;\n  this.currSandbox = this.sandbox;\n  callback = callback || this.callback;\n  this.currOtherTypeCallback = otherTypeCallback || this.otherTypeCallback;\n  json = json || this.json;\n  expr = expr || this.path;\n\n  if (expr && _typeof(expr) === 'object' && !Array.isArray(expr)) {\n    if (!expr.path && expr.path !== '') {\n      throw new TypeError('You must supply a \"path\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n\n    if (!hasOwnProp.call(expr, 'json')) {\n      throw new TypeError('You must supply a \"json\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n\n    var _expr = expr;\n    json = _expr.json;\n    flatten = hasOwnProp.call(expr, 'flatten') ? expr.flatten : flatten;\n    this.currResultType = hasOwnProp.call(expr, 'resultType') ? expr.resultType : this.currResultType;\n    this.currSandbox = hasOwnProp.call(expr, 'sandbox') ? expr.sandbox : this.currSandbox;\n    wrap = hasOwnProp.call(expr, 'wrap') ? expr.wrap : wrap;\n    this.currPreventEval = hasOwnProp.call(expr, 'preventEval') ? expr.preventEval : this.currPreventEval;\n    callback = hasOwnProp.call(expr, 'callback') ? expr.callback : callback;\n    this.currOtherTypeCallback = hasOwnProp.call(expr, 'otherTypeCallback') ? expr.otherTypeCallback : this.currOtherTypeCallback;\n    currParent = hasOwnProp.call(expr, 'parent') ? expr.parent : currParent;\n    currParentProperty = hasOwnProp.call(expr, 'parentProperty') ? expr.parentProperty : currParentProperty;\n    expr = expr.path;\n  }\n\n  currParent = currParent || null;\n  currParentProperty = currParentProperty || null;\n\n  if (Array.isArray(expr)) {\n    expr = JSONPath.toPathString(expr);\n  }\n\n  if (!expr && expr !== '' || !json) {\n    return undefined;\n  }\n\n  var exprList = JSONPath.toPathArray(expr);\n\n  if (exprList[0] === '$' && exprList.length > 1) {\n    exprList.shift();\n  }\n\n  this._hasParentSelector = null;\n\n  var result = this._trace(exprList, json, ['$'], currParent, currParentProperty, callback).filter(function (ea) {\n    return ea && !ea.isParentSelector;\n  });\n\n  if (!result.length) {\n    return wrap ? [] : undefined;\n  }\n\n  if (!wrap && result.length === 1 && !result[0].hasArrExpr) {\n    return this._getPreferredOutput(result[0]);\n  }\n\n  return result.reduce(function (rslt, ea) {\n    var valOrPath = _this2._getPreferredOutput(ea);\n\n    if (flatten && Array.isArray(valOrPath)) {\n      rslt = rslt.concat(valOrPath);\n    } else {\n      rslt.push(valOrPath);\n    }\n\n    return rslt;\n  }, []);\n}; // PRIVATE METHODS\n\n\nJSONPath.prototype._getPreferredOutput = function (ea) {\n  var resultType = this.currResultType;\n\n  switch (resultType) {\n    case 'all':\n      {\n        var path = Array.isArray(ea.path) ? ea.path : JSONPath.toPathArray(ea.path);\n        ea.pointer = JSONPath.toPointer(path);\n        ea.path = typeof ea.path === 'string' ? ea.path : JSONPath.toPathString(ea.path);\n        return ea;\n      }\n\n    case 'value':\n    case 'parent':\n    case 'parentProperty':\n      return ea[resultType];\n\n    case 'path':\n      return JSONPath.toPathString(ea[resultType]);\n\n    case 'pointer':\n      return JSONPath.toPointer(ea.path);\n\n    default:\n      throw new TypeError('Unknown result type');\n  }\n};\n\nJSONPath.prototype._handleCallback = function (fullRetObj, callback, type) {\n  if (callback) {\n    var preferredOutput = this._getPreferredOutput(fullRetObj);\n\n    fullRetObj.path = typeof fullRetObj.path === 'string' ? fullRetObj.path : JSONPath.toPathString(fullRetObj.path); // eslint-disable-next-line node/callback-return\n\n    callback(preferredOutput, type, fullRetObj);\n  }\n};\n/**\n *\n * @param {string} expr\n * @param {JSONObject} val\n * @param {string} path\n * @param {PlainObject|GenericArray} parent\n * @param {string} parentPropName\n * @param {JSONPathCallback} callback\n * @param {boolean} hasArrExpr\n * @param {boolean} literalPriority\n * @returns {ReturnObject|ReturnObject[]}\n */\n\n\nJSONPath.prototype._trace = function (expr, val, path, parent, parentPropName, callback, hasArrExpr, literalPriority) {\n  var _this3 = this;\n\n  // No expr to follow? return path and value as the result of\n  //  this trace branch\n  var retObj;\n\n  if (!expr.length) {\n    retObj = {\n      path: path,\n      value: val,\n      parent: parent,\n      parentProperty: parentPropName,\n      hasArrExpr: hasArrExpr\n    };\n\n    this._handleCallback(retObj, callback, 'value');\n\n    return retObj;\n  }\n\n  var loc = expr[0],\n      x = expr.slice(1); // We need to gather the return value of recursive trace calls in order to\n  // do the parent sel computation.\n\n  var ret = [];\n  /**\n   *\n   * @param {ReturnObject|ReturnObject[]} elems\n   * @returns {void}\n   */\n\n  function addRet(elems) {\n    if (Array.isArray(elems)) {\n      // This was causing excessive stack size in Node (with or\n      //  without Babel) against our performance test:\n      //  `ret.push(...elems);`\n      elems.forEach(function (t) {\n        ret.push(t);\n      });\n    } else {\n      ret.push(elems);\n    }\n  }\n\n  if ((typeof loc !== 'string' || literalPriority) && val && hasOwnProp.call(val, loc)) {\n    // simple case--directly follow property\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr)); // eslint-disable-next-line unicorn/prefer-switch -- Part of larger `if`\n  } else if (loc === '*') {\n    // all child properties\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      addRet(_this3._trace(unshift(m, _x), v, p, par, pr, cb, true, true));\n    });\n  } else if (loc === '..') {\n    // all descendent parent properties\n    // Check remaining expression with val's immediate children\n    addRet(this._trace(x, val, path, parent, parentPropName, callback, hasArrExpr));\n\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      // We don't join m and x here because we only want parents,\n      //   not scalar values\n      if (_typeof(v[m]) === 'object') {\n        // Keep going with recursive descent on val's\n        //   object children\n        addRet(_this3._trace(unshift(l, _x), v[m], push(p, m), v, m, cb, true));\n      }\n    }); // The parent sel computation is handled in the frame above using the\n    // ancestor object of val\n\n  } else if (loc === '^') {\n    // This is not a final endpoint, so we do not invoke the callback here\n    this._hasParentSelector = true;\n    return {\n      path: path.slice(0, -1),\n      expr: x,\n      isParentSelector: true\n    };\n  } else if (loc === '~') {\n    // property name\n    retObj = {\n      path: push(path, loc),\n      value: parentPropName,\n      parent: parent,\n      parentProperty: null\n    };\n\n    this._handleCallback(retObj, callback, 'property');\n\n    return retObj;\n  } else if (loc === '$') {\n    // root only\n    addRet(this._trace(x, val, path, null, null, callback, hasArrExpr));\n  } else if (/^(\\x2D?[0-9]*):(\\x2D?[0-9]*):?([0-9]*)$/.test(loc)) {\n    // [start:end:step]  Python slice syntax\n    addRet(this._slice(loc, x, val, path, parent, parentPropName, callback));\n  } else if (loc.indexOf('?(') === 0) {\n    // [?(expr)] (filtering)\n    if (this.currPreventEval) {\n      throw new Error('Eval [?(expr)] prevented in JSONPath expression.');\n    }\n\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      if (_this3._eval(l.replace(/^\\?\\(((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?)\\)$/, '$1'), v[m], m, p, par, pr)) {\n        addRet(_this3._trace(unshift(m, _x), v, p, par, pr, cb, true));\n      }\n    });\n  } else if (loc[0] === '(') {\n    // [(expr)] (dynamic property/index)\n    if (this.currPreventEval) {\n      throw new Error('Eval [(expr)] prevented in JSONPath expression.');\n    } // As this will resolve to a property name (but we don't know it\n    //  yet), property and parent information is relative to the\n    //  parent of the property to which this expression will resolve\n\n\n    addRet(this._trace(unshift(this._eval(loc, val, path[path.length - 1], path.slice(0, -1), parent, parentPropName), x), val, path, parent, parentPropName, callback, hasArrExpr));\n  } else if (loc[0] === '@') {\n    // value type: @boolean(), etc.\n    var addType = false;\n    var valueType = loc.slice(1, -2);\n\n    switch (valueType) {\n      case 'scalar':\n        if (!val || !['object', 'function'].includes(_typeof(val))) {\n          addType = true;\n        }\n\n        break;\n\n      case 'boolean':\n      case 'string':\n      case 'undefined':\n      case 'function':\n        // eslint-disable-next-line valid-typeof\n        if (_typeof(val) === valueType) {\n          addType = true;\n        }\n\n        break;\n\n      case 'integer':\n        if (Number.isFinite(val) && !(val % 1)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'number':\n        if (Number.isFinite(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'nonFinite':\n        if (typeof val === 'number' && !Number.isFinite(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'object':\n        // eslint-disable-next-line valid-typeof\n        if (val && _typeof(val) === valueType) {\n          addType = true;\n        }\n\n        break;\n\n      case 'array':\n        if (Array.isArray(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'other':\n        addType = this.currOtherTypeCallback(val, path, parent, parentPropName);\n        break;\n\n      case 'null':\n        if (val === null) {\n          addType = true;\n        }\n\n        break;\n\n      /* c8 ignore next 2 */\n\n      default:\n        throw new TypeError('Unknown value type ' + valueType);\n    }\n\n    if (addType) {\n      retObj = {\n        path: path,\n        value: val,\n        parent: parent,\n        parentProperty: parentPropName\n      };\n\n      this._handleCallback(retObj, callback, 'value');\n\n      return retObj;\n    } // `-escaped property\n\n  } else if (loc[0] === '`' && val && hasOwnProp.call(val, loc.slice(1))) {\n    var locProp = loc.slice(1);\n    addRet(this._trace(x, val[locProp], push(path, locProp), val, locProp, callback, hasArrExpr, true));\n  } else if (loc.includes(',')) {\n    // [name1,name2,...]\n    var parts = loc.split(',');\n\n    var _iterator = _createForOfIteratorHelper(parts),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var part = _step.value;\n        addRet(this._trace(unshift(part, x), val, path, parent, parentPropName, callback, true));\n      } // simple case--directly follow property\n\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else if (!literalPriority && val && hasOwnProp.call(val, loc)) {\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr, true));\n  } // We check the resulting values for parent selections. For parent\n  // selections we discard the value object and continue the trace with the\n  // current val object\n\n\n  if (this._hasParentSelector) {\n    for (var t = 0; t < ret.length; t++) {\n      var rett = ret[t];\n\n      if (rett && rett.isParentSelector) {\n        var tmp = this._trace(rett.expr, val, rett.path, parent, parentPropName, callback, hasArrExpr);\n\n        if (Array.isArray(tmp)) {\n          ret[t] = tmp[0];\n          var tl = tmp.length;\n\n          for (var tt = 1; tt < tl; tt++) {\n            t++;\n            ret.splice(t, 0, tmp[tt]);\n          }\n        } else {\n          ret[t] = tmp;\n        }\n      }\n    }\n  }\n\n  return ret;\n};\n\nJSONPath.prototype._walk = function (loc, expr, val, path, parent, parentPropName, callback, f) {\n  if (Array.isArray(val)) {\n    var n = val.length;\n\n    for (var i = 0; i < n; i++) {\n      f(i, loc, expr, val, path, parent, parentPropName, callback);\n    }\n  } else if (val && _typeof(val) === 'object') {\n    Object.keys(val).forEach(function (m) {\n      f(m, loc, expr, val, path, parent, parentPropName, callback);\n    });\n  }\n};\n\nJSONPath.prototype._slice = function (loc, expr, val, path, parent, parentPropName, callback) {\n  if (!Array.isArray(val)) {\n    return undefined;\n  }\n\n  var len = val.length,\n      parts = loc.split(':'),\n      step = parts[2] && Number.parseInt(parts[2]) || 1;\n  var start = parts[0] && Number.parseInt(parts[0]) || 0,\n      end = parts[1] && Number.parseInt(parts[1]) || len;\n  start = start < 0 ? Math.max(0, start + len) : Math.min(len, start);\n  end = end < 0 ? Math.max(0, end + len) : Math.min(len, end);\n  var ret = [];\n\n  for (var i = start; i < end; i += step) {\n    var tmp = this._trace(unshift(i, expr), val, path, parent, parentPropName, callback, true); // Should only be possible to be an array here since first part of\n    //   ``unshift(i, expr)` passed in above would not be empty, nor `~`,\n    //     nor begin with `@` (as could return objects)\n    // This was causing excessive stack size in Node (with or\n    //  without Babel) against our performance test: `ret.push(...tmp);`\n\n\n    tmp.forEach(function (t) {\n      ret.push(t);\n    });\n  }\n\n  return ret;\n};\n\nJSONPath.prototype._eval = function (code, _v, _vname, path, parent, parentPropName) {\n  if (code.includes('@parentProperty')) {\n    this.currSandbox._$_parentProperty = parentPropName;\n    code = code.replace(/@parentProperty/g, '_$_parentProperty');\n  }\n\n  if (code.includes('@parent')) {\n    this.currSandbox._$_parent = parent;\n    code = code.replace(/@parent/g, '_$_parent');\n  }\n\n  if (code.includes('@property')) {\n    this.currSandbox._$_property = _vname;\n    code = code.replace(/@property/g, '_$_property');\n  }\n\n  if (code.includes('@path')) {\n    this.currSandbox._$_path = JSONPath.toPathString(path.concat([_vname]));\n    code = code.replace(/@path/g, '_$_path');\n  }\n\n  if (code.includes('@root')) {\n    this.currSandbox._$_root = this.json;\n    code = code.replace(/@root/g, '_$_root');\n  }\n\n  if (/@([\\t-\\r \\)\\.\\[\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])/.test(code)) {\n    this.currSandbox._$_v = _v;\n    code = code.replace(/@([\\t-\\r \\)\\.\\[\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])/g, '_$_v$1');\n  }\n\n  try {\n    return this.vm.runInNewContext(code, this.currSandbox);\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log(e);\n    throw new Error('jsonPath: ' + e.message + ': ' + code);\n  }\n}; // PUBLIC CLASS PROPERTIES AND METHODS\n// Could store the cache object itself\n\n\nJSONPath.cache = {};\n/**\n * @param {string[]} pathArr Array to convert\n * @returns {string} The path string\n */\n\nJSONPath.toPathString = function (pathArr) {\n  var x = pathArr,\n      n = x.length;\n  var p = '$';\n\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += /^[\\*0-9]+$/.test(x[i]) ? '[' + x[i] + ']' : \"['\" + x[i] + \"']\";\n    }\n  }\n\n  return p;\n};\n/**\n * @param {string} pointer JSON Path\n * @returns {string} JSON Pointer\n */\n\n\nJSONPath.toPointer = function (pointer) {\n  var x = pointer,\n      n = x.length;\n  var p = '';\n\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += '/' + x[i].toString().replace(/~/g, '~0').replace(/\\//g, '~1');\n    }\n  }\n\n  return p;\n};\n/**\n * @param {string} expr Expression to convert\n * @returns {string[]}\n */\n\n\nJSONPath.toPathArray = function (expr) {\n  var cache = JSONPath.cache;\n\n  if (cache[expr]) {\n    return cache[expr].concat();\n  }\n\n  var subx = [];\n  var normalized = expr // Properties\n  .replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\\(\\)/g, ';$&;') // Parenthetical evaluations (filtering and otherwise), directly\n  //   within brackets or single quotes\n  .replace(/['\\[](\\??\\((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\))['\\]]/g, function ($0, $1) {\n    return '[#' + (subx.push($1) - 1) + ']';\n  }) // Escape periods and tildes within properties\n  .replace(/\\[[\"']((?:(?!['\\]])[\\s\\S])*)[\"']\\]/g, function ($0, prop) {\n    return \"['\" + prop.replace(/\\./g, '%@%').replace(/~/g, '%%@@%%') + \"']\";\n  }) // Properties operator\n  .replace(/~/g, ';~;') // Split by property boundaries\n  .replace(/[\"']?\\.[\"']?(?!(?:(?!\\[)[\\s\\S])*\\])|\\[[\"']?/g, ';') // Reinsert periods within properties\n  .replace(/%@%/g, '.') // Reinsert tildes within properties\n  .replace(/%%@@%%/g, '~') // Parent\n  .replace(/(?:;)?(\\^+)(?:;)?/g, function ($0, ups) {\n    return ';' + ups.split('').join(';') + ';';\n  }) // Descendents\n  .replace(/;;;|;;/g, ';..;') // Remove trailing\n  .replace(/;$|'?\\]|'$/g, '');\n  var exprList = normalized.split(';').map(function (exp) {\n    var match = exp.match(/#([0-9]+)/);\n    return !match || !match[1] ? exp : subx[match[1]];\n  });\n  cache[expr] = exprList;\n  return cache[expr].concat();\n};\n\n/**\n* @callback ConditionCallback\n* @param {any} item\n* @returns {boolean}\n*/\n\n/**\n * Copy items out of one array into another.\n * @param {GenericArray} source Array with items to copy\n * @param {GenericArray} target Array to which to copy\n * @param {ConditionCallback} conditionCb Callback passed the current item;\n *     will move item if evaluates to `true`\n * @returns {void}\n */\n\nvar moveToAnotherArray = function moveToAnotherArray(source, target, conditionCb) {\n  var il = source.length;\n\n  for (var i = 0; i < il; i++) {\n    var item = source[i];\n\n    if (conditionCb(item)) {\n      target.push(source.splice(i--, 1)[0]);\n    }\n  }\n};\n\nJSONPath.prototype.vm = {\n  /**\n   * @param {string} expr Expression to evaluate\n   * @param {PlainObject} context Object whose items will be added\n   *   to evaluation\n   * @returns {any} Result of evaluated code\n   */\n  runInNewContext: function runInNewContext(expr, context) {\n    var keys = Object.keys(context);\n    var funcs = [];\n    moveToAnotherArray(keys, funcs, function (key) {\n      return typeof context[key] === 'function';\n    });\n    var values = keys.map(function (vr, i) {\n      return context[vr];\n    });\n    var funcString = funcs.reduce(function (s, func) {\n      var fString = context[func].toString();\n\n      if (!/function/.test(fString)) {\n        fString = 'function ' + fString;\n      }\n\n      return 'var ' + func + '=' + fString + ';' + s;\n    }, '');\n    expr = funcString + expr; // Mitigate http://perfectionkills.com/global-eval-what-are-the-options/#new_function\n\n    if (!/([\"'])use strict\\1/.test(expr) && !keys.includes('arguments')) {\n      expr = 'var arguments = undefined;' + expr;\n    } // Remove last semi so `return` will be inserted before\n    //  the previous one instead, allowing for the return\n    //  of a bare ending expression\n\n\n    expr = expr.replace(/;[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*$/, ''); // Insert `return`\n\n    var lastStatementEnd = expr.lastIndexOf(';');\n    var code = lastStatementEnd > -1 ? expr.slice(0, lastStatementEnd + 1) + ' return ' + expr.slice(lastStatementEnd + 1) : ' return ' + expr; // eslint-disable-next-line no-new-func\n\n    return _construct(Function, _toConsumableArray(keys).concat([code])).apply(void 0, _toConsumableArray(values));\n  }\n};\n\nexport { JSONPath };\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint-disable max-len */\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nimport { OktaAuthIdxInterface } from '../../types';    // auth-js/types\nimport { generateRemediationFunctions } from './remediationParser';\nimport generateIdxAction from './generateIdxAction';\nimport { JSONPath } from 'jsonpath-plus';\n\nconst SKIP_FIELDS = Object.fromEntries([\n  'remediation', // remediations are put into proceed/neededToProceed\n  'context', // the API response of 'context' isn't externally useful.  We ignore it and put all non-action (contextual) info into idxState.context\n].map( (field) => [ field, !!'skip this field' ] ));\n\nexport const parseNonRemediations = function parseNonRemediations( authClient: OktaAuthIdxInterface, idxResponse, toPersist = {} ) {\n  const actions = {};\n  const context = {};\n\n  Object.keys(idxResponse)\n    .filter( field => !SKIP_FIELDS[field])\n    .forEach( field => {\n      const fieldIsObject = typeof idxResponse[field] === 'object' && !!idxResponse[field];\n\n      if ( !fieldIsObject ) {\n        // simple fields are contextual info\n        context[field] = idxResponse[field];\n        return;\n      }\n\n      if ( idxResponse[field].rel ) {\n        // top level actions\n        actions[idxResponse[field].name] = generateIdxAction(authClient, idxResponse[field], toPersist);\n        return;\n      }\n\n      const { value: fieldValue, type, ...info} = idxResponse[field];\n      context[field] = { type, ...info}; // add the non-action parts as context\n\n      if ( type !== 'object' ) {\n        // only object values hold actions\n        context[field].value = fieldValue;\n        return;\n      }\n\n      // We are an object field containing an object value\n      context[field].value = {};\n      Object.entries(fieldValue)\n        .forEach( ([subField, value]) => {\n          if (value.rel) { // is [field].value[subField] an action?\n            // add any \"action\" value subfields to actions\n            actions[`${field}-${subField.name || subField}`] = generateIdxAction(authClient, value, toPersist);\n          } else {\n            // add non-action value subfields to context\n            context[field].value[subField] = value;\n          }\n        });\n    });\n\n  return { context, actions };\n};\n\nconst expandRelatesTo = (idxResponse, value) => {\n  Object.keys(value).forEach(k => {\n    if (k === 'relatesTo') {\n      const query = Array.isArray(value[k]) ? value[k][0] : value[k];\n      if (typeof query === 'string') {\n        // eslint-disable-next-line new-cap\n        const result = JSONPath({ path: query, json: idxResponse })[0];\n        if (result) {\n          value[k] = result;\n          return;\n        }\n      }\n    }\n    if (Array.isArray(value[k])) {\n      value[k].forEach(innerValue => expandRelatesTo(idxResponse, innerValue));\n    }\n  });\n};\n\nconst convertRemediationAction = (authClient: OktaAuthIdxInterface, remediation, toPersist) => {\n  // Only remediation that has `rel` field (indicator for form submission) can have http action\n  if (remediation.rel) {\n    const remediationActions = generateRemediationFunctions( authClient, [remediation], toPersist );\n    const actionFn = remediationActions[remediation.name];\n    return {\n      ...remediation,\n      action: actionFn,\n    };\n  }\n  \n  return remediation;\n};\n\nexport const parseIdxResponse = function parseIdxResponse( authClient: OktaAuthIdxInterface, idxResponse, toPersist = {} ): {\n  remediations: IdxRemediation[];\n  context: IdxContext;\n  actions: IdxActions;\n} {\n  const remediationData = idxResponse.remediation?.value || [];\n\n  remediationData.forEach(\n    remediation => expandRelatesTo(idxResponse, remediation)\n  );\n\n  const remediations = remediationData.map(remediation => convertRemediationAction( authClient, remediation, toPersist ));\n\n  const { context, actions } = parseNonRemediations( authClient, idxResponse, toPersist );\n\n  return {\n    remediations,\n    context,\n    actions,\n  };\n};\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nimport { OktaAuthIdxInterface } from '../../types';    // auth-js/types\nimport generateIdxAction from './generateIdxAction';\n\nexport const generateRemediationFunctions = function generateRemediationFunctions(\n  authClient: OktaAuthIdxInterface,\n  remediationValue,\n  toPersist = {}\n) {\n  return Object.fromEntries( remediationValue.map( remediation => {\n    return [\n      remediation.name,\n      generateIdxAction(authClient, remediation, toPersist),\n    ];\n  }) );\n};\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nimport { makeIdxState } from './makeIdxState';\n\nexport default {\n  makeIdxState,\n};\n","/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { IdxResponse, IdxToPersist } from '../../types/idx-js';\nimport { OktaAuthIdxInterface, RawIdxResponse } from '../../types';    // auth-js/types\nimport { parseIdxResponse } from './idxResponseParser';\n\nexport function makeIdxState( \n  authClient: OktaAuthIdxInterface,\n  idxResponse: RawIdxResponse,\n  toPersist: IdxToPersist,\n  requestDidSucceed: boolean\n): IdxResponse {\n  const rawIdxResponse =  idxResponse;\n  const { remediations, context, actions } = parseIdxResponse( authClient, idxResponse, toPersist );\n  const neededToProceed = [...remediations];\n\n  const proceed: IdxResponse['proceed'] = async function( remediationChoice, paramsFromUser = {} ) {\n    /*\n    remediationChoice is the name attribute on each form\n    name should remain unique for items inside the remediation that are considered forms(identify, select-factor)\n    name can be duplicate for items like redirect where its not considered a form(redirect)\n    when names are not unique its a redirect to a href, so widget wont POST to idx-js layer.\n    */\n    const remediationChoiceObject = remediations.find((remediation) => remediation.name === remediationChoice);\n    if ( !remediationChoiceObject ) {\n      return Promise.reject(`Unknown remediation choice: [${remediationChoice}]`);\n    }\n\n    const actionFn = remediationChoiceObject.action;\n    if (typeof actionFn !== 'function') {\n      return Promise.reject(`Current remediation cannot make form submit action: [${remediationChoice}]`);\n    }\n\n    return remediationChoiceObject.action(paramsFromUser);\n  };\n\n  const findCode = item => item.name === 'interaction_code';\n  const interactionCode = rawIdxResponse.successWithInteractionCode?.value?.find( findCode )?.value as string;\n\n  return {\n    proceed,\n    neededToProceed,\n    actions,\n    context,\n    rawIdxState: rawIdxResponse,\n    interactionCode,\n    toPersist,\n    requestDidSucceed,\n  };\n}\n","import { OktaAuthIdxInterface } from '../types';    // auth-js/types\nimport { IdxResponse, IdxToPersist, RawIdxResponse } from '../types/idx-js';      // idx/types\nimport { IDX_API_VERSION } from '../../constants';\nimport v1 from './v1/parsers';\n\n\nexport const parsersForVersion = function parsersForVersion( version ) {\n  switch (version) {\n    case '1.0.0':\n      return v1;\n    case undefined:\n    case null:\n      throw new Error('Api version is required');\n    default:\n      throw new Error(`Unknown api version: ${version}.  Use an exact semver version.`);\n  }\n};\n\nexport function validateVersionConfig(version) {\n  if ( !version ) {\n    throw new Error('version is required');\n  }\n\n  const cleanVersion = (version ?? '').replace(/[^0-9a-zA-Z._-]/, '');\n  if ( cleanVersion !== version || !version ) {\n    throw new Error('invalid version supplied - version is required and uses semver syntax');\n  }\n\n  parsersForVersion(version); // will throw for invalid version\n}\n\nexport function makeIdxState ( \n  authClient: OktaAuthIdxInterface,\n  rawIdxResponse: RawIdxResponse,\n  toPersist: IdxToPersist,\n  requestDidSucceed: boolean,\n): IdxResponse {\n  const version = rawIdxResponse?.version ?? IDX_API_VERSION;\n  validateVersionConfig(version);\n  \n  const { makeIdxState } = parsersForVersion(version);\n  return makeIdxState(authClient, rawIdxResponse, toPersist, requestDidSucceed);\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* eslint complexity:[0,8] */\nimport { OktaAuthIdxInterface, IdxTransactionMeta, InteractOptions, InteractResponse } from './types';\nimport { getSavedTransactionMeta, saveTransactionMeta, createTransactionMeta } from './transactionMeta';\nimport { getOAuthBaseUrl } from '../oidc';\nimport { removeNils } from '../util';\nimport { httpRequest } from '../http';\n\n\n/* eslint-disable camelcase */\nexport interface InteractParams {\n  client_id: string;\n  scope: string;\n  redirect_uri: string;\n  code_challenge: string;\n  code_challenge_method: string;\n  state: string;\n  activation_token?: string;\n  recovery_token?: string;\n  client_secret?: string;\n  max_age?: string | number;\n  nonce?: string;\n}\n/* eslint-enable camelcase */\n\nfunction getResponse(meta: IdxTransactionMeta): InteractResponse {\n  return {\n    meta,\n    interactionHandle: meta.interactionHandle!,\n    state: meta.state\n  };\n}\n\n// Begin or resume a transaction. Returns an interaction handle\nexport async function interact (\n  authClient: OktaAuthIdxInterface, \n  options: InteractOptions = {}\n): Promise<InteractResponse> {\n  options = removeNils(options);\n\n  let meta = getSavedTransactionMeta(authClient, options);\n  // If meta exists, it has been validated against all options\n\n  if (meta?.interactionHandle) {\n    return getResponse(meta); // Saved transaction, return meta\n  }\n\n  // Create new meta, respecting previous meta if it has been set and is not overridden\n  meta = await createTransactionMeta(authClient, { ...meta, ...options });\n  const baseUrl = getOAuthBaseUrl(authClient);\n  let {\n    clientId,\n    redirectUri,\n    state,\n    scopes,\n    withCredentials,\n    codeChallenge,\n    codeChallengeMethod,\n    activationToken,\n    recoveryToken,\n    maxAge,\n    nonce\n  } = meta as IdxTransactionMeta;\n  const clientSecret = options.clientSecret || authClient.options.clientSecret;\n  withCredentials = withCredentials ?? true;\n\n  /* eslint-disable camelcase */\n  const url = `${baseUrl}/v1/interact`;\n  const params = {\n    client_id: clientId,\n    scope: scopes!.join(' '),\n    redirect_uri: redirectUri,\n    code_challenge: codeChallenge,\n    code_challenge_method: codeChallengeMethod,\n    state,\n    ...(activationToken && { activation_token: activationToken }),\n    ...(recoveryToken && { recovery_token: recoveryToken }),\n    // X-Device-Token header need to pair with `client_secret`\n    // eslint-disable-next-line max-len\n    // https://oktawiki.atlassian.net/wiki/spaces/eng/pages/2445902453/Support+Device+Binding+in+interact#Scenario-1%3A-Non-User-Agent-with-Confidential-Client-(top-priority)\n    ...(clientSecret && { client_secret: clientSecret }),\n    ...(maxAge && { max_age: maxAge }),\n    ...(nonce && { nonce }),\n  } as InteractParams;\n  /* eslint-enable camelcase */\n\n  const headers = {\n    'Content-Type': 'application/x-www-form-urlencoded',\n  };\n\n  const resp = await httpRequest(authClient, {\n    method: 'POST',\n    url,\n    headers,\n    withCredentials,\n    args: params\n  });\n  const interactionHandle = resp.interaction_handle;\n\n  const newMeta = {\n    ...meta,\n    interactionHandle,\n    \n    // Options which can be passed into interact() should be saved in the meta\n    withCredentials,\n    state,\n    scopes,\n    recoveryToken,\n    activationToken\n  };\n  // Save transaction meta so it can be resumed\n  saveTransactionMeta(authClient, newMeta);\n\n  return getResponse(newMeta);\n}\n","/* eslint-disable complexity */\n/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { makeIdxState, validateVersionConfig } from './idxState';\nimport { IntrospectOptions, OktaAuthIdxInterface } from './types';\nimport { IdxResponse, isRawIdxResponse } from './types/idx-js';\nimport { getOAuthDomain } from '../oidc';\nimport { IDX_API_VERSION } from '../constants';\nimport { httpRequest } from '../http';\nimport { isAuthApiError } from '../errors';\n\nexport async function introspect (\n  authClient: OktaAuthIdxInterface, \n  options: IntrospectOptions = {}\n): Promise<IdxResponse> {\n  let rawIdxResponse;\n  let requestDidSucceed;\n\n  // try load from storage first\n  const savedIdxResponse = authClient.transactionManager.loadIdxResponse(options);\n  if (savedIdxResponse) {\n    rawIdxResponse = savedIdxResponse.rawIdxResponse;\n    requestDidSucceed = savedIdxResponse.requestDidSucceed;\n  }\n\n  // call idx.introspect if no existing idx response available in storage\n  if (!rawIdxResponse) {\n    const version = options.version || IDX_API_VERSION;\n    const domain = getOAuthDomain(authClient);\n    const { interactionHandle, stateHandle } = options;\n    const withCredentials = options.withCredentials ?? true;\n    try {\n      requestDidSucceed = true;\n      validateVersionConfig(version);\n      const url = `${domain}/idp/idx/introspect`;\n      const body = stateHandle ? { stateToken: stateHandle } : { interactionHandle };\n      const headers = {\n        'Content-Type': `application/ion+json; okta-version=${version}`, // Server wants this version info\n        Accept: `application/ion+json; okta-version=${version}`,\n      };\n      rawIdxResponse = await httpRequest(authClient, {\n        method: 'POST',\n        url,\n        headers,\n        withCredentials,\n        args: body\n      });\n    } catch (err) {\n      if (isAuthApiError(err) && err.xhr && isRawIdxResponse(err.xhr.responseJSON)) {\n        rawIdxResponse = err.xhr.responseJSON;\n        requestDidSucceed = false;\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  const { withCredentials } = options;\n  return makeIdxState(authClient, rawIdxResponse, { withCredentials }, requestDidSucceed);\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { base64UrlToBuffer, bufferToBase64Url } from '../crypto/base64';\nimport {\n  ActivationData,\n  ChallengeData,\n  IdxAuthenticator,\n  WebauthnEnrollValues,\n  WebauthnVerificationValues\n} from './types';\n\n\nexport interface WebauthnAPI {\n  getAssertion(credential: PublicKeyCredential): WebauthnVerificationValues;\n  getAttestation(credential: PublicKeyCredential): WebauthnEnrollValues;\n  buildCredentialRequestOptions(\n    challengeData: ChallengeData, authenticatorEnrollments: IdxAuthenticator[]\n  ): CredentialRequestOptions;\n  buildCredentialCreationOptions(\n    activationData: ActivationData, authenticatorEnrollments: IdxAuthenticator[]\n  ): CredentialCreationOptions;\n}\n\n\n// Get known credentials from list of enrolled authenticators\nconst getEnrolledCredentials = (authenticatorEnrollments: IdxAuthenticator[] = []) => {\n  const credentials: PublicKeyCredentialDescriptor[] = [];\n  authenticatorEnrollments.forEach((enrollement) => {\n    if (enrollement.key === 'webauthn') {\n      credentials.push({\n        type: 'public-key',\n        id: base64UrlToBuffer(enrollement.credentialId),\n      });\n    }\n  });\n  return credentials;\n};\n\n// Build options for navigator.credentials.create\n// https://developer.mozilla.org/en-US/docs/Web/API/CredentialsContainer/create\nexport const buildCredentialCreationOptions = (\n  activationData: ActivationData, authenticatorEnrollments: IdxAuthenticator[]\n) => {\n  return {\n    publicKey: {\n      rp: activationData.rp,\n      user: {\n        id: base64UrlToBuffer(activationData.user.id),\n        name: activationData.user.name,\n        displayName: activationData.user.displayName\n      },\n      challenge: base64UrlToBuffer(activationData.challenge),\n      pubKeyCredParams: activationData.pubKeyCredParams,\n      attestation: activationData.attestation,\n      authenticatorSelection: activationData.authenticatorSelection,\n      excludeCredentials: getEnrolledCredentials(authenticatorEnrollments),\n    }\n  } as CredentialCreationOptions;\n};\n\n\n// Build options for navigator.credentials.get\n// https://developer.mozilla.org/en-US/docs/Web/API/CredentialsContainer/get\nexport const buildCredentialRequestOptions = (\n  challengeData: ChallengeData, authenticatorEnrollments: IdxAuthenticator[]\n) => {\n  return {\n    publicKey: {\n      challenge: base64UrlToBuffer(challengeData.challenge),\n      userVerification: challengeData.userVerification,\n      allowCredentials: getEnrolledCredentials(authenticatorEnrollments),\n    }\n  } as CredentialRequestOptions;\n};\n\n// Build attestation for webauthn enroll\n// https://developer.mozilla.org/en-US/docs/Web/API/AuthenticatorAttestationResponse\nexport const getAttestation = (credential: PublicKeyCredential) => {\n  const response = credential.response as AuthenticatorAttestationResponse;\n  const id = credential.id;\n  const clientData = bufferToBase64Url(response.clientDataJSON);\n  const attestation = bufferToBase64Url(response.attestationObject);\n  return {\n    id,\n    clientData,\n    attestation\n  };\n};\n\n// Build assertion for webauthn verification\n// https://developer.mozilla.org/en-US/docs/Web/API/AuthenticatorAssertionResponse\nexport const getAssertion = (credential: PublicKeyCredential) => {\n  const response = credential.response as AuthenticatorAssertionResponse;\n  const id = credential.id;\n  const clientData = bufferToBase64Url(response.clientDataJSON);\n  const authenticatorData = bufferToBase64Url(response.authenticatorData);\n  const signatureData = bufferToBase64Url(response.signature);\n  return {\n    id,\n    clientData,\n    authenticatorData,\n    signatureData\n  };\n};\n","import { OktaAuthConstructor } from '../base/types';\nimport { OktaAuthOAuthInterface } from '../oidc/types';\nimport { IdxAPI, IdxTransactionManagerInterface, OktaAuthIdxInterface, OktaAuthIdxOptions } from './types';\nimport { IdxTransactionMeta } from './types/meta';\nimport { IdxStorageManagerInterface } from './types/storage';\nimport { createIdxAPI } from './factory/api';\nimport { WebauthnAPI } from './webauthn';\nimport * as webauthn from './webauthn';\n\nexport function mixinIdx\n<\n  M extends IdxTransactionMeta = IdxTransactionMeta,\n  S extends IdxStorageManagerInterface<M> = IdxStorageManagerInterface<M>,\n  O extends OktaAuthIdxOptions = OktaAuthIdxOptions,\n  TM extends IdxTransactionManagerInterface = IdxTransactionManagerInterface,\n  TBase extends OktaAuthConstructor<OktaAuthOAuthInterface<M, S, O, TM>>\n    = OktaAuthConstructor<OktaAuthOAuthInterface<M, S, O, TM>>\n>\n(Base: TBase): TBase & OktaAuthConstructor<OktaAuthIdxInterface<M, S, O, TM>>\n{\n  return class OktaAuthIdx extends Base implements OktaAuthIdxInterface<M, S, O, TM>\n  {\n    idx: IdxAPI;\n    static webauthn: WebauthnAPI = webauthn;\n    \n    constructor(...args: any[]) {\n      super(...args);\n      this.idx = createIdxAPI(this);\n    }\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { createCoreOptionsConstructor } from '../core/options';\nimport { FlowIdentifier } from './types/FlowIdentifier';\nimport { OktaAuthIdxOptions } from './types/options';\n\n\nexport function createIdxOptionsConstructor() {\n  const CoreOptionsConstructor = createCoreOptionsConstructor();\n  return class IdxOptionsConstructor\n    extends CoreOptionsConstructor \n    implements Required<OktaAuthIdxOptions>\n  {\n    flow: FlowIdentifier;\n    activationToken: string;\n    recoveryToken: string;\n  \n    // BETA WARNING: configs in this section are subject to change without a breaking change notice\n    idx: {\n      useGenericRemediator?: boolean;\n      exchangeCodeForTokens?: boolean;\n    };\n  \n    constructor(options: any) {\n      super(options);\n  \n      this.flow = options.flow;\n      this.activationToken = options.activationToken;\n      this.recoveryToken = options.recoveryToken;\n      this.idx = options.idx;\n    }\n  };\n  \n}\n","/*!\n * Copyright (c) 2021-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { proceed } from './proceed';\n\nimport { \n  IdxPollOptions,\n  IdxTransaction,\n  OktaAuthIdxInterface,\n} from './types';\nimport { getSavedTransactionMeta } from './transactionMeta';\nimport { warn } from '../util';\n\nexport async function poll(authClient: OktaAuthIdxInterface, options: IdxPollOptions = {}): Promise<IdxTransaction> {\n  let transaction = await proceed(authClient, {\n    startPolling: true\n  });\n\n  const meta = getSavedTransactionMeta(authClient);\n  let availablePollingRemeditaions = meta?.remediations?.find(remediation => remediation.includes('poll'));\n  if (!availablePollingRemeditaions?.length) {\n    warn('No polling remediations available at the current IDX flow stage');\n  }\n\n  if (Number.isInteger(options.refresh)) {\n    return new Promise(function (resolve, reject) {\n      setTimeout(async function () {\n        try {\n          const refresh = transaction.nextStep?.poll?.refresh;\n          if (refresh) {\n            resolve(poll(authClient, {\n              refresh\n            }));\n          } else {\n            resolve(transaction);\n          }\n        } catch (err) {\n          reject(err);\n        }\n      }, options.refresh);\n    });\n  }\n\n  return transaction;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { \n  OktaAuthIdxInterface,\n  IdxTransaction,\n  ProceedOptions,\n} from './types';\nimport { run } from './run';\nimport { getSavedTransactionMeta } from './transactionMeta';\nimport { AuthSdkError } from '../errors';\n\nexport function canProceed(authClient: OktaAuthIdxInterface, options: ProceedOptions = {}): boolean {\n  const meta = getSavedTransactionMeta(authClient, options);\n  return !!(meta || options.stateHandle);\n}\n\nexport async function proceed(\n  authClient: OktaAuthIdxInterface,\n  options: ProceedOptions = {}\n): Promise<IdxTransaction> {\n\n  if (!canProceed(authClient, options)) {\n    throw new AuthSdkError('Unable to proceed: saved transaction could not be loaded');\n  }\n\n  let { flow, state } = options;\n  if (!flow) {\n    const meta = getSavedTransactionMeta(authClient, { state });\n    flow = meta?.flow;\n  }\n\n  return run(authClient, { \n    ...options, \n    flow\n  });\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { run } from './run';\nimport { getFlowSpecification } from './flow';\nimport { \n  OktaAuthIdxInterface, \n  PasswordRecoveryOptions, \n  IdxTransaction,\n} from './types';\n\nexport async function recoverPassword(\n  authClient: OktaAuthIdxInterface, options: PasswordRecoveryOptions = {}\n): Promise<IdxTransaction> {\n  const flowSpec = getFlowSpecification(authClient, 'recoverPassword');\n  return run(\n    authClient, \n    { \n      ...options,\n      ...flowSpec,\n    }\n  );\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { run } from './run';\nimport { hasSavedInteractionHandle } from './transactionMeta';\nimport { startTransaction } from './startTransaction';\nimport { AuthSdkError } from '../errors';\nimport { \n  RegistrationOptions, \n  IdxTransaction, \n  OktaAuthIdxInterface, \n  IdxFeature,\n} from './types';\n\nexport async function register(\n  authClient: OktaAuthIdxInterface, options: RegistrationOptions = {}\n): Promise<IdxTransaction> {\n\n  // Only check at the beginning of the transaction\n  if (!hasSavedInteractionHandle(authClient)) {\n    const { enabledFeatures, availableSteps } = await startTransaction(authClient, {\n      ...options,\n      flow: 'register',\n      autoRemediate: false\n    });\n    if (!options.activationToken && enabledFeatures && !enabledFeatures.includes(IdxFeature.REGISTRATION)) {\n      throw new AuthSdkError('Registration is not supported based on your current org configuration.');\n    }\n    if (options.activationToken && availableSteps?.some(({ name }) => name === 'identify')) {\n      throw new AuthSdkError('activationToken is not supported based on your current org configuration.');\n    }\n  }\n\n  return run(authClient, {\n    ...options,\n    flow: 'register'\n  });\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { AuthenticatorData, AuthenticatorDataValues } from './Base/AuthenticatorData';\nimport { getAuthenticatorFromRemediation } from './util';\n\nexport type AuthenticatorEnrollmentDataValues =  AuthenticatorDataValues & {\n  phoneNumber?: string;\n  resend?: boolean; // resend is not a remediator value - revise when IdxResponse structure is updated\n}\nexport class AuthenticatorEnrollmentData extends AuthenticatorData<AuthenticatorEnrollmentDataValues> {\n  static remediationName = 'authenticator-enrollment-data';\n\n  mapAuthenticator() {\n    const authenticatorData = this.getAuthenticatorData();\n    const authenticatorFromRemediation = getAuthenticatorFromRemediation(this.remediation)!;\n    return { \n      id: authenticatorFromRemediation.form!.value\n        .find(({ name }) => name === 'id')!.value,\n      methodType: authenticatorData!.methodType,\n      phoneNumber: authenticatorData!.phoneNumber,\n    };\n  }\n\n  getInputAuthenticator(remediation) {\n    return [\n      { name: 'methodType', type: 'string' }, \n      { name: 'phoneNumber', label: 'Phone Number', type: 'string' }\n    ].map(item => {\n      const value = remediation.form.value.find(val => val.name === item.name);\n      return { ...value, ...item };\n    });\n  }\n\n  protected mapAuthenticatorDataFromValues(data?) {\n    // get mapped authenticator from base class\n    data = super.mapAuthenticatorDataFromValues(data);\n    // add phoneNumber to authenticator if it exists in values\n    const { phoneNumber } = this.values;\n    if (!data && !phoneNumber) {\n      return;\n    }\n\n    return { \n      ...(data && data), \n      ...(phoneNumber && { phoneNumber }) \n    };\n  }\n\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { AuthenticatorData, AuthenticatorDataValues } from './Base/AuthenticatorData';\n\nexport type AuthenticatorVerificationDataValues = AuthenticatorDataValues;\n\nexport class AuthenticatorVerificationData extends AuthenticatorData<AuthenticatorVerificationDataValues> {\n  static remediationName = 'authenticator-verification-data';\n\n  mapAuthenticator() {\n    return this.getAuthenticatorData();\n  }\n\n  getInputAuthenticator() {\n    const authenticator = this.getAuthenticatorFromRemediation();\n    const methodType = authenticator.form!.value.find(({ name }) => name === 'methodType');\n    // if has methodType in form, let user select the methodType\n    if (methodType && methodType.options) {\n      return { \n        name: 'methodType', \n        type: 'string', \n        required: true, \n        options: methodType.options \n      };\n    }\n    // no methodType, then return form values\n    const inputs = [...authenticator.form!.value];\n    return inputs;\n  }\n\n  getValuesAfterProceed(): AuthenticatorVerificationDataValues {\n    this.values = super.getValuesAfterProceed();\n    let trimmedValues = Object.keys(this.values).filter(valueKey => valueKey !== 'authenticator');\n    return trimmedValues.reduce((values, valueKey) => ({...values, [valueKey]: this.values[valueKey]}), {});\n  }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { Remediator, RemediationValues } from './Remediator';\nimport { IdxRemediationValue, IdxRemediation, IdxAuthenticator } from '../../types/idx-js';\nimport { isAuthenticator } from '../../types/api';\nimport { compareAuthenticators } from '../../authenticator/util';\n\nexport type AuthenticatorDataValues = RemediationValues & {\n  methodType?: string;\n};\n\n// Base class - DO NOT expose static remediationName\nexport class AuthenticatorData<T extends AuthenticatorDataValues = AuthenticatorDataValues> extends Remediator<T> {\n  authenticator: IdxAuthenticator;\n\n  constructor(remediation: IdxRemediation, values: T = {} as T) {\n    super(remediation, values);\n\n    // set before other data calculation\n    this.authenticator = this.getAuthenticator()!;\n\n    this.formatAuthenticatorData();\n  }\n\n  protected formatAuthenticatorData() {\n    const authenticatorData = this.getAuthenticatorData();\n    if (authenticatorData) {\n      this.values.authenticatorsData = this.values.authenticatorsData!.map(data => {\n        if (compareAuthenticators(this.authenticator, data)) {\n          return this.mapAuthenticatorDataFromValues(data);\n        }\n        return data;\n      });\n    } else {\n      const data = this.mapAuthenticatorDataFromValues();\n      if (data) {\n        this.values.authenticatorsData!.push(data);\n      }\n    }\n  }\n\n  protected getAuthenticatorData() {\n    return this.values.authenticatorsData!\n      .find((data) => compareAuthenticators(this.authenticator, data));\n  }\n\n  canRemediate() {\n    return this.values.authenticatorsData!\n      .some(data => compareAuthenticators(this.authenticator, data));\n  }\n\n  protected mapAuthenticatorDataFromValues(authenticatorData?) {\n    // add methodType to authenticatorData if it exists in values\n    let { methodType, authenticator } = this.values;\n    if (!methodType && isAuthenticator(authenticator)) {\n     methodType = authenticator?.methodType;\n    }\n    \n    const { id, enrollmentId } = this.authenticator;\n    const data = { \n      id,\n      enrollmentId,\n      ...(authenticatorData && authenticatorData),\n      ...(methodType && { methodType }) \n    };\n\n    return data.methodType ? data : null;\n  }\n\n  protected getAuthenticatorFromRemediation(): IdxRemediationValue {\n    const authenticator = this.remediation.value!\n      .find(({ name }) => name === 'authenticator') as IdxRemediationValue;\n    return authenticator;\n  }\n\n  getValuesAfterProceed(): T {\n    this.values = super.getValuesAfterProceed();\n    // remove used authenticatorData\n    const authenticatorsData = this.values.authenticatorsData!\n      .filter(data => compareAuthenticators(this.authenticator, data) !== true);\n    return { ...this.values, authenticatorsData };\n  }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\n/* eslint-disable complexity */\nimport { OktaAuthIdxInterface, NextStep, IdxMessage, Authenticator, Input, RemediateOptions } from '../../types';\nimport { IdxAuthenticator, IdxRemediation, IdxContext } from '../../types/idx-js';\nimport { getAllValues, getRequiredValues, titleCase, getAuthenticatorFromRemediation } from '../util';\nimport { formatAuthenticator, compareAuthenticators } from '../../authenticator/util';\n\n// A map from IDX data values (server spec) to RemediationValues (client spec)\nexport type IdxToRemediationValueMap = Record<string, string[]>;\n\nexport interface RemediationValues {\n  stateHandle?: string;\n  authenticators?: (Authenticator | string)[];\n  authenticator?: string | Authenticator;\n  authenticatorsData?: Authenticator[];\n  resend?: boolean;\n}\n\nexport interface RemediatorConstructor {\n  new<T extends RemediationValues>(\n    remediation: IdxRemediation, \n    values?: T, \n    options?: RemediateOptions\n  ): any;\n}\n\n// Base class - DO NOT expose static remediationName\nexport class Remediator<T extends RemediationValues = RemediationValues> {\n  static remediationName: string;\n\n  remediation: IdxRemediation;\n  values: T;\n  options: RemediateOptions;\n  map?: IdxToRemediationValueMap;\n\n  constructor(\n    remediation: IdxRemediation, \n    values: T = {} as T, \n    options: RemediateOptions = {}\n  ) {\n    // assign fields to the instance\n    this.values = { ...values };\n    this.options = { ...options };\n    this.formatAuthenticators();\n    this.remediation = remediation;\n  }\n\n  private formatAuthenticators() {\n    this.values.authenticators = (this.values.authenticators || []) as Authenticator[];\n\n    // ensure authenticators are in the correct format\n    this.values.authenticators = this.values.authenticators.map(authenticator => {\n      return formatAuthenticator(authenticator);\n    });\n\n    // add authenticator (if any) to \"authenticators\"\n    if (this.values.authenticator) {\n      const authenticator = formatAuthenticator(this.values.authenticator);\n      const hasAuthenticatorInList = this.values.authenticators.some(existing => {\n        return compareAuthenticators(authenticator, existing);\n      });\n      if (!hasAuthenticatorInList) {\n        this.values.authenticators.push(authenticator);\n      }\n    }\n\n    // save non-key meta to \"authenticatorsData\" field\n    // authenticators will be removed after selection to avoid select-authenticator loop\n    this.values.authenticatorsData = this.values.authenticators.reduce((acc, authenticator) => {\n      if (typeof authenticator === 'object' && Object.keys(authenticator).length > 1) {\n        // save authenticator meta into authenticator data\n        acc.push(authenticator);\n      }\n      return acc;\n    }, this.values.authenticatorsData || []);\n  }\n\n  getName(): string {\n    return this.remediation.name;\n  }\n\n  // Override this method to provide custom check\n  /* eslint-disable-next-line no-unused-vars, @typescript-eslint/no-unused-vars */\n  canRemediate(): boolean {\n    const required = getRequiredValues(this.remediation);\n    const needed = required!.find((key) => !this.hasData(key));\n    if (needed) {\n      return false; // missing data for a required field\n    }\n    return true; // all required fields have available data\n  }\n\n  // returns an object for the entire remediation form, or just a part\n  getData(key?: string) {\n    if (!key) {\n      let allValues = getAllValues(this.remediation);\n      let res = allValues!.reduce((data, key) => {\n        data[key] = this.getData(key); // recursive\n        return data;\n      }, {});\n      return res;\n    }\n\n    // Map value by \"map${Property}\" function in each subClass\n    if (typeof this[`map${titleCase(key)}`] === 'function') {\n      const val = this[`map${titleCase(key)}`](\n        this.remediation.value!.find(({name}) => name === key)\n      );\n      if (val) {\n        return val;\n      }\n    }\n\n    // If a map is defined for this key, return the first aliased property that returns a truthy value\n    if (this.map && this.map[key]) {\n      const entry = this.map[key];\n      for (let i = 0; i < entry.length; i++) {\n        let val = this.values[entry[i]];\n        if (val) {\n          return val;\n        }\n      }\n    }\n\n    // fallback: return the value by key\n    return this.values[key];\n  }\n\n  hasData(\n    key: string // idx name\n  ): boolean \n  {\n    // no attempt to format, we want simple true/false\n    return !!this.getData(key);\n  }\n\n  getNextStep(_authClient: OktaAuthIdxInterface, _context?: IdxContext): NextStep {\n    const name = this.getName();\n    const inputs = this.getInputs();\n    const authenticator = this.getAuthenticator();\n    // TODO: remove type field in the next major version change\n    // https://oktainc.atlassian.net/browse/OKTA-431749\n    const type = authenticator?.type;\n    return { \n      name, \n      inputs, \n      ...(type && { type }),\n      ...(authenticator && { authenticator }),\n    };\n  }\n\n  // Get inputs for the next step\n  getInputs(): Input[] {\n    const inputs: Input[] = [];\n    const inputsFromRemediation = this.remediation.value || [];\n    inputsFromRemediation.forEach(inputFromRemediation => {\n      let input;\n      let { name, type, visible, messages } = inputFromRemediation;\n      if (visible === false) {\n        return; // Filter out invisible inputs, like stateHandle\n      }\n      if (typeof this[`getInput${titleCase(name)}`] === 'function') {\n        input = this[`getInput${titleCase(name)}`](inputFromRemediation);\n      } else if (type !== 'object') {\n        // handle general primitive types\n        let alias;\n        const aliases = (this.map ? this.map[name] : null) || [];\n        if (aliases.length === 1) {\n          alias = aliases[0];\n        } else {\n          // try find key from values\n          alias = aliases.find(name => Object.keys(this.values).includes(name));\n        }\n        if (alias) {\n          input = { ...inputFromRemediation, name: alias };\n        }\n      }\n      if (!input) {\n        input = inputFromRemediation;\n      }\n      if (Array.isArray(input)) {\n        input.forEach(i => inputs.push(i));\n      } else {\n        // guarantees field-level messages are passed back\n        if (messages) {\n          input.messages = messages;\n        }\n        inputs.push(input);\n      }\n    });\n    return inputs;\n  }\n\n  static getMessages(remediation: IdxRemediation): IdxMessage[] | undefined {\n    if (!remediation.value) {\n      return;\n    }\n    return remediation.value[0]?.form?.value.reduce((messages: IdxMessage[], field) => {\n      if (field.messages) {\n        messages = [...messages, ...field.messages.value];\n      }\n      return messages;\n    }, []);\n  }\n\n  // Prepare values for the next remediation\n  // In general, remove used values from inputs for the current remediation\n  // Override this method if special cases need be handled\n  getValuesAfterProceed(): T {\n    const inputsFromRemediation = this.remediation.value || []; // \"raw\" inputs from server response\n    const inputsFromRemediator = this.getInputs(); // \"aliased\" inputs from SDK remediator\n    const inputs = [\n      ...inputsFromRemediation,\n      ...inputsFromRemediator\n    ];\n    // scrub all values related to this remediation\n    for (const input of inputs) {\n      delete this.values[input.name];\n    }\n    return this.values;\n  }\n\n  protected getAuthenticator(): IdxAuthenticator | undefined {\n    // relatesTo value may be an authenticator or an authenticatorEnrollment\n    const relatesTo = this.remediation.relatesTo?.value;\n    if (!relatesTo) {\n      return;\n    }\n\n    const authenticatorFromRemediation = getAuthenticatorFromRemediation(this.remediation);\n    if (!authenticatorFromRemediation) {\n      // Hopefully value is an authenticator\n      return relatesTo;\n    }\n\n    // If relatesTo is an authenticatorEnrollment, the id is actually the enrollmentId\n    // Let's get the correct authenticator id from the form value\n    const id = authenticatorFromRemediation.form!.value\n      .find(({ name }) => name === 'id')!.value as string;\n    const enrollmentId = authenticatorFromRemediation.form!.value\n      .find(({ name }) => name === 'enrollmentId')?.value as string;\n\n    return {\n      ...relatesTo,\n      id,\n      enrollmentId\n    };\n  }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Remediator';\nimport { getAuthenticatorFromRemediation } from '../util';\nimport { IdxRemediationValue } from '../../types/idx-js';\nimport { Authenticator, isAuthenticator } from '../../types/api';\nimport { compareAuthenticators, findMatchedOption} from '../../authenticator/util';\n\nexport type SelectAuthenticatorValues = RemediationValues & {\n  authenticator?: string | Authenticator;\n};\n\n// Base class - DO NOT expose static remediationName\nexport class SelectAuthenticator<T extends SelectAuthenticatorValues = SelectAuthenticatorValues>\n  extends Remediator<T> {\n  selectedAuthenticator?: Authenticator;\n  selectedOption?: any;\n\n  // Find matched authenticator in provided order\n  findMatchedOption(authenticators, options) {\n    let option;\n    for (let authenticator of authenticators) {\n      option = options\n        .find(({ relatesTo }) => relatesTo.key === authenticator.key);\n      if (option) {\n        break;\n      }\n    }\n    return option;\n  }\n\n  canRemediate() {\n    const { authenticators, authenticator } = this.values;\n    const authenticatorFromRemediation = getAuthenticatorFromRemediation(this.remediation);\n    const { options } = authenticatorFromRemediation;\n    // Let users select authenticator if no input is provided\n    if (!authenticators || !authenticators.length) {\n      return false;\n    }\n\n    // Authenticator is explicitly specified by id\n    if (isAuthenticator(authenticator) && authenticator.id) {\n      return true;\n    }\n\n    // Proceed with provided authenticators\n    const matchedOption = this.findMatchedOption(authenticators, options);\n    if (matchedOption) {\n      return true;\n    }\n    \n    return false;\n  }\n\n  mapAuthenticator(remediationValue: IdxRemediationValue) {\n    const { authenticators, authenticator } = this.values;\n\n    // Authenticator is explicitly specified by id\n    if (isAuthenticator(authenticator) && authenticator.id) {\n      this.selectedAuthenticator = authenticator; // track the selected authenticator\n      return authenticator;\n    }\n\n    const { options } = remediationValue;\n    const selectedOption = findMatchedOption(authenticators, options);\n    this.selectedAuthenticator = selectedOption.relatesTo; // track the selected authenticator\n    this.selectedOption = selectedOption;\n    return {\n      id: selectedOption?.value.form.value.find(({ name }) => name === 'id').value\n    };\n  }\n\n  getInputAuthenticator(remediation) {\n    const options = remediation.options.map(({ label, relatesTo }) => {\n      return {\n        label,\n        value: relatesTo.key\n      };\n    });\n    return { name: 'authenticator', type: 'string', options };\n  }\n\n  getValuesAfterProceed(): T {\n    this.values = super.getValuesAfterProceed();\n    // remove used authenticators\n    const authenticators = (this.values.authenticators as Authenticator[])\n      .filter(authenticator => {\n        return compareAuthenticators(authenticator, this.selectedAuthenticator) !== true;\n      });\n    return { ...this.values, authenticators };\n  }\n\n}\n","import { Authenticator, Credentials } from './Authenticator';\n\nexport interface VerificationCodeValues {\n  verificationCode?: string;\n  otp?: string;\n  credentials?: Credentials;\n}\n\ninterface VerificationCodeCredentials extends Credentials {\n  passcode: string;\n}\n\n// general authenticator to handle \"verificationCode\" input\n// it can be used for \"email\", \"phone\", \"google authenticator\"\n// a new authenticator class should be created if special cases need to be handled\nexport class VerificationCodeAuthenticator extends Authenticator<VerificationCodeValues> {\n  canVerify(values: VerificationCodeValues) {\n    return !!(values.credentials ||values.verificationCode || values.otp);\n  }\n\n  mapCredentials(values): VerificationCodeCredentials | Credentials | undefined {\n    const { credentials, verificationCode, otp } = values;\n    if (!credentials && !verificationCode && !otp) {\n      return;\n    }\n    return credentials || { passcode: verificationCode || otp };\n  }\n\n  getInputs(idxRemediationValue) {\n    return {\n      ...idxRemediationValue.form?.value[0],\n      name: 'verificationCode',\n      type: 'string',\n      required: idxRemediationValue.required\n    };\n  }\n}\n","import { Credentials } from './Authenticator';\nimport { VerificationCodeAuthenticator } from './VerificationCodeAuthenticator';\n\ninterface TotpCredentials extends Credentials {\n  totp: string;\n}\n\nexport class OktaVerifyTotp extends VerificationCodeAuthenticator {\n  mapCredentials(values): TotpCredentials | undefined {\n    const { verificationCode } = values;\n    if (!verificationCode) {\n      return;\n    }\n    return { totp: verificationCode };\n  }\n}\n","import { Authenticator, Credentials } from './Authenticator';\n\nexport interface SecurityQuestionEnrollValues {\n  questionKey?: string;\n  question?: string;\n  answer?: string;\n  credentials?: Credentials;\n}\n\nexport class SecurityQuestionEnrollment extends Authenticator<SecurityQuestionEnrollValues> {\n  canVerify(values: SecurityQuestionEnrollValues) {\n    const { credentials } = values;\n    if (credentials && credentials.questionKey && credentials.answer) {\n      return true;\n    }\n    const { questionKey, question, answer } = values;\n    return !!(questionKey && answer) || !!(question && answer);\n  }\n\n  mapCredentials(values: SecurityQuestionEnrollValues): Credentials | undefined {\n    const { questionKey, question, answer } = values;\n    if (!answer || (!questionKey && !question)) {\n      return;\n    }\n    return {\n      questionKey: question ? 'custom' : questionKey,\n      question,\n      answer\n    };\n  }\n\n  getInputs() {\n    return [\n      { name: 'questionKey', type: 'string', required: true },\n      { name: 'question', type: 'string', label: 'Create a security question' },\n      { name: 'answer', type: 'string', label: 'Answer', required: true },\n    ];\n  }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { Authenticator, Credentials } from './Authenticator';\n\nexport interface SecurityQuestionVerificationValues {\n  answer?: string;\n  credentials?: Credentials;\n}\n\nexport class SecurityQuestionVerification extends Authenticator<SecurityQuestionVerificationValues> {\n  canVerify(values: SecurityQuestionVerificationValues) {\n    const { credentials } = values;\n    if (credentials && credentials.answer) {\n      return true;\n    }\n    const { answer } = values;\n    return !!answer;\n  }\n\n  mapCredentials(values: SecurityQuestionVerificationValues): Credentials | undefined {\n    const { answer } = values;\n    if (!answer) {\n      return;\n    }\n    return {\n      questionKey: this.meta.contextualData!.enrolledQuestion!.questionKey,\n      answer\n    };\n  }\n\n  getInputs() {\n    return [\n      { name: 'answer', type: 'string', label: 'Answer', required: true }\n    ];\n  }\n}\n","import { Authenticator, Credentials } from './Authenticator';\n\nexport interface WebauthnEnrollValues {\n  clientData?: string;\n  attestation?: string;\n  credentials?: Credentials;\n}\n\nexport class WebauthnEnrollment extends Authenticator<WebauthnEnrollValues> {\n  canVerify(values: WebauthnEnrollValues) {\n    const { credentials } = values;\n    const obj = credentials || values;\n    const { clientData, attestation } = obj;\n    return !!(clientData && attestation);\n  }\n\n  mapCredentials(values: WebauthnEnrollValues): Credentials | undefined {\n    const { credentials, clientData, attestation } = values;\n    if (!credentials && !clientData && !attestation) {\n      return;\n    }\n    return credentials || ({\n      clientData,\n      attestation\n    });\n  }\n\n  getInputs() {\n    return [\n      { name: 'clientData', type: 'string', required: true, visible: false, label: 'Client Data' },\n      { name: 'attestation', type: 'string', required: true, visible: false, label: 'Attestation' },\n    ];\n  }\n}\n","import { Authenticator, Credentials } from './Authenticator';\n\nexport interface WebauthnVerificationValues {\n  clientData?: string;\n  authenticatorData?: string;\n  signatureData?: string;\n  credentials?: Credentials;\n}\n\nexport class WebauthnVerification extends Authenticator<WebauthnVerificationValues> {\n  canVerify(values: WebauthnVerificationValues) {\n    const { credentials } = values;\n    const obj = credentials || values;\n    const { clientData, authenticatorData, signatureData } = obj;\n    return !!(clientData && authenticatorData && signatureData);\n  }\n\n  mapCredentials(values: WebauthnVerificationValues): Credentials | undefined {\n    const { credentials, authenticatorData, clientData, signatureData } = values;\n    if (!credentials && !authenticatorData && !clientData && !signatureData) {\n      return;\n    }\n    return credentials || ({\n      authenticatorData,\n      clientData,\n      signatureData\n    });\n  }\n\n  getInputs() {\n    return [\n      { name: 'authenticatorData', type: 'string', label: 'Authenticator Data', required: true, visible: false },\n      { name: 'clientData', type: 'string', label: 'Client Data', required: true, visible: false },\n      { name: 'signatureData', type: 'string', label: 'Signature Data', required: true, visible: false },\n    ];\n  }\n}\n","import { OktaVerifyTotp } from './OktaVerifyTotp';\nimport { Authenticator } from './Authenticator';\nimport { VerificationCodeAuthenticator } from './VerificationCodeAuthenticator';\nimport { OktaPassword } from './OktaPassword';\nimport { SecurityQuestionEnrollment } from './SecurityQuestionEnrollment';\nimport { SecurityQuestionVerification } from './SecurityQuestionVerification';\nimport { WebauthnEnrollment } from './WebauthnEnrollment';\nimport { WebauthnVerification } from './WebauthnVerification';\nimport { IdxAuthenticator, IdxRemediation } from '../types/idx-js';\nimport { AuthenticatorKey } from '../types';\n\n/* eslint complexity:[0,8] */\nexport function getAuthenticator(remediation: IdxRemediation): Authenticator<any> {\n  const relatesTo = remediation.relatesTo;\n  const value = relatesTo?.value || {} as IdxAuthenticator;\n  switch (value.key) {\n    case AuthenticatorKey.OKTA_PASSWORD:\n      return new OktaPassword(value);\n    case AuthenticatorKey.SECURITY_QUESTION:\n      if (value.contextualData?.enrolledQuestion) {\n        return new SecurityQuestionVerification(value);\n      } else {\n        return new SecurityQuestionEnrollment(value);\n      }\n    case AuthenticatorKey.OKTA_VERIFY:\n      return new OktaVerifyTotp(value);\n    case AuthenticatorKey.WEBAUTHN:\n      if (value.contextualData?.challengeData) {\n        return new WebauthnVerification(value);\n      } else {\n        return new WebauthnEnrollment(value);\n      }\n    default:\n      return new VerificationCodeAuthenticator(value);\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Remediator';\nimport { getAuthenticator, Authenticator, AuthenticatorValues } from '../../authenticator';\nimport { IdxRemediation, IdxContext } from '../../types/idx-js';\nimport { OktaAuthIdxInterface, NextStep } from '../../types';\n\nexport type VerifyAuthenticatorValues = AuthenticatorValues & RemediationValues;\n\n// Base class - DO NOT expose static remediationName\nexport class VerifyAuthenticator<T extends VerifyAuthenticatorValues = VerifyAuthenticatorValues>\n  extends Remediator<T> {\n\n  authenticator: Authenticator<VerifyAuthenticatorValues>;\n\n  constructor(remediation: IdxRemediation, values: T = {} as T) {\n    super(remediation, values);\n    this.authenticator = getAuthenticator(remediation);\n  }\n\n  getNextStep(authClient: OktaAuthIdxInterface, context?: IdxContext): NextStep {\n    const nextStep = super.getNextStep(authClient, context);\n    const authenticatorEnrollments = context?.authenticatorEnrollments?.value;\n\n    return {\n      ...nextStep,\n      authenticatorEnrollments\n    };\n  }\n\n  canRemediate() {\n    return this.authenticator.canVerify(this.values);\n  }\n\n  mapCredentials() {\n    return this.authenticator.mapCredentials(this.values);\n  }\n\n  getInputCredentials(input) {\n    return this.authenticator.getInputs(input);\n  }\n\n  getValuesAfterProceed(): T {\n    this.values = super.getValuesAfterProceed();\n    let trimmedValues = Object.keys(this.values).filter(valueKey => valueKey !== 'credentials');\n    return trimmedValues.reduce((values, valueKey) => ({...values, [valueKey]: this.values[valueKey]}), {} as T);\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { VerifyAuthenticator, VerifyAuthenticatorValues } from './Base/VerifyAuthenticator';\n\nexport type ChallengeAuthenticatorValues = VerifyAuthenticatorValues;\n\nexport class ChallengeAuthenticator extends VerifyAuthenticator<ChallengeAuthenticatorValues> {\n  static remediationName = 'challenge-authenticator';\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { EnrollPoll } from './EnrollPoll';\n\nexport class ChallengePoll extends EnrollPoll{\n  static remediationName = 'challenge-poll';\n\n  canRemediate() {\n    return !!this.values.startPolling || this.options.step === 'challenge-poll';\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { VerifyAuthenticator, VerifyAuthenticatorValues } from './Base/VerifyAuthenticator';\n\nexport type EnrollAuthenticatorValues = VerifyAuthenticatorValues;\n\nexport class EnrollAuthenticator extends VerifyAuthenticator<EnrollAuthenticatorValues> {\n  static remediationName = 'enroll-authenticator';\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Base/Remediator';\nimport { NextStep, OktaAuthIdxInterface } from '../types';\nimport { IdxContext } from '../types/idx-js';\n\nexport interface EnrollPollValues extends RemediationValues {\n  startPolling?: boolean;\n}\n\nexport class EnrollPoll extends Remediator<EnrollPollValues> {\n  static remediationName = 'enroll-poll';\n\n  canRemediate() {\n    return !!this.values.startPolling || this.options.step === 'enroll-poll';\n  }\n\n  getNextStep(authClient: OktaAuthIdxInterface, context?: IdxContext): NextStep {\n    const common = super.getNextStep(authClient, context);\n    let authenticator = this.getAuthenticator();\n    if (!authenticator && context?.currentAuthenticator) {\n      authenticator = context.currentAuthenticator.value;\n    }\n    return {\n      ...common,\n      authenticator,\n      poll: {\n        required: true,\n        refresh: this.remediation.refresh\n      },\n    };\n  }\n\n  getValuesAfterProceed(): EnrollPollValues {\n    let trimmedValues = Object.keys(this.values).filter(valueKey => valueKey !== 'startPolling');\n    return trimmedValues.reduce((values, valueKey) => ({...values, [valueKey]: this.values[valueKey]}), {});\n  }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { IdxRemediation, IdxRemediationValue, IdxAuthenticator } from '../types/idx-js';\nimport { RemediateOptions } from '../types';\nimport { Remediator, RemediationValues } from './Base/Remediator';\nimport { Authenticator, Credentials, OktaPassword } from '../authenticator';\n\nexport interface EnrollProfileValues extends RemediationValues {\n  firstName?: string;\n  lastName?: string;\n  email?: string;\n  credentials?: Credentials;\n  password?: string;\n  passcode?: string;\n}\n\nexport class EnrollProfile extends Remediator<EnrollProfileValues> {\n  static remediationName = 'enroll-profile';\n\n  authenticator: Authenticator<any> | null = null;\n\n  constructor(\n    remediation: IdxRemediation,\n    values: EnrollProfileValues = {},\n    options: RemediateOptions = {}\n  ) {\n    super(remediation, values, options);\n\n    // credentials are only required when Profile Enrollment policy requires them\n    // if credentials are included in the remediation, they are considered required\n    // otherwise it will be omitted\n    const credentials = this.getCredentialsFromRemediation();\n    if (credentials) {\n      this.authenticator = this.authenticator = new OktaPassword({} as IdxAuthenticator);\n    }\n  }\n\n  canRemediate() {\n    // ensure credentials can be verified, if required\n    if (this.authenticator && !this.authenticator.canVerify(this.values)) {\n      return false;\n    }\n\n    const userProfileFromValues = this.getData().userProfile;\n    if (!userProfileFromValues) {\n      return false;\n    }\n    // eslint-disable-next-line max-len\n    const userProfileFromRemediation = this.remediation.value!.find(({ name }) => name === 'userProfile') as IdxRemediationValue;\n    return userProfileFromRemediation.form!.value.reduce((canRemediate, curr) => {\n      if (curr.required) {\n        canRemediate = canRemediate && !!userProfileFromValues[curr.name];\n      }\n      return canRemediate;\n    }, true);\n  }\n\n  getCredentialsFromRemediation () {\n    return this.remediation.value!.find(({ name }) => name === 'credentials');\n  }\n\n  mapUserProfile({form: { value: profileAttributes }}) {\n    const attributeNames = profileAttributes.map(({name}) => name);\n    const data = attributeNames.reduce((attributeValues, attributeName) => (\n      this.values[attributeName] ? {\n      ...attributeValues,\n      [attributeName]: this.values[attributeName]\n    } : attributeValues), {});\n    if (Object.keys(data).length === 0) {\n      return;\n    }\n    return data;\n  }\n\n  mapCredentials() {\n    const val = this.authenticator && this.authenticator.mapCredentials(this.values);\n    if (!val) {\n      return;\n    }\n    return val;\n  }\n\n  getInputUserProfile(input) {\n    return [...input.form.value];\n  }\n\n  getInputCredentials(input) {\n    return [...input.form.value];\n  }\n\n  getErrorMessages(errorRemediation) {\n    return errorRemediation.value[0].form.value.reduce((errors, field) => {\n      if (field.messages) {\n        errors.push(field.messages.value[0].message);\n      }\n      return errors;\n    }, []);\n  }\n}","/*!\n * Copyright (c) 2021-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Base/Remediator';\nimport { IdxContext } from '../types/idx-js';\nimport { OktaAuthIdxInterface } from '../types';\n\n\nexport type EnrollmentChannelDataValues = RemediationValues & {\n  email?: string;\n  phoneNumber?: string;\n};\n\nexport class EnrollmentChannelData extends Remediator<EnrollmentChannelDataValues> {\n  static remediationName = 'enrollment-channel-data';\n\n  getInputEmail() {\n    return [\n      { name: 'email', type: 'string', required: true, label: 'Email' },\n    ];\n  }\n\n  getInputPhoneNumber() {\n    return [\n      { name: 'phoneNumber', type: 'string', required: true, label: 'Phone Number' },\n    ];\n  }\n\n  canRemediate() {\n    return Boolean(this.values.email || this.values.phoneNumber);\n  }\n\n  getNextStep(authClient: OktaAuthIdxInterface, context: IdxContext) {\n    const common = super.getNextStep(authClient, context);\n    const authenticator = context.currentAuthenticator.value;\n    return {\n      ...common,\n      authenticator,\n    };\n  }\n\n  getData() {\n    return {\n      stateHandle: this.values.stateHandle,\n      email: this.values.email,\n      phoneNumber: this.values.phoneNumber\n    };\n  }\n\n  getValuesAfterProceed(): EnrollmentChannelDataValues {\n    let trimmedValues = Object.keys(this.values).filter(valueKey => !['email', 'phoneNumber'].includes(valueKey));\n    return trimmedValues.reduce((values, valueKey) => ({...values, [valueKey]: this.values[valueKey]}), {});\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Credentials } from '../authenticator';\nimport { Remediator, RemediationValues } from './Base/Remediator';\n\nexport interface IdentifyValues extends RemediationValues {\n  username?: string;\n  password?: string;\n  credentials?: Credentials;\n}\n\nexport class Identify extends Remediator<IdentifyValues> {\n  static remediationName = 'identify';\n\n  map = {\n    'identifier': ['username']\n  };\n\n  canRemediate(): boolean {\n    const { identifier } = this.getData();\n    return !!identifier;\n  }\n\n  mapCredentials() {\n    const { credentials, password } = this.values;\n    if (!credentials && !password) {\n      return;\n    }\n    return credentials || { passcode: password };\n  }\n\n  getInputCredentials(input) {\n    return {\n      ...input.form.value[0],\n      name: 'password',\n      required: input.required\n    };\n  }\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Base/Remediator';\n\nexport interface ReEnrollAuthenticatorValues extends RemediationValues {\n  newPassword?: string;\n}\n\nexport class ReEnrollAuthenticator extends Remediator<ReEnrollAuthenticatorValues> {\n  static remediationName = 'reenroll-authenticator';\n\n  mapCredentials() {\n    const { newPassword } = this.values;\n    if (!newPassword) {\n      return;\n    }\n    return { \n      passcode: newPassword,\n    };\n  }\n\n  getInputCredentials(input) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const challengeType = this.getAuthenticator()!.type;\n    const name = challengeType === 'password' ? 'newPassword' : 'verificationCode';\n    return {\n      ...input.form.value[0],\n      name\n    };\n  }\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator } from './Base/Remediator';\n\nexport class RedirectIdp extends Remediator {\n  static remediationName = 'redirect-idp';\n\n  canRemediate() {\n    return false;\n  }\n\n  getNextStep() {\n    const { name, type, idp, href } = this.remediation;\n    return {\n      name,\n      type,\n      idp,\n      href\n    };\n  }\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { VerifyAuthenticator, VerifyAuthenticatorValues } from './Base/VerifyAuthenticator';\n\nexport type ResetAuthenticatorValues = VerifyAuthenticatorValues;\n\nexport class ResetAuthenticator extends VerifyAuthenticator<ResetAuthenticatorValues> {\n  static remediationName = 'reset-authenticator';\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { SelectAuthenticator, SelectAuthenticatorValues } from './Base/SelectAuthenticator';\nimport { getAuthenticatorFromRemediation } from './util';\nimport { IdxRemediation } from '../types/idx-js';\nimport { AuthenticatorKey, Authenticator, RemediateOptions } from '../types';\n\nexport type SelectAuthenticatorAuthenticateValues = SelectAuthenticatorValues & {\n  password?: string;\n};\n\nexport class SelectAuthenticatorAuthenticate extends SelectAuthenticator<SelectAuthenticatorAuthenticateValues> {\n  static remediationName = 'select-authenticator-authenticate';\n\n  constructor(\n    remediation: IdxRemediation, \n    values: SelectAuthenticatorValues = {}, \n    options: RemediateOptions = {}\n  ) {\n    super(remediation, values, options);\n\n    // Preset password authenticator to trigger recover action\n    const isRecoveryFlow = this.options.flow === 'recoverPassword';\n    const hasPasswordInOptions = getAuthenticatorFromRemediation(remediation)\n      .options?.some(({ relatesTo }) => relatesTo?.key === AuthenticatorKey.OKTA_PASSWORD);\n    if (hasPasswordInOptions && (isRecoveryFlow || this.values.password)) {\n      this.values.authenticators = [\n        ...this.values.authenticators || [],\n        { key: AuthenticatorKey.OKTA_PASSWORD }\n      ] as Authenticator[];\n    }\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { SelectAuthenticator, SelectAuthenticatorValues } from './Base/SelectAuthenticator';\n\nexport type SelectAuthenticatorEnrollValues = SelectAuthenticatorValues;\n\nexport class SelectAuthenticatorEnroll extends SelectAuthenticator<SelectAuthenticatorEnrollValues> {\n  static remediationName = 'select-authenticator-enroll';\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { SelectAuthenticator, SelectAuthenticatorValues } from './Base/SelectAuthenticator';\nimport { Authenticator } from '../types';\nimport { IdxRemediationValue } from '../types/idx-js';\n\n\nexport type SelectAuthenticatorUnlockAccountValues = SelectAuthenticatorValues & {\n  identifier?: string;\n  methodType?: string;\n};\n\nexport class SelectAuthenticatorUnlockAccount extends SelectAuthenticator<SelectAuthenticatorUnlockAccountValues> {\n  static remediationName = 'select-authenticator-unlock-account';\n  authenticator?: Authenticator;\n\n  map = {\n    identifier: ['username']\n  };\n\n  canRemediate() {\n    const identifier = this.getData('identifier');\n    return !!identifier && super.canRemediate();\n  }\n\n  mapAuthenticator(remediationValue: IdxRemediationValue) {\n    const authenticatorMap = super.mapAuthenticator(remediationValue);\n    const methodTypeOption = this.selectedOption?.value.form.value.find(({ name }) => name === 'methodType');\n\n    // defaults to 'manually defined' value\n    // 2nd: option may have pre-defined value, like stateHandle\n    // 3rd: if only a single OV option is available, default to that option\n    const methodTypeValue = this.values.methodType ||\n      methodTypeOption?.value as string || methodTypeOption?.options?.[0]?.value as string;\n\n    if (methodTypeValue) {\n      return {\n        ...authenticatorMap,\n        methodType: methodTypeValue\n      };\n    }\n\n    return authenticatorMap;\n  }\n\n  getInputUsername () {\n    return { name: 'username', type: 'string' };\n  }\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Base/Remediator';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface SelectEnrollProfileValues extends RemediationValues {}\n\nexport class SelectEnrollProfile extends Remediator<SelectEnrollProfileValues> {\n  static remediationName = 'select-enroll-profile';\n\n  canRemediate() {\n    return true;\n  }\n}\n","/*!\n * Copyright (c) 2021-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Base/Remediator';\nimport { IdxRemediationValueForm, IdxContext } from '../types/idx-js';\nimport { Authenticator, OktaAuthIdxInterface } from '../types/api';\n\n\nexport type SelectEnrollmentChannelValues = RemediationValues & {\n  channel?: string;\n};\n\nexport class SelectEnrollmentChannel extends Remediator<SelectEnrollmentChannelValues> {\n  static remediationName = 'select-enrollment-channel';\n\n  canRemediate() {\n    if (this.values.channel) {\n      return true;\n    }\n\n    if (this.values.authenticator) {\n      const { id, channel } = this.values.authenticator as Authenticator;\n      if (!!id && !!channel) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  getNextStep(authClient: OktaAuthIdxInterface, context: IdxContext) {\n    const common = super.getNextStep(authClient, context);\n    const authenticator = context.currentAuthenticator.value;\n    return {\n      ...common,\n      authenticator,\n    };\n  }\n\n  getData() {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const remediationValue = this.remediation!.value![0].value as IdxRemediationValueForm;\n    return {\n      authenticator: {\n        id: remediationValue.form.value[0].value,\n        channel: (this.values.authenticator as Authenticator)?.channel || this.values.channel,\n      },\n      stateHandle: this.values.stateHandle,\n\n    };\n  }\n\n  getValuesAfterProceed(): SelectEnrollmentChannelValues {\n    this.values = super.getValuesAfterProceed();\n    delete this.values.authenticators;    // required to prevent infinite loops from auto-remediating via values\n    const filterKey = this.values.channel ? 'channel' : 'authenticator';\n    let trimmedValues = Object.keys(this.values).filter(valueKey => valueKey !== filterKey);\n    return trimmedValues.reduce((values, valueKey) => ({...values, [valueKey]: this.values[valueKey]}), {});\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { Remediator, RemediationValues } from './Base/Remediator';\n\nexport interface SkipValues extends RemediationValues {\n  skip?: boolean;\n}\n\nexport class Skip extends Remediator<SkipValues> {\n  static remediationName = 'skip';\n\n  canRemediate() {\n    return !!this.values.skip || this.options.step === 'skip';\n  }\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { IdxRemediation, IdxRemediationValue } from '../types/idx-js';\n\nexport function getAllValues(idxRemediation: IdxRemediation) {\n  return idxRemediation.value?.map(r => r.name);\n}\n\nexport function getRequiredValues(idxRemediation: IdxRemediation) {\n  return idxRemediation.value?.reduce((required, cur) => {\n    if (cur.required) {\n      required.push(cur.name as never);\n    }\n    return required;\n  }, []);\n}\n\nexport function titleCase(str: string) {\n  return str.charAt(0).toUpperCase() + str.substring(1);\n}\n\nexport function getAuthenticatorFromRemediation(\n  remediation: IdxRemediation\n): IdxRemediationValue {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  return remediation.value!.find(({ name }) => name === 'authenticator') as IdxRemediationValue;\n}\n","/* eslint-disable complexity */\nimport { AuthSdkError } from '../../../errors';\nimport { Input } from '../../types';\n\nexport function unwrapFormValue(remediation): Input { \n  if (Array.isArray(remediation)) {\n    return remediation\n      .map(item => {\n        if (typeof item === 'string' || typeof item === 'number' || typeof item === 'boolean') {\n          return item;\n        }\n        return unwrapFormValue(item);\n      }) as any;\n  }\n\n  const res = {};\n  for (const [key, value] of Object.entries(remediation)) {\n    if (value === null || typeof value === 'undefined') {\n      continue;\n    }\n\n    if (typeof value === 'object') {\n      const formKeys = Object.keys(value as object);\n      // detect patterns like:\n      // value -> form -> value | form -> value\n      if (['value', 'form'].includes(key) \n        && formKeys.length === 1 \n        && ['value', 'form'].includes(formKeys[0])\n      ) {\n        // unwrap nested form\n        const unwrappedForm = unwrapFormValue(value);\n        Object.entries(unwrappedForm).forEach(([key, value]) => {\n          res[key] = value;\n        });\n      } else {\n        // dfs\n        res[key] = unwrapFormValue(value);\n      }\n    } else {\n      // handle primitive value\n      res[key] = value;\n    }\n  }\n\n  return res as Input;\n}\n\n// only check if value is required for now\n// TODO: support SDK layer type based input validation\nexport function hasValidInputValue(input, values) {\n  const fn = (input, values, requiredTracker) => {\n    const { name, value, type, options, required } = input;\n    const isRequired = required || requiredTracker;\n\n    // handle nested value - all required fields should be avaiable in values \n    if (Array.isArray(value)) {\n      return value.reduce((acc, item) => {\n        return acc && fn(item, values[name], isRequired); // recursive call\n      }, true);\n    }\n\n    // handle options field\n    // 1. object type options - check if each object field is required and value can be found from the selectedOption\n    // 2. primitive options - required field is avaiable from top level\n    // 3. unknown format - pass to backend for validation\n    if (options) {\n      // object type options\n      if (type === 'object') {\n        const selectedOption = values[name];\n        if (!selectedOption) {\n          return false;\n        }\n        if (!selectedOption.id) {\n          // unknown option format, pass to backend for validation\n          return true;\n        }\n        const optionSchema = options.find((option) => {\n          const idSchema = option.value.find(({ name }) => name === 'id' );\n          return idSchema.value === selectedOption.id;\n        });\n        if (!optionSchema) {\n          return false;\n        }\n        return optionSchema.value\n          .filter(({ required }) => !!required)\n          .reduce((acc, { name }) => {\n            return acc && !!selectedOption[name];\n          }, true);\n      }\n\n      // primitive options, not required - always valid\n      if (required === false) {\n        return true;\n      }\n\n      // primitive options, required - check if value is available\n      if (required === true) {\n        return !!values[name];\n      }\n\n      // unknown options, throw\n      throw new AuthSdkError(`Unknown options type, ${JSON.stringify(input)}`);\n    }\n\n    // base case\n    if (!isRequired) {\n      return true;\n    }\n      \n    return !!(values && values[name]);\n  };\n\n  return fn(input, values, false);\n}\n","import { OktaAuthIdxInterface, IdxContext, NextStep, Input } from '../../types';\nimport { Remediator } from '../Base/Remediator';\nimport { unwrapFormValue } from './util';\n\nexport class GenericRemediator extends Remediator {\n  canRemediate(): boolean {\n    // only handle remediations that are able to submit form (xhr)\n    if (typeof this.remediation.action !== 'function') {\n      return false;\n    }\n\n    // DO NOT REMOVE - bring it back when enable client side validation for GenericRemediator - OKTA-512003\n    // const inputs = this.getInputs();\n    // const res = inputs.reduce((acc, input) => {\n    //   return acc && hasValidInputValue(input, this.values);\n    // }, true);\n    // return res;\n\n    if (this.remediation.name === 'poll' || this.remediation.name.endsWith('-poll')) {\n      return true;\n    }\n\n    if (this.options.step) {\n      return true;\n    }\n    \n    // disable auto proceed for unknown remediations\n    return false;\n  }\n\n  getData() {\n    const data = this.getInputs().reduce((acc, { name }) => {\n      acc[name] = this.values[name];\n      return acc;\n    }, {});\n    return data;\n  }\n\n  getNextStep(authClient: OktaAuthIdxInterface, _context?: IdxContext): NextStep {\n    const name = this.getName();\n    const inputs = this.getInputs();\n    \n    /* eslint-disable no-unused-vars, @typescript-eslint/no-unused-vars */\n    // excludes transformed fields\n    const { \n      // http metas have been transformed to action\n      href, \n      method, \n      rel, \n      accepts, \n      produces, \n      // value has been transform to inputs\n      value,\n      // will be transformed to a function that resolves IdxTransaction\n      action,\n      ...rest \n    } = this.remediation;\n    /* eslint-enable no-unused-vars, @typescript-eslint/no-unused-vars */\n\n    // step to handle form submission\n    if (action) {\n      return { \n        ...rest,\n        ...(!!inputs.length && { inputs }),\n        action: async (params?) => {\n          return authClient.idx.proceed({\n            step: name,\n            ...params\n          });\n        }\n      };\n    }\n\n    // return whole remediation data for other steps, eg \"redirect-idp\"\n    return { ...this.remediation } as NextStep;\n    \n  }\n\n  getInputs(): Input[] {\n    return (this.remediation.value || [])\n      .filter(({ name }) => name !== 'stateHandle')\n      .map(unwrapFormValue)\n      .map(input => {\n        // use string as default input type\n        input.type = input.type || 'string';\n        return input;\n      });\n  }\n\n}\n","import { warn, split2 } from '../util';\nimport * as remediators from './remediators';\nimport { RemediationValues, Remediator, RemediatorConstructor } from './remediators';\nimport { GenericRemediator } from './remediators/GenericRemediator';\nimport { OktaAuthIdxInterface, IdxFeature, NextStep, RemediateOptions, RemediationResponse, RunOptions } from './types';\nimport { IdxMessage, IdxRemediation, IdxRemediationValue, IdxResponse } from './types/idx-js';\n\nexport function isTerminalResponse(idxResponse: IdxResponse) {\n  const { neededToProceed, interactionCode } = idxResponse;\n  return !neededToProceed.length && !interactionCode;\n}\n\nexport function canSkipFn(idxResponse: IdxResponse) {\n  return idxResponse.neededToProceed.some(({ name }) => name === 'skip');\n}\n\nexport function canResendFn(idxResponse: IdxResponse) {\n  return Object.keys(idxResponse.actions).some(actionName => actionName.includes('resend'));\n}\n\nexport function getMessagesFromIdxRemediationValue(\n  value?: IdxRemediationValue[]\n): IdxMessage[] | undefined {\n  if (!value || !Array.isArray(value)) {\n    return;\n  }\n  return value.reduce((messages, value) => {\n    if (value.messages) {\n      messages = [...messages, ...value.messages.value] as never;\n    }\n    if (value.form) {\n      const messagesFromForm = getMessagesFromIdxRemediationValue(value.form.value) || [];\n      messages = [...messages, ...messagesFromForm] as never;\n    } \n    if (value.options) {\n      let optionValues = [];\n      value.options.forEach(option => {\n        if (!option.value || typeof option.value === 'string') {\n          return;\n        }\n        optionValues = [...optionValues, option.value] as never;\n      });\n      const messagesFromOptions = getMessagesFromIdxRemediationValue(optionValues) || [];\n      messages = [...messages, ...messagesFromOptions] as never;\n    }\n    return messages;\n  }, []);\n}\n\nexport function getMessagesFromResponse(idxResponse: IdxResponse, options: RunOptions): IdxMessage[] {\n  let messages: IdxMessage[] = [];\n  const { rawIdxState, neededToProceed } = idxResponse;\n\n  // Handle global messages\n  const globalMessages = rawIdxState.messages?.value.map(message => message);\n  if (globalMessages) {\n    messages = [...messages, ...globalMessages] as never;\n  }\n\n  // Handle field messages for current flow\n  // Preserve existing logic for general cases, remove in the next major version\n  // Follow ion response format for top level messages when useGenericRemediator is true\n  if (!options.useGenericRemediator) {\n    for (let remediation of neededToProceed) {\n      const fieldMessages = getMessagesFromIdxRemediationValue(remediation.value);\n      if (fieldMessages) {\n        messages = [...messages, ...fieldMessages] as never;\n      }\n    }\n  }\n\n  // API may return identical error on same field, filter by i18n key\n  const seen = {};\n  messages = messages.reduce((filtered, message) => {\n    const key = message.i18n?.key;\n    if (key && seen[key]) {\n      return filtered;\n    }\n    seen[key] = message;\n    filtered = [...filtered, message] as never;\n    return filtered;\n  }, []);\n  return messages;\n}\n\n\nexport function getEnabledFeatures(idxResponse: IdxResponse): IdxFeature[] {\n  const res = [];\n  const { actions, neededToProceed } = idxResponse;\n\n  if (actions['currentAuthenticator-recover']) {\n    res.push(IdxFeature.PASSWORD_RECOVERY as never);\n  }\n\n  if (neededToProceed.some(({ name }) => name === 'select-enroll-profile')) {\n    res.push(IdxFeature.REGISTRATION as never);\n  }\n\n  if (neededToProceed.some(({ name }) => name === 'redirect-idp')) {\n    res.push(IdxFeature.SOCIAL_IDP as never);\n  }\n\n  if (neededToProceed.some(({ name }) => name === 'unlock-account')) {\n    res.push(IdxFeature.ACCOUNT_UNLOCK as never);\n  }\n\n  return res;\n}\n\nexport function getAvailableSteps(\n  authClient: OktaAuthIdxInterface, \n  idxResponse: IdxResponse, \n  useGenericRemediator?: boolean\n): NextStep[] {\n  const res: NextStep[] = [];\n\n  const remediatorMap: Record<string, RemediatorConstructor> = Object.values(remediators)\n    .reduce((map, remediatorClass) => {\n      // Only add concrete subclasses to the map\n      if (remediatorClass.remediationName) {\n        map[remediatorClass.remediationName] = remediatorClass;\n      }\n      return map;\n    }, {});\n\n  for (let remediation of idxResponse.neededToProceed) {\n    const T = getRemediatorClass(remediation, { useGenericRemediator, remediators: remediatorMap });\n    if (T) {\n      const remediator: Remediator = new T(remediation);\n      res.push (remediator.getNextStep(authClient, idxResponse.context) as never);\n    }\n  }\n\n  for (const [name] of Object.entries((idxResponse.actions || {}))) {\n    let stepObj = {\n      name, \n      action: async (params?) => {\n        return authClient.idx.proceed({ \n          actions: [{ name, params }] \n        });\n      }\n    };\n    if (name.startsWith('currentAuthenticator')) {\n      const [part1, part2] = split2(name, '-');\n      const actionObj = idxResponse.rawIdxState[part1].value[part2];\n      /* eslint-disable no-unused-vars, @typescript-eslint/no-unused-vars */\n      const {\n        href, \n        method, \n        rel, \n        accepts, \n        produces, \n        ...rest\n      } = actionObj;\n      /* eslint-enable no-unused-vars, @typescript-eslint/no-unused-vars */\n      const value = actionObj.value?.filter(item => item.name !== 'stateHandle');\n      stepObj = { \n        ...rest,  \n        ...(value && { value }),\n        ...stepObj,\n      };\n    }\n    res.push(stepObj);\n  }\n\n  return res;\n}\n\nexport function filterValuesForRemediation(\n  idxResponse: IdxResponse,\n  remediationName: string,\n  values: RemediationValues\n): RemediationValues {\n  const remediations = idxResponse.neededToProceed || [];\n  const remediation = remediations.find(r => r.name === remediationName);\n  if (!remediation) {\n    // step was specified, but remediation was not found. This is unexpected!\n    warn(`filterValuesForRemediation: \"${remediationName}\" did not match any remediations`);\n    return values;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const valuesForRemediation = remediation.value!.reduce((res, entry) => {\n    const { name, value } = entry;\n    if (name === 'stateHandle') {\n      res[name] = value; // use the stateHandle value in the remediation\n    } else {\n      res[name] = values[name]; // use the value provided by the caller\n    }\n    return res;\n  }, {});\n  return valuesForRemediation;\n}\n\nfunction getRemediatorClass(remediation: IdxRemediation, options: RemediateOptions) {\n  const { useGenericRemediator, remediators } = options;\n  \n  if (!remediation) {\n    return undefined;\n  }\n\n  if (useGenericRemediator) {\n    return GenericRemediator;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  return remediators![remediation.name];\n}\n\n// Return first match idxRemediation in allowed remediators\n// eslint-disable-next-line complexity\nexport function getRemediator(\n  idxRemediations: IdxRemediation[],\n  values: RemediationValues,\n  options: RemediateOptions,\n): Remediator | undefined {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const remediators = options.remediators!;\n  const useGenericRemediator = options.useGenericRemediator;\n\n  let remediator: Remediator;\n  // remediation name specified by caller - fast-track remediator lookup \n  if (options.step) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const remediation = idxRemediations.find(({ name }) => name === options.step)!;\n    if (remediation) {\n      const T = getRemediatorClass(remediation, options);\n      return T ? new T(remediation, values, options) : undefined;\n    } else {\n      // step was specified, but remediation was not found. This is unexpected!\n      warn(`step \"${options.step}\" did not match any remediations`);\n      return;\n    }\n  }\n\n  const remediatorCandidates: Remediator[] = [];\n  if (useGenericRemediator) {\n    // always pick the first remediation for when use GenericRemediator\n    remediatorCandidates.push(new GenericRemediator(idxRemediations[0], values, options));\n  } else {\n    for (let remediation of idxRemediations) {\n      const isRemeditionInFlow = Object.keys(remediators as object).includes(remediation.name);\n      if (!isRemeditionInFlow) {\n        continue;\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const T = getRemediatorClass(remediation, options)!;\n      remediator = new T(remediation, values, options);\n      if (remediator.canRemediate()) {\n        // found the remediator\n        return remediator;\n      }\n      // remediator cannot handle the current values\n      // maybe return for next step\n      remediatorCandidates.push(remediator);  \n    }\n  }\n  \n  return remediatorCandidates[0];\n}\n\n\nexport function getNextStep(\n  authClient: OktaAuthIdxInterface, remediator: Remediator, idxResponse: IdxResponse\n): NextStep {\n  const nextStep = remediator.getNextStep(authClient, idxResponse.context);\n  const canSkip = canSkipFn(idxResponse);\n  const canResend = canResendFn(idxResponse);\n  return {\n    ...nextStep,\n    ...(canSkip && {canSkip}),\n    ...(canResend && {canResend}),\n  };\n}\n\nexport function handleFailedResponse(\n  authClient: OktaAuthIdxInterface,\n  idxResponse: IdxResponse,\n  options = {}\n): RemediationResponse {\n  const terminal = isTerminalResponse(idxResponse);\n  const messages = getMessagesFromResponse(idxResponse, options);\n  if (terminal) {\n    return { idxResponse, terminal, messages };\n  } else {\n    const remediator = getRemediator(idxResponse.neededToProceed, {}, options);\n    const nextStep = remediator && getNextStep(authClient, remediator, idxResponse);\n    return {\n      idxResponse,\n      messages,\n      ...(nextStep && { nextStep }),\n    };\n  }\n  \n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\n/* eslint-disable max-statements, max-depth, complexity */\nimport { AuthSdkError } from '../errors';\nimport { RemediationValues } from './remediators';\nimport { OktaAuthIdxInterface, RemediateOptions, RemediationResponse } from './types';\nimport { \n  IdxResponse,\n  IdxActionParams, \n} from './types/idx-js';\nimport {\n  isTerminalResponse,\n  filterValuesForRemediation,\n  getRemediator,\n  getNextStep,\n  handleFailedResponse\n} from './util';\n\nexport interface RemediateActionWithOptionalParams {\n  name: string;\n  params?: IdxActionParams;\n}\n\nexport type RemediateAction = string | RemediateActionWithOptionalParams;\n\n\nfunction getActionFromValues(values: RemediationValues, idxResponse: IdxResponse): string | undefined {\n  // Currently support resend actions only\n  return Object.keys(idxResponse.actions).find(action => !!values.resend && action.includes('-resend'));\n}\n\nfunction removeActionFromValues(values: RemediationValues): RemediationValues {\n  // Currently support resend actions only\n  return {\n    ...values,\n    resend: undefined\n  };\n}\n\nfunction removeActionFromOptions(options: RemediateOptions, actionName: string): RemediateOptions {\n  let actions = options.actions || [];\n  actions = actions.filter(entry => {\n    if (typeof entry === 'string') {\n      return entry !== actionName;\n    }\n    return entry.name !== actionName;\n  });\n\n  return { ...options, actions };\n}\n\n// This function is called recursively until it reaches success or cannot be remediated\nexport async function remediate(\n  authClient: OktaAuthIdxInterface,\n  idxResponse: IdxResponse,\n  values: RemediationValues,\n  options: RemediateOptions\n): Promise<RemediationResponse> {\n  let { neededToProceed, interactionCode } = idxResponse;\n  const { flow } = options;\n\n  // If the response contains an interaction code, there is no need to remediate\n  if (interactionCode) {\n    return { idxResponse };\n  }\n\n  const remediator = getRemediator(neededToProceed, values, options);\n\n  // Try actions in idxResponse first\n  const actionFromValues = getActionFromValues(values, idxResponse);\n  const actionFromOptions = options.actions || [];\n  const actions = [\n    ...actionFromOptions,\n    ...(actionFromValues && [actionFromValues] || []),\n  ];\n  if (actions) {\n    for (let action of actions) {\n      // Action can either be specified as a string, or as an object with name and optional params\n      let params: IdxActionParams = {};\n      if (typeof action !== 'string') {\n        params = action.params || {};\n        action = action.name;\n      }\n      let valuesWithoutExecutedAction = removeActionFromValues(values);\n      let optionsWithoutExecutedAction = removeActionFromOptions(options, action);\n\n      if (typeof idxResponse.actions[action] === 'function') {\n        idxResponse = await idxResponse.actions[action](params);\n        if (idxResponse.requestDidSucceed === false) {\n          return handleFailedResponse(authClient, idxResponse, options);\n        }\n        if (action === 'cancel') {\n          return { idxResponse, canceled: true };\n        }\n        return remediate(\n          authClient, \n          idxResponse, \n          valuesWithoutExecutedAction, \n          optionsWithoutExecutedAction\n        ); // recursive call\n      }\n\n      // search for action in remediation list\n      const remediationAction = neededToProceed.find(({ name }) => name === action);\n      if (remediationAction) {\n        idxResponse = await idxResponse.proceed(action, params);\n        if (idxResponse.requestDidSucceed === false) {\n          return handleFailedResponse(authClient, idxResponse, options);\n        }\n        return remediate(authClient, idxResponse, values, optionsWithoutExecutedAction); // recursive call\n      }\n    }\n  }\n\n  // Do not attempt to remediate if response is in terminal state\n  const terminal = isTerminalResponse(idxResponse);\n  if (terminal) {\n    return { idxResponse, terminal };\n  }\n\n  if (!remediator) {\n    // With options.step, remediator is not required\n    if (options.step) {\n      values = filterValuesForRemediation(idxResponse, options.step, values); // include only requested values\n      idxResponse = await idxResponse.proceed(options.step, values);\n      if (idxResponse.requestDidSucceed === false) {\n        return handleFailedResponse(authClient, idxResponse, options);\n      }\n      return { idxResponse };\n    }\n\n    // With default flow, remediator is not required\n    if (flow === 'default') {\n      return { idxResponse };\n    }\n    throw new AuthSdkError(`\n      No remediation can match current flow, check policy settings in your org.\n      Remediations: [${neededToProceed.reduce((acc, curr) => acc ? acc + ' ,' + curr.name : curr.name, '')}]\n    `);\n  }\n\n  // Return next step to the caller\n  if (!remediator.canRemediate()) {\n    const nextStep = getNextStep(authClient, remediator, idxResponse);\n    return {\n      idxResponse,\n      nextStep,\n    };\n  }\n\n  const name = remediator.getName();\n  const data = remediator.getData();\n\n  idxResponse = await idxResponse.proceed(name, data);\n  if (idxResponse.requestDidSucceed === false) {\n    return handleFailedResponse(authClient, idxResponse, options);\n  }\n  // We may want to trim the values bag for the next remediation\n  // Let the remediator decide what the values should be (default to current values)\n  values = remediator.getValuesAfterProceed();\n  options = { ...options, step: undefined }; // do not re-use the step\n\n  // generic remediator should not auto proceed in pending status\n  // return nextStep directly\n  if (options.useGenericRemediator && !idxResponse.interactionCode && !isTerminalResponse(idxResponse)) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const gr = getRemediator(idxResponse.neededToProceed, values, options)!;\n    const nextStep = getNextStep(authClient, gr, idxResponse);\n    return {\n      idxResponse,\n      nextStep,\n    };\n  }\n  \n  return remediate(authClient, idxResponse, values, options); // recursive call\n\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\n/* eslint-disable max-statements, complexity, max-depth */\nimport { interact } from './interact';\nimport { introspect } from './introspect';\nimport { remediate } from './remediate';\nimport { getFlowSpecification } from './flow';\nimport * as remediators from './remediators';\nimport { \n  OktaAuthIdxInterface,\n  IdxStatus,\n  IdxTransaction,\n  IdxFeature,\n  NextStep,\n  RunOptions,\n  IdxTransactionMeta,\n} from './types';\nimport { IdxMessage, IdxResponse } from './types/idx-js';\nimport { getSavedTransactionMeta, saveTransactionMeta } from './transactionMeta';\nimport { getAvailableSteps, getEnabledFeatures, getMessagesFromResponse, isTerminalResponse } from './util';\nimport { Tokens } from '../oidc/types';\nimport { APIError } from '../errors/types';\ndeclare interface RunData {\n  options: RunOptions;\n  values: remediators.RemediationValues;\n  status?: IdxStatus;\n  tokens?: Tokens;\n  nextStep?: NextStep;\n  messages?: IdxMessage[];\n  error?: APIError | IdxResponse;\n  meta?: IdxTransactionMeta;\n  enabledFeatures?: IdxFeature[];\n  availableSteps?: NextStep[];\n  idxResponse?: IdxResponse;\n  canceled?: boolean;\n  interactionCode?: string;\n  shouldSaveResponse?: boolean;\n  shouldClearTransaction?: boolean;\n  clearSharedStorage?: boolean;\n  terminal?: boolean;\n}\n\nfunction initializeValues(options: RunOptions) {\n  // remove known options, everything else is assumed to be a value\n  const knownOptions = [\n    'flow', \n    'remediators', \n    'actions', \n    'withCredentials', \n    'step',\n    'useGenericRemediator',\n    'exchangeCodeForTokens',\n  ];\n  const values = { ...options };\n  knownOptions.forEach(option => {\n    delete values[option];\n  });\n  return values;\n}\n\nfunction initializeData(authClient, data: RunData): RunData {\n  let { options } = data;\n  options = {\n    ...authClient.options.idx,\n    ...options\n  };\n  let {\n    flow,\n    withCredentials,\n    remediators,\n    actions,\n  } = options;\n\n  const status = IdxStatus.PENDING;\n\n  // certain options can be set by the flow specification\n  flow = flow || authClient.idx.getFlow() || 'default';\n  if (flow) {\n    authClient.idx.setFlow(flow);\n    const flowSpec = getFlowSpecification(authClient, flow);\n    // Favor option values over flow spec\n    withCredentials = (typeof withCredentials !== 'undefined') ? withCredentials : flowSpec.withCredentials;\n    remediators = remediators || flowSpec.remediators;\n    actions = actions || flowSpec.actions;\n  }\n\n  return { \n    ...data,\n    options: { \n      ...options, \n      flow, \n      withCredentials, \n      remediators, \n      actions,\n    },\n    status\n  };\n}\n\nasync function getDataFromIntrospect(authClient, data: RunData): Promise<RunData> {\n  const { options } = data;\n  const {\n    stateHandle,\n    withCredentials,\n    version,\n    state,\n    scopes,\n    recoveryToken,\n    activationToken,\n    maxAge,\n    nonce,\n  } = options;\n\n  let idxResponse;\n  let meta = getSavedTransactionMeta(authClient, { state, recoveryToken, activationToken }); // may be undefined\n\n  if (stateHandle) {\n    idxResponse = await introspect(authClient, { withCredentials, version, stateHandle });\n  } else {\n    let interactionHandle = meta?.interactionHandle; // may be undefined\n    if (!interactionHandle) {\n      // start a new transaction\n      authClient.transactionManager.clear();\n      const interactResponse = await interact(authClient, {\n        withCredentials,\n        state,\n        scopes,\n        activationToken,\n        recoveryToken,\n        maxAge,\n        nonce,\n      }); \n      interactionHandle = interactResponse.interactionHandle;\n      meta = interactResponse.meta;\n    }\n  \n    // Introspect to get idx response\n    idxResponse = await introspect(authClient, { withCredentials, version, interactionHandle });\n  }\n  return { ...data, idxResponse, meta };\n}\n\nasync function getDataFromRemediate(authClient, data: RunData): Promise<RunData> {\n  let {\n    idxResponse,\n    options,\n    values\n  } = data;\n\n  const {\n    autoRemediate,\n    remediators,\n    actions,\n    flow,\n    step,\n    useGenericRemediator,\n  } = options;\n  \n  const shouldRemediate = (autoRemediate !== false && (remediators || actions || step));\n  if (!shouldRemediate) {\n    return data;\n  }\n\n  values = { \n    ...values, \n    stateHandle: idxResponse!.rawIdxState.stateHandle \n  };\n\n  // Can we handle the remediations?\n  const { \n    idxResponse: idxResponseFromRemediation, \n    nextStep,\n    canceled,\n  } = await remediate(\n    authClient,\n    idxResponse!, \n    values, \n    {\n      remediators,\n      actions,\n      flow,\n      step,\n      useGenericRemediator,\n    }\n  );\n  idxResponse = idxResponseFromRemediation;\n\n  return { ...data, idxResponse, nextStep, canceled };\n}\n\nasync function getTokens(authClient, data: RunData): Promise<Tokens> {\n  let { meta, idxResponse } = data;\n  const { interactionCode } = idxResponse as IdxResponse;\n  const {\n    clientId,\n    codeVerifier,\n    ignoreSignature,\n    redirectUri,\n    urls,\n    scopes,\n  } = meta as IdxTransactionMeta;\n  const tokenResponse = await authClient.token.exchangeCodeForTokens({\n    interactionCode,\n    clientId,\n    codeVerifier,\n    ignoreSignature,\n    redirectUri,\n    scopes\n  }, urls);\n  return tokenResponse.tokens;\n}\n\nasync function finalizeData(authClient, data: RunData): Promise<RunData> {\n  let {\n    options,\n    idxResponse,\n    canceled,\n    status,\n  } = data;\n  const { exchangeCodeForTokens } = options;\n  let shouldSaveResponse = false;\n  let shouldClearTransaction = false;\n  let clearSharedStorage = true;\n  let interactionCode;\n  let tokens;\n  let enabledFeatures;\n  let availableSteps;\n  let messages;\n  let terminal;\n\n  if (idxResponse) {\n    shouldSaveResponse = !!(idxResponse.requestDidSucceed || idxResponse.stepUp);\n    enabledFeatures = getEnabledFeatures(idxResponse);\n    availableSteps = getAvailableSteps(authClient, idxResponse, options.useGenericRemediator);\n    messages = getMessagesFromResponse(idxResponse, options);\n    terminal = isTerminalResponse(idxResponse);\n  }\n\n  if (terminal) {\n    status = IdxStatus.TERMINAL;\n\n    // In most cases a terminal response should not clear transaction data. The user should cancel or skip to continue.\n    // A terminal \"success\" is a non-error response with no further actions available.\n    // In these narrow cases, saved transaction data should be cleared.\n    // One example of a terminal success is when the email verify flow is continued in another tab\n    const hasActions = Object.keys(idxResponse!.actions).length > 0;\n    const hasErrors = !!messages.find(msg => msg.class === 'ERROR');\n    const isTerminalSuccess = !hasActions && !hasErrors && idxResponse!.requestDidSucceed === true;\n    if (isTerminalSuccess) {\n      shouldClearTransaction = true;\n    } else {\n      // only save response if there are actions available (ignore messages)\n      shouldSaveResponse = shouldSaveResponse && hasActions;\n    }\n    // leave shared storage intact so the transaction can be continued in another tab\n    clearSharedStorage = false;\n  } else if (canceled) {\n    status = IdxStatus.CANCELED;\n    shouldClearTransaction = true;\n  } else if (idxResponse?.interactionCode) { \n    interactionCode = idxResponse.interactionCode;\n    if (exchangeCodeForTokens === false) {\n      status = IdxStatus.SUCCESS;\n      shouldClearTransaction = false;\n    } else {\n      tokens = await getTokens(authClient, data);\n      status = IdxStatus.SUCCESS;\n      shouldClearTransaction = true;\n    }\n  }\n  return {\n    ...data,\n    status,\n    interactionCode,\n    tokens,\n    shouldSaveResponse,\n    shouldClearTransaction,\n    clearSharedStorage,\n    enabledFeatures,\n    availableSteps,\n    messages,\n    terminal\n  };\n}\n\nexport async function run(\n  authClient: OktaAuthIdxInterface, \n  options: RunOptions = {},\n): Promise<IdxTransaction> {\n  let data: RunData = {\n    options,\n    values: initializeValues(options)\n  };\n\n  data = initializeData(authClient, data);\n  data = await getDataFromIntrospect(authClient, data);\n  data = await getDataFromRemediate(authClient, data);\n  data = await finalizeData(authClient, data);\n\n  const {\n    idxResponse,\n    meta,\n    shouldSaveResponse,\n    shouldClearTransaction,\n    clearSharedStorage,\n    status,\n    enabledFeatures,\n    availableSteps,\n    tokens,\n    nextStep,\n    messages,\n    error,\n    interactionCode\n  } = data;\n\n  if (shouldClearTransaction) {\n    authClient.transactionManager.clear({ clearSharedStorage });\n  }\n  else {\n    // ensures state is saved to sessionStorage\n    saveTransactionMeta(authClient, { ...meta });\n\n    if (shouldSaveResponse) {\n      // Save intermediate idx response in storage to reduce introspect call\n      const { rawIdxState: rawIdxResponse, requestDidSucceed } = idxResponse!;\n      authClient.transactionManager.saveIdxResponse({\n        rawIdxResponse,\n        requestDidSucceed,\n        stateHandle: idxResponse!.context?.stateHandle,\n        interactionHandle: meta?.interactionHandle\n      });\n    }\n  }\n  \n  // copy all fields from idxResponse which are needed by the widget\n  const { actions, context, neededToProceed, proceed, rawIdxState, requestDidSucceed, stepUp } = idxResponse || {};\n  return {\n    status: status!,\n    ...(meta && { meta }),\n    ...(enabledFeatures && { enabledFeatures }),\n    ...(availableSteps && { availableSteps }),\n    ...(tokens && { tokens }),\n    ...(nextStep && { nextStep }),\n    ...(messages && messages.length && { messages }),\n    ...(error && { error }),\n    ...(stepUp && { stepUp }),\n    interactionCode, // if options.exchangeCodeForTokens is false\n\n    // from idx-js\n    actions: actions!,\n    context: context!,\n    neededToProceed: neededToProceed!,\n    proceed: proceed!,\n    rawIdxState: rawIdxState!,\n    requestDidSucceed\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { run } from './run';\nimport { OktaAuthIdxInterface, IdxTransaction, StartOptions } from './types';\n\nexport async function startTransaction(\n  authClient: OktaAuthIdxInterface, \n  options: StartOptions = {}\n): Promise<IdxTransaction> {\n  // Clear IDX response cache and saved transaction meta (if any)\n  authClient.transactionManager.clear();\n\n  return run(authClient, {\n    exchangeCodeForTokens: false,\n    ...options\n  });\n}\n","import { CookieOptions, StorageManagerOptions, StorageOptions, StorageUtil } from '../storage/types';\nimport {  IdxTransactionMeta } from './types';\nimport { SavedObject } from '../storage';\nimport { IDX_RESPONSE_STORAGE_NAME } from '../constants';\nimport { createCoreStorageManager } from '../core/storage';\nimport { IdxResponseStorage } from './types/storage';\nimport { isBrowser } from '../features';\nimport { warn } from '../util';\nimport AuthSdkError from '../errors/AuthSdkError';\n\nexport function createIdxStorageManager<M extends IdxTransactionMeta>()\n{\n  const CoreStorageManager = createCoreStorageManager<M>();\n  return class IdxStorageManager extends CoreStorageManager\n  {\n    constructor(storageManagerOptions: StorageManagerOptions, cookieOptions: CookieOptions, storageUtil: StorageUtil) {\n      super(storageManagerOptions, cookieOptions, storageUtil);\n    }\n\n    // intermediate idxResponse\n    // store for network traffic optimazation purpose\n    // TODO: revisit in auth-js 6.0 epic JIRA: OKTA-399791\n    getIdxResponseStorage(options?: StorageOptions): IdxResponseStorage | null {\n      let storage;\n      if (isBrowser()) {\n        // on browser side only use memory storage \n        try {\n          storage = this.storageUtil.getStorageByType('memory', options);\n        } catch (e) {\n          // it's ok to miss response storage\n          // eslint-disable-next-line max-len\n          warn('No response storage found, you may want to provide custom implementation for intermediate idx responses to optimize the network traffic');\n        }\n      } else {\n        // on server side re-use transaction custom storage\n        const transactionStorage = this.getTransactionStorage(options);\n        if (transactionStorage) {\n          storage = {\n            getItem: (key) => {\n              const transaction = transactionStorage.getStorage();\n              if (transaction && transaction[key]) {\n                return transaction[key];\n              }\n              return null;\n            },\n            setItem: (key, val) => {\n              const transaction = transactionStorage.getStorage();\n              if (!transaction) {\n                throw new AuthSdkError('Transaction has been cleared, failed to save idxState');\n              }\n              transaction[key] = val;\n              transactionStorage.setStorage(transaction);\n            },\n            removeItem: (key) => {\n              const transaction = transactionStorage.getStorage();\n              if (!transaction) {\n                return;\n              }\n              delete transaction[key];\n              transactionStorage.setStorage(transaction);\n            }\n          };\n        }\n      }\n\n      if (!storage) {\n        return null;\n      }\n\n      return new SavedObject(storage, IDX_RESPONSE_STORAGE_NAME);\n    }\n  };\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2021, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { OktaAuthIdxInterface, IdxTransactionMeta, IdxTransactionMetaOptions } from './types';\nimport { removeNils, warn } from '../util';\nimport { createOAuthMeta, PKCETransactionMeta } from '../oidc';\n\n// Calculate new values\nexport async function createTransactionMeta(\n  authClient: OktaAuthIdxInterface,\n  options: IdxTransactionMetaOptions = {}\n): Promise<IdxTransactionMeta> {\n  const tokenParams = await authClient.token.prepareTokenParams(options);\n  const pkceMeta = createOAuthMeta(authClient, tokenParams) as PKCETransactionMeta;\n  let {\n    flow = 'default',\n    withCredentials = true,\n    activationToken = undefined,\n    recoveryToken = undefined,\n    maxAge = undefined,\n  } = { ...authClient.options, ...options }; // local options override SDK options\n\n  const meta: IdxTransactionMeta = {\n    ...pkceMeta,\n    flow,\n    withCredentials,\n    activationToken,\n    recoveryToken,\n    maxAge\n  };\n  return meta;\n}\n\nexport function hasSavedInteractionHandle(\n  authClient: OktaAuthIdxInterface,\n  options?: IdxTransactionMetaOptions\n): boolean {\n  const savedMeta = getSavedTransactionMeta(authClient, options);\n  if (savedMeta?.interactionHandle) {\n    return true;\n  }\n  return false;\n}\n\n// Returns the saved transaction meta, if it exists and is valid\nexport function getSavedTransactionMeta(\n  authClient: OktaAuthIdxInterface,\n  options?: IdxTransactionMetaOptions\n): IdxTransactionMeta | undefined {\n  options = removeNils(options);\n  options = { ...authClient.options, ...options }; // local options override SDK options\n  let savedMeta;\n  try {\n    savedMeta = authClient.transactionManager.load(options) as IdxTransactionMeta;\n  } catch (e) {\n    // ignore errors here\n  }\n\n  if (!savedMeta) {\n    return;\n  }\n\n  if (isTransactionMetaValid(savedMeta, options)) {\n    return savedMeta;\n  }\n\n  // existing meta is not valid for this configuration\n  // this is common when changing configuration in local development environment\n  // in a production environment, this may indicate that two apps are sharing a storage key\n  warn('Saved transaction meta does not match the current configuration. ' + \n    'This may indicate that two apps are sharing a storage key.');\n\n}\n\nexport async function getTransactionMeta(\n  authClient: OktaAuthIdxInterface,\n  options?: IdxTransactionMetaOptions\n): Promise<IdxTransactionMeta> {\n  options = removeNils(options);\n  options = { ...authClient.options, ...options }; // local options override SDK options\n  // Load existing transaction meta from storage\n  const validExistingMeta = getSavedTransactionMeta(authClient, options);\n  if (validExistingMeta) {\n    return validExistingMeta;\n  }\n  // No existing? Create new transaction meta.\n  return createTransactionMeta(authClient, options);\n}\n\nexport function saveTransactionMeta (authClient: OktaAuthIdxInterface, meta): void {\n  authClient.transactionManager.save(meta, { muteWarning: true });\n}\n\nexport function clearTransactionMeta (authClient: OktaAuthIdxInterface): void {\n  authClient.transactionManager.clear();\n}\n\nexport function isTransactionMetaValid (meta, options: IdxTransactionMetaOptions  = {}): boolean {\n  // Validate against certain options. If these exist in options, they must match in meta\n  const keys = [\n    'issuer',\n    'clientId',\n    'redirectUri',\n    'state',\n    'codeChallenge',\n    'codeChallengeMethod',\n    'activationToken',\n    'recoveryToken'\n  ];\n  if (isTransactionMetaValidForOptions(meta, options, keys) === false) {\n    return false;\n  }\n\n  // Validate configured flow\n  const { flow } = options;\n  if (isTransactionMetaValidForFlow(meta, flow) === false) {\n    return false;\n  }\n\n  return true;\n}\n\nexport function isTransactionMetaValidForFlow(meta, flow) {\n  // Specific flows should not share transaction data\n  const shouldValidateFlow = flow && flow !== 'default' && flow !== 'proceed';\n  if (shouldValidateFlow) {\n    if (flow !== meta.flow) {\n      // The flow has changed; abandon the old transaction\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function isTransactionMetaValidForOptions(meta, options, keys) {\n  // returns false if values in meta do not match options\n  // if the option does not have a value for a specific key, it is ignored\n  const mismatch = keys.some(key => {\n    const value = options[key];\n    if (value && value !== meta[key]) {\n      return true;\n    }\n  });\n  return !mismatch;\n}\n","/*!\n * Copyright (c) 2021-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { APIError } from '../../errors/types';\nimport {\n  OktaAuthOAuthInterface,\n  Tokens,\n  TransactionManagerConstructor,\n  TransactionManagerInterface\n} from '../../oidc/types';\nimport { FlowIdentifier } from './FlowIdentifier';\nimport {\n  IdxActions,\n  IdxAuthenticator,\n  IdxContext,\n  IdxForm,\n  IdxMessage,\n  IdxOption,\n  IdxRemediation,\n  IdxResponse,\n  RawIdxResponse,\n  IdxActionParams,\n  IdpConfig,\n  IdxToPersist,\n} from './idx-js';\nimport {\n  AccountUnlockOptions,\n  AuthenticationOptions,\n  CancelOptions,\n  InteractOptions,\n  IntrospectOptions,\n  OktaAuthIdxOptions,\n  PasswordRecoveryOptions,\n  ProceedOptions,\n  RegistrationOptions,\n  StartOptions,\n  IdxTransactionMetaOptions\n} from './options';\nimport { IdxTransactionMeta } from './meta';\nimport { IdxStorageManagerInterface, SavedIdxResponse } from './storage';\n\nexport enum IdxStatus {\n  SUCCESS = 'SUCCESS',\n  PENDING = 'PENDING',\n  FAILURE = 'FAILURE',\n  TERMINAL = 'TERMINAL',\n  CANCELED = 'CANCELED',\n}\n\nexport enum AuthenticatorKey {\n  OKTA_PASSWORD = 'okta_password',\n  OKTA_EMAIL = 'okta_email',\n  PHONE_NUMBER = 'phone_number',\n  GOOGLE_AUTHENTICATOR = 'google_otp',\n  SECURITY_QUESTION = 'security_question',\n  OKTA_VERIFY = 'okta_verify',\n  WEBAUTHN = 'webauthn',\n}\n\nexport type Input = {\n  name: string;\n  key?: string;\n  type?: string;\n  label?: string;\n  value?: string | {form: IdxForm} | Input[];\n  minLength?: number;\n  maxLength?: number;\n  secret?: boolean;\n  required?: boolean;\n  options?: IdxOption[];\n  mutable?: boolean;\n  visible?: boolean;\n}\n\n\nexport interface IdxPollOptions {\n  required?: boolean;\n  refresh?: number;\n}\n\nexport type NextStep = {\n  name: string;\n  authenticator?: IdxAuthenticator;\n  canSkip?: boolean;\n  canResend?: boolean;\n  inputs?: Input[];\n  poll?: IdxPollOptions;\n  authenticatorEnrollments?: IdxAuthenticator[];\n  // eslint-disable-next-line no-use-before-define\n  action?: (params?: IdxActionParams) => Promise<IdxTransaction>;\n  idp?: IdpConfig;\n  href?: string;\n  relatesTo?: {\n    type?: string;\n    value: IdxAuthenticator;\n  };\n  refresh?: number;\n}\n\nexport enum IdxFeature {\n  PASSWORD_RECOVERY = 'recover-password',\n  REGISTRATION = 'enroll-profile',\n  SOCIAL_IDP = 'redirect-idp',\n  ACCOUNT_UNLOCK = 'unlock-account',\n}\n\n\nexport interface IdxTransaction {\n  status: IdxStatus;\n  tokens?: Tokens;\n  nextStep?: NextStep;\n  messages?: IdxMessage[];\n  error?: APIError | IdxResponse;\n  meta?: IdxTransactionMeta;\n  enabledFeatures?: IdxFeature[];\n  availableSteps?: NextStep[];\n  requestDidSucceed?: boolean;\n  stepUp?: boolean;\n  \n  // from idx-js, used by signin widget\n  proceed: (remediationName: string, params: unknown) => Promise<IdxResponse>;\n  neededToProceed: IdxRemediation[];\n  rawIdxState: RawIdxResponse;\n  interactionCode?: string;\n  actions: IdxActions;\n  context: IdxContext;\n}\n\n\nexport type Authenticator = {\n  id?: string;\n  key?: string;\n  methodType?: string;\n  phoneNumber?: string;\n  channel?: string;\n};\n\nexport function isAuthenticator(obj: any): obj is Authenticator {\n  return obj && (obj.key || obj.id);\n}\n\nexport interface RemediationResponse {\n  idxResponse: IdxResponse;\n  nextStep?: NextStep;\n  messages?: IdxMessage[];\n  terminal?: boolean;\n  canceled?: boolean;\n}\n\nexport interface InteractResponse {\n  state?: string;\n  interactionHandle: string;\n  meta: IdxTransactionMeta;\n}\n\nexport interface EmailVerifyCallbackResponse {\n  state: string;\n  otp: string;\n}\n\nexport interface IdxAPI {\n  // lowest level api\n  interact: (options?: InteractOptions) => Promise<InteractResponse>;\n  introspect: (options?: IntrospectOptions) => Promise<IdxResponse>;\n  makeIdxResponse: (rawIdxResponse: RawIdxResponse, toPersist: IdxToPersist, requestDidSucceed: boolean) => IdxResponse;\n\n  // flow entrypoints\n  authenticate: (options?: AuthenticationOptions) => Promise<IdxTransaction>;\n  register: (options?: RegistrationOptions) => Promise<IdxTransaction>;\n  recoverPassword: (options?: PasswordRecoveryOptions) => Promise<IdxTransaction>;\n  unlockAccount: (options?: AccountUnlockOptions) => Promise<IdxTransaction>;\n  poll: (options?: IdxPollOptions) => Promise<IdxTransaction>;\n\n  // flow control\n  start: (options?: StartOptions) => Promise<IdxTransaction>;\n  canProceed(options?: ProceedOptions): boolean;\n  proceed: (options?: ProceedOptions) => Promise<IdxTransaction>;\n  cancel: (options?: CancelOptions) => Promise<IdxTransaction>;\n  getFlow(): FlowIdentifier | undefined;\n  setFlow(flow: FlowIdentifier): void;\n\n  // call `start` instead of `startTransaction`. `startTransaction` will be removed in next major version (7.0)\n  startTransaction: (options?: StartOptions) => Promise<IdxTransaction>;\n\n  // redirect callbacks\n  isInteractionRequired: (hashOrSearch?: string) => boolean;\n  isInteractionRequiredError: (error: Error) => boolean; \n  handleInteractionCodeRedirect: (url: string) => Promise<void>;\n  isEmailVerifyCallback: (search: string) => boolean;\n  parseEmailVerifyCallback: (search: string) => EmailVerifyCallbackResponse;\n  handleEmailVerifyCallback: (search: string) => Promise<IdxTransaction | undefined>;\n  isEmailVerifyCallbackError: (error: Error) => boolean;\n\n  // transaction meta\n  getSavedTransactionMeta: (options?: IdxTransactionMetaOptions) => IdxTransactionMeta | undefined;\n  createTransactionMeta: (options?: IdxTransactionMetaOptions) => Promise<IdxTransactionMeta>;\n  getTransactionMeta: (options?: IdxTransactionMetaOptions) => Promise<IdxTransactionMeta>;\n  saveTransactionMeta: (meta: unknown) => void;\n  clearTransactionMeta: () => void;\n  isTransactionMetaValid: (meta: unknown) => boolean;\n}\n\nexport interface IdxTransactionManagerInterface extends TransactionManagerInterface {\n  saveIdxResponse(data: SavedIdxResponse): void;\n  loadIdxResponse(options?: IntrospectOptions): SavedIdxResponse | null;\n  clearIdxResponse(): void;\n}\n\nexport type IdxTransactionManagerConstructor = TransactionManagerConstructor<IdxTransactionManagerInterface>;\n\nexport interface OktaAuthIdxInterface\n<\n  M extends IdxTransactionMeta = IdxTransactionMeta,\n  S extends IdxStorageManagerInterface<M> = IdxStorageManagerInterface<M>,\n  O extends OktaAuthIdxOptions = OktaAuthIdxOptions,\n  TM extends IdxTransactionManagerInterface = IdxTransactionManagerInterface\n>\n  extends OktaAuthOAuthInterface<M, S, O, TM>\n{\n  idx: IdxAPI;\n}\n","/* eslint-disable no-use-before-define */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { Input } from './api';\n\n\n// TODO: remove when idx-js provides type information\n\nexport interface ChallengeData {\n  challenge: string; \n  userVerification: string; \n  extensions?: {\n    appid: string;\n  };\n}\nexport interface ActivationData {\n  challenge: string;\n  rp: {\n    name: string;\n  };\n  user: {\n    id: string;\n    name: string;\n    displayName: string;\n  };\n  pubKeyCredParams: {\n    type: string;\n    alg: number;\n  }[];\n  attestation?: string;\n  authenticatorSelection?: {\n    userVerification?: string;\n    authenticatorAttachment?: string;\n    requireResidentKey?: boolean;\n    residentKey?: string;\n  };\n  excludeCredentials?: {\n    id: string;\n    type: string;\n  }[];\n}\nexport interface IdxAuthenticatorMethod {\n  type: string;\n}\nexport interface IdxAuthenticator {\n  displayName: string;\n  id: string;\n  key: string;\n  methods: IdxAuthenticatorMethod[];\n  type: string;\n  settings?: {\n    complexity?: unknown;\n    age?: unknown;\n  };\n  contextualData?: {\n    enrolledQuestion?: {\n      question: string;\n      questionKey: string;\n    };\n    qrcode?: { \n      href: string; \n      method: string; \n      type: string; \n    };\n    sharedSecret?: string;\n    questions?: {\n      questionKey: string;\n      question: string;\n    }[];\n    questionKeys?: string[];\n    selectedChannel?: string;\n    activationData?: ActivationData;\n    challengeData?: ChallengeData;\n  };\n  credentialId?: string;\n  enrollmentId?: string;\n  profile?: Record<string, unknown>;\n  resend?: Record<string, unknown>;\n  poll?: Record<string, unknown>;\n  recover?: Record<string, unknown>;\n}\n\nexport interface IdxForm {\n  value: IdxRemediationValue[];\n}\n\nexport interface IdxOption {\n  value: string | {form: IdxForm} | Input[];\n  label: string;\n  relatesTo?: IdxAuthenticator;\n}\n\nexport interface IdpConfig {\n  id: string;\n  name: string;\n}\n\nexport interface IdxRemediationValueForm {\n  form: IdxForm;\n}\n\nexport interface IdxRemediationValue {\n  name: string;\n  type?: string;\n  required?: boolean;\n  secret?: boolean;\n  visible?: boolean;\n  mutable?: boolean;\n  value?: string | IdxRemediationValueForm;\n  label?: string;\n  form?: IdxForm;\n  options?: IdxOption[];\n  messages?: IdxMessages;\n  minLength?: number;\n  maxLength?: number;\n  relatesTo?: {\n    type?: string;\n    value: IdxAuthenticator;\n  };\n}\n\nexport interface IdxRemediation {\n  name: string;\n  label?: string;\n  value?: IdxRemediationValue[];\n  relatesTo?: {\n    type?: string;\n    value: IdxAuthenticator;\n  };\n  idp?: IdpConfig;\n  href?: string;\n  method?: string;\n  type?: string;\n  accepts?: string;\n  produces?: string;\n  refresh?: number;\n  rel?: string[];\n  action?: (payload?: IdxActionParams) => Promise<IdxResponse>;\n}\n\nexport interface IdxContext {\n  version: string;\n  stateHandle: string;\n  expiresAt: string;\n  intent: string;\n  currentAuthenticator: {\n    type: string;\n    value: IdxAuthenticator;\n  };\n  authenticators: {\n    type: string;\n    value: IdxAuthenticator[];\n  };\n  authenticatorEnrollments: {\n    type: string;\n    value: IdxAuthenticator[];\n  };\n  enrollmentAuthenticator: {\n    type: string;\n    value: IdxAuthenticator;\n  };\n  user?: {\n    type: string;\n    value: Record<string, unknown>;\n  };\n  app: {\n    type: string;\n    value: Record<string, unknown>;\n  };\n  messages?: IdxMessages;\n  success?: IdxRemediation;\n  failure?: IdxRemediation;\n}\n\nexport interface IdxMessage {\n  message: string;\n  class: string;\n  i18n: {\n    key: string;\n    params?: unknown[];\n  };\n}\n\nexport interface IdxMessages {\n  type: 'array';\n  value: IdxMessage[];\n}\n\n// JSON response from the server\nexport interface RawIdxResponse {\n  version: string;\n  stateHandle: string;\n  intent?: string;\n  expiresAt?: string;\n  remediation?: {\n    type: 'array';\n    value: IdxRemediation[];\n  };\n  messages?: IdxMessages;\n  success?: boolean;\n  successWithInteractionCode?: IdxRemediation;\n  currentAuthenticator?: {\n    type: string;\n    value: IdxAuthenticator;\n  };\n  currentAuthenticatorEnrollment?: {\n    type: string;\n    value: IdxAuthenticator;\n  };\n}\n\nexport function isRawIdxResponse(obj: any): obj is RawIdxResponse {\n  return obj && obj.version;\n}\n\nexport interface IdxActionParams {\n  [key: string]: string | boolean | number | object;\n}\n\nexport interface IdxActions {\n  [key: string]: (params?: IdxActionParams) => Promise<IdxResponse>;\n}\n\nexport interface IdxToPersist {\n  interactionHandle?: string;\n  withCredentials?: boolean;\n}\n\nexport interface IdxActionFunction {\n  (params: IdxActionParams): Promise<IdxResponse>;\n  neededParams?: Array<Array<IdxRemediationValue>>;\n}\n\nexport interface IdxResponse {\n  proceed: (remediationName: string, params: unknown) => Promise<IdxResponse>;\n  neededToProceed: IdxRemediation[];\n  rawIdxState: RawIdxResponse;\n  interactionCode?: string;\n  actions: IdxActions;\n  toPersist: IdxToPersist;\n  context?: IdxContext;\n  requestDidSucceed?: boolean;\n  stepUp?: boolean;\n}\n\nexport function isIdxResponse(obj: any): obj is IdxResponse {\n  return obj && isRawIdxResponse(obj.rawIdxState);\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { run } from './run';\nimport { hasSavedInteractionHandle } from './transactionMeta';\nimport { startTransaction } from './startTransaction';\nimport { AuthSdkError } from '../errors';\nimport { \n  OktaAuthIdxInterface, \n  AccountUnlockOptions, \n  IdxTransaction,\n  IdxFeature,\n} from './types';\n\nexport async function unlockAccount(\n  authClient: OktaAuthIdxInterface, options: AccountUnlockOptions = {}\n): Promise<IdxTransaction> {\n  options.flow = 'unlockAccount';\n\n  // Only check at the beginning of the transaction\n  if (!hasSavedInteractionHandle(authClient)) {\n    const { enabledFeatures } = await startTransaction(authClient, { ...options, autoRemediate: false });\n    if (enabledFeatures && !enabledFeatures.includes(IdxFeature.ACCOUNT_UNLOCK)) {\n      throw new AuthSdkError(\n        'Self Service Account Unlock is not supported based on your current org configuration.'\n      );\n    }\n  }\n\n  return run(authClient, { ...options });\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport default class SdkClock {\n  localOffset: number;\n\n  constructor(localOffset) {\n    // Calculated local clock offset from server time (in milliseconds). Can be positive or negative.\n    this.localOffset = parseInt(localOffset || 0);\n  }\n\n  // factory method. Create an instance of a clock from current context.\n  static create(/* sdk, options */): SdkClock {\n    // TODO: calculate localOffset\n    var localOffset = 0;\n    return new SdkClock(localOffset);\n  }\n\n  // Return the current time (in seconds)\n  now() {\n    var now = (Date.now() + this.localOffset) / 1000;\n    return now;\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { removeNils, clone } from '../util';\nimport { AuthSdkError } from '../errors';\nimport { validateToken  } from '../oidc/util';\nimport { isLocalhost, isIE11OrLess } from '../features';\nimport SdkClock from '../clock';\nimport {\n  Token, \n  Tokens, \n  TokenType, \n  TokenManagerOptions, \n  isIDToken, \n  isAccessToken,\n  isRefreshToken,\n  TokenManagerErrorEventHandler,\n  TokenManagerSetStorageEventHandler,\n  TokenManagerRenewEventHandler,\n  TokenManagerEventHandler,\n  TokenManagerInterface,\n  RefreshToken,\n  AccessTokenCallback,\n  IDTokenCallback,\n  RefreshTokenCallback,\n  EVENT_RENEWED,\n  EVENT_ADDED,\n  EVENT_ERROR,\n  EVENT_EXPIRED,\n  EVENT_REMOVED,\n  EVENT_SET_STORAGE,\n  TokenManagerAnyEventHandler,\n  TokenManagerAnyEvent,\n  OktaAuthOAuthInterface\n} from './types';\nimport { REFRESH_TOKEN_STORAGE_KEY, TOKEN_STORAGE_NAME } from '../constants';\nimport { EventEmitter } from '../base/types';\nimport { StorageOptions, StorageProvider, StorageType } from '../storage/types';\n\nconst DEFAULT_OPTIONS = {\n  // TODO: remove in next major version - OKTA-473815\n  autoRenew: true,\n  autoRemove: true,\n  syncStorage: true,\n  // --- //\n  clearPendingRemoveTokens: true,\n  storage: undefined, // will use value from storageManager config\n  expireEarlySeconds: 30,\n  storageKey: TOKEN_STORAGE_NAME\n};\n\ninterface TokenManagerState {\n  expireTimeouts: Record<string, unknown>;\n  renewPromise: Promise<Token | undefined> | null;\n}\nfunction defaultState(): TokenManagerState {\n  return {\n    expireTimeouts: {},\n    renewPromise: null\n  };\n}\nexport class TokenManager implements TokenManagerInterface {\n  private sdk: OktaAuthOAuthInterface;\n  private clock: SdkClock;\n  private emitter: EventEmitter;\n  private storage: StorageProvider;\n  private state: TokenManagerState;\n  private options: TokenManagerOptions;\n\n  on(event: typeof EVENT_RENEWED, handler: TokenManagerRenewEventHandler, context?: object): void;\n  on(event: typeof EVENT_ERROR, handler: TokenManagerErrorEventHandler, context?: object): void;\n  on(event: typeof EVENT_SET_STORAGE, handler: TokenManagerSetStorageEventHandler, context?: object): void;\n  on(event: typeof EVENT_EXPIRED | typeof EVENT_ADDED | typeof EVENT_REMOVED, \n    handler: TokenManagerEventHandler, context?: object): void;\n  on(event: TokenManagerAnyEvent, handler: TokenManagerAnyEventHandler, context?: object): void {\n    if (context) {\n      this.emitter.on(event, handler, context);\n    } else {\n      this.emitter.on(event, handler);\n    }\n  }\n\n  off(event: typeof EVENT_RENEWED, handler?: TokenManagerRenewEventHandler): void;\n  off(event: typeof EVENT_ERROR, handler?: TokenManagerErrorEventHandler): void;\n  off(event: typeof EVENT_SET_STORAGE, handler?: TokenManagerSetStorageEventHandler): void;\n  off(event: typeof EVENT_EXPIRED | typeof EVENT_ADDED | typeof EVENT_REMOVED, \n    handler?: TokenManagerEventHandler): void;\n  off(event: TokenManagerAnyEvent, handler?: TokenManagerAnyEventHandler): void {\n    if (handler) {\n      this.emitter.off(event, handler);\n    } else {\n      this.emitter.off(event);\n    }\n  }\n\n  // eslint-disable-next-line complexity\n  constructor(sdk: OktaAuthOAuthInterface, options: TokenManagerOptions = {}) {\n    this.sdk = sdk;\n    this.emitter = (sdk as any).emitter;\n    if (!this.emitter) {\n      throw new AuthSdkError('Emitter should be initialized before TokenManager');\n    }\n    \n    options = Object.assign({}, DEFAULT_OPTIONS, removeNils(options));\n    if (!isLocalhost()) {\n      options.expireEarlySeconds = DEFAULT_OPTIONS.expireEarlySeconds;\n    }\n\n    this.options = options;\n\n    const storageOptions: StorageOptions = removeNils({\n      storageKey: options.storageKey,\n      secure: options.secure,\n    });\n    if (typeof options.storage === 'object') {\n      // A custom storage provider must implement getItem(key) and setItem(key, val)\n      storageOptions.storageProvider = options.storage;\n    } else if (options.storage) {\n      storageOptions.storageType = options.storage as StorageType;\n    }\n\n    this.storage = sdk.storageManager.getTokenStorage({...storageOptions, useSeparateCookies: true});\n    this.clock = SdkClock.create(/* sdk, options */);\n    this.state = defaultState();\n  }\n\n  start() {\n    if (this.options.clearPendingRemoveTokens) {\n      this.clearPendingRemoveTokens();\n    }\n    this.setExpireEventTimeoutAll();\n  }\n  \n  stop() {\n    this.clearExpireEventTimeoutAll();\n  }\n\n  getOptions(): TokenManagerOptions {\n    return clone(this.options);\n  }\n  \n  getExpireTime(token) {\n    const expireEarlySeconds = this.options.expireEarlySeconds || 0;\n    var expireTime = token.expiresAt - expireEarlySeconds;\n    return expireTime;\n  }\n  \n  hasExpired(token) {\n    var expireTime = this.getExpireTime(token);\n    return expireTime <= this.clock.now();\n  }\n  \n  emitExpired(key, token) {\n    this.emitter.emit(EVENT_EXPIRED, key, token);\n  }\n  \n  emitRenewed(key, freshToken, oldToken) {\n    this.emitter.emit(EVENT_RENEWED, key, freshToken, oldToken);\n  }\n  \n  emitAdded(key, token) {\n    this.emitter.emit(EVENT_ADDED, key, token);\n  }\n  \n  emitRemoved(key, token?) {\n    this.emitter.emit(EVENT_REMOVED, key, token);\n  }\n  \n  emitError(error) {\n    this.emitter.emit(EVENT_ERROR, error);\n  }\n  \n  clearExpireEventTimeout(key) {\n    clearTimeout(this.state.expireTimeouts[key] as any);\n    delete this.state.expireTimeouts[key];\n  \n    // Remove the renew promise (if it exists)\n    this.state.renewPromise = null;\n  }\n  \n  clearExpireEventTimeoutAll() {\n    var expireTimeouts = this.state.expireTimeouts;\n    for (var key in expireTimeouts) {\n      if (!Object.prototype.hasOwnProperty.call(expireTimeouts, key)) {\n        continue;\n      }\n      this.clearExpireEventTimeout(key);\n    }\n  }\n  \n  setExpireEventTimeout(key, token) {\n    if (isRefreshToken(token)) {\n      return;\n    }\n\n    var expireTime = this.getExpireTime(token);\n    var expireEventWait = Math.max(expireTime - this.clock.now(), 0) * 1000;\n  \n    // Clear any existing timeout\n    this.clearExpireEventTimeout(key);\n  \n    var expireEventTimeout = setTimeout(() => {\n      this.emitExpired(key, token);\n    }, expireEventWait);\n  \n    // Add a new timeout\n    this.state.expireTimeouts[key] = expireEventTimeout;\n  }\n  \n  setExpireEventTimeoutAll() {\n    var tokenStorage = this.storage.getStorage();\n    for(var key in tokenStorage) {\n      if (!Object.prototype.hasOwnProperty.call(tokenStorage, key)) {\n        continue;\n      }\n      var token = tokenStorage[key];\n      this.setExpireEventTimeout(key, token);\n    }\n  }\n  \n  // reset timeouts to setup autoRenew for tokens from other document context (tabs)\n  resetExpireEventTimeoutAll() {\n    this.clearExpireEventTimeoutAll();\n    this.setExpireEventTimeoutAll();\n  }\n  \n  add(key, token: Token) {\n    var tokenStorage = this.storage.getStorage();\n    validateToken(token);\n    tokenStorage[key] = token;\n    this.storage.setStorage(tokenStorage);\n    this.emitSetStorageEvent();\n    this.emitAdded(key, token);\n    this.setExpireEventTimeout(key, token);\n  }\n  \n  getSync(key): Token {\n    var tokenStorage = this.storage.getStorage();\n    return tokenStorage[key];\n  }\n  \n  async get(key): Promise<Token> {\n    return this.getSync(key);\n  }\n  \n  getTokensSync(): Tokens {\n    const tokens = {} as Tokens;\n    const tokenStorage = this.storage.getStorage();\n    Object.keys(tokenStorage).forEach(key => {\n      const token = tokenStorage[key];\n      if (isAccessToken(token)) {\n        tokens.accessToken = token;\n      } else if (isIDToken(token)) {\n        tokens.idToken = token;\n      } else if (isRefreshToken(token)) { \n        tokens.refreshToken = token;\n      }\n    });\n    return tokens;\n  }\n  \n  async getTokens(): Promise<Tokens> {\n    return this.getTokensSync();\n  }\n\n  getStorageKeyByType(type: TokenType): string {\n    const tokenStorage = this.storage.getStorage();\n    const key = Object.keys(tokenStorage).filter(key => {\n      const token = tokenStorage[key];\n      return (isAccessToken(token) && type === 'accessToken') \n        || (isIDToken(token) && type === 'idToken')\n        || (isRefreshToken(token) && type === 'refreshToken');\n    })[0];\n    return key;\n  }\n\n  private getTokenType(token: Token): TokenType {\n    if (isAccessToken(token)) {\n      return 'accessToken';\n    }\n    if (isIDToken(token)) {\n      return 'idToken';\n    }\n    if(isRefreshToken(token)) {\n      return 'refreshToken';\n    }\n    throw new AuthSdkError('Unknown token type');\n  }\n\n  // for synchronization of LocalStorage cross tabs for IE11\n  private emitSetStorageEvent() {\n    if (isIE11OrLess()) {\n      const storage = this.storage.getStorage();\n      this.emitter.emit(EVENT_SET_STORAGE, storage);\n    }\n  }\n\n  // used in `SyncStorageService` for synchronization of LocalStorage cross tabs for IE11\n  public getStorage() {\n    return this.storage;\n  }\n\n  setTokens(\n    tokens: Tokens,\n    // TODO: callbacks can be removed in the next major version OKTA-407224\n    accessTokenCb?: AccessTokenCallback, \n    idTokenCb?: IDTokenCallback,\n    refreshTokenCb?: RefreshTokenCallback\n  ): void {\n    const handleTokenCallback = (key, token) => {\n      const type = this.getTokenType(token);\n      if (type === 'accessToken') {\n        accessTokenCb && accessTokenCb(key, token);\n      } else if (type === 'idToken') {\n        idTokenCb && idTokenCb(key, token);\n      } else if (type === 'refreshToken') {\n        refreshTokenCb && refreshTokenCb(key, token);\n      }\n    };\n    const handleAdded = (key, token) => {\n      this.emitAdded(key, token);\n      this.setExpireEventTimeout(key, token);\n      handleTokenCallback(key, token);\n    };\n    const handleRenewed = (key, token, oldToken) => {\n      this.emitRenewed(key, token, oldToken);\n      this.clearExpireEventTimeout(key);\n      this.setExpireEventTimeout(key, token);\n      handleTokenCallback(key, token);\n    };\n    const handleRemoved = (key, token) => {\n      this.clearExpireEventTimeout(key);\n      this.emitRemoved(key, token);\n      handleTokenCallback(key, token);\n    };\n    \n    const types: TokenType[] = ['idToken', 'accessToken', 'refreshToken'];\n    const existingTokens = this.getTokensSync();\n\n    // valid tokens\n    types.forEach((type) => {\n      const token = tokens[type];\n      if (token) {\n        validateToken(token, type);\n      }\n    });\n  \n    // add token to storage\n    const storage = types.reduce((storage, type) => {\n      const token = tokens[type];\n      if (token) {\n        const storageKey = this.getStorageKeyByType(type) || type;\n        storage[storageKey] = token;\n      }\n      return storage;\n    }, {});\n    this.storage.setStorage(storage);\n    this.emitSetStorageEvent();\n\n    // emit event and start expiration timer\n    types.forEach(type => {\n      const newToken = tokens[type];\n      const existingToken = existingTokens[type];\n      const storageKey = this.getStorageKeyByType(type) || type;\n      if (newToken && existingToken) { // renew\n        // call handleRemoved first, since it clears timers\n        handleRemoved(storageKey, existingToken);\n        handleAdded(storageKey, newToken);\n        handleRenewed(storageKey, newToken, existingToken);\n      } else if (newToken) { // add\n        handleAdded(storageKey, newToken);\n      } else if (existingToken) { //remove\n        handleRemoved(storageKey, existingToken);\n      }\n    });\n  }\n  \n  remove(key) {\n    // Clear any listener for this token\n    this.clearExpireEventTimeout(key);\n  \n    var tokenStorage = this.storage.getStorage();\n    var removedToken = tokenStorage[key];\n    delete tokenStorage[key];\n    this.storage.setStorage(tokenStorage);\n    this.emitSetStorageEvent();\n  \n    this.emitRemoved(key, removedToken);\n  }\n  \n  // TODO: this methods is redundant and can be removed in the next major version OKTA-407224\n  async renewToken(token) {\n    return this.sdk.token?.renew(token);\n  }\n  // TODO: this methods is redundant and can be removed in the next major version OKTA-407224\n  validateToken(token: Token) {\n    return validateToken(token);\n  }\n\n  // TODO: renew method should take no param, change in the next major version OKTA-407224\n  renew(key): Promise<Token | undefined> {\n    // Multiple callers may receive the same promise. They will all resolve or reject from the same request.\n    if (this.state.renewPromise) {\n      return this.state.renewPromise;\n    }\n  \n    try {\n      var token = this.getSync(key);\n      if (!token) {\n        throw new AuthSdkError('The tokenManager has no token for the key: ' + key);\n      }\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  \n    // Remove existing autoRenew timeout\n    this.clearExpireEventTimeout(key);\n  \n    // A refresh token means a replace instead of renewal\n    // Store the renew promise state, to avoid renewing again\n    const renewPromise = this.state.renewPromise = this.sdk.token.renewTokens()\n      .then(tokens => {\n        this.setTokens(tokens);\n\n        // resolve token based on the key\n        const tokenType = this.getTokenType(token);\n        return tokens[tokenType];\n      })\n      .catch(err => {\n        // If renew fails, remove token from storage and emit error\n        this.remove(key);\n        err.tokenKey = key;\n        this.emitError(err);\n        throw err;\n      })\n      .finally(() => {\n        // Remove existing promise key\n        this.state.renewPromise = null;\n      });\n  \n    return renewPromise;\n  }\n  \n  clear() {\n    const tokens = this.getTokensSync();\n    this.clearExpireEventTimeoutAll();\n    this.storage.clearStorage();\n    this.emitSetStorageEvent();\n\n    Object.keys(tokens).forEach(key => {\n      this.emitRemoved(key, tokens[key]);\n    });\n  }\n\n  clearPendingRemoveTokens() {\n    const tokenStorage = this.storage.getStorage();\n    const removedTokens = {};\n    Object.keys(tokenStorage).forEach(key => {\n      if (tokenStorage[key].pendingRemove) {\n        removedTokens[key] = tokenStorage[key];\n        delete tokenStorage[key];\n      }\n    });\n    this.storage.setStorage(tokenStorage);\n    this.emitSetStorageEvent();\n    Object.keys(removedTokens).forEach(key => {\n      this.clearExpireEventTimeout(key);\n      this.emitRemoved(key, removedTokens[key]);\n    });\n  }\n\n  updateRefreshToken(token: RefreshToken) {\n    const key = this.getStorageKeyByType('refreshToken') || REFRESH_TOKEN_STORAGE_KEY;\n\n    // do not emit any event\n    var tokenStorage = this.storage.getStorage();\n    validateToken(token);\n    tokenStorage[key] = token;\n    this.storage.setStorage(tokenStorage);\n    this.emitSetStorageEvent();\n  }\n\n  removeRefreshToken () {\n    const key = this.getStorageKeyByType('refreshToken') || REFRESH_TOKEN_STORAGE_KEY;\n    this.remove(key);\n  }\n\n  addPendingRemoveFlags() {\n    const tokens = this.getTokensSync();\n    Object.keys(tokens).forEach(key => {\n      tokens[key].pendingRemove = true;\n    });\n    this.setTokens(tokens);\n  }\n  \n}\n","import { OAuthStorageManagerInterface, OAuthTransactionMeta, isTransactionMeta } from '../types';\n\nconst MAX_ENTRY_LIFETIME = 30 * 60 * 1000; // 30 minutes\n\nexport function pruneSharedStorage<M extends OAuthTransactionMeta>(storageManager: OAuthStorageManagerInterface<M>) {\n  const sharedStorage = storageManager.getSharedTansactionStorage();\n  const entries = sharedStorage.getStorage();\n  Object.keys(entries).forEach(state => {\n    const entry = entries[state];\n    const age = Date.now() - entry.dateCreated;\n    if (age > MAX_ENTRY_LIFETIME) {\n      delete entries[state];\n    }\n  });\n  sharedStorage.setStorage(entries);\n}\n\nexport function saveTransactionToSharedStorage<M extends OAuthTransactionMeta>(\n  storageManager: OAuthStorageManagerInterface<M>, state: string, meta: M\n) {\n  const sharedStorage = storageManager.getSharedTansactionStorage();\n  const entries = sharedStorage.getStorage();\n  entries[state] = {\n    dateCreated: Date.now(),\n    transaction: meta\n  };\n  sharedStorage.setStorage(entries);\n}\n\n\nexport function loadTransactionFromSharedStorage<M extends OAuthTransactionMeta>(\n  storageManager: OAuthStorageManagerInterface<M>, state: string\n) {\n  const sharedStorage = storageManager.getSharedTansactionStorage();\n  const entries = sharedStorage.getStorage();\n  const entry = entries[state];\n  if (entry && entry.transaction && isTransactionMeta(entry.transaction)) {\n    return entry.transaction;\n  }\n  return null;\n}\n\nexport function clearTransactionFromSharedStorage<M extends OAuthTransactionMeta>(\n  storageManager: OAuthStorageManagerInterface<M>, state: string\n) {\n  const sharedStorage = storageManager.getSharedTansactionStorage();\n  const entries = sharedStorage.getStorage();\n  delete entries[state];\n  sharedStorage.setStorage(entries);\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { StorageProvider } from '../storage/types';\nimport {\n  TransactionMeta,\n  isTransactionMeta,\n  TransactionMetaOptions,\n  TransactionManagerOptions,\n  OAuthTransactionMeta,\n  OAuthStorageManagerInterface,\n  ClearTransactionMetaOptions,\n  TransactionManagerInterface,\n  PKCETransactionMeta\n} from './types';\nimport { warn } from '../util';\nimport {\n  clearTransactionFromSharedStorage,\n  loadTransactionFromSharedStorage,\n  pruneSharedStorage,\n  saveTransactionToSharedStorage\n} from './util/sharedStorage';\n\n\nexport function createTransactionManager\n<\n  M extends OAuthTransactionMeta = PKCETransactionMeta,\n  S extends OAuthStorageManagerInterface<M> = OAuthStorageManagerInterface<M>\n>\n()\n{\n  return class TransactionManager implements TransactionManagerInterface\n  {\n    options: TransactionManagerOptions;\n    storageManager: S;\n    enableSharedStorage: boolean;\n    saveLastResponse: boolean;\n\n    constructor(options: TransactionManagerOptions) {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      this.storageManager = options.storageManager! as S;\n      this.enableSharedStorage = options.enableSharedStorage === false ? false : true;\n      this.saveLastResponse = options.saveLastResponse === false ? false : true;\n      this.options = options;\n    }\n\n    // eslint-disable-next-line complexity\n    clear(options: ClearTransactionMetaOptions = {}) {\n      const transactionStorage: StorageProvider = this.storageManager.getTransactionStorage();\n      const meta = transactionStorage.getStorage();\n\n      // Clear primary storage (by default, sessionStorage on browser)\n      transactionStorage.clearStorage();\n\n      // Usually we want to also clear shared storage unless another tab may need it to continue/complete a flow\n      if (this.enableSharedStorage && options.clearSharedStorage !== false) {\n        const state = options.state || meta?.state;\n        if (state) {\n          clearTransactionFromSharedStorage(this.storageManager, state);\n        }\n      }\n    }\n\n    // eslint-disable-next-line complexity\n    save(meta: M, options: TransactionMetaOptions = {}) {\n      // There must be only one transaction executing at a time.\n      // Before saving, check to see if a transaction is already stored.\n      // An existing transaction indicates a concurrency/race/overlap condition\n\n      let storage: StorageProvider = this.storageManager.getTransactionStorage();\n      const obj = storage.getStorage();\n      // oie process may need to update transaction in the middle of process for tracking purpose\n      // false alarm might be caused \n      // TODO: revisit for a better solution, https://oktainc.atlassian.net/browse/OKTA-430919\n      if (isTransactionMeta(obj) && !options.muteWarning) {\n        // eslint-disable-next-line max-len\n        warn('a saved auth transaction exists in storage. This may indicate another auth flow is already in progress.');\n      }\n\n      storage.setStorage(meta);\n\n      // Shared storage allows continuation of transaction in another tab\n      if (this.enableSharedStorage && meta.state) {\n        saveTransactionToSharedStorage(this.storageManager, meta.state, meta);\n      }\n    }\n\n    exists(options: TransactionMetaOptions = {}): boolean {\n      try {\n        const meta = this.load(options);\n        return !!meta;\n      } catch {\n        return false;\n      }\n    }\n\n    // load transaction meta from storage\n    // eslint-disable-next-line complexity,max-statements\n    load(options: TransactionMetaOptions = {}): TransactionMeta | null {\n\n      let meta: TransactionMeta;\n\n      // If state was passed, try loading transaction data from shared storage\n      if (this.enableSharedStorage && options.state) {\n        pruneSharedStorage(this.storageManager); // prune before load\n        meta = loadTransactionFromSharedStorage(this.storageManager, options.state);\n        if (isTransactionMeta(meta)) {\n          return meta;\n        }\n      }\n\n      let storage: StorageProvider = this.storageManager.getTransactionStorage();\n      meta = storage.getStorage();\n      if (isTransactionMeta(meta)) {\n        // if we have meta in the new location, there is no need to go further\n        return meta;\n      }\n\n      return null;\n    }\n\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { JWTObject } from './types';\nimport { base64UrlToString } from '../crypto';\n\nexport function decodeToken(token: string): JWTObject {\n  var jwt = token.split('.');\n  var decodedToken: JWTObject;\n\n  try {\n    decodedToken = {\n      header: JSON.parse(base64UrlToString(jwt[0])),\n      payload: JSON.parse(base64UrlToString(jwt[1])),\n      signature: jwt[2]\n    };\n  } catch (e) {\n    throw new AuthSdkError('Malformed token');\n  }\n\n  return decodedToken;\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { isString, removeNils, toQueryString } from '../../util';\nimport { AuthSdkError } from '../../errors';\nimport { OAuthParams, TokenParams } from '../types';\n\nexport function convertTokenParamsToOAuthParams(tokenParams: TokenParams) {\n  // Quick validation\n  if (!tokenParams.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (isString(tokenParams.responseType) && tokenParams.responseType.indexOf(' ') !== -1) {\n    throw new AuthSdkError('Multiple OAuth responseTypes must be defined as an array');\n  }\n\n  // Convert our params to their actual OAuth equivalents\n  var oauthParams: OAuthParams = {\n    'client_id': tokenParams.clientId,\n    'code_challenge': tokenParams.codeChallenge,\n    'code_challenge_method': tokenParams.codeChallengeMethod,\n    'display': tokenParams.display,\n    'idp': tokenParams.idp,\n    'idp_scope': tokenParams.idpScope,\n    'login_hint': tokenParams.loginHint,\n    'max_age': tokenParams.maxAge,\n    'nonce': tokenParams.nonce,\n    'prompt': tokenParams.prompt,\n    'redirect_uri': tokenParams.redirectUri,\n    'response_mode': tokenParams.responseMode,\n    'response_type': tokenParams.responseType,\n    'sessionToken': tokenParams.sessionToken,\n    'state': tokenParams.state,\n  };\n  oauthParams = removeNils(oauthParams) as OAuthParams;\n\n  ['idp_scope', 'response_type'].forEach(function (mayBeArray) {\n    if (Array.isArray(oauthParams[mayBeArray])) {\n      oauthParams[mayBeArray] = oauthParams[mayBeArray].join(' ');\n    }\n  });\n\n  if (tokenParams.responseType!.indexOf('id_token') !== -1 &&\n    tokenParams.scopes!.indexOf('openid') === -1) {\n    throw new AuthSdkError('openid scope must be specified in the scopes argument when requesting an id_token');\n  } else {\n    oauthParams.scope = tokenParams.scopes!.join(' ');\n  }\n\n  return oauthParams;\n}\n\nexport function buildAuthorizeParams(tokenParams: TokenParams) {\n  var oauthQueryParams = convertTokenParamsToOAuthParams(tokenParams);\n  return toQueryString({ \n    ...oauthQueryParams, \n    ...(tokenParams.extraParams && { ...tokenParams.extraParams })\n  });\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { AuthSdkError } from '../../errors';\nimport { CustomUrls, OAuthParams, OAuthResponse, RefreshToken, TokenParams } from '../types';\nimport { removeNils, toQueryString } from '../../util';\nimport { httpRequest, OktaAuthHttpInterface } from '../../http';\n\nfunction validateOptions(options: TokenParams) {\n  // Quick validation\n  if (!options.clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to get a token');\n  }\n\n  if (!options.redirectUri) {\n    throw new AuthSdkError('The redirectUri passed to /authorize must also be passed to /token');\n  }\n\n  if (!options.authorizationCode && !options.interactionCode) {\n    throw new AuthSdkError('An authorization code (returned from /authorize) must be passed to /token');\n  }\n\n  if (!options.codeVerifier) {\n    throw new AuthSdkError('The \"codeVerifier\" (generated and saved by your app) must be passed to /token');\n  }\n}\n\nfunction getPostData(sdk, options: TokenParams): string {\n  // Convert Token params to OAuth params, sent to the /token endpoint\n  var params: OAuthParams = removeNils({\n    'client_id': options.clientId,\n    'redirect_uri': options.redirectUri,\n    'grant_type': options.interactionCode ? 'interaction_code' : 'authorization_code',\n    'code_verifier': options.codeVerifier\n  });\n\n  if (options.interactionCode) {\n    params['interaction_code'] = options.interactionCode;\n  } else if (options.authorizationCode) {\n    params.code = options.authorizationCode;\n  }\n\n  const { clientSecret } = sdk.options;\n  if (clientSecret) {\n    params['client_secret'] = clientSecret;\n  }\n\n  // Encode as URL string\n  return toQueryString(params).slice(1);\n}\n\n// exchange authorization code for an access token\nexport function postToTokenEndpoint(sdk, options: TokenParams, urls: CustomUrls): Promise<OAuthResponse> {\n  validateOptions(options);\n  var data = getPostData(sdk, options);\n\n  const headers = {\n    'Content-Type': 'application/x-www-form-urlencoded'\n  };\n\n  return httpRequest(sdk, {\n    url: urls.tokenUrl,\n    method: 'POST',\n    args: data,\n    headers\n  });\n}\n\nexport function postRefreshToken(\n  sdk: OktaAuthHttpInterface,\n  options: TokenParams,\n  refreshToken: RefreshToken\n): Promise<OAuthResponse> {\n  return httpRequest(sdk, {\n    url: refreshToken.tokenUrl,\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n    },\n\n    args: Object.entries({\n      client_id: options.clientId, // eslint-disable-line camelcase\n      grant_type: 'refresh_token', // eslint-disable-line camelcase\n      scope: refreshToken.scopes.join(' '),\n      refresh_token: refreshToken.refreshToken, // eslint-disable-line camelcase\n    }).map(function ([name, value]) {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      return name + '=' + encodeURIComponent(value!);\n    }).join('&'),\n  });\n}","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { get } from '../../http';\nimport { find } from '../../util';\nimport { OktaAuthOAuthInterface, WellKnownResponse } from '../types';\nimport AuthSdkError from '../../errors/AuthSdkError';\n\nexport function getWellKnown(sdk: OktaAuthOAuthInterface, issuer?: string): Promise<WellKnownResponse> {\n  var authServerUri = (issuer || sdk.options.issuer);\n  return get(sdk, authServerUri + '/.well-known/openid-configuration', {\n    cacheResponse: true\n  });\n}\n\nexport function getKey(sdk: OktaAuthOAuthInterface, issuer: string, kid: string): Promise<string> {\n  var httpCache = sdk.storageManager.getHttpCache(sdk.options.cookies);\n\n  return getWellKnown(sdk, issuer)\n  .then(function(wellKnown) {\n    var jwksUri = wellKnown['jwks_uri'];\n\n    // Check our kid against the cached version (if it exists and isn't expired)\n    var cacheContents = httpCache.getStorage();\n    var cachedResponse = cacheContents[jwksUri];\n    if (cachedResponse && Date.now()/1000 < cachedResponse.expiresAt) {\n      var cachedKey = find(cachedResponse.response.keys, {\n        kid: kid\n      });\n\n      if (cachedKey) {\n        return cachedKey;\n      }\n    }\n\n    // Remove cache for the key\n    httpCache.clearStorage(jwksUri);\n\n    // Pull the latest keys if the key wasn't in the cache\n    return get(sdk, jwksUri, {\n      cacheResponse: true\n    })\n    .then(function(res) {\n      var key = find(res.keys, {\n        kid: kid\n      });\n\n      if (key) {\n        return key;\n      }\n\n      throw new AuthSdkError('The key id, ' + kid + ', was not found in the server\\'s keys');\n    });\n  });\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/* eslint-disable max-len */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { CustomUrls, OAuthResponse, OAuthResponseType, OktaAuthOAuthInterface, TokenParams, TokenResponse } from './types';\nimport { getOAuthUrls, getDefaultTokenParams } from './util';\nimport { clone } from '../util';\nimport { postToTokenEndpoint } from './endpoints/token';\nimport { handleOAuthResponse } from './handleOAuthResponse';\n\n// codeVerifier is required. May pass either an authorizationCode or interactionCode\nexport function exchangeCodeForTokens(sdk: OktaAuthOAuthInterface, tokenParams: TokenParams, urls?: CustomUrls): Promise<TokenResponse> {\n  urls = urls || getOAuthUrls(sdk, tokenParams);\n  // build params using defaults + options\n  tokenParams = Object.assign({}, getDefaultTokenParams(sdk), clone(tokenParams));\n\n  const {\n    authorizationCode,\n    interactionCode,\n    codeVerifier,\n    clientId,\n    redirectUri,\n    scopes,\n    ignoreSignature,\n    state\n  } = tokenParams;\n\n  var getTokenOptions = {\n    clientId,\n    redirectUri,\n    authorizationCode,\n    interactionCode,\n    codeVerifier,\n  };\n\n  return postToTokenEndpoint(sdk, getTokenOptions, urls)\n    .then((response: OAuthResponse) => {\n\n      // `handleOAuthResponse` hanadles responses from both `/authorize` and `/token` endpoints\n      // Here we modify the response from `/token` so that it more closely matches a response from `/authorize`\n      // `responseType` is used to validate that the expected tokens were returned\n      const responseType: OAuthResponseType[] = ['token']; // an accessToken will always be returned\n      if (scopes!.indexOf('openid') !== -1) {\n        responseType.push('id_token'); // an idToken will be returned if \"openid\" is in the scopes\n      }\n      const handleResponseOptions: TokenParams = {\n        clientId,\n        redirectUri,\n        scopes,\n        responseType,\n        ignoreSignature,\n      };\n      return handleOAuthResponse(sdk, handleResponseOptions, response, urls!)\n        .then((response: TokenResponse) => {\n          // For compatibility, \"code\" is returned in the TokenResponse. OKTA-326091\n          response.code = authorizationCode;\n          response.state = state!;\n          return response;\n        });\n    })\n    .finally(() => {\n      sdk.transactionManager.clear();\n    });\n}","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport { PromiseQueue } from '../../util';\nimport { decodeToken } from '../decodeToken';\nimport { exchangeCodeForTokens } from '../exchangeCodeForTokens';\nimport { getUserInfo } from '../getUserInfo';\nimport { getWithoutPrompt } from '../getWithoutPrompt';\nimport { getWithPopup } from '../getWithPopup';\nimport { getWithRedirect } from '../getWithRedirect';\nimport { parseFromUrl } from '../parseFromUrl';\nimport { renewToken } from '../renewToken';\nimport { renewTokens } from '../renewTokens';\nimport { renewTokensWithRefresh } from '../renewTokensWithRefresh';\nimport { revokeToken } from '../revokeToken';\nimport {\n  AccessToken,\n  CustomUserClaims,\n  GetWithRedirectAPI,\n  GetWithRedirectFunction,\n  IDToken,\n  OktaAuthOAuthInterface,\n  ParseFromUrlInterface,\n  TokenAPI,\n  UserClaims\n} from '../types';\nimport { isLoginRedirect, prepareTokenParams } from '../util';\nimport { verifyToken } from '../verifyToken';\n\n// Factory\nexport function createTokenAPI(sdk: OktaAuthOAuthInterface, queue: PromiseQueue): TokenAPI {\n  const useQueue = (method) => {\n    return PromiseQueue.prototype.push.bind(queue, method, null);\n  };\n\n  const getWithRedirectFn = useQueue(getWithRedirect.bind(null, sdk)) as GetWithRedirectFunction;\n  const getWithRedirectApi: GetWithRedirectAPI = Object.assign(getWithRedirectFn, {\n    // This is exposed so we can set window.location in our tests\n    _setLocation: (url) => {\n      if (sdk.options.setLocation) {\n        sdk.options.setLocation(url);\n      } else {\n        window.location = url;\n      }\n    }\n  });\n  // eslint-disable-next-line max-len\n  const parseFromUrlFn = useQueue(parseFromUrl.bind(null, sdk)) as ParseFromUrlInterface;\n  const parseFromUrlApi: ParseFromUrlInterface = Object.assign(parseFromUrlFn, {\n    // This is exposed so we can mock getting window.history in our tests\n    _getHistory: function() {\n      return window.history;\n    },\n\n    // This is exposed so we can mock getting window.location in our tests\n    _getLocation: function() {\n      return window.location;\n    },\n\n    // This is exposed so we can mock getting window.document in our tests\n    _getDocument: function() {\n      return window.document;\n    }\n  });\n\n  const token: TokenAPI ={\n    prepareTokenParams: prepareTokenParams.bind(null, sdk),\n    exchangeCodeForTokens: exchangeCodeForTokens.bind(null, sdk),\n    getWithoutPrompt: getWithoutPrompt.bind(null, sdk),\n    getWithPopup: getWithPopup.bind(null, sdk),\n    getWithRedirect: getWithRedirectApi,\n    parseFromUrl: parseFromUrlApi,\n    decode: decodeToken,\n    revoke: revokeToken.bind(null, sdk),\n    renew: renewToken.bind(null, sdk),\n    renewTokensWithRefresh: renewTokensWithRefresh.bind(null, sdk),\n    renewTokens: renewTokens.bind(null, sdk),\n    getUserInfo: <C extends CustomUserClaims = CustomUserClaims>(\n      accessTokenObject: AccessToken,\n      idTokenObject: IDToken\n    ): Promise<UserClaims<C>> => {\n      return getUserInfo(sdk, accessTokenObject, idTokenObject);\n    },\n    verify: verifyToken.bind(null, sdk),\n    isLoginRedirect: isLoginRedirect.bind(null, sdk)\n  };\n\n  // Wrap certain async token API methods using PromiseQueue to avoid issues with concurrency\n  // 'getWithRedirect' and 'parseFromUrl' are already wrapped\n  const toWrap = [\n    'getWithoutPrompt',\n    'getWithPopup',\n    'revoke',\n    'renew',\n    'renewTokensWithRefresh',\n    'renewTokens'\n  ];\n  toWrap.forEach(key => {\n    token[key] = useQueue(token[key]);\n  });\n\n  return token;\n}\n","import { StorageManagerConstructor } from '../../storage/types';\nimport { OktaAuthConstructor, OktaAuthOptionsConstructor } from '../../base/types';\n\nimport { createOktaAuthBase } from '../../base';\nimport { mixinStorage } from '../../storage/mixin';\nimport { mixinSession } from '../../session/mixin';\nimport { mixinHttp } from '../../http/mixin';\nimport { mixinOAuth } from '../mixin';\nimport {\n  OAuthTransactionMeta,\n  OktaAuthOAuthInterface,\n  OktaAuthOAuthOptions,\n  OAuthStorageManagerInterface,\n  PKCETransactionMeta,\n  TransactionManagerConstructor,\n  TransactionManagerInterface\n} from '../types';\n\nexport function createOktaAuthOAuth\n<\n  M extends OAuthTransactionMeta = PKCETransactionMeta,\n  S extends OAuthStorageManagerInterface<M> = OAuthStorageManagerInterface<M>,\n  O extends OktaAuthOAuthOptions = OktaAuthOAuthOptions,\n  TM extends TransactionManagerInterface = TransactionManagerInterface\n>\n(\n  StorageManagerConstructor: StorageManagerConstructor<S>,\n  OptionsConstructor: OktaAuthOptionsConstructor<O>,\n  TransactionManagerConstructor: TransactionManagerConstructor<TM>\n):  OktaAuthConstructor<OktaAuthOAuthInterface<M, S, O, TM>>\n{\n  const Base = createOktaAuthBase(OptionsConstructor);\n  const WithStorage = mixinStorage<S, O>(Base, StorageManagerConstructor);\n  const WithHttp = mixinHttp<S, O>(WithStorage);\n  const WithSession = mixinSession<S, O>(WithHttp);\n  const WithOAuth = mixinOAuth<M, S, O, TM>(WithSession, TransactionManagerConstructor);\n  return WithOAuth;\n}\n","\n/* global document */\n/* eslint-disable complexity, max-statements */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport {\n  getOAuthUrls,\n  loadFrame,\n  addPostMessageListener\n} from './util';\n\nimport AuthSdkError from '../errors/AuthSdkError';\n\nimport {\n  OktaAuthOAuthInterface,\n  TokenParams,\n  PopupParams,\n  OAuthResponse,\n} from './types';\n\nimport { prepareTokenParams } from './util/prepareTokenParams';\nimport { buildAuthorizeParams } from './endpoints/authorize';\nimport { handleOAuthResponse } from './handleOAuthResponse';\n/*\n * Retrieve an idToken from an Okta or a third party idp\n *\n * Two main flows:\n *\n *  1) Exchange a sessionToken for a token\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *      sessionToken: 'yourtoken'\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *\n *    Forced:\n *      prompt: 'none'\n *      responseMode: 'okta_post_message'\n *      display: undefined\n *\n *  2) Get a token from an idp\n *\n *    Required:\n *      clientId: passed via the OktaAuth constructor or into getToken\n *\n *    Optional:\n *      redirectUri: defaults to window.location.href\n *      scopes: defaults to ['openid', 'email']\n *      idp: defaults to Okta as an idp\n *      prompt: no default. Pass 'none' to throw an error if user is not signed in\n *\n *    Forced:\n *      display: 'popup'\n *\n *  Only common optional params shown. Any OAuth parameters not explicitly forced are available to override\n *\n * @param {Object} oauthOptions\n * @param {String} [oauthOptions.clientId] ID of this client\n * @param {String} [oauthOptions.redirectUri] URI that the iframe or popup will go to once authenticated\n * @param {String[]} [oauthOptions.scopes] OAuth 2.0 scopes to request (openid must be specified)\n * @param {String} [oauthOptions.idp] ID of an external IdP to use for user authentication\n * @param {String} [oauthOptions.sessionToken] Bootstrap Session Token returned by the Okta Authentication API\n * @param {String} [oauthOptions.prompt] Determines whether the Okta login will be displayed on failure.\n *                                       Use 'none' to prevent this behavior\n *\n * @param {Object} options\n * @param {Integer} [options.timeout] Time in ms before the flow is automatically terminated. Defaults to 120000\n * @param {String} [options.popupTitle] Title dispayed in the popup.\n *                                      Defaults to 'External Identity Provider User Authentication'\n */\nexport function getToken(sdk: OktaAuthOAuthInterface, options: TokenParams & PopupParams) {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getToken\" takes only a single set of options'));\n  }\n\n  options = options || {};\n\n  // window object cannot be serialized, save for later use\n  // TODO: move popup related params into a separate options object\n  const popupWindow = options.popupWindow;\n  options.popupWindow = undefined;\n\n  return prepareTokenParams(sdk, options)\n    .then(function (tokenParams: TokenParams) {\n\n      // Start overriding any options that don't make sense\n      var sessionTokenOverrides = {\n        prompt: 'none',\n        responseMode: 'okta_post_message',\n        display: null\n      };\n\n      var idpOverrides = {\n        display: 'popup'\n      };\n\n      if (options.sessionToken) {\n        Object.assign(tokenParams, sessionTokenOverrides);\n      } else if (options.idp) {\n        Object.assign(tokenParams, idpOverrides);\n      }\n\n      // Use the query params to build the authorize url\n      var requestUrl,\n        endpoint,\n        urls;\n\n      // Get authorizeUrl and issuer\n      urls = getOAuthUrls(sdk, tokenParams);\n      endpoint = options.codeVerifier ? urls.tokenUrl : urls.authorizeUrl;\n      requestUrl = endpoint + buildAuthorizeParams(tokenParams);\n\n      // Determine the flow type\n      var flowType;\n      if (tokenParams.sessionToken || tokenParams.display === null) {\n        flowType = 'IFRAME';\n      } else if (tokenParams.display === 'popup') {\n        flowType = 'POPUP';\n      } else {\n        flowType = 'IMPLICIT';\n      }\n\n      // Execute the flow type\n      switch (flowType) {\n        case 'IFRAME':\n          var iframePromise = addPostMessageListener(sdk, options.timeout, tokenParams.state);\n          var iframeEl = loadFrame(requestUrl);\n          return iframePromise\n            .then(function (res) {\n              return handleOAuthResponse(sdk, tokenParams, res as OAuthResponse, urls);\n            })\n            .finally(function () {\n              if (document.body.contains(iframeEl)) {\n                iframeEl.parentElement?.removeChild(iframeEl);\n              }\n            });\n\n        case 'POPUP':\n          var oauthPromise; // resolves with OAuth response\n\n          // Add listener on postMessage before window creation, so\n          // postMessage isn't triggered before we're listening\n          if (tokenParams.responseMode === 'okta_post_message') {\n            if (!sdk.features.isPopupPostMessageSupported()) {\n              throw new AuthSdkError('This browser doesn\\'t have full postMessage support');\n            }\n            oauthPromise = addPostMessageListener(sdk, options.timeout, tokenParams.state);\n          }\n\n          // Redirect for authorization\n          // popupWindown can be null when popup is blocked\n          if (popupWindow) { \n            popupWindow.location.assign(requestUrl);\n          }\n\n          // The popup may be closed without receiving an OAuth response. Setup a poller to monitor the window.\n          var popupPromise = new Promise(function (resolve, reject) {\n            var closePoller = setInterval(function () {\n              if (!popupWindow || popupWindow.closed) {\n                clearInterval(closePoller);\n                reject(new AuthSdkError('Unable to parse OAuth flow response'));\n              }\n            }, 100);\n\n            // Proxy the OAuth promise results\n            oauthPromise\n              .then(function (res) {\n                clearInterval(closePoller);\n                resolve(res);\n              })\n              .catch(function (err) {\n                clearInterval(closePoller);\n                reject(err);\n              });\n          });\n\n          return popupPromise\n            .then(function (res) {\n              return handleOAuthResponse(sdk, tokenParams, res as OAuthResponse, urls);\n            })\n            .finally(function () {\n              if (popupWindow && !popupWindow.closed) {\n                popupWindow.close();\n              }\n            });\n\n        default:\n          throw new AuthSdkError('The full page redirect flow is not supported');\n      }\n    });\n}","/* eslint-disable complexity */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { isFunction } from '../util';\nimport { AuthSdkError, OAuthError } from '../errors';\nimport { httpRequest } from '../http';\nimport { AccessToken, IDToken, UserClaims, isAccessToken, isIDToken, CustomUserClaims } from './types';\n\nexport async function getUserInfo<T extends CustomUserClaims = CustomUserClaims>(\n  sdk, accessTokenObject: AccessToken,\n  idTokenObject: IDToken\n): Promise<UserClaims<T>> {\n  // If token objects were not passed, attempt to read from the TokenManager\n  if (!accessTokenObject) {\n    accessTokenObject = (await sdk.tokenManager.getTokens()).accessToken as AccessToken;\n  }\n  if (!idTokenObject) {\n    idTokenObject = (await sdk.tokenManager.getTokens()).idToken as IDToken;\n  }\n\n  if (!accessTokenObject || !isAccessToken(accessTokenObject)) {\n    return Promise.reject(new AuthSdkError('getUserInfo requires an access token object'));\n  }\n\n  if (!idTokenObject || !isIDToken(idTokenObject)) {\n    return Promise.reject(new AuthSdkError('getUserInfo requires an ID token object'));\n  }\n\n  return httpRequest(sdk, {\n    url: accessTokenObject.userinfoUrl,\n    method: 'GET',\n    accessToken: accessTokenObject.accessToken\n  })\n    .then(userInfo => {\n      // Only return the userinfo response if subjects match to mitigate token substitution attacks\n      if (userInfo.sub === idTokenObject.claims.sub) {\n        return userInfo;\n      }\n      return Promise.reject(new AuthSdkError('getUserInfo request was rejected due to token mismatch'));\n    })\n    .catch(function (err) {\n      if (err.xhr && (err.xhr.status === 401 || err.xhr.status === 403)) {\n        var authenticateHeader;\n        if (err.xhr.headers && isFunction(err.xhr.headers.get) && err.xhr.headers.get('WWW-Authenticate')) {\n          authenticateHeader = err.xhr.headers.get('WWW-Authenticate');\n        } else if (isFunction(err.xhr.getResponseHeader)) {\n          authenticateHeader = err.xhr.getResponseHeader('WWW-Authenticate');\n        }\n        if (authenticateHeader) {\n          var errorMatches = authenticateHeader.match(/error=\"(.*?)\"/) || [];\n          var errorDescriptionMatches = authenticateHeader.match(/error_description=\"(.*?)\"/) || [];\n          var error = errorMatches[1];\n          var errorDescription = errorDescriptionMatches[1];\n          if (error && errorDescription) {\n            err = new OAuthError(error, errorDescription);\n          }\n        }\n      }\n      throw err;\n    });\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { OktaAuthOAuthInterface, TokenParams, TokenResponse } from './types';\nimport { clone } from '../util';\nimport { getToken } from './getToken';\nimport { loadPopup } from './util';\n\nexport function getWithPopup(sdk: OktaAuthOAuthInterface, options: TokenParams): Promise<TokenResponse> {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithPopup\" takes only a single set of options'));\n  }\n\n  // some browsers (safari, firefox) block popup if it's initialed from an async process\n  // here we create the popup window immediately after user interaction\n  // then redirect to the /authorize endpoint when the requestUrl is available\n  const popupWindow = loadPopup('/', options);\n  options = clone(options) || {};\n  Object.assign(options, {\n    display: 'popup',\n    responseMode: 'okta_post_message',\n    popupWindow\n  });\n  return getToken(sdk, options);\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { OktaAuthOAuthInterface, TokenParams } from './types';\nimport { clone } from '../util';\nimport { prepareTokenParams, createOAuthMeta } from './util';\nimport { buildAuthorizeParams } from './endpoints/authorize';\n\nexport async function getWithRedirect(sdk: OktaAuthOAuthInterface, options?: TokenParams): Promise<void> {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithRedirect\" takes only a single set of options'));\n  }\n\n  options = clone(options) || {};\n\n  const tokenParams = await prepareTokenParams(sdk, options);\n  const meta = createOAuthMeta(sdk, tokenParams);\n  const requestUrl = meta.urls.authorizeUrl + buildAuthorizeParams(tokenParams);\n  sdk.transactionManager.save(meta);\n  sdk.token.getWithRedirect._setLocation(requestUrl);\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { OktaAuthOAuthInterface, TokenParams, TokenResponse } from './types';\nimport { clone } from '../util';\nimport { getToken } from './getToken';\n\nexport function getWithoutPrompt(sdk: OktaAuthOAuthInterface, options: TokenParams): Promise<TokenResponse> {\n  if (arguments.length > 2) {\n    return Promise.reject(new AuthSdkError('As of version 3.0, \"getWithoutPrompt\" takes only a single set of options'));\n  }\n  \n  options = clone(options) || {};\n  Object.assign(options, {\n    prompt: 'none',\n    responseMode: 'okta_post_message',\n    display: null\n  });\n  return getToken(sdk, options);\n}\n\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n\n/* eslint-disable complexity, max-statements */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { clone } from '../util';\nimport {\n  getOAuthUrls,\n} from './util/oauth';\nimport { AuthSdkError, OAuthError } from '../errors';\nimport {\n  OktaAuthOAuthInterface,\n  TokenVerifyParams,\n  IDToken,\n  OAuthResponse,\n  TokenParams,\n  TokenResponse,\n  CustomUrls,\n  Tokens,\n} from './types';\nimport { verifyToken } from './verifyToken';\nimport { getDefaultTokenParams } from './util';\n\nfunction validateResponse(res: OAuthResponse, oauthParams: TokenParams) {\n  if (res['error'] && res['error_description']) {\n    throw new OAuthError(res['error'], res['error_description']);\n  }\n\n  if (res.state !== oauthParams.state) {\n    throw new AuthSdkError('OAuth flow response state doesn\\'t match request state');\n  }\n}\n\nexport async function handleOAuthResponse(\n  sdk: OktaAuthOAuthInterface,\n  tokenParams: TokenParams,\n  res: OAuthResponse,\n  urls?: CustomUrls\n): Promise<TokenResponse> {\n  var pkce = sdk.options.pkce !== false;\n\n  // The result contains an authorization_code and PKCE is enabled \n  // `exchangeCodeForTokens` will call /token then call `handleOauthResponse` recursively with the result\n  if (pkce && (res.code || res.interaction_code)) {\n    return sdk.token.exchangeCodeForTokens(Object.assign({}, tokenParams, {\n      authorizationCode: res.code,\n      interactionCode: res.interaction_code\n    }), urls);\n  }\n\n  tokenParams = tokenParams || getDefaultTokenParams(sdk);\n  urls = urls || getOAuthUrls(sdk, tokenParams);\n\n  var responseType = tokenParams.responseType || [];\n  if (!Array.isArray(responseType)) {\n    responseType = [responseType];\n  }\n\n  var scopes;\n  if (res.scope) {\n    scopes = res.scope.split(' ');\n  } else {\n    scopes = clone(tokenParams.scopes);\n  }\n  var clientId = tokenParams.clientId || sdk.options.clientId;\n\n  // Handling the result from implicit flow or PKCE token exchange\n  validateResponse(res, tokenParams);\n\n  var tokenDict = {} as Tokens;\n  var expiresIn = res.expires_in;\n  var tokenType = res.token_type;\n  var accessToken = res.access_token;\n  var idToken = res.id_token;\n  var refreshToken = res.refresh_token;\n  var now = Math.floor(Date.now()/1000);\n\n  if (accessToken) {\n    var accessJwt = sdk.token.decode(accessToken);\n    tokenDict.accessToken = {\n      accessToken: accessToken,\n      claims: accessJwt.payload,\n      expiresAt: Number(expiresIn) + now,\n      tokenType: tokenType!,\n      scopes: scopes,\n      authorizeUrl: urls.authorizeUrl!,\n      userinfoUrl: urls.userinfoUrl!\n    };\n  }\n\n  if (refreshToken) {\n    tokenDict.refreshToken = {\n      refreshToken: refreshToken,\n      // should not be used, this is the accessToken expire time\n      // TODO: remove \"expiresAt\" in the next major version OKTA-407224\n      expiresAt: Number(expiresIn) + now, \n      scopes: scopes,\n      tokenUrl: urls.tokenUrl!,\n      authorizeUrl: urls.authorizeUrl!,\n      issuer: urls.issuer!,\n    };\n  }\n\n  if (idToken) {\n    var idJwt = sdk.token.decode(idToken);\n    var idTokenObj: IDToken = {\n      idToken: idToken,\n      claims: idJwt.payload,\n      expiresAt: idJwt.payload.exp! - idJwt.payload.iat! + now, // adjusting expiresAt to be in local time\n      scopes: scopes,\n      authorizeUrl: urls.authorizeUrl!,\n      issuer: urls.issuer!,\n      clientId: clientId!\n    };\n\n    var validationParams: TokenVerifyParams = {\n      clientId: clientId!,\n      issuer: urls.issuer!,\n      nonce: tokenParams.nonce,\n      accessToken: accessToken\n    };\n\n    if (tokenParams.ignoreSignature !== undefined) {\n      validationParams.ignoreSignature = tokenParams.ignoreSignature;\n    }\n\n    await verifyToken(sdk, idTokenObj, validationParams);\n    tokenDict.idToken = idTokenObj;\n  }\n\n  // Validate received tokens against requested response types \n  if (responseType.indexOf('token') !== -1 && !tokenDict.accessToken) {\n    // eslint-disable-next-line max-len\n    throw new AuthSdkError('Unable to parse OAuth flow response: response type \"token\" was requested but \"access_token\" was not returned.');\n  }\n  if (responseType.indexOf('id_token') !== -1 && !tokenDict.idToken) {\n    // eslint-disable-next-line max-len\n    throw new AuthSdkError('Unable to parse OAuth flow response: response type \"id_token\" was requested but \"id_token\" was not returned.');\n  }\n\n  return {\n    tokens: tokenDict,\n    state: res.state!,\n    code: res.code\n  };\n  \n}","import { httpRequest, RequestOptions } from '../../http';\nimport { OktaAuthConstructor } from '../../base/types';\nimport { \n  PromiseQueue,\n} from '../../util';\nimport { CryptoAPI } from '../../crypto/types';\nimport * as crypto from '../../crypto';\nimport {\n  AccessToken,\n  CustomUserClaims,\n  IDToken,\n  IsAuthenticatedOptions,\n  OAuthResponseType,\n  OAuthStorageManagerInterface,\n  OAuthTransactionMeta,\n  OktaAuthOAuthInterface,\n  OktaAuthOAuthOptions,\n  PkceAPI,\n  PKCETransactionMeta,\n  RefreshToken,\n  SigninWithRedirectOptions,\n  SignoutOptions,\n  SignoutRedirectUrlOptions,\n  TokenAPI,\n  TransactionManagerInterface,\n  TransactionManagerConstructor,\n  UserClaims,\n} from '../types';\nimport PKCE from '../util/pkce';\nimport { createTokenAPI } from '../factory';\nimport { TokenManager } from '../TokenManager';\nimport { getOAuthUrls, isLoginRedirect } from '../util';\n\nimport { OktaAuthSessionInterface } from '../../session/types';\nimport { provideOriginalUri } from './node';\nexport function mixinOAuth\n<\n  M extends OAuthTransactionMeta = PKCETransactionMeta,\n  S extends OAuthStorageManagerInterface<M> = OAuthStorageManagerInterface<M>,\n  O extends OktaAuthOAuthOptions = OktaAuthOAuthOptions,\n  TM extends TransactionManagerInterface = TransactionManagerInterface,\n  TBase extends OktaAuthConstructor<OktaAuthSessionInterface<S, O>>\n    = OktaAuthConstructor<OktaAuthSessionInterface<S, O>>\n>\n(\n  Base: TBase,\n  TransactionManagerConstructor: TransactionManagerConstructor<TM>,\n): TBase & OktaAuthConstructor<OktaAuthOAuthInterface<M, S, O, TM>>\n{\n  const WithOriginalUri = provideOriginalUri(Base);\n  return class OktaAuthOAuth extends WithOriginalUri\n  implements OktaAuthOAuthInterface<M, S, O, TM>\n  {\n    static crypto: CryptoAPI = crypto;\n    token: TokenAPI;\n    tokenManager: TokenManager;\n    transactionManager: TM;\n    pkce: PkceAPI;\n\n    _pending: { handleLogin: boolean };\n    _tokenQueue: PromiseQueue;\n    \n    constructor(...args: any[]) {\n      super(...args);\n\n      this.transactionManager = new TransactionManagerConstructor(Object.assign({\n        storageManager: this.storageManager,\n      }, this.options.transactionManager));\n  \n      this.pkce = {\n        DEFAULT_CODE_CHALLENGE_METHOD: PKCE.DEFAULT_CODE_CHALLENGE_METHOD,\n        generateVerifier: PKCE.generateVerifier,\n        computeChallenge: PKCE.computeChallenge\n      };\n  \n      this._pending = { handleLogin: false };\n\n      this._tokenQueue = new PromiseQueue();\n\n      this.token = createTokenAPI(this, this._tokenQueue);\n\n      // TokenManager\n      this.tokenManager = new TokenManager(this, this.options.tokenManager);\n    }\n\n    // inherited from subclass\n    clearStorage(): void {\n      super.clearStorage();\n      \n      // Clear all local tokens\n      this.tokenManager.clear();\n    }\n\n    // Returns true if both accessToken and idToken are not expired\n    // If `autoRenew` option is set, will attempt to renew expired tokens before returning.\n    // eslint-disable-next-line complexity\n    async isAuthenticated(options: IsAuthenticatedOptions = {}): Promise<boolean> {\n      // TODO: remove dependency on tokenManager options in next major version - OKTA-473815\n      const { autoRenew, autoRemove } = this.tokenManager.getOptions();\n\n      const shouldRenew = options.onExpiredToken ? options.onExpiredToken === 'renew' : autoRenew;\n      const shouldRemove = options.onExpiredToken ? options.onExpiredToken === 'remove' : autoRemove;\n\n      let { accessToken } = this.tokenManager.getTokensSync();\n      if (accessToken && this.tokenManager.hasExpired(accessToken)) {\n        accessToken = undefined;\n        if (shouldRenew) {\n          try {\n            accessToken = await this.tokenManager.renew('accessToken') as AccessToken;\n          } catch {\n            // Renew errors will emit an \"error\" event \n          }\n        } else if (shouldRemove) {\n          this.tokenManager.remove('accessToken');\n        }\n      }\n\n      let { idToken } = this.tokenManager.getTokensSync();\n      if (idToken && this.tokenManager.hasExpired(idToken)) {\n        idToken = undefined;\n        if (shouldRenew) {\n          try {\n            idToken = await this.tokenManager.renew('idToken') as IDToken;\n          } catch {\n            // Renew errors will emit an \"error\" event \n          }\n        } else if (shouldRemove) {\n          this.tokenManager.remove('idToken');\n        }\n      }\n\n      return !!(accessToken && idToken);\n    }\n\n\n    async signInWithRedirect(opts: SigninWithRedirectOptions = {}) {\n      const { originalUri, ...additionalParams } = opts;\n      if(this._pending.handleLogin) { \n        // Don't trigger second round\n        return;\n      }\n\n      this._pending.handleLogin = true;\n      try {\n        // Trigger default signIn redirect flow\n        if (originalUri) {\n          this.setOriginalUri(originalUri);\n        }\n        const params = Object.assign({\n          // TODO: remove this line when default scopes are changed OKTA-343294\n          scopes: this.options.scopes || ['openid', 'email', 'profile']\n        }, additionalParams);\n        await this.token.getWithRedirect(params);\n      } finally {\n        this._pending.handleLogin = false;\n      }\n    }\n\n    async getUser<T extends CustomUserClaims = CustomUserClaims>(): Promise<UserClaims<T>> {\n      const { idToken, accessToken } = this.tokenManager.getTokensSync();\n      return this.token.getUserInfo(accessToken, idToken);\n    }\n  \n    getIdToken(): string | undefined {\n      const { idToken } = this.tokenManager.getTokensSync();\n      return idToken ? idToken.idToken : undefined;\n    }\n  \n    getAccessToken(): string | undefined {\n      const { accessToken } = this.tokenManager.getTokensSync();\n      return accessToken ? accessToken.accessToken : undefined;\n    }\n  \n    getRefreshToken(): string | undefined {\n      const { refreshToken } = this.tokenManager.getTokensSync();\n      return refreshToken ? refreshToken.refreshToken : undefined;\n    }\n  \n    /**\n     * Store parsed tokens from redirect url\n     */\n    async storeTokensFromRedirect(): Promise<void> {\n      const { tokens } = await this.token.parseFromUrl();\n      this.tokenManager.setTokens(tokens);\n    }\n  \n    isLoginRedirect(): boolean {\n      return isLoginRedirect(this);\n    }\n\n  \n    isPKCE(): boolean {\n      return !!this.options.pkce;\n    }\n  \n    hasResponseType(responseType: OAuthResponseType): boolean {\n      let hasResponseType = false;\n      if (Array.isArray(this.options.responseType) && this.options.responseType.length) {\n        hasResponseType = this.options.responseType.indexOf(responseType) >= 0;\n      } else {\n        hasResponseType = this.options.responseType === responseType;\n      }\n      return hasResponseType;\n    }\n  \n    isAuthorizationCodeFlow(): boolean {\n      return this.hasResponseType('code');\n    }\n\n    // Escape hatch method to make arbitrary OKTA API call\n    async invokeApiMethod(options: RequestOptions): Promise<unknown> {\n      if (!options.accessToken) {\n        const accessToken = (await this.tokenManager.getTokens()).accessToken as AccessToken;\n        options.accessToken = accessToken?.accessToken;\n      }\n      return httpRequest(this, options);\n    }\n    \n    // Revokes the access token for the application session\n    async revokeAccessToken(accessToken?: AccessToken): Promise<unknown> {\n      if (!accessToken) {\n        accessToken = (await this.tokenManager.getTokens()).accessToken as AccessToken;\n        const accessTokenKey = this.tokenManager.getStorageKeyByType('accessToken');\n        this.tokenManager.remove(accessTokenKey);\n      }\n      // Access token may have been removed. In this case, we will silently succeed.\n      if (!accessToken) {\n        return Promise.resolve(null);\n      }\n      return this.token.revoke(accessToken);\n    }\n\n    // Revokes the refresh token for the application session\n    async revokeRefreshToken(refreshToken?: RefreshToken): Promise<unknown> {\n      if (!refreshToken) {\n        refreshToken = (await this.tokenManager.getTokens()).refreshToken as RefreshToken;\n        const refreshTokenKey = this.tokenManager.getStorageKeyByType('refreshToken');\n        this.tokenManager.remove(refreshTokenKey);\n      }\n      // Refresh token may have been removed. In this case, we will silently succeed.\n      if (!refreshToken) {\n        return Promise.resolve(null);\n      }\n      return this.token.revoke(refreshToken);\n    }\n\n    getSignOutRedirectUrl(options: SignoutRedirectUrlOptions = {}) {\n      let {\n        idToken,\n        postLogoutRedirectUri,\n        state,\n      } = options;\n      if (!idToken) {\n        idToken = this.tokenManager.getTokensSync().idToken as IDToken;\n      }\n      if (!idToken) {\n        return '';\n      }\n      if (!postLogoutRedirectUri) {\n        postLogoutRedirectUri = this.options.postLogoutRedirectUri;\n      }\n\n      const logoutUrl = getOAuthUrls(this).logoutUrl;\n      const idTokenHint = idToken.idToken; // a string\n      let logoutUri = logoutUrl + '?id_token_hint=' + encodeURIComponent(idTokenHint);\n      if (postLogoutRedirectUri) {\n        logoutUri += '&post_logout_redirect_uri=' + encodeURIComponent(postLogoutRedirectUri);\n      } \n      // State allows option parameters to be passed to logout redirect uri\n      if (state) {\n        logoutUri += '&state=' + encodeURIComponent(state);\n      }\n\n      return logoutUri;\n    }\n\n    // Revokes refreshToken or accessToken, clears all local tokens, then redirects to Okta to end the SSO session.\n    // eslint-disable-next-line complexity\n    async signOut(options?: SignoutOptions): Promise<void> {\n      options = Object.assign({}, options);\n    \n      // postLogoutRedirectUri must be whitelisted in Okta Admin UI\n      var defaultUri = window.location.origin;\n      var currentUri = window.location.href;\n      var postLogoutRedirectUri = options.postLogoutRedirectUri\n        || this.options.postLogoutRedirectUri\n        || defaultUri;\n    \n      var accessToken = options.accessToken;\n      var refreshToken = options.refreshToken;\n      var revokeAccessToken = options.revokeAccessToken !== false;\n      var revokeRefreshToken = options.revokeRefreshToken !== false;\n    \n      if (revokeRefreshToken && typeof refreshToken === 'undefined') {\n        refreshToken = this.tokenManager.getTokensSync().refreshToken as RefreshToken;\n      }\n\n      if (revokeAccessToken && typeof accessToken === 'undefined') {\n        accessToken = this.tokenManager.getTokensSync().accessToken as AccessToken;\n      }\n    \n      if (!options.idToken) {\n        options.idToken = this.tokenManager.getTokensSync().idToken as IDToken;\n      }\n\n      if (revokeRefreshToken && refreshToken) {\n        await this.revokeRefreshToken(refreshToken);\n      }\n\n      if (revokeAccessToken && accessToken) {\n        await this.revokeAccessToken(accessToken);\n      }\n\n      const logoutUri = this.getSignOutRedirectUrl({ ...options, postLogoutRedirectUri });\n      // No logoutUri? This can happen if the storage was cleared.\n      // Fallback to XHR signOut, then simulate a redirect to the post logout uri\n      if (!logoutUri) {\n        // local tokens are cleared once session is closed\n        return this.closeSession() // can throw if the user cannot be signed out\n        .then(function() {\n          if (postLogoutRedirectUri === currentUri) {\n            window.location.reload(); // force a hard reload if URI is not changing\n          } else {\n            window.location.assign(postLogoutRedirectUri);\n          }\n        });\n      } else {\n        if (options.clearTokensBeforeRedirect) {\n          // Clear all local tokens\n          this.tokenManager.clear();\n        } else {\n          this.tokenManager.addPendingRemoveFlags();\n        }\n        // Flow ends with logout redirect\n        window.location.assign(logoutUri);\n      }\n    }\n\n  };\n\n}\n","import { REFERRER_PATH_STORAGE_KEY } from '../../constants';\nimport browserStorage from '../../browser/browserStorage';\nimport { OktaAuthStorageInterface } from '../../storage';\nimport { OktaAuthConstructor } from '../../base';\nimport {\n  OAuthStorageManagerInterface,\n  OAuthTransactionMeta,\n  OktaAuthOAuthOptions,\n  OriginalUriApi,\n  PKCETransactionMeta,\n} from '../types';\n\nexport function provideOriginalUri\n<\n  M extends OAuthTransactionMeta = PKCETransactionMeta,\n  S extends OAuthStorageManagerInterface<M> = OAuthStorageManagerInterface<M>,\n  O extends OktaAuthOAuthOptions = OktaAuthOAuthOptions,\n  TBase extends OktaAuthConstructor<OktaAuthStorageInterface<S, O>>\n    = OktaAuthConstructor<OktaAuthStorageInterface<S, O>> \n>\n(BaseClass: TBase) {\n  return class WithOriginalUri extends BaseClass implements OriginalUriApi {\n    setOriginalUri(originalUri: string, state?: string): void {\n      // always store in session storage\n      const sessionStorage = browserStorage.getSessionStorage();\n      sessionStorage.setItem(REFERRER_PATH_STORAGE_KEY, originalUri);\n  \n      // to support multi-tab flows, set a state in constructor or pass as param\n      state = state || this.options.state;\n      if (state) {\n        const sharedStorage = this.storageManager.getOriginalUriStorage();\n        sharedStorage.setItem(state, originalUri);\n      }\n    }\n  \n    getOriginalUri(state?: string): string | undefined {\n      // Prefer shared storage (if state is available)\n      state = state || this.options.state;\n      if (state) {\n        const sharedStorage = this.storageManager.getOriginalUriStorage();\n        const originalUri = sharedStorage.getItem(state);\n        if (originalUri) {\n          return originalUri;\n        }\n      }\n  \n      // Try to load from session storage\n      const storage = browserStorage.getSessionStorage();\n      return storage ? storage.getItem(REFERRER_PATH_STORAGE_KEY) || undefined : undefined;\n    }\n  \n    removeOriginalUri(state?: string): void {\n      // Remove from sessionStorage\n      const storage = browserStorage.getSessionStorage();\n      storage.removeItem(REFERRER_PATH_STORAGE_KEY);\n  \n      // Also remove from shared storage\n      state = state || this.options.state;\n      if (state) {\n        const sharedStorage = this.storageManager.getOriginalUriStorage();\n        sharedStorage.removeItem && sharedStorage.removeItem(state);\n      }\n    }\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { DEFAULT_MAX_CLOCK_SKEW } from '../../constants';\nimport { removeTrailingSlash, toAbsoluteUrl } from '../../util/url';\nimport { isBrowser } from '../../features';\nimport { createHttpOptionsConstructor } from '../../http/options';\nimport {\n  OAuthResponseMode,\n  OAuthResponseType,\n  OktaAuthOAuthInterface,\n  OktaAuthOAuthOptions,\n  SetLocationFunction,\n  TokenManagerOptions,\n  TransactionManagerOptions\n} from '../types';\nimport { enableSharedStorage } from './node';\nimport AuthSdkError from '../../errors/AuthSdkError';\n\nfunction assertValidConfig(args) {\n  args = args || {};\n\n  var scopes = args.scopes;\n  if (scopes && !Array.isArray(scopes)) {\n    throw new AuthSdkError('scopes must be a array of strings. ' +\n      'Required usage: new OktaAuth({scopes: [\"openid\", \"email\"]})');\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  var issuer = args.issuer!;\n  if (!issuer) {\n    throw new AuthSdkError('No issuer passed to constructor. ' + \n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  var isUrlRegex = new RegExp('^http?s?://.+');\n  if (!isUrlRegex.test(issuer)) {\n    throw new AuthSdkError('Issuer must be a valid URL. ' + \n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  if (issuer.indexOf('-admin.') !== -1) {\n    throw new AuthSdkError('Issuer URL passed to constructor contains \"-admin\" in subdomain. ' +\n      'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n  }\n}\n\nexport function createOAuthOptionsConstructor() {\n  const HttpOptionsConstructor = createHttpOptionsConstructor();\n  return class OAuthOptionsConstructor\n    extends HttpOptionsConstructor\n    implements Required<OktaAuthOAuthOptions>\n  {\n    // CustomUrls\n    issuer: string;\n    authorizeUrl: string;\n    userinfoUrl: string;\n    tokenUrl: string;\n    revokeUrl: string;\n    logoutUrl: string;\n    \n    // TokenParams\n    pkce: boolean;\n    clientId: string;\n    redirectUri: string;\n    responseType: OAuthResponseType | OAuthResponseType[];\n    responseMode: OAuthResponseMode;\n    state: string;\n    scopes: string[];\n    ignoreSignature: boolean;\n    codeChallenge: string;\n    codeChallengeMethod: string;\n\n    // Additional options\n    tokenManager: TokenManagerOptions;\n    postLogoutRedirectUri: string;\n    restoreOriginalUri: (oktaAuth: OktaAuthOAuthInterface, originalUri?: string) => Promise<void>;\n    transactionManager: TransactionManagerOptions;\n\n    // For server-side web applications ONLY!\n    clientSecret: string;\n    setLocation: SetLocationFunction;\n\n    // Workaround for bad client time/clock\n    ignoreLifetime: boolean;\n    maxClockSkew: number;\n\n\n    // eslint-disable-next-line max-statements\n    constructor(options: any) {\n      super(options);\n      \n      assertValidConfig(options);\n      \n      this.issuer = removeTrailingSlash(options.issuer);\n      this.tokenUrl = removeTrailingSlash(options.tokenUrl);\n      this.authorizeUrl = removeTrailingSlash(options.authorizeUrl);\n      this.userinfoUrl = removeTrailingSlash(options.userinfoUrl);\n      this.revokeUrl = removeTrailingSlash(options.revokeUrl);\n      this.logoutUrl = removeTrailingSlash(options.logoutUrl);\n\n      this.pkce = options.pkce === false ? false : true; // PKCE defaults to true\n      this.clientId = options.clientId;\n      this.redirectUri = options.redirectUri;\n      if (isBrowser()) {\n        this.redirectUri = toAbsoluteUrl(options.redirectUri, window.location.origin); // allow relative URIs\n      }\n      this.responseType = options.responseType;\n      this.responseMode = options.responseMode;\n      this.state = options.state;\n      this.scopes = options.scopes;\n      // Give the developer the ability to disable token signature validation.\n      this.ignoreSignature = !!options.ignoreSignature;\n      this.codeChallenge = options.codeChallenge;\n      this.codeChallengeMethod = options.codeChallengeMethod;\n\n      this.tokenManager = options.tokenManager;\n      this.postLogoutRedirectUri = options.postLogoutRedirectUri;\n      this.restoreOriginalUri = options.restoreOriginalUri;\n      this.transactionManager = { enableSharedStorage, ...options.transactionManager };\n      \n      this.clientSecret = options.clientSecret;\n      this.setLocation = options.setLocation;\n      \n      // As some end user's devices can have their date \n      // and time incorrectly set, allow for the disabling\n      // of the jwt liftetime validation\n      this.ignoreLifetime = !!options.ignoreLifetime;\n\n      // Digital clocks will drift over time, so the server\n      // can misalign with the time reported by the browser.\n      // The maxClockSkew allows relaxing the time-based\n      // validation of tokens (in seconds, not milliseconds).\n      // It currently defaults to 300, because 5 min is the\n      // default maximum tolerance allowed by Kerberos.\n      // (https://technet.microsoft.com/en-us/library/cc976357.aspx)\n      if (!options.maxClockSkew && options.maxClockSkew !== 0) {\n        this.maxClockSkew = DEFAULT_MAX_CLOCK_SKEW;\n      } else {\n        this.maxClockSkew = options.maxClockSkew;\n      }\n\n    }\n  };\n}\n","export const enableSharedStorage = true;\n","/* eslint-disable complexity */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { isInteractionRequiredError, urlParamsToObject } from './util';\nimport {\n  ParseFromUrlOptions,\n  TokenResponse,\n  CustomUrls,\n  TransactionMeta,\n  OAuthResponse\n} from './types';\nimport { isString } from '../util';\nimport { handleOAuthResponse } from './handleOAuthResponse';\n\nfunction removeHash(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.search);\n  } else {\n    nativeLoc.hash = '';\n  }\n}\n\nfunction removeSearch(sdk) {\n  var nativeHistory = sdk.token.parseFromUrl._getHistory();\n  var nativeDoc = sdk.token.parseFromUrl._getDocument();\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  if (nativeHistory && nativeHistory.replaceState) {\n    nativeHistory.replaceState(null, nativeDoc.title, nativeLoc.pathname + nativeLoc.hash);\n  } else {\n    nativeLoc.search = '';\n  }\n}\n\nexport function getResponseMode(sdk): 'query' | 'fragment' {\n  // https://openid.net/specs/openid-connect-core-1_0.html#Authentication\n  var defaultResponseMode = sdk.options.pkce ? 'query' : 'fragment';\n  var responseMode = sdk.options.responseMode || defaultResponseMode;\n  return responseMode;\n}\n\nexport function parseOAuthResponseFromUrl(sdk, options: string | ParseFromUrlOptions): OAuthResponse {\n  options = options || {};\n  if (isString(options)) {\n    options = { url: options } as ParseFromUrlOptions;\n  } else {\n    options = options as ParseFromUrlOptions;\n  }\n\n  var url = options.url;\n  var responseMode = options.responseMode || getResponseMode(sdk);\n  var nativeLoc = sdk.token.parseFromUrl._getLocation();\n  var paramStr;\n\n  if (responseMode === 'query') {\n    paramStr = url ? url.substring(url.indexOf('?')) : nativeLoc.search;\n  } else {\n    paramStr = url ? url.substring(url.indexOf('#')) : nativeLoc.hash;\n  }\n\n  if (!paramStr) {\n    throw new AuthSdkError('Unable to parse a token from the url');\n  }\n\n  return urlParamsToObject(paramStr);\n}\n\nexport function cleanOAuthResponseFromUrl(sdk, options: ParseFromUrlOptions) {\n  // Clean hash or search from the url\n  const responseMode = options.responseMode || getResponseMode(sdk);\n  responseMode === 'query' ? removeSearch(sdk) : removeHash(sdk);\n}\n\nexport async function parseFromUrl(sdk, options?: string | ParseFromUrlOptions): Promise<TokenResponse> {\n  options = options || {};\n  if (isString(options)) {\n    options = { url: options } as ParseFromUrlOptions;\n  } else {\n    options = options as ParseFromUrlOptions;\n  }\n\n  const res: OAuthResponse = parseOAuthResponseFromUrl(sdk, options);\n  const state = res.state;\n  const oauthParams: TransactionMeta = sdk.transactionManager.load({\n    state\n  });\n  if (!oauthParams) {\n    if (sdk.options.pkce) {\n      // eslint-disable-next-line max-len\n      throw new AuthSdkError('Could not load PKCE codeVerifier from storage. This may indicate the auth flow has already completed or multiple auth flows are executing concurrently.', undefined);\n    }\n    throw new AuthSdkError('Unable to retrieve OAuth redirect params from storage');\n  }\n  const urls: CustomUrls = oauthParams.urls as CustomUrls;\n  delete oauthParams.urls;\n\n  if (!options.url) {\n    // Clean hash or search from the url\n    cleanOAuthResponseFromUrl(sdk, options);\n  }\n\n  return handleOAuthResponse(sdk, oauthParams, res, urls)\n    .catch(err => {\n      if (!isInteractionRequiredError(err)) {\n        sdk.transactionManager.clear({\n          state\n        });\n      }\n      throw err;\n    })\n    .then(res => {\n      sdk.transactionManager.clear({\n        state\n      });\n      return res;\n    });\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { OktaAuthOAuthInterface, Token, Tokens, isAccessToken, AccessToken, IDToken, isIDToken } from './types';\nimport { getWithoutPrompt } from './getWithoutPrompt';\nimport { renewTokensWithRefresh } from './renewTokensWithRefresh';\n\nfunction throwInvalidTokenError() {\n  throw new AuthSdkError(\n    'Renew must be passed a token with an array of scopes and an accessToken or idToken'\n  );\n}\n\n// Multiple tokens may have come back. Return only the token which was requested.\nfunction getSingleToken(originalToken: Token, tokens: Tokens) {\n  if (isIDToken(originalToken)) {\n    return tokens.idToken;\n  }\n  if (isAccessToken(originalToken)) {\n    return tokens.accessToken;\n  }\n  throwInvalidTokenError();\n}\n\n// If we have a refresh token, renew using that, otherwise getWithoutPrompt\nexport async function renewToken(sdk: OktaAuthOAuthInterface, token: Token): Promise<Token | undefined> {\n  if (!isIDToken(token) && !isAccessToken(token)) {\n    throwInvalidTokenError();\n  }\n\n  let tokens = sdk.tokenManager.getTokensSync();\n  if (tokens.refreshToken) {\n    tokens = await renewTokensWithRefresh(sdk, {\n      scopes: token.scopes,\n    }, tokens.refreshToken);\n    return getSingleToken(token, tokens);\n  }\n\n  var responseType;\n  if (sdk.options.pkce) {\n    responseType = 'code';\n  } else if (isAccessToken(token)) {\n    responseType = 'token';\n  } else {\n    responseType = 'id_token';\n  }\n\n  const { scopes, authorizeUrl, userinfoUrl, issuer } = token as (AccessToken & IDToken);\n  return getWithoutPrompt(sdk, {\n    responseType,\n    scopes,\n    authorizeUrl,\n    userinfoUrl,\n    issuer\n  })\n    .then(function (res) {\n      return getSingleToken(token, res.tokens);\n    });\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { TokenParams, Tokens } from './types';\nimport { getWithoutPrompt } from './getWithoutPrompt';\nimport { renewTokensWithRefresh } from './renewTokensWithRefresh';\nimport { getDefaultTokenParams } from './util';\n\n// If we have a refresh token, renew using that, otherwise getWithoutPrompt\n// eslint-disable-next-line complexity\nexport async function renewTokens(sdk, options?: TokenParams): Promise<Tokens> {\n  const tokens = sdk.tokenManager.getTokensSync();\n  if (tokens.refreshToken) {\n    return renewTokensWithRefresh(sdk, options || {}, tokens.refreshToken);\n  }\n\n  if (!tokens.accessToken && !tokens.idToken) {\n    throw new AuthSdkError('renewTokens() was called but there is no existing token');\n  }\n\n  const accessToken = tokens.accessToken || {};\n  const idToken = tokens.idToken || {};\n  const scopes = accessToken.scopes || idToken.scopes;\n  if (!scopes) {\n    throw new AuthSdkError('renewTokens: invalid tokens: could not read scopes');\n  }\n  const authorizeUrl = accessToken.authorizeUrl || idToken.authorizeUrl;\n  if (!authorizeUrl) {\n    throw new AuthSdkError('renewTokens: invalid tokens: could not read authorizeUrl');\n  }\n  const userinfoUrl = accessToken.userinfoUrl || sdk.options.userinfoUrl;\n  const issuer = idToken.issuer || sdk.options.issuer;\n\n  // Get tokens using the SSO cookie\n  options = Object.assign({\n    scopes,\n    authorizeUrl,\n    userinfoUrl,\n    issuer\n  }, options);\n\n  if (sdk.options.pkce) {\n    options.responseType = 'code';\n  } else {\n    const { responseType } = getDefaultTokenParams(sdk);\n    options.responseType = responseType;\n  }\n\n  return getWithoutPrompt(sdk, options)\n    .then(res => res.tokens);\n    \n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { AuthSdkError } from '../errors';\nimport { getOAuthUrls } from './util/oauth';\nimport { isSameRefreshToken } from './util/refreshToken';\nimport { OktaAuthOAuthInterface, TokenParams, RefreshToken, Tokens } from './types';\nimport { handleOAuthResponse } from './handleOAuthResponse';\nimport { postRefreshToken } from './endpoints/token';\nimport { isRefreshTokenInvalidError } from './util/errors';\n\nexport async function renewTokensWithRefresh(\n  sdk: OktaAuthOAuthInterface,\n  tokenParams: TokenParams,\n  refreshTokenObject: RefreshToken\n): Promise<Tokens> {\n  const { clientId } = sdk.options;\n  if (!clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to renew tokens');\n  }\n\n  try {\n    const renewTokenParams: TokenParams = Object.assign({}, tokenParams, {\n      clientId,\n    });\n    const tokenResponse = await postRefreshToken(sdk, renewTokenParams, refreshTokenObject);\n    const urls = getOAuthUrls(sdk, tokenParams);\n    const { tokens } = await handleOAuthResponse(sdk, renewTokenParams, tokenResponse, urls);\n\n    // Support rotating refresh tokens\n    const { refreshToken } = tokens;\n    if (refreshToken && !isSameRefreshToken(refreshToken, refreshTokenObject)) {\n      sdk.tokenManager.updateRefreshToken(refreshToken);\n    }\n\n    return tokens;\n  }\n  catch (err) {\n    if (isRefreshTokenInvalidError(err)) {\n      // if the refresh token is invalid, remove it from storage\n      sdk.tokenManager.removeRefreshToken();\n    }\n    throw err;\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n/* eslint complexity:[0,8] */\nimport { post } from '../http';\nimport { toQueryString } from '../util';\nimport {\n  getOAuthUrls,\n} from './util/oauth';\nimport { btoa } from '../crypto';\nimport AuthSdkError from '../errors/AuthSdkError';\nimport {\n  OktaAuthOAuthInterface,\n  RevocableToken,\n  AccessToken,\n  RefreshToken\n} from './types';\n\n// refresh tokens have precedence to be revoked if no token is specified\nexport async function revokeToken(sdk: OktaAuthOAuthInterface, token: RevocableToken): Promise<any> {\n  let accessToken = '';\n  let refreshToken = '';\n  if (token) { \n      accessToken = (token as AccessToken).accessToken;\n      refreshToken = (token as RefreshToken).refreshToken;  \n  }\n  if(!accessToken && !refreshToken) { \n    throw new AuthSdkError('A valid access or refresh token object is required');\n  }\n  var clientId = sdk.options.clientId;\n  var clientSecret = sdk.options.clientSecret;\n  if (!clientId) {\n    throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to revoke a token');\n  }\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  var revokeUrl = getOAuthUrls(sdk).revokeUrl!;\n  var args = toQueryString({\n    // eslint-disable-next-line camelcase\n    token_type_hint: refreshToken ? 'refresh_token' : 'access_token', \n    token: refreshToken || accessToken,\n  }).slice(1);\n  var creds = clientSecret ? btoa(`${clientId}:${clientSecret}`) : btoa(clientId);\n  return post(sdk, revokeUrl, args, {\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      'Authorization': 'Basic ' + creds\n    }\n  });\n}\n","import {\n  CookieOptions,\n  StorageManagerOptions,\n  StorageOptions,\n  StorageUtil\n} from '../storage/types';\nimport { BaseStorageManager, logServerSideMemoryStorageWarning } from '../storage/BaseStorageManager';\nimport { TransactionStorage, OAuthTransactionMeta, OAuthStorageManagerInterface, PKCETransactionMeta } from './types';\nimport { SavedObject } from '../storage';\nimport { ORIGINAL_URI_STORAGE_NAME, SHARED_TRANSACTION_STORAGE_NAME, TRANSACTION_STORAGE_NAME } from '../constants';\n\n\nexport function createOAuthStorageManager<M extends OAuthTransactionMeta = PKCETransactionMeta>()\n{\n  return class OAuthStorageManager\n    extends BaseStorageManager\n    implements OAuthStorageManagerInterface<M>\n  {\n    constructor(storageManagerOptions: StorageManagerOptions, cookieOptions: CookieOptions, storageUtil: StorageUtil) {\n      super(storageManagerOptions, cookieOptions, storageUtil);\n    }\n\n    getTransactionStorage(options?: StorageOptions): TransactionStorage<M> {\n      options = this.getOptionsForSection('transaction', options);\n      logServerSideMemoryStorageWarning(options);\n      const storage = this.getStorage(options);\n      const storageKey = options.storageKey || TRANSACTION_STORAGE_NAME;\n      return new SavedObject(storage, storageKey);\n    }\n\n    getSharedTansactionStorage(options?: StorageOptions): TransactionStorage<M> {\n      options = this.getOptionsForSection('shared-transaction', options);\n      logServerSideMemoryStorageWarning(options);\n      const storage = this.getStorage(options);\n      const storageKey = options.storageKey || SHARED_TRANSACTION_STORAGE_NAME;\n      return new SavedObject(storage, storageKey);\n    }\n\n    getOriginalUriStorage(options?: StorageOptions): TransactionStorage<M> {\n      options = this.getOptionsForSection('original-uri', options);\n      logServerSideMemoryStorageWarning(options);\n      const storage = this.getStorage(options);\n      const storageKey = options.storageKey || ORIGINAL_URI_STORAGE_NAME;\n      return new SavedObject(storage, storageKey);\n    }\n  };\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { UserClaims } from './UserClaims';\n\nexport interface AbstractToken {\n  expiresAt: number;\n  authorizeUrl: string;\n  scopes: string[];\n  pendingRemove?: boolean;\n}\n\nexport interface AccessToken extends AbstractToken {\n  accessToken: string;\n  claims: UserClaims;\n  tokenType: string;\n  userinfoUrl: string;\n}\n\nexport interface RefreshToken extends AbstractToken {\n  refreshToken: string;\n  tokenUrl: string;\n  issuer: string;\n}\n\nexport interface IDToken extends AbstractToken {\n  idToken: string;\n  claims: UserClaims;\n  issuer: string;\n  clientId: string;\n}\n\nexport type Token = AccessToken | IDToken | RefreshToken;\nexport type RevocableToken = AccessToken | RefreshToken;\n\nexport type TokenType = 'accessToken' | 'idToken' | 'refreshToken';\n\nexport function isToken(obj: any): obj is Token {\n  if (obj &&\n      (obj.accessToken || obj.idToken || obj.refreshToken) &&\n      Array.isArray(obj.scopes)) {\n    return true;\n  }\n  return false;\n}\n\nexport function isAccessToken(obj: any): obj is AccessToken {\n  return obj && obj.accessToken;\n}\n\nexport function isIDToken(obj: any): obj is IDToken {\n  return obj && obj.idToken;\n}\n\nexport function isRefreshToken(obj: any): obj is RefreshToken {\n  return obj && obj.refreshToken;\n}\n\nexport interface Tokens {\n  accessToken?: AccessToken;\n  idToken?: IDToken;\n  refreshToken?: RefreshToken;\n}\n","/* eslint-disable max-len */\nimport { StorageProvider } from '../../storage/types';\nimport { TokenManagerOptions } from './options';\nimport { AccessToken, IDToken, RefreshToken, Token, Tokens, TokenType } from './Token';\n\nexport interface TokenManagerError {\n  errorSummary: string;\n  errorCode: string;\n  message: string;\n  name: string;\n  tokenKey: string;\n}\n\nexport declare type AccessTokenCallback = (key: string, token: AccessToken) => void;\nexport declare type IDTokenCallback = (key: string, token: IDToken) => void;\nexport declare type RefreshTokenCallback = (key: string, token: RefreshToken) => void;\n\nexport const EVENT_EXPIRED = 'expired';\nexport const EVENT_RENEWED = 'renewed';\nexport const EVENT_ADDED = 'added';\nexport const EVENT_REMOVED = 'removed';\nexport const EVENT_ERROR = 'error';\nexport const EVENT_SET_STORAGE = 'set_storage';\n\nexport declare type TokenManagerErrorEventHandler = (error: TokenManagerError) => void;\nexport declare type TokenManagerEventHandler = (key: string, token: Token) => void;\nexport declare type TokenManagerRenewEventHandler = (key: string, token: Token, oldtoken: Token) => void;\nexport declare type TokenManagerSetStorageEventHandler = (storage: Tokens) => void;\n\nexport declare type TokenManagerAnyEventHandler = TokenManagerErrorEventHandler | TokenManagerRenewEventHandler | TokenManagerSetStorageEventHandler | TokenManagerEventHandler;\nexport declare type TokenManagerAnyEvent = typeof EVENT_RENEWED | typeof EVENT_ERROR | typeof EVENT_SET_STORAGE | typeof EVENT_EXPIRED | typeof EVENT_ADDED | typeof EVENT_REMOVED;\n\n// only add methods needed internally\nexport interface TokenManagerInterface {\n  on(event: typeof EVENT_RENEWED, handler: TokenManagerRenewEventHandler, context?: object): void;\n  on(event: typeof EVENT_ERROR, handler: TokenManagerErrorEventHandler, context?: object): void;\n  on(event: typeof EVENT_SET_STORAGE, handler: TokenManagerSetStorageEventHandler, context?: object): void;\n  on(event: typeof EVENT_EXPIRED | typeof EVENT_ADDED | typeof EVENT_REMOVED, handler: TokenManagerEventHandler, context?: object): void;\n\n  off(event: typeof EVENT_RENEWED, handler?: TokenManagerRenewEventHandler): void;\n  off(event: typeof EVENT_ERROR, handler?: TokenManagerErrorEventHandler): void;\n  off(event: typeof EVENT_SET_STORAGE, handler?: TokenManagerSetStorageEventHandler): void;\n  off(event: typeof EVENT_EXPIRED | typeof EVENT_ADDED | typeof EVENT_REMOVED, handler?: TokenManagerEventHandler): void;\n\n  clear(): void;\n  setExpireEventTimeout(key: string, token: Token): void;\n  clearExpireEventTimeout(key: string): void;\n  clearExpireEventTimeoutAll(): void;\n  emitAdded(key: string, token: Token): void;\n  emitError(error: Error): void;\n  emitRemoved(key: string, token: Token): void;\n  emitRenewed(key: string, token: Token, oldToken?: Token): void;\n  renew(key: string): Promise<Token | undefined>;\n  remove(key: string): void;\n  hasExpired(token: Token): boolean;\n  getExpireTime(token: Token): number;\n\n  get(key): Promise<Token>;\n  getSync(key): Token;\n  getTokens(): Promise<Tokens>;\n  getTokensSync(): Tokens;\n  setTokens({ accessToken, idToken, refreshToken }: Tokens, accessTokenCb?: AccessTokenCallback, idTokenCb?: IDTokenCallback, refreshTokenCb?: RefreshTokenCallback): void;\n  getStorageKeyByType(type: TokenType): string;\n  add(key: any, token: Token): void;\n  updateRefreshToken(token: RefreshToken);\n  removeRefreshToken(): void;\n  clearPendingRemoveTokens(): void;\n\n  getOptions(): TokenManagerOptions;\n  getStorage(): StorageProvider;\n\n  start();\n  stop();\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { IdxTransactionMeta } from '../../idx/types/meta';\nimport { OAuthTransactionMeta, PKCETransactionMeta } from './meta';\nimport { OAuthStorageManagerInterface } from './storage';\n\nexport interface TransactionManagerOptions\n{\n  storageManager?: OAuthStorageManagerInterface;\n  enableSharedStorage?: boolean; // default true\n  saveNonceCookie?: boolean; // default true\n  saveStateCookie?: boolean; // default true\n  saveParamsCookie?: boolean; // default true\n  saveLastResponse?: boolean; // default true\n}\n\n\nexport type CustomAuthTransactionMeta = Record<string, string | undefined>;\n\nexport type TransactionMeta =\n  IdxTransactionMeta |\n  PKCETransactionMeta |\n  OAuthTransactionMeta |\n  CustomAuthTransactionMeta;\n\n\nfunction isObjectWithProperties(obj) {\n  if (!obj || typeof obj !== 'object' || Object.values(obj).length === 0) {\n    return false;\n  }\n  return true;\n}\n\nexport function isOAuthTransactionMeta(obj: any): obj is OAuthTransactionMeta {\n  if (!isObjectWithProperties(obj)) {\n    return false;\n  }\n  return !!obj.redirectUri || !!obj.responseType;\n}\n\nexport function isPKCETransactionMeta(obj: any): obj is PKCETransactionMeta {\n  if (!isOAuthTransactionMeta(obj)) {\n    return false;\n  }\n  return !!(obj as any).codeVerifier;\n}\n\nexport function isIdxTransactionMeta(obj: any): obj is IdxTransactionMeta {\n  if (!isPKCETransactionMeta(obj)) {\n    return false;\n  }\n  return !!(obj as any).interactionHandle;\n}\n\nexport function isCustomAuthTransactionMeta(obj: any): obj is CustomAuthTransactionMeta {\n  if (!isObjectWithProperties(obj)) {\n    return false;\n  }\n  const isAllStringValues = Object.values(obj).find((value) => (typeof value !== 'string')) === undefined;\n  return isAllStringValues;\n}\n\nexport function isTransactionMeta(obj: any): obj is TransactionMeta {\n  if (isOAuthTransactionMeta(obj) || isCustomAuthTransactionMeta(obj)) {\n    return true;\n  }\n  return false;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global window, document */\n/* eslint-disable complexity, max-statements */\nimport { AuthSdkError } from '../../errors';\nimport { OktaAuthOAuthInterface } from '../types';\n\nexport function addListener(eventTarget, name, fn) {\n  if (eventTarget.addEventListener) {\n    eventTarget.addEventListener(name, fn);\n  } else {\n    eventTarget.attachEvent('on' + name, fn);\n  }\n}\n\nexport function removeListener(eventTarget, name, fn) {\n  if (eventTarget.removeEventListener) {\n    eventTarget.removeEventListener(name, fn);\n  } else {\n    eventTarget.detachEvent('on' + name, fn);\n  }\n}\n\nexport function loadFrame(src) {\n  var iframe = document.createElement('iframe');\n  iframe.style.display = 'none';\n  iframe.src = src;\n\n  return document.body.appendChild(iframe);\n}\n\nexport function loadPopup(src, options) {\n  var title = options.popupTitle || 'External Identity Provider User Authentication';\n  var appearance = 'toolbar=no, scrollbars=yes, resizable=yes, ' +\n    'top=100, left=500, width=600, height=600';\n  return window.open(src, title, appearance);\n}\n\nexport function addPostMessageListener(sdk: OktaAuthOAuthInterface, timeout, state) {\n  var responseHandler;\n  var timeoutId;\n  var msgReceivedOrTimeout = new Promise(function (resolve, reject) {\n\n    responseHandler = function responseHandler(e) {\n      if (!e.data || e.data.state !== state) {\n        // A message not meant for us\n        return;\n      }\n\n      // Configuration mismatch between saved token and current app instance\n      // This may happen if apps with different issuers are running on the same host url\n      // If they share the same storage key, they may read and write tokens in the same location.\n      // Common when developing against http://localhost\n      if (e.origin !== sdk.getIssuerOrigin()) {\n        return reject(new AuthSdkError('The request does not match client configuration'));\n      }\n      resolve(e.data);\n    };\n\n    addListener(window, 'message', responseHandler);\n\n    timeoutId = setTimeout(function () {\n      reject(new AuthSdkError('OAuth flow timed out'));\n    }, timeout || 120000);\n  });\n\n  return msgReceivedOrTimeout\n    .finally(function () {\n      clearTimeout(timeoutId);\n      removeListener(window, 'message', responseHandler);\n    });\n}\n","\n/* global window */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { generateNonce, generateState } from './oauth';\nimport { OktaAuthOAuthInterface, TokenParams } from '../types';\nimport { isBrowser } from '../../features';\nimport { removeNils } from '../../util';\n\nexport function getDefaultTokenParams(sdk: OktaAuthOAuthInterface): TokenParams {\n  const {\n    pkce,\n    clientId,\n    redirectUri,\n    responseType,\n    responseMode,\n    scopes,\n    state,\n    ignoreSignature\n  } = sdk.options;\n  const defaultRedirectUri = isBrowser() ? window.location.href : undefined;\n  return removeNils({\n    pkce,\n    clientId,\n    redirectUri: redirectUri || defaultRedirectUri,\n    responseType: responseType || ['token', 'id_token'],\n    responseMode,\n    state: state || generateState(),\n    nonce: generateNonce(),\n    scopes: scopes || ['openid', 'email'],\n    ignoreSignature\n  });\n}","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nimport { OktaAuthOAuthInterface } from '../types';\nimport { OAuthError, AuthApiError, isOAuthError } from '../../errors';\n\nexport function isInteractionRequiredError(error: Error) {\n  if (error.name !== 'OAuthError') {\n    return false;\n  }\n  const oauthError = error as OAuthError;\n  return (oauthError.errorCode === 'interaction_required');\n}\n\nexport function isAuthorizationCodeError(sdk: OktaAuthOAuthInterface, error: Error) {\n  if (error.name !== 'AuthApiError') {\n    return false;\n  }\n  const authApiError = error as AuthApiError;\n  // xhr property doesn't seem to match XMLHttpRequest type\n  const errorResponse = authApiError.xhr as unknown as Record<string, unknown>;\n  const responseJSON = errorResponse?.responseJSON as Record<string, unknown>;\n  return sdk.options.pkce && (responseJSON?.error as string === 'invalid_grant');\n}\n\nexport function isRefreshTokenInvalidError(error: unknown): boolean {\n  // error: {\"error\":\"invalid_grant\",\"error_description\":\"The refresh token is invalid or expired.\"}\n  return isOAuthError(error) &&\n    error.errorCode === 'invalid_grant' &&\n    error.errorSummary === 'The refresh token is invalid or expired.';\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global window */\n/* eslint-disable complexity, max-statements */\nimport { OktaAuthOAuthOptions, OktaAuthOAuthInterface } from '../types';\n\nexport function hasTokensInHash(hash: string): boolean {\n  return /((id|access)_token=)/i.test(hash);\n}\n\n// authorization_code\nexport function hasAuthorizationCode(hashOrSearch: string): boolean {\n  return /(code=)/i.test(hashOrSearch);\n}\n\n// interaction_code\nexport function hasInteractionCode(hashOrSearch: string): boolean {\n  return /(interaction_code=)/i.test(hashOrSearch);\n}\n\nexport function hasErrorInUrl(hashOrSearch: string): boolean {\n  return /(error=)/i.test(hashOrSearch) || /(error_description)/i.test(hashOrSearch);\n}\n\nexport function isRedirectUri(uri: string, sdk: OktaAuthOAuthInterface): boolean {\n  var authParams = sdk.options;\n  if (!uri || !authParams.redirectUri) {\n    return false;\n  }\n  return uri.indexOf(authParams.redirectUri) === 0;\n}\n\nexport function isCodeFlow(options: OktaAuthOAuthOptions) {\n  return options.pkce || options.responseType === 'code' || options.responseMode === 'query';\n}\n\nexport function getHashOrSearch(options: OktaAuthOAuthOptions) {\n  var codeFlow = isCodeFlow(options);\n  var useQuery = codeFlow && options.responseMode !== 'fragment';\n  return useQuery ? window.location.search : window.location.hash;\n}\n\n/**\n * Check if tokens or a code have been passed back into the url, which happens in\n * the OIDC (including social auth IDP) redirect flow.\n */\nexport function isLoginRedirect (sdk: OktaAuthOAuthInterface) {\n  // First check, is this a redirect URI?\n  if (!isRedirectUri(window.location.href, sdk)){\n    return false;\n  }\n\n  // The location contains either a code, token, or an error + error_description\n  var codeFlow = isCodeFlow(sdk.options);\n  var hashOrSearch = getHashOrSearch(sdk.options);\n\n  if (hasErrorInUrl(hashOrSearch)) {\n    return true;\n  }\n\n  if (codeFlow) {\n    var hasCode =  hasAuthorizationCode(hashOrSearch) || hasInteractionCode(hashOrSearch);\n    return hasCode;\n  }\n\n  // implicit flow, will always be hash fragment\n  return hasTokensInHash(window.location.hash);\n}\n\n/**\n * Check if error=interaction_required has been passed back in the url, which happens in\n * the social auth IDP redirect flow.\n */\nexport function isInteractionRequired (sdk: OktaAuthOAuthInterface, hashOrSearch?: string) {\n  if (!hashOrSearch) { // web only\n    // First check, is this a redirect URI?\n    if (!isLoginRedirect(sdk)){\n      return false;\n    }\n  \n    hashOrSearch = getHashOrSearch(sdk.options);\n  }\n  return /(error=interaction_required)/i.test(hashOrSearch);\n}","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* eslint-disable complexity, max-statements */\nimport { genRandomString, removeTrailingSlash } from '../../util';\nimport AuthSdkError from '../../errors/AuthSdkError';\nimport { OktaAuthOAuthInterface, CustomUrls } from '../types';\n\nexport function generateState() {\n  return genRandomString(64);\n}\n\nexport function generateNonce() {\n  return genRandomString(64);\n}\n\nfunction getIssuer(sdk: OktaAuthOAuthInterface, options: CustomUrls = {}) {\n  const issuer = removeTrailingSlash(options.issuer) || sdk.options.issuer;\n  return issuer;\n}\n\nexport function getOAuthBaseUrl(sdk: OktaAuthOAuthInterface, options: CustomUrls = {}) {\n  const issuer = getIssuer(sdk, options);\n  const baseUrl = issuer.indexOf('/oauth2') > 0 ? issuer : issuer + '/oauth2';\n  return baseUrl;\n}\n\nexport function getOAuthDomain(sdk: OktaAuthOAuthInterface, options: CustomUrls = {}) {\n  const issuer = getIssuer(sdk, options);\n  const domain = issuer.split('/oauth2')[0];\n  return domain;\n}\n\nexport function getOAuthUrls(sdk: OktaAuthOAuthInterface, options?: CustomUrls): CustomUrls {\n  if (arguments.length > 2) {\n    throw new AuthSdkError('As of version 3.0, \"getOAuthUrls\" takes only a single set of options');\n  }\n  options = options || {};\n\n  // Get user-supplied arguments\n  var authorizeUrl = removeTrailingSlash(options.authorizeUrl) || sdk.options.authorizeUrl;\n  var issuer = getIssuer(sdk, options);\n  var userinfoUrl = removeTrailingSlash(options.userinfoUrl) || sdk.options.userinfoUrl;\n  var tokenUrl = removeTrailingSlash(options.tokenUrl) || sdk.options.tokenUrl;\n  var logoutUrl = removeTrailingSlash(options.logoutUrl) || sdk.options.logoutUrl;\n  var revokeUrl = removeTrailingSlash(options.revokeUrl) || sdk.options.revokeUrl;\n\n  var baseUrl = getOAuthBaseUrl(sdk, options);\n\n  authorizeUrl = authorizeUrl || baseUrl + '/v1/authorize';\n  userinfoUrl = userinfoUrl || baseUrl + '/v1/userinfo';\n  tokenUrl = tokenUrl || baseUrl + '/v1/token';\n  revokeUrl = revokeUrl || baseUrl + '/v1/revoke';\n  logoutUrl = logoutUrl || baseUrl + '/v1/logout';\n\n  return {\n    issuer: issuer,\n    authorizeUrl: authorizeUrl,\n    userinfoUrl: userinfoUrl,\n    tokenUrl: tokenUrl,\n    revokeUrl: revokeUrl,\n    logoutUrl: logoutUrl\n  };\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { OAuthTransactionMeta, OktaAuthOAuthInterface, PKCETransactionMeta, TokenParams } from '../types';\nimport { getOAuthUrls } from './oauth';\n\nexport function createOAuthMeta(\n  sdk: OktaAuthOAuthInterface, \n  tokenParams: TokenParams\n): OAuthTransactionMeta | PKCETransactionMeta {\n  const issuer = sdk.options.issuer!;\n  const urls = getOAuthUrls(sdk, tokenParams);\n  const oauthMeta: OAuthTransactionMeta = {\n    issuer,\n    urls,\n    clientId: tokenParams.clientId!,\n    redirectUri: tokenParams.redirectUri!,\n    responseType: tokenParams.responseType!,\n    responseMode: tokenParams.responseMode!,\n    scopes: tokenParams.scopes!,\n    state: tokenParams.state!,\n    nonce: tokenParams.nonce!,\n    ignoreSignature: tokenParams.ignoreSignature!,\n  };\n\n  if (tokenParams.pkce === false) {\n    // Implicit flow or authorization_code without PKCE\n    return oauthMeta;\n  }\n\n  const pkceMeta: PKCETransactionMeta = {\n    ...oauthMeta,\n    codeVerifier: tokenParams.codeVerifier!,\n    codeChallengeMethod: tokenParams.codeChallengeMethod!,\n    codeChallenge: tokenParams.codeChallenge!,\n  };\n\n  return pkceMeta;\n}\n","/*!\n * Copyright (c) 2019-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\n /* eslint-disable complexity, max-statements */\nimport { stringToBase64Url, webcrypto } from '../../crypto';\nimport { MIN_VERIFIER_LENGTH, MAX_VERIFIER_LENGTH, DEFAULT_CODE_CHALLENGE_METHOD } from '../../constants';\n\nfunction dec2hex (dec) {\n  return ('0' + dec.toString(16)).substr(-2);\n}\n\nfunction getRandomString(length) {\n  var a = new Uint8Array(Math.ceil(length / 2));\n  webcrypto.getRandomValues(a);\n  var str = Array.from(a, dec2hex).join('');\n  return str.slice(0, length);\n}\n\nfunction generateVerifier(prefix?: string): string {\n  var verifier = prefix || '';\n  if (verifier.length < MIN_VERIFIER_LENGTH) {\n    verifier = verifier + getRandomString(MIN_VERIFIER_LENGTH - verifier.length);\n  }\n  return encodeURIComponent(verifier).slice(0, MAX_VERIFIER_LENGTH);\n}\n\nfunction computeChallenge(str: string): PromiseLike<any> {  \n  var buffer = new TextEncoder().encode(str);\n  return webcrypto.subtle.digest('SHA-256', buffer).then(function(arrayBuffer) {\n    var hash = String.fromCharCode.apply(null, new Uint8Array(arrayBuffer) as unknown as number[]);\n    var b64u = stringToBase64Url(hash); // url-safe base64 variant\n    return b64u;\n  });\n}\n\nexport default {\n  DEFAULT_CODE_CHALLENGE_METHOD,\n  generateVerifier,\n  computeChallenge\n};\n","/* eslint-disable complexity */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { getWellKnown } from '../endpoints/well-known';\nimport { AuthSdkError } from '../../errors';\nimport { OktaAuthOAuthInterface, TokenParams } from '../types';\nimport { getDefaultTokenParams } from './defaultTokenParams';\nimport { DEFAULT_CODE_CHALLENGE_METHOD } from '../../constants';\nimport PKCE from './pkce';\nimport { OktaAuthBaseInterface } from '../../base/types';\n\nexport function assertPKCESupport(sdk: OktaAuthBaseInterface) {\n  if (!sdk.features.isPKCESupported()) {\n    var errorMessage = 'PKCE requires a modern browser with encryption support running in a secure context.';\n    if (!sdk.features.isHTTPS()) {\n      // eslint-disable-next-line max-len\n      errorMessage += '\\nThe current page is not being served with HTTPS protocol. PKCE requires secure HTTPS protocol.';\n    }\n    if (!sdk.features.hasTextEncoder()) {\n      // eslint-disable-next-line max-len\n      errorMessage += '\\n\"TextEncoder\" is not defined. To use PKCE, you may need to include a polyfill/shim for this browser.';\n    }\n    throw new AuthSdkError(errorMessage);\n  }\n}\n\nexport async function validateCodeChallengeMethod(sdk: OktaAuthOAuthInterface, codeChallengeMethod?: string) {\n  // set default code challenge method, if none provided\n  codeChallengeMethod = codeChallengeMethod || sdk.options.codeChallengeMethod || DEFAULT_CODE_CHALLENGE_METHOD;\n\n  // validate against .well-known/openid-configuration\n  const wellKnownResponse = await getWellKnown(sdk);\n  var methods = wellKnownResponse['code_challenge_methods_supported'] || [];\n  if (methods.indexOf(codeChallengeMethod) === -1) {\n    throw new AuthSdkError('Invalid code_challenge_method');\n  }\n  return codeChallengeMethod;\n}\n\nexport async function preparePKCE(\n  sdk: OktaAuthOAuthInterface, \n  tokenParams: TokenParams\n): Promise<TokenParams> {\n  let {\n    codeVerifier,\n    codeChallenge,\n    codeChallengeMethod\n  } = tokenParams;\n\n  // PKCE calculations can be avoided by passing a codeChallenge\n  codeChallenge = codeChallenge || sdk.options.codeChallenge;\n  if (!codeChallenge) {\n    assertPKCESupport(sdk);\n    codeVerifier = codeVerifier || PKCE.generateVerifier();\n    codeChallenge = await PKCE.computeChallenge(codeVerifier);\n  }\n  codeChallengeMethod = await validateCodeChallengeMethod(sdk, codeChallengeMethod);\n\n  // Clone/copy the params. Set PKCE values\n  tokenParams = {\n    ...tokenParams,\n    responseType: 'code', // responseType is forced\n    codeVerifier,\n    codeChallenge,\n    codeChallengeMethod\n  };\n\n  return tokenParams;\n}\n\n// Prepares params for a call to /authorize or /token\nexport async function prepareTokenParams(\n  sdk: OktaAuthOAuthInterface,\n  tokenParams: TokenParams = {}\n): Promise<TokenParams> {\n  // build params using defaults + options\n  const defaults = getDefaultTokenParams(sdk);\n  tokenParams = { ...defaults, ...tokenParams };\n\n  if (tokenParams.pkce === false) {\n    // Implicit flow or authorization_code without PKCE\n    return tokenParams;\n  }\n\n  return preparePKCE(sdk, tokenParams);\n}","import { RefreshToken } from '../types';\nimport { isAuthApiError } from '../../errors';\n\nexport function isSameRefreshToken(a: RefreshToken, b: RefreshToken) {\n  return (a.refreshToken === b.refreshToken);\n}\n\nexport function isRefreshTokenError(err: Error) {\n  if (!isAuthApiError(err)) {\n    return false;\n  }\n\n  if (!err.xhr || !err.xhr.responseJSON) {\n    return false;\n  }\n\n  const { responseJSON } = err.xhr;\n  if (responseJSON.error === 'invalid_grant') {\n    return true;\n  }\n\n  return false;\n}","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* eslint-disable complexity, max-statements */\n\nexport function urlParamsToObject(hashOrSearch: string) {\n  // Predefine regexs for parsing hash\n  var plus2space = /\\+/g;\n  var paramSplit = /([^&=]+)=?([^&]*)/g;\n  var fragment = hashOrSearch || '';\n\n  // Some hash based routers will automatically add a / character after the hash\n  if (fragment.charAt(0) === '#' && fragment.charAt(1) === '/') {\n    fragment = fragment.substring(2);\n  }\n\n  // Remove the leading # or ?\n  if (fragment.charAt(0) === '#' || fragment.charAt(0) === '?') {\n    fragment = fragment.substring(1);\n  }\n\n\n  var obj = {};\n\n  // Loop until we have no more params\n  var param;\n  while (true) { // eslint-disable-line no-constant-condition\n    param = paramSplit.exec(fragment);\n    if (!param) { break; }\n\n    var key = param[1];\n    var value = param[2];\n\n    // id_token should remain base64url encoded\n    if (key === 'id_token' || key === 'access_token' || key === 'code') {\n      obj[key] = value;\n    } else {\n      obj[key] = decodeURIComponent(value.replace(plus2space, ' '));\n    }\n  }\n  return obj;\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* eslint-disable complexity, max-statements */\n\nimport AuthSdkError from '../../errors/AuthSdkError';\nimport { OktaAuthOAuthInterface, TokenVerifyParams, UserClaims } from '../../oidc/types';\n\nexport function validateClaims(sdk: OktaAuthOAuthInterface, claims: UserClaims, validationParams: TokenVerifyParams) {\n  var aud = validationParams.clientId;\n  var iss = validationParams.issuer;\n  var nonce = validationParams.nonce;\n\n  if (!claims || !iss || !aud) {\n    throw new AuthSdkError('The jwt, iss, and aud arguments are all required');\n  }\n\n  if (nonce && claims.nonce !== nonce) {\n    throw new AuthSdkError('OAuth flow response nonce doesn\\'t match request nonce');\n  }\n\n  var now = Math.floor(Date.now()/1000);\n\n  if (claims.iss !== iss) {\n    throw new AuthSdkError('The issuer [' + claims.iss + '] ' +\n      'does not match [' + iss + ']');\n  }\n\n  if (claims.aud !== aud) {\n    throw new AuthSdkError('The audience [' + claims.aud + '] ' +\n      'does not match [' + aud + ']');\n  }\n\n  if (claims.iat! > claims.exp!) {\n    throw new AuthSdkError('The JWT expired before it was issued');\n  }\n\n  if (!sdk.options.ignoreLifetime) {\n    if ((now - sdk.options.maxClockSkew!) > claims.exp!) {\n      throw new AuthSdkError('The JWT expired and is no longer valid');\n    }\n\n    if (claims.iat! > (now + sdk.options.maxClockSkew!)) {\n      throw new AuthSdkError('The JWT was issued in the future');\n    }\n  }\n}\n","/* eslint-disable complexity */\n\nimport { AuthSdkError } from '../../errors';\nimport { isAccessToken, isIDToken, isRefreshToken, Token, TokenType } from '../../oidc/types';\n\nexport function validateToken(token: Token, type?: TokenType) {\n  if (!isIDToken(token) && !isAccessToken(token) && !isRefreshToken(token)) {\n    throw new AuthSdkError(\n      'Token must be an Object with scopes, expiresAt, and one of: an idToken, accessToken, or refreshToken property'\n    );\n  }\n  \n  if (type === 'accessToken' && !isAccessToken(token)) {\n    throw new AuthSdkError('invalid accessToken');\n  } \n  if (type === 'idToken' && !isIDToken(token)) {\n    throw new AuthSdkError('invalid idToken');\n  }\n\n  if (type === 'refreshToken' && !isRefreshToken(token)) {\n    throw new AuthSdkError('invalid refreshToken');\n  }\n}","/* eslint-disable max-len */\n/* eslint-disable complexity */\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { getWellKnown, getKey } from './endpoints/well-known';\nimport { validateClaims } from './util';\nimport { AuthSdkError } from '../errors';\nimport { IDToken, OktaAuthOAuthInterface, TokenVerifyParams } from '../oidc/types';\nimport { decodeToken } from './decodeToken';\nimport * as sdkCrypto from '../crypto';\n\n// Verify the id token\nexport async function verifyToken(sdk: OktaAuthOAuthInterface, token: IDToken, validationParams: TokenVerifyParams): Promise<IDToken> {\n  if (!token || !token.idToken) {\n    throw new AuthSdkError('Only idTokens may be verified');\n  }\n\n  // Decode the Jwt object (may throw)\n  var jwt = decodeToken(token.idToken);\n\n  // The configured issuer may point to a frontend proxy.\n  // Get the \"real\" issuer from .well-known/openid-configuration\n  const configuredIssuer = validationParams?.issuer || sdk.options.issuer;\n  const { issuer } = await getWellKnown(sdk, configuredIssuer);\n\n  var validationOptions: TokenVerifyParams = Object.assign({\n    // base options, can be overridden by params\n    clientId: sdk.options.clientId,\n    ignoreSignature: sdk.options.ignoreSignature\n  }, validationParams, {\n    // final options, cannot be overridden\n    issuer\n  });\n\n  // Standard claim validation (may throw)\n  validateClaims(sdk, jwt.payload, validationOptions);\n\n  // If the browser doesn't support native crypto or we choose not\n  // to verify the signature, bail early\n  if (validationOptions.ignoreSignature == true || !sdk.features.isTokenVerifySupported()) {\n    return token;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const key = await getKey(sdk, token.issuer, jwt.header.kid!);\n  const valid = await sdkCrypto.verifyToken(token.idToken, key);\n  if (!valid) {\n    throw new AuthSdkError('The token signature is not valid');\n  }\n  if (validationParams && validationParams.accessToken && token.claims.at_hash) {\n    const hash = await sdkCrypto.getOidcHash(validationParams.accessToken);\n    if (hash !== token.claims.at_hash) {\n      throw new AuthSdkError('Token hash verification failed');\n    }\n  }\n  return token;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n/* global window */\nimport { omit, getLink, toQueryString } from '../util';\nimport { get, post, httpRequest } from '../http';\n\nfunction sessionExists(sdk) {\n  return sdk.session.get()\n    .then(function(res) {\n      if (res.status === 'ACTIVE') {\n        return true;\n      }\n      return false;\n    })\n    .catch(function() {\n      return false;\n    });\n}\n\nfunction getSession(sdk) { \n  return get(sdk, '/api/v1/sessions/me', { withCredentials: true })\n  .then(function(session) {\n    var res = omit(session, '_links');\n\n    res.refresh = function() {\n      return post(sdk, getLink(session, 'refresh').href, {}, { withCredentials: true });\n    };\n\n    res.user = function() {\n      return get(sdk, getLink(session, 'user').href, { withCredentials: true });\n    };\n\n    return res;\n  })\n  .catch(function() {\n    // Return INACTIVE status on failure\n    return {status: 'INACTIVE'};\n  });\n}\n\nfunction closeSession(sdk) {\n  return httpRequest(sdk, {\n    url: sdk.getIssuerOrigin() + '/api/v1/sessions/me',\n    method: 'DELETE',\n    withCredentials: true\n  });\n}\n\nfunction refreshSession(sdk) {\n  return post(sdk, '/api/v1/sessions/me/lifecycle/refresh', {}, { withCredentials: true });\n}\n\nfunction setCookieAndRedirect(sdk, sessionToken, redirectUrl) {\n  redirectUrl = redirectUrl || window.location.href;\n  window.location.assign(sdk.getIssuerOrigin() + '/login/sessionCookieRedirect' +\n    toQueryString({\n      checkAccountSetupComplete: true,\n      token: sessionToken,\n      redirectUrl: redirectUrl\n    }));\n}\n\nexport {\n  sessionExists,\n  getSession,\n  closeSession,\n  refreshSession,\n  setCookieAndRedirect\n};\n","import { SessionAPI } from './types';\nimport { closeSession, getSession, refreshSession, sessionExists, setCookieAndRedirect } from './api';\nimport { OktaAuthBaseInterface } from '../base/types';\n\nexport function createSessionApi(sdk: OktaAuthBaseInterface): SessionAPI {\n  const session = {\n    close: closeSession.bind(null, sdk),\n    exists: sessionExists.bind(null, sdk),\n    get: getSession.bind(null, sdk),\n    refresh: refreshSession.bind(null, sdk),\n    setCookieAndRedirect: setCookieAndRedirect.bind(null, sdk)\n  };\n  return session;\n}\n","import { OktaAuthHttpInterface, OktaAuthHttpOptions } from '../http/types';\nimport { OktaAuthConstructor } from '../base/types';\nimport { createSessionApi } from './factory';\nimport {\n  OktaAuthSessionInterface, SessionAPI,\n} from './types';\nimport { StorageManagerInterface } from '../storage/types';\n\nexport function mixinSession\n<\n  S extends StorageManagerInterface = StorageManagerInterface,\n  O extends OktaAuthHttpOptions = OktaAuthHttpOptions,\n  TBase extends OktaAuthConstructor<OktaAuthHttpInterface<S, O>>\n    = OktaAuthConstructor<OktaAuthHttpInterface<S, O>>\n>\n(Base: TBase): TBase & OktaAuthConstructor<OktaAuthSessionInterface<S, O>>\n{\n  return class OktaAuthSession extends Base implements OktaAuthSessionInterface<S, O>\n  {\n    session: SessionAPI;\n\n    constructor(...args: any[]) {\n      super(...args);\n\n      this.session = createSessionApi(this);\n    }\n\n    // Ends the current Okta SSO session without redirecting to Okta.\n    closeSession(): Promise<unknown> {\n      return this.session.close() // DELETE /api/v1/sessions/me\n      .then(async () => {\n        // Clear all local tokens\n        this.clearStorage();\n      })\n      .catch(function(e) {\n        if (e.name === 'AuthApiError' && e.errorCode === 'E0000007') {\n          // Session does not exist or has already been closed\n          return null;\n        }\n        throw e;\n      });\n    }\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\n\nimport {\n  TOKEN_STORAGE_NAME,\n  CACHE_STORAGE_NAME,\n} from '../constants';\nimport {\n  StorageUtil,\n  StorageProvider,\n  StorageOptions,\n  CookieOptions,\n  StorageManagerOptions,\n  SimpleStorage,\n  StorageManagerInterface\n} from './types';\nimport { SavedObject } from './SavedObject';\nimport { isBrowser } from '../features';\nimport { warn } from '../util';\n\nexport function logServerSideMemoryStorageWarning(options: StorageOptions) {\n  if (!isBrowser() && !options.storageProvider && !options.storageProvider) {\n    // eslint-disable-next-line max-len\n    warn('Memory storage can only support simple single user use case on server side, please provide custom storageProvider or storageKey if advanced scenarios need to be supported.');\n  }\n}\n\n\nexport class BaseStorageManager implements StorageManagerInterface {\n  storageManagerOptions: StorageManagerOptions;\n  cookieOptions: CookieOptions;\n  storageUtil: StorageUtil;\n\n  constructor(storageManagerOptions: StorageManagerOptions, cookieOptions: CookieOptions, storageUtil: StorageUtil) {\n    this.storageManagerOptions = storageManagerOptions;\n    this.cookieOptions = cookieOptions;\n    this.storageUtil = storageUtil;\n  }\n\n  // combines defaults in order\n  getOptionsForSection(sectionName: string, overrideOptions?: StorageOptions) {\n    return Object.assign({}, this.storageManagerOptions[sectionName], overrideOptions);\n  }\n \n  // generic method to get any available storage provider\n  // eslint-disable-next-line complexity\n  getStorage(options: StorageOptions): SimpleStorage {\n    options = Object.assign({}, this.cookieOptions, options); // set defaults\n\n    if (options.storageProvider) {\n      return options.storageProvider;\n    }\n\n    let { storageType, storageTypes } = options;\n\n    if(storageType === 'sessionStorage') {\n      options.sessionCookie = true;\n    }\n\n    // If both storageType and storageTypes are specified, then storageType will be used first\n    // If storageType cannot be used but it matches an entry in storageTypes, subsequent entries may be used as fallback\n    // if storageType does not match an entry in storageTypes then storageType is used with no fallback.\n    if (storageType && storageTypes) {\n      const idx = storageTypes.indexOf(storageType);\n      if (idx >= 0) {\n        storageTypes = storageTypes.slice(idx);\n        storageType = undefined;\n      }\n    }\n\n    if (!storageType) {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      storageType = this.storageUtil.findStorageType(storageTypes!);\n    }\n    return this.storageUtil.getStorageByType(storageType, options);\n  }\n\n  // access_token, id_token, refresh_token\n  getTokenStorage(options?: StorageOptions): StorageProvider {\n    options = this.getOptionsForSection('token', options);\n    logServerSideMemoryStorageWarning(options);\n    const storage = this.getStorage(options);\n    const storageKey = options.storageKey || TOKEN_STORAGE_NAME;\n    return new SavedObject(storage, storageKey);\n  }\n\n  // caches well-known response, among others\n  getHttpCache(options?: StorageOptions): StorageProvider {\n    options = this.getOptionsForSection('cache', options);\n    const storage = this.getStorage(options);\n    const storageKey = options.storageKey || CACHE_STORAGE_NAME;\n    return new SavedObject(storage, storageKey);\n  }\n\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport AuthSdkError from '../errors/AuthSdkError';\nimport { StorageProvider, SimpleStorage } from './types';\n\n// formerly known as \"storageBuilder\". Represents an object saved under a key/name.\nexport class SavedObject implements StorageProvider {\n  storageProvider: SimpleStorage;\n  storageName: string;\n\n  constructor(storage: SimpleStorage, storageName: string) {\n    if (!storage) {\n      throw new AuthSdkError('\"storage\" is required');\n    }\n\n    if (typeof storageName !== 'string' || !storageName.length) {\n      throw new AuthSdkError('\"storageName\" is required');\n    }\n\n    this.storageName = storageName;\n    this.storageProvider = storage;\n  }\n\n  //\n  // SimpleStorage interface\n  //\n\n  getItem(key: string) {\n    return this.getStorage()[key];\n  }\n\n  setItem(key: string, value: any) {\n    return this.updateStorage(key, value);\n  }\n\n  removeItem(key: string) {\n    return this.clearStorage(key);\n  }\n\n  //\n  // StorageProvider interface\n  //\n\n  getStorage() {\n    var storageString = this.storageProvider.getItem(this.storageName);\n    storageString = storageString || '{}';\n    try {\n      return JSON.parse(storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to parse storage string: ' + this.storageName);\n    }\n  }\n\n  setStorage(obj?: any) {\n    try {\n      var storageString = obj ? JSON.stringify(obj) : '{}';\n      this.storageProvider.setItem(this.storageName, storageString);\n    } catch(e) {\n      throw new AuthSdkError('Unable to set storage: ' + this.storageName);\n    }\n  }\n\n  clearStorage(key?: string) {\n    if (!key) {\n      // clear all\n      if (this.storageProvider.removeItem) {\n        this.storageProvider.removeItem(this.storageName);\n      } else {\n        this.setStorage();\n      }\n      return;\n    }\n\n    var obj = this.getStorage();\n    delete obj[key];\n    this.setStorage(obj);\n  }\n\n  updateStorage(key, value) {\n    var obj = this.getStorage();\n    obj[key] = value;\n    this.setStorage(obj);\n  }\n}\n","import { OktaAuthBaseInterface, OktaAuthConstructor } from '../base/types';\nimport {\n  OktaAuthStorageInterface,\n  OktaAuthStorageOptions,\n  StorageManagerConstructor,\n  StorageManagerInterface,\n} from './types';\n\nexport function mixinStorage\n<\n  S extends StorageManagerInterface = StorageManagerInterface,\n  O extends OktaAuthStorageOptions = OktaAuthStorageOptions,\n  TBase extends OktaAuthConstructor<OktaAuthBaseInterface<O>> = OktaAuthConstructor<OktaAuthBaseInterface<O>>\n>\n(\n  Base: TBase, StorageManager: StorageManagerConstructor<S>\n): TBase & OktaAuthConstructor<OktaAuthStorageInterface<S, O>>\n{\n  return class OktaAuthStorage extends Base implements OktaAuthStorageInterface<S, O>\n  {\n    storageManager: S;\n    constructor(...args: any[]) {\n      super(...args);\n      const { storageManager, cookies, storageUtil } = this.options;\n      this.storageManager = new StorageManager(storageManager!, cookies!, storageUtil!);\n    }\n    clearStorage(): void {\n      // override in subclass\n    }\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint-disable complexity */\nimport { StorageManagerOptions, StorageUtil, OktaAuthStorageOptions } from '../types';\nimport { warn } from '../../util';\n\nimport { default as browserStorage } from '../../browser/browserStorage';\n\nexport function getStorage(): StorageUtil {\n  const storageUtil = Object.assign({}, browserStorage, {\n    inMemoryStore: {} // create unique storage for this instance\n  });\n  return storageUtil;\n}\n\nexport const STORAGE_MANAGER_OPTIONS: StorageManagerOptions = {\n  token: {\n    storageTypes: [\n      'localStorage',\n      'sessionStorage',\n      'cookie'\n    ]\n  },\n  cache: {\n    storageTypes: [\n      'localStorage',\n      'sessionStorage',\n      'cookie'\n    ]\n  },\n  transaction: {\n    storageTypes: [\n      'sessionStorage',\n      'localStorage',\n      'cookie'\n    ]\n  },\n  'shared-transaction': {\n    storageTypes: [\n      'localStorage'\n    ]\n  },\n  'original-uri': {\n    storageTypes: [\n      'localStorage'\n    ]\n  }\n};\n\nexport function getCookieSettings(args: OktaAuthStorageOptions = {}, isHTTPS: boolean) {\n  // Secure cookies will be automatically used on a HTTPS connection\n  // Non-secure cookies will be automatically used on a HTTP connection\n  // secure option can override the automatic behavior\n  var cookieSettings = args.cookies || {};\n  if (typeof cookieSettings.secure === 'undefined') {\n    cookieSettings.secure = isHTTPS;\n  }\n  if (typeof cookieSettings.sameSite === 'undefined') {\n    cookieSettings.sameSite = cookieSettings.secure ? 'none' : 'lax';\n  }\n\n  // If secure=true, but the connection is not HTTPS, set secure=false.\n  if (cookieSettings.secure && !isHTTPS) {\n    // eslint-disable-next-line no-console\n    warn(\n      'The current page is not being served with the HTTPS protocol.\\n' +\n      'For security reasons, we strongly recommend using HTTPS.\\n' +\n      'If you cannot use HTTPS, set \"cookies.secure\" option to false.'\n    );\n    cookieSettings.secure = false;\n  }\n\n  // Chrome >= 80 will block cookies with SameSite=None unless they are also Secure\n  // If sameSite=none, but the connection is not HTTPS, set sameSite=lax.\n  if (cookieSettings.sameSite === 'none' && !cookieSettings.secure) {\n    cookieSettings.sameSite = 'lax';\n  }\n\n  return cookieSettings;\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { createBaseOptionsConstructor } from '../../base';\nimport { CookieOptions, OktaAuthStorageOptions, StorageManagerOptions, StorageUtil } from '../types';\nimport { getStorage, STORAGE_MANAGER_OPTIONS, getCookieSettings } from './node';\nimport { isHTTPS } from '../../features';\n\nexport function createStorageOptionsConstructor() {\n\n  const BaseOptionsConstructor = createBaseOptionsConstructor();\n  return class StorageOptionsConstructor extends BaseOptionsConstructor implements Required<OktaAuthStorageOptions> {\n    cookies: CookieOptions;\n    storageUtil: StorageUtil;\n    storageManager: StorageManagerOptions;\n    \n    constructor(args: any) {\n      super(args);\n      this.cookies = getCookieSettings(args, isHTTPS())!;\n      this.storageUtil = args.storageUtil || getStorage();\n      this.storageManager = { ...STORAGE_MANAGER_OPTIONS, ...args.storageManager };\n    }\n  };\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n// Implements a queue for synchronous or asynchronous methods\n// Methods will be wrapped in a promise and execute sequentially\n// This can be used to prevent concurrent calls to a single method or a set of methods\n\nimport { isPromise } from './types';\nimport { warn } from './console';\n\ninterface QueueItem {\n  method: () => void;\n  thisObject: object;\n  args: any[];\n  resolve: (value?: unknown) => void;\n  reject: (reason?: unknown) => void;\n}\n\ninterface PromiseQueueOptions {\n  quiet?: boolean; // if false, concurrrency warnings will not be logged\n}\nexport class PromiseQueue {\n  queue: QueueItem[];\n  running: boolean;\n  options: PromiseQueueOptions;\n\n  constructor(options: PromiseQueueOptions = { quiet: false }) {\n    this.queue = [];\n    this.running = false;\n    this.options = options;\n  }\n\n  // Returns a promise\n  // If the method is synchronous, it will resolve when the method completes\n  // If the method returns a promise, it will resolve (or reject) with the value from the method's promise\n  push(method: (...args: any) => any, thisObject: any, ...args: any[]) {\n    return new Promise((resolve, reject) => {\n      if (this.queue.length > 0) {\n        // There is at least one other pending call.\n        // The PromiseQueue will prevent these methods from running concurrently.\n        if (this.options.quiet !== false) {\n          warn(\n            'Async method is being called but another async method is already running. ' +\n            'The new method will be delayed until the previous method completes.'\n          );\n        }\n      }\n      this.queue.push({\n        method,\n        thisObject,\n        args,\n        resolve,\n        reject\n      });\n      this.run();\n    });\n  }\n\n  run() {\n    if (this.running) {\n      return;\n    }\n    if (this.queue.length === 0) {\n      return;\n    }\n    this.running = true;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    var queueItem = this.queue.shift()!;\n    var res = queueItem.method.apply(queueItem.thisObject, queueItem.args as never) as unknown;\n    if (isPromise(res)) {\n      (res as Promise<unknown>).then(queueItem.resolve, queueItem.reject).finally(() => {\n        this.running = false;\n        this.run();\n      });\n    } else {\n      queueItem.resolve(res);\n      this.running = false;\n      this.run();\n    }\n  }\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/* global window */\n\nexport function getNativeConsole() {\n  if (typeof window !== 'undefined') {\n    return window.console;\n  } else if (typeof console !== 'undefined') {\n    return console;\n  } else {\n    return undefined;\n  }\n}\n\nexport function getConsole() {\n  var nativeConsole = getNativeConsole();\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  if (nativeConsole && nativeConsole.log) {\n    return nativeConsole;\n  }\n  return {\n    log: function() {},\n    warn: function() {},\n    group: function() {},\n    groupEnd: function() {}\n  };\n}\n\nexport function warn(text) {\n  /* eslint-disable no-console */\n  getConsole().warn('[okta-auth-sdk] WARN: ' + text);\n  /* eslint-enable */\n}\n\nexport function deprecate(text) {\n  /* eslint-disable no-console */\n  getConsole().warn('[okta-auth-sdk] DEPRECATION: ' + text);\n  /* eslint-enable */\n}\n\nexport function deprecateWrap(text, fn) {\n  return function() {\n    deprecate(text);\n    return fn.apply(null, arguments);\n  };\n}\n\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport function isoToUTCString(str) {\n  var parts = str.match(/\\d+/g),\n      isoTime = Date.UTC(parts[0], parts[1] - 1, parts[2], parts[3], parts[4], parts[5]),\n      isoDate = new Date(isoTime);\n\n  return isoDate.toUTCString();\n}\n\nexport function genRandomString(length) {\n  var randomCharset = 'abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  var random = '';\n  for (var c = 0, cl = randomCharset.length; c < length; ++c) {\n    random += randomCharset[Math.floor(Math.random() * cl)];\n  }\n  return random;\n}\n\nexport function delay(ms) {\n  return new Promise(function(resolve) {\n    setTimeout(resolve, ms);\n  });\n}\n\nexport function split2(str, delim) {\n  const parts = str.split(delim);\n  return [\n    parts[0], \n    parts.splice(1, parts.length).join(delim),\n  ];\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport function bind(fn, ctx) {\n  var additionalArgs = Array.prototype.slice.call(arguments, 2);\n  return function() {\n    var args = Array.prototype.slice.call(arguments);\n    args = additionalArgs.concat(args);\n    return fn.apply(ctx, args);\n  };\n}\n\n// TODO: replace all references with `Object.assign` then remove this function\nexport function extend() {\n  // First object will be modified!\n  var obj1 = arguments[0];\n  // Properties from other objects will be copied over\n  var objArray = [].slice.call(arguments, 1);\n  objArray.forEach(function(obj) {\n    for (var prop in obj) {\n      // copy over all properties with defined values\n      if (Object.prototype.hasOwnProperty.call(obj, prop) && obj[prop] !== undefined) {\n        obj1[prop] = obj[prop];\n      }\n    }\n  });\n  return obj1; // return the modified object\n}\n\nexport function removeNils(obj) {\n  var cleaned = {};\n  for (var prop in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n      var value = obj[prop];\n      if (value !== null && value !== undefined) {\n        cleaned[prop] = value;\n      }\n    }\n  }\n  return cleaned;\n}\n\nexport function clone(obj) {\n  if (obj) {\n    var str = JSON.stringify(obj);\n    if (str) {\n      return JSON.parse(str);\n    }\n  }\n  return obj;\n}\n\n// Analogous to _.omit\nexport function omit(obj, ...props: any[]) {\n  // var props = Array.prototype.slice.call(arguments, 1);\n  var newobj = {};\n  for (var p in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, p) && props.indexOf(p) == -1) {\n      newobj[p] = obj[p];\n    }\n  }\n  return clone(newobj);\n}\n\nexport function find(collection, searchParams) {\n  var c = collection.length;\n  while (c--) {\n    var item = collection[c];\n    var found = true;\n    for (var prop in searchParams) {\n      if (!Object.prototype.hasOwnProperty.call(searchParams, prop)) {\n        continue;\n      }\n      if (item[prop] !== searchParams[prop]) {\n        found = false;\n        break;\n      }\n    }\n    if (found) {\n      return item;\n    }\n  }\n}\n\nexport function getLink(obj, linkName, altName?) {\n  if (!obj || !obj._links) {\n    return;\n  }\n\n  var link = clone(obj._links[linkName]);\n\n  // If a link has a name and we have an altName, return if they match\n  if (link && link.name && altName) {\n    if (link.name === altName) {\n      return link;\n    }\n  } else {\n    return link;\n  }\n}\n\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport function isString(obj: any): obj is string {\n  return Object.prototype.toString.call(obj) === '[object String]';\n}\n\nexport function isObject(obj: any): obj is object {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n}\n\nexport function isNumber(obj: any): obj is number {\n  return Object.prototype.toString.call(obj) === '[object Number]';\n}\n\nexport function isFunction(fn: any): fn is (...any: any[]) => any {\n  return !!fn && {}.toString.call(fn) === '[object Function]';\n}\n\nexport function isPromise(obj) {\n  return obj && obj.finally && (typeof obj.finally === 'function');\n}\n","/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nexport function isAbsoluteUrl(url) {\n  return /^[a-z][a-z0-9+.-]*:/i.test(url);\n}\n\nexport function toAbsoluteUrl(url = '', baseUrl) {\n  if (isAbsoluteUrl(url)) {\n    return url;\n  }\n  baseUrl = removeTrailingSlash(baseUrl);\n  return url[0] === '/' ? `${baseUrl}${url}` : `${baseUrl}/${url}`;\n}\n\nexport function toRelativeUrl(url = '', baseUrl) {\n  if (isAbsoluteUrl(url)) {\n    url = url.substring(baseUrl.length);\n  }\n\n  return url[0] === '/' ? url : `/${url}`;\n}\n\nexport function toQueryString(obj) {\n  var str = [];\n  if (obj !== null) {\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key) &&\n          obj[key] !== undefined &&\n          obj[key] !== null) {\n        str.push(key + '=' + encodeURIComponent(obj[key]) as never);\n      }\n    }\n  }\n  if (str.length) {\n    return '?' + str.join('&');\n  } else {\n    return '';\n  }\n}\n\nexport function removeTrailingSlash(path) {\n  if (!path) {\n    return;\n  }\n  // Remove any whitespace before or after string\n  var trimmed = path.replace(/^\\s+|\\s+$/gm,'');\n  // Remove trailing slash(es)\n  trimmed = trimmed.replace(/\\/+$/, '');\n\n  return trimmed;\n}\n","'use strict';\n\nclass CancelError extends Error {\n\tconstructor(reason) {\n\t\tsuper(reason || 'Promise was canceled');\n\t\tthis.name = 'CancelError';\n\t}\n\n\tget isCanceled() {\n\t\treturn true;\n\t}\n}\n\nclass PCancelable {\n\tstatic fn(userFn) {\n\t\treturn (...arguments_) => {\n\t\t\treturn new PCancelable((resolve, reject, onCancel) => {\n\t\t\t\targuments_.push(onCancel);\n\t\t\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\t\t\tuserFn(...arguments_).then(resolve, reject);\n\t\t\t});\n\t\t};\n\t}\n\n\tconstructor(executor) {\n\t\tthis._cancelHandlers = [];\n\t\tthis._isPending = true;\n\t\tthis._isCanceled = false;\n\t\tthis._rejectOnCancel = true;\n\n\t\tthis._promise = new Promise((resolve, reject) => {\n\t\t\tthis._reject = reject;\n\n\t\t\tconst onResolve = value => {\n\t\t\t\tif (!this._isCanceled || !onCancel.shouldReject) {\n\t\t\t\t\tthis._isPending = false;\n\t\t\t\t\tresolve(value);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst onReject = error => {\n\t\t\t\tthis._isPending = false;\n\t\t\t\treject(error);\n\t\t\t};\n\n\t\t\tconst onCancel = handler => {\n\t\t\t\tif (!this._isPending) {\n\t\t\t\t\tthrow new Error('The `onCancel` handler was attached after the promise settled.');\n\t\t\t\t}\n\n\t\t\t\tthis._cancelHandlers.push(handler);\n\t\t\t};\n\n\t\t\tObject.defineProperties(onCancel, {\n\t\t\t\tshouldReject: {\n\t\t\t\t\tget: () => this._rejectOnCancel,\n\t\t\t\t\tset: boolean => {\n\t\t\t\t\t\tthis._rejectOnCancel = boolean;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn executor(onResolve, onReject, onCancel);\n\t\t});\n\t}\n\n\tthen(onFulfilled, onRejected) {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\treturn this._promise.then(onFulfilled, onRejected);\n\t}\n\n\tcatch(onRejected) {\n\t\treturn this._promise.catch(onRejected);\n\t}\n\n\tfinally(onFinally) {\n\t\treturn this._promise.finally(onFinally);\n\t}\n\n\tcancel(reason) {\n\t\tif (!this._isPending || this._isCanceled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isCanceled = true;\n\n\t\tif (this._cancelHandlers.length > 0) {\n\t\t\ttry {\n\t\t\t\tfor (const handler of this._cancelHandlers) {\n\t\t\t\t\thandler();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis._reject(error);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (this._rejectOnCancel) {\n\t\t\tthis._reject(new CancelError(reason));\n\t\t}\n\t}\n\n\tget isCanceled() {\n\t\treturn this._isCanceled;\n\t}\n}\n\nObject.setPrototypeOf(PCancelable.prototype, Promise.prototype);\n\nmodule.exports = PCancelable;\nmodule.exports.CancelError = CancelError;\n","var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","module.exports = false;\n\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n  OktaAuthOptionsConstructor,\n} from '../base';\n\nimport {\n  IdxStorageManagerConstructor,\n  IdxTransactionManagerConstructor,\n  OktaAuthIdxOptions,\n  createIdxTransactionManager,\n  createOktaAuthIdx,\n  createIdxStorageManager,\n  createIdxOptionsConstructor\n} from '../idx';\n\nconst OptionsConstructor: OktaAuthOptionsConstructor<OktaAuthIdxOptions> = createIdxOptionsConstructor();\nconst StorageManager: IdxStorageManagerConstructor = createIdxStorageManager();\nconst TransactionManager: IdxTransactionManagerConstructor = createIdxTransactionManager();\n\n\nconst OktaAuthIdx = createOktaAuthIdx(StorageManager, OptionsConstructor, TransactionManager);\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface OktaAuthOptions extends OktaAuthIdxOptions {}\n\nclass OktaAuth extends OktaAuthIdx {\n  constructor(options: OktaAuthOptions) {\n    super(options);\n  }\n}\n\nexport default OktaAuth;\nexport { OktaAuth };\nexport * from './common';\nexport * from '../idx';\n","(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['module', 'select'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, require('select'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, global.select);\n        global.clipboardAction = mod.exports;\n    }\n})(this, function (module, _select) {\n    'use strict';\n\n    var _select2 = _interopRequireDefault(_select);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    var _createClass = function () {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n    var ClipboardAction = function () {\n        /**\n         * @param {Object} options\n         */\n        function ClipboardAction(options) {\n            _classCallCheck(this, ClipboardAction);\n\n            this.resolveOptions(options);\n            this.initSelection();\n        }\n\n        /**\n         * Defines base properties passed from constructor.\n         * @param {Object} options\n         */\n\n\n        _createClass(ClipboardAction, [{\n            key: 'resolveOptions',\n            value: function resolveOptions() {\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                this.action = options.action;\n                this.container = options.container;\n                this.emitter = options.emitter;\n                this.target = options.target;\n                this.text = options.text;\n                this.trigger = options.trigger;\n\n                this.selectedText = '';\n            }\n        }, {\n            key: 'initSelection',\n            value: function initSelection() {\n                if (this.text) {\n                    this.selectFake();\n                } else if (this.target) {\n                    this.selectTarget();\n                }\n            }\n        }, {\n            key: 'selectFake',\n            value: function selectFake() {\n                var _this = this;\n\n                var isRTL = document.documentElement.getAttribute('dir') == 'rtl';\n\n                this.removeFake();\n\n                this.fakeHandlerCallback = function () {\n                    return _this.removeFake();\n                };\n                this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;\n\n                this.fakeElem = document.createElement('textarea');\n                // Prevent zooming on iOS\n                this.fakeElem.style.fontSize = '12pt';\n                // Reset box model\n                this.fakeElem.style.border = '0';\n                this.fakeElem.style.padding = '0';\n                this.fakeElem.style.margin = '0';\n                // Move element out of screen horizontally\n                this.fakeElem.style.position = 'absolute';\n                this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px';\n                // Move element to the same position vertically\n                var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n                this.fakeElem.style.top = yPosition + 'px';\n\n                this.fakeElem.setAttribute('readonly', '');\n                this.fakeElem.value = this.text;\n\n                this.container.appendChild(this.fakeElem);\n\n                this.selectedText = (0, _select2.default)(this.fakeElem);\n                this.copyText();\n            }\n        }, {\n            key: 'removeFake',\n            value: function removeFake() {\n                if (this.fakeHandler) {\n                    this.container.removeEventListener('click', this.fakeHandlerCallback);\n                    this.fakeHandler = null;\n                    this.fakeHandlerCallback = null;\n                }\n\n                if (this.fakeElem) {\n                    this.container.removeChild(this.fakeElem);\n                    this.fakeElem = null;\n                }\n            }\n        }, {\n            key: 'selectTarget',\n            value: function selectTarget() {\n                this.selectedText = (0, _select2.default)(this.target);\n                this.copyText();\n            }\n        }, {\n            key: 'copyText',\n            value: function copyText() {\n                var succeeded = void 0;\n\n                try {\n                    succeeded = document.execCommand(this.action);\n                } catch (err) {\n                    succeeded = false;\n                }\n\n                this.handleResult(succeeded);\n            }\n        }, {\n            key: 'handleResult',\n            value: function handleResult(succeeded) {\n                this.emitter.emit(succeeded ? 'success' : 'error', {\n                    action: this.action,\n                    text: this.selectedText,\n                    trigger: this.trigger,\n                    clearSelection: this.clearSelection.bind(this)\n                });\n            }\n        }, {\n            key: 'clearSelection',\n            value: function clearSelection() {\n                if (this.trigger) {\n                    this.trigger.focus();\n                }\n\n                window.getSelection().removeAllRanges();\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                this.removeFake();\n            }\n        }, {\n            key: 'action',\n            set: function set() {\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';\n\n                this._action = action;\n\n                if (this._action !== 'copy' && this._action !== 'cut') {\n                    throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n                }\n            },\n            get: function get() {\n                return this._action;\n            }\n        }, {\n            key: 'target',\n            set: function set(target) {\n                if (target !== undefined) {\n                    if (target && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && target.nodeType === 1) {\n                        if (this.action === 'copy' && target.hasAttribute('disabled')) {\n                            throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n                        }\n\n                        if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n                            throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n                        }\n\n                        this._target = target;\n                    } else {\n                        throw new Error('Invalid \"target\" value, use a valid Element');\n                    }\n                }\n            },\n            get: function get() {\n                return this._target;\n            }\n        }]);\n\n        return ClipboardAction;\n    }();\n\n    module.exports = ClipboardAction;\n});","(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['module', './clipboard-action', 'tiny-emitter', 'good-listener'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, require('./clipboard-action'), require('tiny-emitter'), require('good-listener'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, global.clipboardAction, global.tinyEmitter, global.goodListener);\n        global.clipboard = mod.exports;\n    }\n})(this, function (module, _clipboardAction, _tinyEmitter, _goodListener) {\n    'use strict';\n\n    var _clipboardAction2 = _interopRequireDefault(_clipboardAction);\n\n    var _tinyEmitter2 = _interopRequireDefault(_tinyEmitter);\n\n    var _goodListener2 = _interopRequireDefault(_goodListener);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    var _createClass = function () {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n    function _possibleConstructorReturn(self, call) {\n        if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n    }\n\n    function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                enumerable: false,\n                writable: true,\n                configurable: true\n            }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n    }\n\n    var Clipboard = function (_Emitter) {\n        _inherits(Clipboard, _Emitter);\n\n        /**\n         * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n         * @param {Object} options\n         */\n        function Clipboard(trigger, options) {\n            _classCallCheck(this, Clipboard);\n\n            var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this));\n\n            _this.resolveOptions(options);\n            _this.listenClick(trigger);\n            return _this;\n        }\n\n        /**\n         * Defines if attributes would be resolved using internal setter functions\n         * or custom functions that were passed in the constructor.\n         * @param {Object} options\n         */\n\n\n        _createClass(Clipboard, [{\n            key: 'resolveOptions',\n            value: function resolveOptions() {\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\n                this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\n                this.text = typeof options.text === 'function' ? options.text : this.defaultText;\n                this.container = _typeof(options.container) === 'object' ? options.container : document.body;\n            }\n        }, {\n            key: 'listenClick',\n            value: function listenClick(trigger) {\n                var _this2 = this;\n\n                this.listener = (0, _goodListener2.default)(trigger, 'click', function (e) {\n                    return _this2.onClick(e);\n                });\n            }\n        }, {\n            key: 'onClick',\n            value: function onClick(e) {\n                var trigger = e.delegateTarget || e.currentTarget;\n\n                if (this.clipboardAction) {\n                    this.clipboardAction = null;\n                }\n\n                this.clipboardAction = new _clipboardAction2.default({\n                    action: this.action(trigger),\n                    target: this.target(trigger),\n                    text: this.text(trigger),\n                    container: this.container,\n                    trigger: trigger,\n                    emitter: this\n                });\n            }\n        }, {\n            key: 'defaultAction',\n            value: function defaultAction(trigger) {\n                return getAttributeValue('action', trigger);\n            }\n        }, {\n            key: 'defaultTarget',\n            value: function defaultTarget(trigger) {\n                var selector = getAttributeValue('target', trigger);\n\n                if (selector) {\n                    return document.querySelector(selector);\n                }\n            }\n        }, {\n            key: 'defaultText',\n            value: function defaultText(trigger) {\n                return getAttributeValue('text', trigger);\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                this.listener.destroy();\n\n                if (this.clipboardAction) {\n                    this.clipboardAction.destroy();\n                    this.clipboardAction = null;\n                }\n            }\n        }], [{\n            key: 'isSupported',\n            value: function isSupported() {\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\n\n                var actions = typeof action === 'string' ? [action] : action;\n                var support = !!document.queryCommandSupported;\n\n                actions.forEach(function (action) {\n                    support = support && !!document.queryCommandSupported(action);\n                });\n\n                return support;\n            }\n        }]);\n\n        return Clipboard;\n    }(_tinyEmitter2.default);\n\n    /**\n     * Helper function to retrieve attribute value.\n     * @param {String} suffix\n     * @param {Element} element\n     */\n    function getAttributeValue(suffix, element) {\n        var attribute = 'data-clipboard-' + suffix;\n\n        if (!element.hasAttribute(attribute)) {\n            return;\n        }\n\n        return element.getAttribute(attribute);\n    }\n\n    module.exports = Clipboard;\n});","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n","var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","/**\n * Check if argument is a HTML element.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.node = function(value) {\n    return value !== undefined\n        && value instanceof HTMLElement\n        && value.nodeType === 1;\n};\n\n/**\n * Check if argument is a list of HTML elements.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.nodeList = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return value !== undefined\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\n        && ('length' in value)\n        && (value.length === 0 || exports.node(value[0]));\n};\n\n/**\n * Check if argument is a string.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.string = function(value) {\n    return typeof value === 'string'\n        || value instanceof String;\n};\n\n/**\n * Check if argument is a function.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.fn = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return type === '[object Function]';\n};\n","var is = require('./is');\nvar delegate = require('delegate');\n\n/**\n * Validates all params and calls the right\n * listener function based on its target type.\n *\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listen(target, type, callback) {\n    if (!target && !type && !callback) {\n        throw new Error('Missing required arguments');\n    }\n\n    if (!is.string(type)) {\n        throw new TypeError('Second argument must be a String');\n    }\n\n    if (!is.fn(callback)) {\n        throw new TypeError('Third argument must be a Function');\n    }\n\n    if (is.node(target)) {\n        return listenNode(target, type, callback);\n    }\n    else if (is.nodeList(target)) {\n        return listenNodeList(target, type, callback);\n    }\n    else if (is.string(target)) {\n        return listenSelector(target, type, callback);\n    }\n    else {\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n    }\n}\n\n/**\n * Adds an event listener to a HTML element\n * and returns a remove listener function.\n *\n * @param {HTMLElement} node\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNode(node, type, callback) {\n    node.addEventListener(type, callback);\n\n    return {\n        destroy: function() {\n            node.removeEventListener(type, callback);\n        }\n    }\n}\n\n/**\n * Add an event listener to a list of HTML elements\n * and returns a remove listener function.\n *\n * @param {NodeList|HTMLCollection} nodeList\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNodeList(nodeList, type, callback) {\n    Array.prototype.forEach.call(nodeList, function(node) {\n        node.addEventListener(type, callback);\n    });\n\n    return {\n        destroy: function() {\n            Array.prototype.forEach.call(nodeList, function(node) {\n                node.removeEventListener(type, callback);\n            });\n        }\n    }\n}\n\n/**\n * Add an event listener to a selector\n * and returns a remove listener function.\n *\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenSelector(selector, type, callback) {\n    return delegate(document.body, selector, type, callback);\n}\n\nmodule.exports = listen;\n","/*!\n * jQuery JavaScript Library v3.6.0\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright OpenJS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2021-03-02T17:08Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar flat = arr.flat ? function( array ) {\n\treturn arr.flat.call( array );\n} : function( array ) {\n\treturn arr.concat.apply( [], array );\n};\n\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n\t\t// Support: Chrome <=57, Firefox <=52\n\t\t// In some browsers, typeof returns \"function\" for HTML <object> elements\n\t\t// (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n\t\t// We don't want to classify *any* DOM node as a function.\n\t\t// Support: QtWeb <=3.8.5, WebKit <=534.34, wkhtmltopdf tool <=0.12.5\n\t\t// Plus for old WebKit, typeof returns \"function\" for HTML collections\n\t\t// (e.g., `typeof document.getElementsByTagName(\"div\") === \"function\"`). (gh-4756)\n\t\treturn typeof obj === \"function\" && typeof obj.nodeType !== \"number\" &&\n\t\t\ttypeof obj.item !== \"function\";\n\t};\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\nvar document = window.document;\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.6.0\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teven: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn ( i + 1 ) % 2;\n\t\t} ) );\n\t},\n\n\todd: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn i % 2;\n\t\t} ) );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a provided context; falls back to the global one\n\t// if not specified.\n\tglobalEval: function( code, options, doc ) {\n\t\tDOMEval( code, { nonce: options && options.nonce }, doc );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn flat( ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\n\tfunction( _i, name ) {\n\t\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n\t} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.6\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2021-02-16\n */\n( function( window ) {\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ( {} ).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpushNative = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[ i ] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|\" +\n\t\t\"ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram\n\tidentifier = \"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\n\t\t// \"Attribute values must be CSS identifiers [capture 5]\n\t\t// or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" +\n\t\twhitespace + \"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" +\n\t\twhitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace +\n\t\t\"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" +\n\t\t\twhitespace + \"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" +\n\t\t\twhitespace + \"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace +\n\t\t\t\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" + whitespace +\n\t\t\t\"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trhtml = /HTML$/i,\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace + \"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\", \"g\" ),\n\tfunescape = function( escape, nonHex ) {\n\t\tvar high = \"0x\" + escape.slice( 1 ) - 0x10000;\n\n\t\treturn nonHex ?\n\n\t\t\t// Strip the backslash prefix from a non-hex escape sequence\n\t\t\tnonHex :\n\n\t\t\t// Replace a hexadecimal escape sequence with the encoded Unicode code point\n\t\t\t// Support: IE <=11+\n\t\t\t// For values outside the Basic Multilingual Plane (BMP), manually construct a\n\t\t\t// surrogate pair\n\t\t\thigh < 0 ?\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" +\n\t\t\t\tch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && elem.nodeName.toLowerCase() === \"fieldset\";\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t( arr = slice.call( preferredDoc.childNodes ) ),\n\t\tpreferredDoc.childNodes\n\t);\n\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\t// eslint-disable-next-line no-unused-expressions\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpushNative.apply( target, slice.call( els ) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( ( target[ j++ ] = els[ i++ ] ) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\t\tsetDocument( context );\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( ( m = match[ 1 ] ) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( ( elem = context.getElementById( m ) ) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && ( elem = newContext.getElementById( m ) ) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[ 2 ] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( ( m = match[ 3 ] ) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t( !rbuggyQSA || !rbuggyQSA.test( selector ) ) &&\n\n\t\t\t\t// Support: IE 8 only\n\t\t\t\t// Exclude object elements\n\t\t\t\t( nodeType !== 1 || context.nodeName.toLowerCase() !== \"object\" ) ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// The technique has to be used as well when a leading combinator is used\n\t\t\t\t// as such selectors are not recognized by querySelectorAll.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 &&\n\t\t\t\t\t( rdescend.test( selector ) || rcombinators.test( selector ) ) ) {\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\n\t\t\t\t\t// We can use :scope instead of the ID hack if the browser\n\t\t\t\t\t// supports it & if we're not changing the context.\n\t\t\t\t\tif ( newContext !== context || !support.scope ) {\n\n\t\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\t\tif ( ( nid = context.getAttribute( \"id\" ) ) ) {\n\t\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontext.setAttribute( \"id\", ( nid = expando ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[ i ] = ( nid ? \"#\" + nid : \":scope\" ) + \" \" +\n\t\t\t\t\t\t\ttoSelector( groups[ i ] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn ( cache[ key + \" \" ] = value );\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement( \"fieldset\" );\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch ( e ) {\n\t\treturn false;\n\t} finally {\n\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split( \"|\" ),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[ i ] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( ( cur = cur.nextSibling ) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn ( name === \"input\" || name === \"button\" ) && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction( function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction( function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ ( j = matchIndexes[ i ] ) ] ) {\n\t\t\t\t\tseed[ j ] = !( matches[ j ] = seed[ j ] );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\tvar namespace = elem && elem.namespaceURI,\n\t\tdocElem = elem && ( elem.ownerDocument || elem ).documentElement;\n\n\t// Support: IE <=8\n\t// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes\n\t// https://bugs.jquery.com/ticket/4833\n\treturn !rhtml.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( preferredDoc != document &&\n\t\t( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t// Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,\n\t// Safari 4 - 5 only, Opera <=11.6 - 12.x only\n\t// IE/Edge & older browsers don't support the :scope pseudo-class.\n\t// Support: Safari 6.0 only\n\t// Safari 6.0 supports :scope but it's an alias of :root there.\n\tsupport.scope = assert( function( el ) {\n\t\tdocElem.appendChild( el ).appendChild( document.createElement( \"div\" ) );\n\t\treturn typeof el.querySelectorAll !== \"undefined\" &&\n\t\t\t!el.querySelectorAll( \":scope fieldset div\" ).length;\n\t} );\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert( function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute( \"className\" );\n\t} );\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert( function( el ) {\n\t\tel.appendChild( document.createComment( \"\" ) );\n\t\treturn !el.getElementsByTagName( \"*\" ).length;\n\t} );\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert( function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t} );\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[ \"ID\" ] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute( \"id\" ) === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[ \"ID\" ] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode( \"id\" );\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( ( elem = elems[ i++ ] ) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[ \"TAG\" ] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[ \"CLASS\" ] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( ( support.qsa = rnative.test( document.querySelectorAll ) ) ) {\n\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert( function( el ) {\n\n\t\t\tvar input;\n\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll( \"[msallowcapture^='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll( \"[selected]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"~=\" );\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 15 - 18+\n\t\t\t// IE 11/Edge don't find elements on a `[name='']` query in some cases.\n\t\t\t// Adding a temporary attribute to the document before the selection works\n\t\t\t// around the issue.\n\t\t\t// Interestingly, IE 10 & older don't seem to have the issue.\n\t\t\tinput = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"name\", \"\" );\n\t\t\tel.appendChild( input );\n\t\t\tif ( !el.querySelectorAll( \"[name='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*name\" + whitespace + \"*=\" +\n\t\t\t\t\twhitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll( \":checked\" ).length ) {\n\t\t\t\trbuggyQSA.push( \":checked\" );\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push( \".#.+[+~]\" );\n\t\t\t}\n\n\t\t\t// Support: Firefox <=3.6 - 5 only\n\t\t\t// Old Firefox doesn't throw on a badly-escaped identifier.\n\t\t\tel.querySelectorAll( \"\\\\\\f\" );\n\t\t\trbuggyQSA.push( \"[\\\\r\\\\n\\\\f]\" );\n\t\t} );\n\n\t\tassert( function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll( \"[name=d]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll( \":enabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll( \":disabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: Opera 10 - 11 only\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll( \"*,:x\" );\n\t\t\trbuggyQSA.push( \",.*:\" );\n\t\t} );\n\t}\n\n\tif ( ( support.matchesSelector = rnative.test( ( matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector ) ) ) ) {\n\n\t\tassert( function( el ) {\n\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t} );\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( \"|\" ) );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join( \"|\" ) );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t) );\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( ( b = b.parentNode ) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tcompare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( a == document || a.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, a ) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( b == document || b.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, b ) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\treturn a == document ? -1 :\n\t\t\t\tb == document ? 1 :\n\t\t\t\t/* eslint-enable eqeqeq */\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[ i ] === bp[ i ] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[ i ], bp[ i ] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\tap[ i ] == preferredDoc ? -1 :\n\t\t\tbp[ i ] == preferredDoc ? 1 :\n\t\t\t/* eslint-enable eqeqeq */\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\tsetDocument( elem );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\n\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t// fragment in IE 9\n\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( context.ownerDocument || context ) != document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( elem.ownerDocument || elem ) != document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( ( node = elem[ i++ ] ) ) {\n\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[ 1 ] = match[ 1 ].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[ 3 ] = ( match[ 3 ] || match[ 4 ] ||\n\t\t\t\tmatch[ 5 ] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[ 2 ] === \"~=\" ) {\n\t\t\t\tmatch[ 3 ] = \" \" + match[ 3 ] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[ 1 ] = match[ 1 ].toLowerCase();\n\n\t\t\tif ( match[ 1 ].slice( 0, 3 ) === \"nth\" ) {\n\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[ 3 ] ) {\n\t\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[ 4 ] = +( match[ 4 ] ?\n\t\t\t\t\tmatch[ 5 ] + ( match[ 6 ] || 1 ) :\n\t\t\t\t\t2 * ( match[ 3 ] === \"even\" || match[ 3 ] === \"odd\" ) );\n\t\t\t\tmatch[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === \"odd\" );\n\n\t\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[ 3 ] ) {\n\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[ 6 ] && match[ 2 ];\n\n\t\t\tif ( matchExpr[ \"CHILD\" ].test( match[ 0 ] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[ 3 ] ) {\n\t\t\t\tmatch[ 2 ] = match[ 4 ] || match[ 5 ] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t( excess = tokenize( unquoted, true ) ) &&\n\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t( excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length ) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[ 0 ] = match[ 0 ].slice( 0, excess );\n\t\t\t\tmatch[ 2 ] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() {\n\t\t\t\t\treturn true;\n\t\t\t\t} :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t( pattern = new RegExp( \"(^|\" + whitespace +\n\t\t\t\t\t\")\" + className + \"(\" + whitespace + \"|$)\" ) ) && classCache(\n\t\t\t\t\t\tclassName, function( elem ) {\n\t\t\t\t\t\t\treturn pattern.test(\n\t\t\t\t\t\t\t\ttypeof elem.className === \"string\" && elem.className ||\n\t\t\t\t\t\t\t\ttypeof elem.getAttribute !== \"undefined\" &&\n\t\t\t\t\t\t\t\t\telem.getAttribute( \"class\" ) ||\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t);\n\t\t\t\t} );\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\t/* eslint-disable max-len */\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t\t/* eslint-enable max-len */\n\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, _argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( ( node = node[ dir ] ) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction( function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[ i ] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction( function( selector ) {\n\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction( function( seed, matches, _context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\t\t\t\t\tseed[ i ] = !( matches[ i ] = elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} ) :\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tinput[ 0 ] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[ 0 ] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t} ),\n\n\t\t\"has\": markFunction( function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t} ),\n\n\t\t\"contains\": markFunction( function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t} ),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test( lang || \"\" ) ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( ( elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute( \"xml:lang\" ) || elem.getAttribute( \"lang\" ) ) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t} ),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement &&\n\t\t\t\t( !document.hasFocus || document.hasFocus() ) &&\n\t\t\t\t!!( elem.type || elem.href || ~elem.tabIndex );\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn ( nodeName === \"input\" && !!elem.checked ) ||\n\t\t\t\t( nodeName === \"option\" && !!elem.selected );\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[ \"empty\" ]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( ( attr = elem.getAttribute( \"type\" ) ) == null ||\n\t\t\t\t\tattr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo( function() {\n\t\t\treturn [ 0 ];\n\t\t} ),\n\n\t\t\"last\": createPositionalPseudo( function( _matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t} ),\n\n\t\t\"eq\": createPositionalPseudo( function( _matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t} ),\n\n\t\t\"even\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"odd\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"lt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ?\n\t\t\t\targument + length :\n\t\t\t\targument > length ?\n\t\t\t\t\tlength :\n\t\t\t\t\targument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"gt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} )\n\t}\n};\n\nExpr.pseudos[ \"nth\" ] = Expr.pseudos[ \"eq\" ];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || ( match = rcomma.exec( soFar ) ) ) {\n\t\t\tif ( match ) {\n\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[ 0 ].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( ( tokens = [] ) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( ( match = rcombinators.exec( soFar ) ) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push( {\n\t\t\t\tvalue: matched,\n\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[ 0 ].replace( rtrim, \" \" )\n\t\t\t} );\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||\n\t\t\t\t( match = preFilters[ type ]( match ) ) ) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push( {\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t} );\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[ i ].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] ||\n\t\t\t\t\t\t\t( outerCache[ elem.uniqueID ] = {} );\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( ( oldCache = uniqueCache[ key ] ) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn ( newCache[ 2 ] = oldCache[ 2 ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[ i ]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[ 0 ];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[ i ], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction( function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts(\n\t\t\t\tselector || \"*\",\n\t\t\t\tcontext.nodeType ? [ context ] : context,\n\t\t\t\t[]\n\t\t\t),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( ( elem = temp[ i ] ) ) {\n\t\t\t\t\tmatcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) ) {\n\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( ( matcherIn[ i ] = elem ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, ( matcherOut = [] ), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) &&\n\t\t\t\t\t\t( temp = postFinder ? indexOf( seed, elem ) : preMap[ i ] ) > -1 ) {\n\n\t\t\t\t\t\tseed[ temp ] = !( results[ temp ] = elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t} );\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[ 0 ].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[ \" \" ],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t( checkContext = context ).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {\n\t\t\tmatchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[ j ].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\n\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\ttokens\n\t\t\t\t\t\t.slice( 0, i - 1 )\n\t\t\t\t\t\t.concat( { value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" } )\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[ \"TAG\" ]( \"*\", outermost ),\n\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\n\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\toutermostContext = context == document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( !context && elem.ownerDocument != document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( ( matcher = elementMatchers[ j++ ] ) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml ) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( ( elem = !matcher && elem ) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( ( matcher = setMatchers[ j++ ] ) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !( unmatched[ i ] || setMatched[ i ] ) ) {\n\t\t\t\t\t\t\t\tsetMatched[ i ] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[ i ] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache(\n\t\t\tselector,\n\t\t\tmatcherFromGroupMatchers( elementMatchers, setMatchers )\n\t\t);\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( ( selector = compiled.selector || selector ) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[ 0 ] = match[ 0 ].slice( 0 );\n\t\tif ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === \"ID\" &&\n\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {\n\n\t\t\tcontext = ( Expr.find[ \"ID\" ]( token.matches[ 0 ]\n\t\t\t\t.replace( runescape, funescape ), context ) || [] )[ 0 ];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[ \"needsContext\" ].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[ i ];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ ( type = token.type ) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( ( find = Expr.find[ type ] ) ) {\n\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( ( seed = find(\n\t\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[ 0 ].type ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext\n\t\t\t\t) ) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split( \"\" ).sort( sortOrder ).join( \"\" ) === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert( function( el ) {\n\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement( \"fieldset\" ) ) & 1;\n} );\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert( function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute( \"href\" ) === \"#\";\n} ) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert( function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n} ) ) {\n\taddHandle( \"value\", function( elem, _name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert( function( el ) {\n\treturn el.getAttribute( \"disabled\" ) == null;\n} ) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\t\tnull;\n\t\t}\n\t} );\n}\n\nreturn Sizzle;\n\n} )( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\n\n\nfunction nodeName( elem, name ) {\n\n\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n}\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( elem.contentDocument != null &&\n\n\t\t\t// Support: IE 11+\n\t\t\t// <object> elements with no `data` attribute has an object\n\t\t\t// `contentDocument` with a `null` prototype.\n\t\t\tgetProto( elem.contentDocument ) ) {\n\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( _i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the primary Deferred\n\t\t\tprimary = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tprimary.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, primary.done( updateFunc( i ) ).resolve, primary.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( primary.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn primary.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), primary.reject );\n\t\t}\n\n\t\treturn primary.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, _key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\t\tvalue :\n\t\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( _all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (#9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see #8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (#11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (#14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n\n\t// Support: IE <=9 only\n\t// IE <=9 replaces <option> tags with their contents when inserted outside of\n\t// the select element.\n\tdiv.innerHTML = \"<option></option>\";\n\tsupport.option = !!div.lastChild;\n} )();\n\n\n// We have to close these tags to support XHTML (#13200)\nvar wrapMap = {\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: IE <=9 only\nif ( !support.option ) {\n\twrapMap.optgroup = wrapMap.option = [ 1, \"<select multiple='multiple'>\", \"</select>\" ];\n}\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (#15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\nvar rtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 - 11+\n// focus() and blur() are asynchronous, except when they are no-op.\n// So expect focus to be synchronous when the element is already active,\n// and blur to be synchronous when the element is not already active.\n// (focus and blur are always synchronous in other supported browsers,\n// this just defines when we can count on it).\nfunction expectSync( elem, type ) {\n\treturn ( elem === safeActiveElement() ) === ( type === \"focus\" );\n}\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Only attach events to objects that accept data\n\t\tif ( !acceptData( elem ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = Object.create( null );\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\n\t\t\t// Make a writable jQuery.Event from the native event object\n\t\t\tevent = jQuery.event.fix( nativeEvent ),\n\n\t\t\thandlers = (\n\t\t\t\tdataPriv.get( this, \"events\" ) || Object.create( null )\n\t\t\t)[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", returnTrue );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, expectSync ) {\n\n\t// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !expectSync ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar notAsync, result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\t// Saved data should be false in such cases, but might be a leftover capture object\n\t\t\t\t// from an async native handler (gh-4350)\n\t\t\t\tif ( !saved.length ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t// focus() and blur() are asynchronous\n\t\t\t\t\tnotAsync = expectSync( this, type );\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tif ( saved !== result || notAsync ) {\n\t\t\t\t\t\tdataPriv.set( this, type, false );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = {};\n\t\t\t\t\t}\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\t// Support: Chrome 86+\n\t\t\t\t\t\t// In Chrome, if an element having a focusout handler is blurred by\n\t\t\t\t\t\t// clicking outside of it, it invokes the handler synchronously. If\n\t\t\t\t\t\t// that handler calls `.remove()` on the element, the data is cleared,\n\t\t\t\t\t\t// leaving `result` undefined. We need to guard against this.\n\t\t\t\t\t\treturn result && result.value;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering the\n\t\t\t\t// native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved.length ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, {\n\t\t\t\t\tvalue: jQuery.event.trigger(\n\n\t\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t\t// Extend with the prototype to reset the above stopImmediatePropagation()\n\t\t\t\t\t\tjQuery.extend( saved[ 0 ], jQuery.Event.prototype ),\n\t\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\t\tthis\n\t\t\t\t\t)\n\t\t\t\t} );\n\n\t\t\t\t// Abort handling of the native event\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (#504, #13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\twhich: true\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, expectSync );\n\n\t\t\t// Return false to allow normal processing in the caller\n\t\t\treturn false;\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\t// Suppress native focus or blur as it's already being fired\n\t\t// in leverageNative.\n\t\t_default: function() {\n\t\t\treturn true;\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.get( src );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdataPriv.remove( dest, \"handle events\" );\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = flat( args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t}, doc );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html;\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar swap = function( elem, options, callback ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.call( elem );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableTrDimensionsVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (#8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t},\n\n\t\t// Support: IE 9 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Behavior in IE 9 is more subtle than in newer versions & it passes\n\t\t// some versions of this test; make sure not to make it pass there!\n\t\t//\n\t\t// Support: Firefox 70+\n\t\t// Only Firefox includes border widths\n\t\t// in computed dimensions. (gh-4529)\n\t\treliableTrDimensions: function() {\n\t\t\tvar table, tr, trChild, trStyle;\n\t\t\tif ( reliableTrDimensionsVal == null ) {\n\t\t\t\ttable = document.createElement( \"table\" );\n\t\t\t\ttr = document.createElement( \"tr\" );\n\t\t\t\ttrChild = document.createElement( \"div\" );\n\n\t\t\t\ttable.style.cssText = \"position:absolute;left:-11111px;border-collapse:separate\";\n\t\t\t\ttr.style.cssText = \"border:1px solid\";\n\n\t\t\t\t// Support: Chrome 86+\n\t\t\t\t// Height set through cssText does not get applied.\n\t\t\t\t// Computed height then comes back as 0.\n\t\t\t\ttr.style.height = \"1px\";\n\t\t\t\ttrChild.style.height = \"9px\";\n\n\t\t\t\t// Support: Android 8 Chrome 86+\n\t\t\t\t// In our bodyBackground.html iframe,\n\t\t\t\t// display for all div elements is set to \"inline\",\n\t\t\t\t// which causes a problem only in Android 8 Chrome 86.\n\t\t\t\t// Ensuring the div is display: block\n\t\t\t\t// gets around this issue.\n\t\t\t\ttrChild.style.display = \"block\";\n\n\t\t\t\tdocumentElement\n\t\t\t\t\t.appendChild( table )\n\t\t\t\t\t.appendChild( tr )\n\t\t\t\t\t.appendChild( trChild );\n\n\t\t\t\ttrStyle = window.getComputedStyle( tr );\n\t\t\t\treliableTrDimensionsVal = ( parseInt( trStyle.height, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderTopWidth, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderBottomWidth, 10 ) ) === tr.offsetHeight;\n\n\t\t\t\tdocumentElement.removeChild( table );\n\t\t\t}\n\t\t\treturn reliableTrDimensionsVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, #12537)\n\t//   .css('--customProperty) (#3144)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trcustomProp = /^--/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( _elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\tif ( box === \"margin\" ) {\n\t\t\tdelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Support: IE 9 - 11 only\n\t// Use offsetWidth/offsetHeight for when box sizing is unreliable.\n\t// In those cases, the computed value can be trusted to be border-box.\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\n\t\t// Support: IE 10 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Interestingly, in some cases IE 9 doesn't suffer from this issue.\n\t\t!support.reliableTrDimensions() && nodeName( elem, \"tr\" ) ||\n\n\t\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t\t// This happens for inline elements with no explicit setting (gh-3571)\n\t\tval === \"auto\" ||\n\n\t\t// Support: Android <=4.1 - 4.3 only\n\t\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\n\t\t// Make sure the element is visible & connected\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"gridArea\": true,\n\t\t\"gridColumn\": true,\n\t\t\"gridColumnEnd\": true,\n\t\t\"gridColumnStart\": true,\n\t\t\"gridRow\": true,\n\t\t\"gridRowEnd\": true,\n\t\t\"gridRowStart\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (#7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( _i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t} ) :\n\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\n\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( _i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( _i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar className, i, self, classNames;\n\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\ti = 0;\n\t\t\t\tself = jQuery( this );\n\t\t\t\tclassNames = classesToArray( value );\n\n\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || Object.create( null ) )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\n\t\t\t\t// Handle: regular nodes (via `this.ownerDocument`), window\n\t\t\t\t// (via `this.document`) & document (via `this`).\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = { guid: Date.now() };\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml, parserErrorElem;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {}\n\n\tparserErrorElem = xml && xml.getElementsByTagName( \"parsererror\" )[ 0 ];\n\tif ( !xml || parserErrorElem ) {\n\t\tjQuery.error( \"Invalid XML: \" + (\n\t\t\tparserErrorElem ?\n\t\t\t\tjQuery.map( parserErrorElem.childNodes, function( el ) {\n\t\t\t\t\treturn el.textContent;\n\t\t\t\t} ).join( \"\\n\" ) :\n\t\t\t\tdata\n\t\t) );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} ).filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} ).map( function( _i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\noriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce.guid++ ) +\n\t\t\t\t\tuncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Use a noop converter for missing script but not if jsonp\n\t\t\tif ( !isSuccess &&\n\t\t\t\tjQuery.inArray( \"script\", s.dataTypes ) > -1 &&\n\t\t\t\tjQuery.inArray( \"json\", s.dataTypes ) < 0 ) {\n\t\t\t\ts.converters[ \"text script\" ] = function() {};\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( _i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\njQuery.ajaxPrefilter( function( s ) {\n\tvar i;\n\tfor ( i in s.headers ) {\n\t\tif ( i.toLowerCase() === \"content-type\" ) {\n\t\t\ts.contentType = s.headers[ i ] || \"\";\n\t\t}\n\t}\n} );\n\n\njQuery._evalUrl = function( url, options, doc ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options, doc );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce.guid++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( _i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( {\n\t\tpadding: \"inner\" + name,\n\t\tcontent: type,\n\t\t\"\": \"outer\" + name\n\t}, function( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( _i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t},\n\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\njQuery.each(\n\t( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( _i, name ) {\n\n\t\t// Handle event binding\n\t\tjQuery.fn[ name ] = function( data, fn ) {\n\t\t\treturn arguments.length > 0 ?\n\t\t\t\tthis.on( name, null, data, fn ) :\n\t\t\t\tthis.trigger( name );\n\t\t};\n\t}\n);\n\n\n\n\n// Support: Android <=4.0 only\n// Make sure we trim BOM and NBSP\nvar rtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\njQuery.trim = function( text ) {\n\treturn text == null ?\n\t\t\"\" :\n\t\t( text + \"\" ).replace( rtrim, \"\" );\n};\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( typeof noGlobal === \"undefined\" ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n","// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2012 Kris Kowal under the terms of the MIT\n * license found at http://github.com/kriskowal/q/raw/master/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    \"use strict\";\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (typeof exports === \"object\" && typeof module === \"object\") {\n        module.exports = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        define(definition);\n\n    // SES (Secure EcmaScript)\n    } else if (typeof ses !== \"undefined\") {\n        if (!ses.ok()) {\n            return;\n        } else {\n            ses.makeQ = definition;\n        }\n\n    // <script>\n    } else if (typeof window !== \"undefined\" || typeof self !== \"undefined\") {\n        // Prefer window over self for add-on scripts. Use self for\n        // non-windowed contexts.\n        var global = typeof window !== \"undefined\" ? window : self;\n\n        // Get the `window` object, save the previous Q global\n        // and initialize Q as a global.\n        var previousQ = global.Q;\n        global.Q = definition();\n\n        // Add a noConflict function so Q can be removed from the\n        // global namespace.\n        global.Q.noConflict = function () {\n            global.Q = previousQ;\n            return this;\n        };\n\n    } else {\n        throw new Error(\"This environment was not anticipated by Q. Please file a bug.\");\n    }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n    // queue for late tasks, used by unhandled rejection tracking\n    var laterQueue = [];\n\n    function flush() {\n        /* jshint loopfunc: true */\n        var task, domain;\n\n        while (head.next) {\n            head = head.next;\n            task = head.task;\n            head.task = void 0;\n            domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n            runSingle(task, domain);\n\n        }\n        while (laterQueue.length) {\n            task = laterQueue.pop();\n            runSingle(task);\n        }\n        flushing = false;\n    }\n    // runs a single function in the async queue\n    function runSingle(task, domain) {\n        try {\n            task();\n\n        } catch (e) {\n            if (isNodeJS) {\n                // In node, uncaught exceptions are considered fatal errors.\n                // Re-throw them synchronously to interrupt flushing!\n\n                // Ensure continuation if the uncaught exception is suppressed\n                // listening \"uncaughtException\" events (as domains does).\n                // Continue in next event to avoid tick recursion.\n                if (domain) {\n                    domain.exit();\n                }\n                setTimeout(flush, 0);\n                if (domain) {\n                    domain.enter();\n                }\n\n                throw e;\n\n            } else {\n                // In browsers, uncaught exceptions are not fatal.\n                // Re-throw them asynchronously to avoid slow-downs.\n                setTimeout(function () {\n                    throw e;\n                }, 0);\n            }\n        }\n\n        if (domain) {\n            domain.exit();\n        }\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process === \"object\" &&\n        process.toString() === \"[object process]\" && process.nextTick) {\n        // Ensure Q is in a real Node environment, with a `process.nextTick`.\n        // To see through fake Node environments:\n        // * Mocha test runner - exposes a `process` global without a `nextTick`\n        // * Browserify - exposes a `process.nexTick` function that uses\n        //   `setTimeout`. In this case `setImmediate` is preferred because\n        //    it is faster. Browserify's `process.toString()` yields\n        //   \"[object Object]\", while in a real Node environment\n        //   `process.nextTick()` yields \"[object process]\".\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n    // runs a task after all other tasks have been run\n    // this is useful for unhandled rejection tracking that needs to happen\n    // after all `then`d tasks have been run.\n    nextTick.runAfter = function (task) {\n        laterQueue.push(task);\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you dont need a security guarantee,\n// this is just plain paranoid.\n// However, this **might** have the nice side-effect of reducing the size of\n// the minified code by reducing x.call() to merely x()\n// See Mark Millers explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack &&\n        error.stack.indexOf(STACK_JUMP_SEPARATOR) === -1\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack) {\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        error.stack = filterStackString(concatedStacks);\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (value instanceof Promise) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n// enable long stacks if Q_DEBUG is set\nif (typeof process === \"object\" && process && process.env && process.env.Q_DEBUG) {\n    Q.longStackSupport = true;\n}\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            Q.nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    };\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n        promise.source = newPromise;\n\n        array_reduce(messages, function (undefined, message) {\n            Q.nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            Q.nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.Promise = promise; // ES6\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\npromise.race = race; // ES6\npromise.all = all; // ES6\npromise.reject = reject; // ES6\npromise.resolve = Q; // ES6\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become settled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be settled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function (resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function (answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        };\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    Q.nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\nQ.tap = function (promise, callback) {\n    return Q(promise).tap(callback);\n};\n\n/**\n * Works almost like \"finally\", but not called for rejections.\n * Original resolution value is passed through callback unaffected.\n * Callback may return a promise that will be awaited for.\n * @param {Function} callback\n * @returns {Q.Promise}\n * @example\n * doSomething()\n *   .then(...)\n *   .tap(console.log)\n *   .then(...);\n */\nPromise.prototype.tap = function (callback) {\n    callback = Q(callback);\n\n    return this.then(function (value) {\n        return callback.fcall(value).thenResolve(value);\n    });\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If its a fulfilled promise, the fulfillment value is nearer.\n * If its a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return object instanceof Promise;\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar reportedUnhandledRejections = [];\nvar trackUnhandledRejections = true;\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n    if (typeof process === \"object\" && typeof process.emit === \"function\") {\n        Q.nextTick.runAfter(function () {\n            if (array_indexOf(unhandledRejections, promise) !== -1) {\n                process.emit(\"unhandledRejection\", reason, promise);\n                reportedUnhandledRejections.push(promise);\n            }\n        });\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        if (typeof process === \"object\" && typeof process.emit === \"function\") {\n            Q.nextTick.runAfter(function () {\n                var atReport = array_indexOf(reportedUnhandledRejections, promise);\n                if (atReport !== -1) {\n                    process.emit(\"rejectionHandled\", unhandledReasons[at], promise);\n                    reportedUnhandledRejections.splice(atReport, 1);\n                }\n            });\n        }\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    Q.nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n\n            // Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n            // engine that has a deployed base of browsers that support generators.\n            // However, SM's generators use the Python-inspired semantics of\n            // outdated ES6 drafts.  We would like to support ES6, but we'd also\n            // like to make it possible to use generators in deployed browsers, so\n            // we also support Python-style generators.  At some point we can remove\n            // this block.\n\n            if (typeof StopIteration === \"undefined\") {\n                // ES6 Generators\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return Q(result.value);\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // SpiderMonkey Generators\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return Q(exception.value);\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    Q.nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var pendingCount = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++pendingCount;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--pendingCount === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (pendingCount === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Returns the first resolved promise of an array. Prior rejected promises are\n * ignored.  Rejects only if all promises are rejected.\n * @param {Array*} an array containing values or promises for values\n * @returns a promise fulfilled with the value of the first resolved promise,\n * or a rejected promise if all promises are rejected.\n */\nQ.any = any;\n\nfunction any(promises) {\n    if (promises.length === 0) {\n        return Q.resolve();\n    }\n\n    var deferred = Q.defer();\n    var pendingCount = 0;\n    array_reduce(promises, function (prev, current, index) {\n        var promise = promises[index];\n\n        pendingCount++;\n\n        when(promise, onFulfilled, onRejected, onProgress);\n        function onFulfilled(result) {\n            deferred.resolve(result);\n        }\n        function onRejected() {\n            pendingCount--;\n            if (pendingCount === 0) {\n                deferred.reject(new Error(\n                    \"Can't get fulfillment value from any promise, all \" +\n                    \"promises were rejected.\"\n                ));\n            }\n        }\n        function onProgress(progress) {\n            deferred.notify({\n                index: index,\n                value: progress\n            });\n        }\n    }, undefined);\n\n    return deferred.promise;\n}\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        Q.nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {Any*} custom error message or Error object (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, error) {\n    return Q(object).timeout(ms, error);\n};\n\nPromise.prototype.timeout = function (ms, error) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        if (!error || \"string\" === typeof error) {\n            error = new Error(error || \"Timed out after \" + ms + \" ms\");\n            error.code = \"ETIMEDOUT\";\n        }\n        deferred.reject(error);\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            Q.nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            Q.nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\nQ.noConflict = function() {\n    throw new Error(\"Q.noConflict only works when Q is used as a global\");\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n","function select(element) {\n    var selectedText;\n\n    if (element.nodeName === 'SELECT') {\n        element.focus();\n\n        selectedText = element.value;\n    }\n    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n        var isReadOnly = element.hasAttribute('readonly');\n\n        if (!isReadOnly) {\n            element.setAttribute('readonly', '');\n        }\n\n        element.select();\n        element.setSelectionRange(0, element.value.length);\n\n        if (!isReadOnly) {\n            element.removeAttribute('readonly');\n        }\n\n        selectedText = element.value;\n    }\n    else {\n        if (element.hasAttribute('contenteditable')) {\n            element.focus();\n        }\n\n        var selection = window.getSelection();\n        var range = document.createRange();\n\n        range.selectNodeContents(element);\n        selection.removeAllRanges();\n        selection.addRange(range);\n\n        selectedText = selection.toString();\n    }\n\n    return selectedText;\n}\n\nmodule.exports = select;\n","/*\n * qTip2 - Pretty powerful tooltips - v3.0.3-5-g\n * http://qtip2.com\n *\n * Copyright (c) 2017 \n * Released under the MIT licenses\n * http://jquery.org/license\n *\n * Date: Wed May 24 2017 01:22 UTC+0000\n * Plugins: tips modal viewport svg imagemap ie6\n * Styles: core basic css3\n */\n/*global window: false, jQuery: false, console: false, define: false */\n\n// Modified to support ESM - OKTA-369648\nimport jQuery from 'jquery';\n\n/* Cache window, document, undefined */\n(function( window, document, undefined ) {\n\n(function( factory ) {\n\t\"use strict\";\n \tif(!jQuery.fn.qtip) {\n\t\tfactory(jQuery);\n\t}\n}\n(function($) {\n\t\"use strict\"; // Enable ECMAScript \"strict\" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/\n;// Munge the primitives - Paul Irish tip\nvar TRUE = true,\nFALSE = false,\nNULL = null,\n\n// Common variables\nX = 'x', Y = 'y',\nWIDTH = 'width',\nHEIGHT = 'height',\n\n// Positioning sides\nTOP = 'top',\nLEFT = 'left',\nBOTTOM = 'bottom',\nRIGHT = 'right',\nCENTER = 'center',\n\n// Position adjustment types\nFLIP = 'flip',\nFLIPINVERT = 'flipinvert',\nSHIFT = 'shift',\n\n// Shortcut vars\nQTIP, PROTOTYPE, CORNER, CHECKS,\nPLUGINS = {},\nNAMESPACE = 'qtip',\nATTR_HAS = 'data-hasqtip',\nATTR_ID = 'data-qtip-id',\nWIDGET = ['ui-widget', 'ui-tooltip'],\nSELECTOR = '.'+NAMESPACE,\nINACTIVE_EVENTS = 'click dblclick mousedown mouseup mousemove mouseleave mouseenter'.split(' '),\n\nCLASS_FIXED = NAMESPACE+'-fixed',\nCLASS_DEFAULT = NAMESPACE + '-default',\nCLASS_FOCUS = NAMESPACE + '-focus',\nCLASS_HOVER = NAMESPACE + '-hover',\nCLASS_DISABLED = NAMESPACE+'-disabled',\n\nreplaceSuffix = '_replacedByqTip',\noldtitle = 'oldtitle',\ntrackingBound,\n\n// Browser detection\nBROWSER = {\n\t/*\n\t * IE version detection\n\t *\n\t * Adapted from: http://ajaxian.com/archives/attack-of-the-ie-conditional-comment\n\t * Credit to James Padolsey for the original implemntation!\n\t */\n\tie: (function() {\n\t\t/* eslint-disable no-empty */\n\t\tvar v, i;\n\t\tfor (\n\t\t\tv = 4, i = document.createElement('div');\n\t\t\t(i.innerHTML = '<!--[if gt IE ' + v + ']><i></i><![endif]-->') && i.getElementsByTagName('i')[0];\n\t\t\tv+=1\n\t\t) {}\n\t\treturn v > 4 ? v : NaN;\n\t\t/* eslint-enable no-empty */\n\t})(),\n\n\t/*\n\t * iOS version detection\n\t */\n\tiOS: parseFloat(\n\t\t('' + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0,''])[1])\n\t\t.replace('undefined', '3_2').replace('_', '.').replace('_', '')\n\t) || FALSE\n};\n;function QTip(target, options, id, attr) {\n\t// Elements and ID\n\tthis.id = id;\n\tthis.target = target;\n\tthis.tooltip = NULL;\n\tthis.elements = { target: target };\n\n\t// Internal constructs\n\tthis._id = NAMESPACE + '-' + id;\n\tthis.timers = { img: {} };\n\tthis.options = options;\n\tthis.plugins = {};\n\n\t// Cache object\n\tthis.cache = {\n\t\tevent: {},\n\t\ttarget: $(),\n\t\tdisabled: FALSE,\n\t\tattr: attr,\n\t\tonTooltip: FALSE,\n\t\tlastClass: ''\n\t};\n\n\t// Set the initial flags\n\tthis.rendered = this.destroyed = this.disabled = this.waiting =\n\t\tthis.hiddenDuringWait = this.positioning = this.triggering = FALSE;\n}\nPROTOTYPE = QTip.prototype;\n\nPROTOTYPE._when = function(deferreds) {\n\treturn $.when.apply($, deferreds);\n};\n\nPROTOTYPE.render = function(show) {\n\tif(this.rendered || this.destroyed) { return this; } // If tooltip has already been rendered, exit\n\n\tvar self = this,\n\t\toptions = this.options,\n\t\tcache = this.cache,\n\t\telements = this.elements,\n\t\ttext = options.content.text,\n\t\ttitle = options.content.title,\n\t\tbutton = options.content.button,\n\t\tposOptions = options.position,\n\t\tdeferreds = [];\n\n\t// Add ARIA attributes to target\n\t$.attr(this.target[0], 'aria-describedby', this._id);\n\n\t// Create public position object that tracks current position corners\n\tcache.posClass = this._createPosClass(\n\t\t(this.position = { my: posOptions.my, at: posOptions.at }).my\n\t);\n\n\t// Create tooltip element\n\tthis.tooltip = elements.tooltip = $('<div/>', {\n\t\t'id': this._id,\n\t\t'class': [ NAMESPACE, CLASS_DEFAULT, options.style.classes, cache.posClass ].join(' '),\n\t\t'width': options.style.width || '',\n\t\t'height': options.style.height || '',\n\t\t'tracking': posOptions.target === 'mouse' && posOptions.adjust.mouse,\n\n\t\t/* ARIA specific attributes */\n\t\t'role': 'alert',\n\t\t'aria-live': 'polite',\n\t\t'aria-atomic': FALSE,\n\t\t'aria-describedby': this._id + '-content',\n\t\t'aria-hidden': TRUE\n\t})\n\t.toggleClass(CLASS_DISABLED, this.disabled)\n\t.attr(ATTR_ID, this.id)\n\t.data(NAMESPACE, this)\n\t.appendTo(posOptions.container)\n\t.append(\n\t\t// Create content element\n\t\telements.content = $('<div />', {\n\t\t\t'class': NAMESPACE + '-content',\n\t\t\t'id': this._id + '-content',\n\t\t\t'aria-atomic': TRUE\n\t\t})\n\t);\n\n\t// Set rendered flag and prevent redundant reposition calls for now\n\tthis.rendered = -1;\n\tthis.positioning = TRUE;\n\n\t// Create title...\n\tif(title) {\n\t\tthis._createTitle();\n\n\t\t// Update title only if its not a callback (called in toggle if so)\n\t\tif(!$.isFunction(title)) {\n\t\t\tdeferreds.push( this._updateTitle(title, FALSE) );\n\t\t}\n\t}\n\n\t// Create button\n\tif(button) { this._createButton(); }\n\n\t// Set proper rendered flag and update content if not a callback function (called in toggle)\n\tif(!$.isFunction(text)) {\n\t\tdeferreds.push( this._updateContent(text, FALSE) );\n\t}\n\tthis.rendered = TRUE;\n\n\t// Setup widget classes\n\tthis._setWidget();\n\n\t// Initialize 'render' plugins\n\t$.each(PLUGINS, function(name) {\n\t\tvar instance;\n\t\tif(this.initialize === 'render' && (instance = this(self))) {\n\t\t\tself.plugins[name] = instance;\n\t\t}\n\t});\n\n\t// Unassign initial events and assign proper events\n\tthis._unassignEvents();\n\tthis._assignEvents();\n\n\t// When deferreds have completed\n\tthis._when(deferreds).then(function() {\n\t\t// tooltiprender event\n\t\tself._trigger('render');\n\n\t\t// Reset flags\n\t\tself.positioning = FALSE;\n\n\t\t// Show tooltip if not hidden during wait period\n\t\tif(!self.hiddenDuringWait && (options.show.ready || show)) {\n\t\t\tself.toggle(TRUE, cache.event, FALSE);\n\t\t}\n\t\tself.hiddenDuringWait = FALSE;\n\t});\n\n\t// Expose API\n\tQTIP.api[this.id] = this;\n\n\treturn this;\n};\n\nPROTOTYPE.destroy = function(immediate) {\n\t// Set flag the signify destroy is taking place to plugins\n\t// and ensure it only gets destroyed once!\n\tif(this.destroyed) { return this.target; }\n\n\tfunction process() {\n\t\tif(this.destroyed) { return; }\n\t\tthis.destroyed = TRUE;\n\n\t\tvar target = this.target,\n\t\t\ttitle = target.attr(oldtitle),\n\t\t\ttimer;\n\n\t\t// Destroy tooltip if rendered\n\t\tif(this.rendered) {\n\t\t\tthis.tooltip.stop(1,0).find('*').remove().end().remove();\n\t\t}\n\n\t\t// Destroy all plugins\n\t\t$.each(this.plugins, function() {\n\t\t\tthis.destroy && this.destroy();\n\t\t});\n\n\t\t// Clear timers\n\t\tfor (timer in this.timers) {\n\t\t\tif (this.timers.hasOwnProperty(timer)) {\n\t\t\t\tclearTimeout(this.timers[timer]);\n\t\t\t}\n\t\t}\n\n\t\t// Remove api object and ARIA attributes\n\t\ttarget.removeData(NAMESPACE)\n\t\t\t.removeAttr(ATTR_ID)\n\t\t\t.removeAttr(ATTR_HAS)\n\t\t\t.removeAttr('aria-describedby');\n\n\t\t// Reset old title attribute if removed\n\t\tif(this.options.suppress && title) {\n\t\t\ttarget.attr('title', title).removeAttr(oldtitle);\n\t\t}\n\n\t\t// Remove qTip events associated with this API\n\t\tthis._unassignEvents();\n\n\t\t// Remove ID from used id objects, and delete object references\n\t\t// for better garbage collection and leak protection\n\t\tthis.options = this.elements = this.cache = this.timers =\n\t\t\tthis.plugins = this.mouse = NULL;\n\n\t\t// Delete epoxsed API object\n\t\tdelete QTIP.api[this.id];\n\t}\n\n\t// If an immediate destroy is needed\n\tif((immediate !== TRUE || this.triggering === 'hide') && this.rendered) {\n\t\tthis.tooltip.one('tooltiphidden', $.proxy(process, this));\n\t\t!this.triggering && this.hide();\n\t}\n\n\t// If we're not in the process of hiding... process\n\telse { process.call(this); }\n\n\treturn this.target;\n};\n;function invalidOpt(a) {\n\treturn a === NULL || $.type(a) !== 'object';\n}\n\nfunction invalidContent(c) {\n\treturn !($.isFunction(c) || \n            c && c.attr || \n            c.length || \n            $.type(c) === 'object' && (c.jquery || c.then));\n}\n\n// Option object sanitizer\nfunction sanitizeOptions(opts) {\n\tvar content, text, ajax, once;\n\n\tif(invalidOpt(opts)) { return FALSE; }\n\n\tif(invalidOpt(opts.metadata)) {\n\t\topts.metadata = { type: opts.metadata };\n\t}\n\n\tif('content' in opts) {\n\t\tcontent = opts.content;\n\n\t\tif(invalidOpt(content) || content.jquery || content.done) {\n\t\t\ttext = invalidContent(content) ? FALSE : content;\n\t\t\tcontent = opts.content = {\n\t\t\t\ttext: text\n\t\t\t};\n\t\t}\n\t\telse { text = content.text; }\n\n\t\t// DEPRECATED - Old content.ajax plugin functionality\n\t\t// Converts it into the proper Deferred syntax\n\t\tif('ajax' in content) {\n\t\t\tajax = content.ajax;\n\t\t\tonce = ajax && ajax.once !== FALSE;\n\t\t\tdelete content.ajax;\n\n\t\t\tcontent.text = function(event, api) {\n\t\t\t\tvar loading = text || $(this).attr(api.options.content.attr) || 'Loading...',\n\n\t\t\t\tdeferred = $.ajax(\n\t\t\t\t\t$.extend({}, ajax, { context: api })\n\t\t\t\t)\n\t\t\t\t.then(ajax.success, NULL, ajax.error)\n\t\t\t\t.then(function(newContent) {\n\t\t\t\t\tif(newContent && once) { api.set('content.text', newContent); }\n\t\t\t\t\treturn newContent;\n\t\t\t\t},\n\t\t\t\tfunction(xhr, status, error) {\n\t\t\t\t\tif(api.destroyed || xhr.status === 0) { return; }\n\t\t\t\t\tapi.set('content.text', status + ': ' + error);\n\t\t\t\t});\n\n\t\t\t\treturn !once ? (api.set('content.text', loading), deferred) : loading;\n\t\t\t};\n\t\t}\n\n\t\tif('title' in content) {\n\t\t\tif($.isPlainObject(content.title)) {\n\t\t\t\tcontent.button = content.title.button;\n\t\t\t\tcontent.title = content.title.text;\n\t\t\t}\n\n\t\t\tif(invalidContent(content.title || FALSE)) {\n\t\t\t\tcontent.title = FALSE;\n\t\t\t}\n\t\t}\n\t}\n\n\tif('position' in opts && invalidOpt(opts.position)) {\n\t\topts.position = { my: opts.position, at: opts.position };\n\t}\n\n\tif('show' in opts && invalidOpt(opts.show)) {\n\t\topts.show = opts.show.jquery ? { target: opts.show } :\n\t\t\topts.show === TRUE ? { ready: TRUE } : { event: opts.show };\n\t}\n\n\tif('hide' in opts && invalidOpt(opts.hide)) {\n\t\topts.hide = opts.hide.jquery ? { target: opts.hide } : { event: opts.hide };\n\t}\n\n\tif('style' in opts && invalidOpt(opts.style)) {\n\t\topts.style = { classes: opts.style };\n\t}\n\n\t// Sanitize plugin options\n\t$.each(PLUGINS, function() {\n\t\tthis.sanitize && this.sanitize(opts);\n\t});\n\n\treturn opts;\n}\n\n// Setup builtin .set() option checks\nCHECKS = PROTOTYPE.checks = {\n\tbuiltin: {\n\t\t// Core checks\n\t\t'^id$': function(obj, o, v, prev) {\n\t\t\tvar id = v === TRUE ? QTIP.nextid : v,\n\t\t\t\tnewId = NAMESPACE + '-' + id;\n\n\t\t\tif(id !== FALSE && id.length > 0 && !$('#'+newId).length) {\n\t\t\t\tthis._id = newId;\n\n\t\t\t\tif(this.rendered) {\n\t\t\t\t\tthis.tooltip[0].id = this._id;\n\t\t\t\t\tthis.elements.content[0].id = this._id + '-content';\n\t\t\t\t\tthis.elements.title[0].id = this._id + '-title';\n\t\t\t\t}\n\t\t\t}\n\t\t\telse { obj[o] = prev; }\n\t\t},\n\t\t'^prerender': function(obj, o, v) {\n\t\t\tv && !this.rendered && this.render(this.options.show.ready);\n\t\t},\n\n\t\t// Content checks\n\t\t'^content.text$': function(obj, o, v) {\n\t\t\tthis._updateContent(v);\n\t\t},\n\t\t'^content.attr$': function(obj, o, v, prev) {\n\t\t\tif(this.options.content.text === this.target.attr(prev)) {\n\t\t\t\tthis._updateContent( this.target.attr(v) );\n\t\t\t}\n\t\t},\n\t\t'^content.title$': function(obj, o, v) {\n\t\t\t// Remove title if content is null\n\t\t\tif(!v) { return this._removeTitle(); }\n\n\t\t\t// If title isn't already created, create it now and update\n\t\t\tv && !this.elements.title && this._createTitle();\n\t\t\tthis._updateTitle(v);\n\t\t},\n\t\t'^content.button$': function(obj, o, v) {\n\t\t\tthis._updateButton(v);\n\t\t},\n\t\t'^content.title.(text|button)$': function(obj, o, v) {\n\t\t\tthis.set('content.'+o, v); // Backwards title.text/button compat\n\t\t},\n\n\t\t// Position checks\n\t\t'^position.(my|at)$': function(obj, o, v){\n\t\t\tif('string' === typeof v) {\n\t\t\t\tthis.position[o] = obj[o] = new CORNER(v, o === 'at');\n\t\t\t}\n\t\t},\n\t\t'^position.container$': function(obj, o, v){\n\t\t\tthis.rendered && this.tooltip.appendTo(v);\n\t\t},\n\n\t\t// Show checks\n\t\t'^show.ready$': function(obj, o, v) {\n\t\t\tv && (!this.rendered && this.render(TRUE) || this.toggle(TRUE));\n\t\t},\n\n\t\t// Style checks\n\t\t'^style.classes$': function(obj, o, v, p) {\n\t\t\tthis.rendered && this.tooltip.removeClass(p).addClass(v);\n\t\t},\n\t\t'^style.(width|height)': function(obj, o, v) {\n\t\t\tthis.rendered && this.tooltip.css(o, v);\n\t\t},\n\t\t'^style.widget|content.title': function() {\n\t\t\tthis.rendered && this._setWidget();\n\t\t},\n\t\t'^style.def': function(obj, o, v) {\n\t\t\tthis.rendered && this.tooltip.toggleClass(CLASS_DEFAULT, !!v);\n\t\t},\n\n\t\t// Events check\n\t\t'^events.(render|show|move|hide|focus|blur)$': function(obj, o, v) {\n\t\t\tthis.rendered && this.tooltip[($.isFunction(v) ? '' : 'un') + 'bind']('tooltip'+o, v);\n\t\t},\n\n\t\t// Properties which require event reassignment\n\t\t'^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)': function() {\n\t\t\tif(!this.rendered) { return; }\n\n\t\t\t// Set tracking flag\n\t\t\tvar posOptions = this.options.position;\n\t\t\tthis.tooltip.attr('tracking', posOptions.target === 'mouse' && posOptions.adjust.mouse);\n\n\t\t\t// Reassign events\n\t\t\tthis._unassignEvents();\n\t\t\tthis._assignEvents();\n\t\t}\n\t}\n};\n\n// Dot notation converter\nfunction convertNotation(options, notation) {\n\tvar i = 0, obj, option = options,\n\n\t// Split notation into array\n\tlevels = notation.split('.');\n\n\t// Loop through\n\twhile(option = option[ levels[i++] ]) {\n\t\tif(i < levels.length) { obj = option; }\n\t}\n\n\treturn [obj || options, levels.pop()];\n}\n\nPROTOTYPE.get = function(notation) {\n\tif(this.destroyed) { return this; }\n\n\tvar o = convertNotation(this.options, notation.toLowerCase()),\n\t\tresult = o[0][ o[1] ];\n\n\treturn result.precedance ? result.string() : result;\n};\n\nfunction setCallback(notation, args) {\n\tvar category, rule, match;\n\n\tfor(category in this.checks) {\n\t\tif (!this.checks.hasOwnProperty(category)) { continue; }\n\n\t\tfor(rule in this.checks[category]) {\n\t\t\tif (!this.checks[category].hasOwnProperty(rule)) { continue; }\n\n\t\t\tif(match = (new RegExp(rule, 'i')).exec(notation)) {\n\t\t\t\targs.push(match);\n\n\t\t\t\tif(category === 'builtin' || this.plugins[category]) {\n\t\t\t\t\tthis.checks[category][rule].apply(\n\t\t\t\t\t\tthis.plugins[category] || this, args\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nvar rmove = /^position\\.(my|at|adjust|target|container|viewport)|style|content|show\\.ready/i,\n\trrender = /^prerender|show\\.ready/i;\n\nPROTOTYPE.set = function(option, value) {\n\tif(this.destroyed) { return this; }\n\n\tvar rendered = this.rendered,\n\t\treposition = FALSE,\n\t\toptions = this.options,\n\t\tname;\n\n\t// Convert singular option/value pair into object form\n\tif('string' === typeof option) {\n\t\tname = option; option = {}; option[name] = value;\n\t}\n\telse { option = $.extend({}, option); }\n\n\t// Set all of the defined options to their new values\n\t$.each(option, function(notation, val) {\n\t\tif(rendered && rrender.test(notation)) {\n\t\t\tdelete option[notation]; return;\n\t\t}\n\n\t\t// Set new obj value\n\t\tvar obj = convertNotation(options, notation.toLowerCase()), previous;\n\t\tprevious = obj[0][ obj[1] ];\n\t\tobj[0][ obj[1] ] = val && val.nodeType ? $(val) : val;\n\n\t\t// Also check if we need to reposition\n\t\treposition = rmove.test(notation) || reposition;\n\n\t\t// Set the new params for the callback\n\t\toption[notation] = [obj[0], obj[1], val, previous];\n\t});\n\n\t// Re-sanitize options\n\tsanitizeOptions(options);\n\n\t/*\n\t * Execute any valid callbacks for the set options\n\t * Also set positioning flag so we don't get loads of redundant repositioning calls.\n\t */\n\tthis.positioning = TRUE;\n\t$.each(option, $.proxy(setCallback, this));\n\tthis.positioning = FALSE;\n\n\t// Update position if needed\n\tif(this.rendered && this.tooltip[0].offsetWidth > 0 && reposition) {\n\t\tthis.reposition( options.position.target === 'mouse' ? NULL : this.cache.event );\n\t}\n\n\treturn this;\n};\n;PROTOTYPE._update = function(content, element) {\n\tvar self = this,\n\t\tcache = this.cache;\n\n\t// Make sure tooltip is rendered and content is defined. If not return\n\tif(!this.rendered || !content) { return FALSE; }\n\n\t// Use function to parse content\n\tif($.isFunction(content)) {\n\t\tcontent = content.call(this.elements.target, cache.event, this) || '';\n\t}\n\n\t// Handle deferred content\n\tif($.isFunction(content.then)) {\n\t\tcache.waiting = TRUE;\n\t\treturn content.then(function(c) {\n\t\t\tcache.waiting = FALSE;\n\t\t\treturn self._update(c, element);\n\t\t}, NULL, function(e) {\n\t\t\treturn self._update(e, element);\n\t\t});\n\t}\n\n\t// If content is null... return false\n\tif(content === FALSE || !content && content !== '') { return FALSE; }\n\n\t// Append new content if its a DOM array and show it if hidden\n\tif(content.jquery && content.length > 0) {\n\t\telement.empty().append(\n\t\t\tcontent.css({ display: 'block', visibility: 'visible' })\n\t\t);\n\t}\n\n\t// Content is a regular string, insert the new content\n\telse { element.html(content); }\n\n\t// Wait for content to be loaded, and reposition\n\treturn this._waitForContent(element).then(function(images) {\n\t\tif(self.rendered && self.tooltip[0].offsetWidth > 0) {\n\t\t\tself.reposition(cache.event, !images.length);\n\t\t}\n\t});\n};\n\nPROTOTYPE._waitForContent = function(element) {\n\tvar cache = this.cache;\n\n\t// Set flag\n\tcache.waiting = TRUE;\n\n\t// If imagesLoaded is included, ensure images have loaded and return promise\n\treturn ( $.fn.imagesLoaded ? element.imagesLoaded() : new $.Deferred().resolve([]) )\n\t\t.done(function() { cache.waiting = FALSE; })\n\t\t.promise();\n};\n\nPROTOTYPE._updateContent = function(content, reposition) {\n\tthis._update(content, this.elements.content, reposition);\n};\n\nPROTOTYPE._updateTitle = function(content, reposition) {\n\tif(this._update(content, this.elements.title, reposition) === FALSE) {\n\t\tthis._removeTitle(FALSE);\n\t}\n};\n\nPROTOTYPE._createTitle = function()\n{\n\tvar elements = this.elements,\n\t\tid = this._id+'-title';\n\n\t// Destroy previous title element, if present\n\tif(elements.titlebar) { this._removeTitle(); }\n\n\t// Create title bar and title elements\n\telements.titlebar = $('<div />', {\n\t\t'class': NAMESPACE + '-titlebar ' + (this.options.style.widget ? createWidgetClass('header') : '')\n\t})\n\t.append(\n\t\telements.title = $('<div />', {\n\t\t\t'id': id,\n\t\t\t'class': NAMESPACE + '-title',\n\t\t\t'aria-atomic': TRUE\n\t\t})\n\t)\n\t.insertBefore(elements.content)\n\n\t// Button-specific events\n\t.delegate('.qtip-close', 'mousedown keydown mouseup keyup mouseout', function(event) {\n\t\t$(this).toggleClass('ui-state-active ui-state-focus', event.type.substr(-4) === 'down');\n\t})\n\t.delegate('.qtip-close', 'mouseover mouseout', function(event){\n\t\t$(this).toggleClass('ui-state-hover', event.type === 'mouseover');\n\t});\n\n\t// Create button if enabled\n\tif(this.options.content.button) { this._createButton(); }\n};\n\nPROTOTYPE._removeTitle = function(reposition)\n{\n\tvar elements = this.elements;\n\n\tif(elements.title) {\n\t\telements.titlebar.remove();\n\t\telements.titlebar = elements.title = elements.button = NULL;\n\n\t\t// Reposition if enabled\n\t\tif(reposition !== FALSE) { this.reposition(); }\n\t}\n};\n;PROTOTYPE._createPosClass = function(my) {\n\treturn NAMESPACE + '-pos-' + (my || this.options.position.my).abbrev();\n};\n\nPROTOTYPE.reposition = function(event, effect) {\n\tif(!this.rendered || this.positioning || this.destroyed) { return this; }\n\n\t// Set positioning flag\n\tthis.positioning = TRUE;\n\n\tvar cache = this.cache,\n\t\ttooltip = this.tooltip,\n\t\tposOptions = this.options.position,\n\t\ttarget = posOptions.target,\n\t\tmy = posOptions.my,\n\t\tat = posOptions.at,\n\t\tviewport = posOptions.viewport,\n\t\tcontainer = posOptions.container,\n\t\tadjust = posOptions.adjust,\n\t\tmethod = adjust.method.split(' '),\n\t\ttooltipWidth = tooltip.outerWidth(FALSE),\n\t\ttooltipHeight = tooltip.outerHeight(FALSE),\n\t\ttargetWidth = 0,\n\t\ttargetHeight = 0,\n\t\ttype = tooltip.css('position'),\n\t\tposition = { left: 0, top: 0 },\n\t\tvisible = tooltip[0].offsetWidth > 0,\n\t\tisScroll = event && event.type === 'scroll',\n\t\twin = $(window),\n\t\tdoc = container[0].ownerDocument,\n\t\tmouse = this.mouse,\n\t\tpluginCalculations, offset, adjusted, newClass;\n\n\t// Check if absolute position was passed\n\tif($.isArray(target) && target.length === 2) {\n\t\t// Force left top and set position\n\t\tat = { x: LEFT, y: TOP };\n\t\tposition = { left: target[0], top: target[1] };\n\t}\n\n\t// Check if mouse was the target\n\telse if(target === 'mouse') {\n\t\t// Force left top to allow flipping\n\t\tat = { x: LEFT, y: TOP };\n\n\t\t// Use the mouse origin that caused the show event, if distance hiding is enabled\n\t\tif((!adjust.mouse || this.options.hide.distance) && cache.origin && cache.origin.pageX) {\n\t\t\tevent =  cache.origin;\n\t\t}\n\n\t\t// Use cached event for resize/scroll events\n\t\telse if(!event || event && (event.type === 'resize' || event.type === 'scroll')) {\n\t\t\tevent = cache.event;\n\t\t}\n\n\t\t// Otherwise, use the cached mouse coordinates if available\n\t\telse if(mouse && mouse.pageX) {\n\t\t\tevent = mouse;\n\t\t}\n\n\t\t// Calculate body and container offset and take them into account below\n\t\tif(type !== 'static') { position = container.offset(); }\n\t\tif(doc.body.offsetWidth !== (window.innerWidth || doc.documentElement.clientWidth)) {\n\t\t\toffset = $(document.body).offset();\n\t\t}\n\n\t\t// Use event coordinates for position\n\t\tposition = {\n\t\t\tleft: event.pageX - position.left + (offset && offset.left || 0),\n\t\t\ttop: event.pageY - position.top + (offset && offset.top || 0)\n\t\t};\n\n\t\t// Scroll events are a pain, some browsers\n\t\tif(adjust.mouse && isScroll && mouse) {\n\t\t\tposition.left -= (mouse.scrollX || 0) - win.scrollLeft();\n\t\t\tposition.top -= (mouse.scrollY || 0) - win.scrollTop();\n\t\t}\n\t}\n\n\t// Target wasn't mouse or absolute...\n\telse {\n\t\t// Check if event targetting is being used\n\t\tif(target === 'event') {\n\t\t\tif(event && event.target && event.type !== 'scroll' && event.type !== 'resize') {\n\t\t\t\tcache.target = $(event.target);\n\t\t\t}\n\t\t\telse if(!event.target) {\n\t\t\t\tcache.target = this.elements.target;\n\t\t\t}\n\t\t}\n\t\telse if(target !== 'event'){\n\t\t\tcache.target = $(target.jquery ? target : this.elements.target);\n\t\t}\n\t\ttarget = cache.target;\n\n\t\t// Parse the target into a jQuery object and make sure there's an element present\n\t\ttarget = $(target).eq(0);\n\t\tif(target.length === 0) { return this; }\n\n\t\t// Check if window or document is the target\n\t\telse if(target[0] === document || target[0] === window) {\n\t\t\ttargetWidth = BROWSER.iOS ? window.innerWidth : target.width();\n\t\t\ttargetHeight = BROWSER.iOS ? window.innerHeight : target.height();\n\n\t\t\tif(target[0] === window) {\n\t\t\t\tposition = {\n\t\t\t\t\ttop: (viewport || target).scrollTop(),\n\t\t\t\t\tleft: (viewport || target).scrollLeft()\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// Check if the target is an <AREA> element\n\t\telse if(PLUGINS.imagemap && target.is('area')) {\n\t\t\tpluginCalculations = PLUGINS.imagemap(this, target, at, PLUGINS.viewport ? method : FALSE);\n\t\t}\n\n\t\t// Check if the target is an SVG element\n\t\telse if(PLUGINS.svg && target && target[0].ownerSVGElement) {\n\t\t\tpluginCalculations = PLUGINS.svg(this, target, at, PLUGINS.viewport ? method : FALSE);\n\t\t}\n\n\t\t// Otherwise use regular jQuery methods\n\t\telse {\n\t\t\ttargetWidth = target.outerWidth(FALSE);\n\t\t\ttargetHeight = target.outerHeight(FALSE);\n\t\t\tposition = target.offset();\n\t\t}\n\n\t\t// Parse returned plugin values into proper variables\n\t\tif(pluginCalculations) {\n\t\t\ttargetWidth = pluginCalculations.width;\n\t\t\ttargetHeight = pluginCalculations.height;\n\t\t\toffset = pluginCalculations.offset;\n\t\t\tposition = pluginCalculations.position;\n\t\t}\n\n\t\t// Adjust position to take into account offset parents\n\t\tposition = this.reposition.offset(target, position, container);\n\n\t\t// Adjust for position.fixed tooltips (and also iOS scroll bug in v3.2-4.0 & v4.3-4.3.2)\n\t\tif(BROWSER.iOS > 3.1 && BROWSER.iOS < 4.1 ||\n\t\t\tBROWSER.iOS >= 4.3 && BROWSER.iOS < 4.33 ||\n\t\t\t!BROWSER.iOS && type === 'fixed'\n\t\t){\n\t\t\tposition.left -= win.scrollLeft();\n\t\t\tposition.top -= win.scrollTop();\n\t\t}\n\n\t\t// Adjust position relative to target\n\t\tif(!pluginCalculations || pluginCalculations && pluginCalculations.adjustable !== FALSE) {\n\t\t\tposition.left += at.x === RIGHT ? targetWidth : at.x === CENTER ? targetWidth / 2 : 0;\n\t\t\tposition.top += at.y === BOTTOM ? targetHeight : at.y === CENTER ? targetHeight / 2 : 0;\n\t\t}\n\t}\n\n\t// Adjust position relative to tooltip\n\tposition.left += adjust.x + (my.x === RIGHT ? -tooltipWidth : my.x === CENTER ? -tooltipWidth / 2 : 0);\n\tposition.top += adjust.y + (my.y === BOTTOM ? -tooltipHeight : my.y === CENTER ? -tooltipHeight / 2 : 0);\n\n\t// Use viewport adjustment plugin if enabled\n\tif(PLUGINS.viewport) {\n\t\tadjusted = position.adjusted = PLUGINS.viewport(\n\t\t\tthis, position, posOptions, targetWidth, targetHeight, tooltipWidth, tooltipHeight\n\t\t);\n\n\t\t// Apply offsets supplied by positioning plugin (if used)\n\t\tif(offset && adjusted.left) { position.left += offset.left; }\n\t\tif(offset && adjusted.top) {  position.top += offset.top; }\n\n\t\t// Apply any new 'my' position\n\t\tif(adjusted.my) { this.position.my = adjusted.my; }\n\t}\n\n\t// Viewport adjustment is disabled, set values to zero\n\telse { position.adjusted = { left: 0, top: 0 }; }\n\n\t// Set tooltip position class if it's changed\n\tif(cache.posClass !== (newClass = this._createPosClass(this.position.my))) {\n\t\tcache.posClass = newClass;\n\t\ttooltip.removeClass(cache.posClass).addClass(newClass);\n\t}\n\n\t// tooltipmove event\n\tif(!this._trigger('move', [position, viewport.elem || viewport], event)) { return this; }\n\tdelete position.adjusted;\n\n\t// If effect is disabled, target it mouse, no animation is defined or positioning gives NaN out, set CSS directly\n\tif(effect === FALSE || !visible || isNaN(position.left) || isNaN(position.top) || target === 'mouse' || !$.isFunction(posOptions.effect)) {\n\t\ttooltip.css(position);\n\t}\n\n\t// Use custom function if provided\n\telse if($.isFunction(posOptions.effect)) {\n\t\tposOptions.effect.call(tooltip, this, $.extend({}, position));\n\t\ttooltip.queue(function(next) {\n\t\t\t// Reset attributes to avoid cross-browser rendering bugs\n\t\t\t$(this).css({ opacity: '', height: '' });\n\t\t\tif(BROWSER.ie) { this.style.removeAttribute('filter'); }\n\n\t\t\tnext();\n\t\t});\n\t}\n\n\t// Set positioning flag\n\tthis.positioning = FALSE;\n\n\treturn this;\n};\n\n// Custom (more correct for qTip!) offset calculator\nPROTOTYPE.reposition.offset = function(elem, pos, container) {\n\tif(!container[0]) { return pos; }\n\n\tvar ownerDocument = $(elem[0].ownerDocument),\n\t\tquirks = !!BROWSER.ie && document.compatMode !== 'CSS1Compat',\n\t\tparent = container[0],\n\t\tscrolled, position, parentOffset, overflow;\n\n\tfunction scroll(e, i) {\n\t\tpos.left += i * e.scrollLeft();\n\t\tpos.top += i * e.scrollTop();\n\t}\n\n\t// Compensate for non-static containers offset\n\tdo {\n\t\tif((position = $.css(parent, 'position')) !== 'static') {\n\t\t\tif(position === 'fixed') {\n\t\t\t\tparentOffset = parent.getBoundingClientRect();\n\t\t\t\tscroll(ownerDocument, -1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tparentOffset = $(parent).position();\n\t\t\t\tparentOffset.left += parseFloat($.css(parent, 'borderLeftWidth')) || 0;\n\t\t\t\tparentOffset.top += parseFloat($.css(parent, 'borderTopWidth')) || 0;\n\t\t\t}\n\n\t\t\tpos.left -= parentOffset.left + (parseFloat($.css(parent, 'marginLeft')) || 0);\n\t\t\tpos.top -= parentOffset.top + (parseFloat($.css(parent, 'marginTop')) || 0);\n\n\t\t\t// If this is the first parent element with an overflow of \"scroll\" or \"auto\", store it\n\t\t\tif(!scrolled && (overflow = $.css(parent, 'overflow')) !== 'hidden' && overflow !== 'visible' && $.prop(parent, 'tagName') !== 'BODY') { scrolled = $(parent); }\n\t\t}\n\t}\n\twhile(parent = parent.offsetParent);\n\n\t// Compensate for containers scroll if it also has an offsetParent (or in IE quirks mode)\n\tif(scrolled && (scrolled[0] !== ownerDocument[0] || quirks)) {\n\t\tscroll(scrolled, 1);\n\t}\n\n\treturn pos;\n};\n\n// Corner class\nvar C = (CORNER = PROTOTYPE.reposition.Corner = function(corner, forceY) {\n\tcorner = ('' + corner).replace(/([A-Z])/, ' $1').replace(/middle/gi, CENTER).toLowerCase();\n\tthis.x = (corner.match(/left|right/i) || corner.match(/center/) || ['inherit'])[0].toLowerCase();\n\tthis.y = (corner.match(/top|bottom|center/i) || ['inherit'])[0].toLowerCase();\n\tthis.forceY = !!forceY;\n\n\tvar f = corner.charAt(0);\n\tthis.precedance = f === 't' || f === 'b' ? Y : X;\n}).prototype;\n\nC.invert = function(z, center) {\n\tthis[z] = this[z] === LEFT ? RIGHT : this[z] === RIGHT ? LEFT : center || this[z];\n};\n\nC.string = function(join) {\n\tvar x = this.x, y = this.y;\n\n\tvar result = x !== y ?\n\t\tx === 'center' || y !== 'center' && (this.precedance === Y || this.forceY) ? \n\t\t\t[y,x] : \n\t\t\t[x,y] :\n\t\t[x];\n\n\treturn join !== false ? result.join(' ') : result;\n};\n\nC.abbrev = function() {\n\tvar result = this.string(false);\n\treturn result[0].charAt(0) + (result[1] && result[1].charAt(0) || '');\n};\n\nC.clone = function() {\n\treturn new CORNER( this.string(), this.forceY );\n};\n\n;\nPROTOTYPE.toggle = function(state, event) {\n\tvar cache = this.cache,\n\t\toptions = this.options,\n\t\ttooltip = this.tooltip;\n\n\t// Try to prevent flickering when tooltip overlaps show element\n\tif(event) {\n\t\tif((/over|enter/).test(event.type) && cache.event && (/out|leave/).test(cache.event.type) &&\n\t\t\toptions.show.target.add(event.target).length === options.show.target.length &&\n\t\t\ttooltip.has(event.relatedTarget).length) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Cache event\n\t\tcache.event = $.event.fix(event);\n\t}\n\n\t// If we're currently waiting and we've just hidden... stop it\n\tthis.waiting && !state && (this.hiddenDuringWait = TRUE);\n\n\t// Render the tooltip if showing and it isn't already\n\tif(!this.rendered) { return state ? this.render(1) : this; }\n\telse if(this.destroyed || this.disabled) { return this; }\n\n\tvar type = state ? 'show' : 'hide',\n\t\topts = this.options[type],\n\t\tposOptions = this.options.position,\n\t\tcontentOptions = this.options.content,\n\t\twidth = this.tooltip.css('width'),\n\t\tvisible = this.tooltip.is(':visible'),\n\t\tanimate = state || opts.target.length === 1,\n\t\tsameTarget = !event || opts.target.length < 2 || cache.target[0] === event.target,\n\t\tidenticalState, allow, after;\n\n\t// Detect state if valid one isn't provided\n\tif((typeof state).search('boolean|number')) { state = !visible; }\n\n\t// Check if the tooltip is in an identical state to the new would-be state\n\tidenticalState = !tooltip.is(':animated') && visible === state && sameTarget;\n\n\t// Fire tooltip(show/hide) event and check if destroyed\n\tallow = !identicalState ? !!this._trigger(type, [90]) : NULL;\n\n\t// Check to make sure the tooltip wasn't destroyed in the callback\n\tif(this.destroyed) { return this; }\n\n\t// If the user didn't stop the method prematurely and we're showing the tooltip, focus it\n\tif(allow !== FALSE && state) { this.focus(event); }\n\n\t// If the state hasn't changed or the user stopped it, return early\n\tif(!allow || identicalState) { return this; }\n\n\t// Set ARIA hidden attribute\n\t$.attr(tooltip[0], 'aria-hidden', !!!state);\n\n\t// Execute state specific properties\n\tif(state) {\n\t\t// Store show origin coordinates\n\t\tthis.mouse && (cache.origin = $.event.fix(this.mouse));\n\n\t\t// Update tooltip content & title if it's a dynamic function\n\t\tif($.isFunction(contentOptions.text)) { this._updateContent(contentOptions.text, FALSE); }\n\t\tif($.isFunction(contentOptions.title)) { this._updateTitle(contentOptions.title, FALSE); }\n\n\t\t// Cache mousemove events for positioning purposes (if not already tracking)\n\t\tif(!trackingBound && posOptions.target === 'mouse' && posOptions.adjust.mouse) {\n\t\t\t$(document).bind('mousemove.'+NAMESPACE, this._storeMouse);\n\t\t\ttrackingBound = TRUE;\n\t\t}\n\n\t\t// Update the tooltip position (set width first to prevent viewport/max-width issues)\n\t\tif(!width) { tooltip.css('width', tooltip.outerWidth(FALSE)); }\n\t\tthis.reposition(event, arguments[2]);\n\t\tif(!width) { tooltip.css('width', ''); }\n\n\t\t// Hide other tooltips if tooltip is solo\n\t\tif(!!opts.solo) {\n\t\t\t(typeof opts.solo === 'string' ? $(opts.solo) : $(SELECTOR, opts.solo))\n\t\t\t\t.not(tooltip).not(opts.target).qtip('hide', new $.Event('tooltipsolo'));\n\t\t}\n\t}\n\telse {\n\t\t// Clear show timer if we're hiding\n\t\tclearTimeout(this.timers.show);\n\n\t\t// Remove cached origin on hide\n\t\tdelete cache.origin;\n\n\t\t// Remove mouse tracking event if not needed (all tracking qTips are hidden)\n\t\tif(trackingBound && !$(SELECTOR+'[tracking=\"true\"]:visible', opts.solo).not(tooltip).length) {\n\t\t\t$(document).unbind('mousemove.'+NAMESPACE);\n\t\t\ttrackingBound = FALSE;\n\t\t}\n\n\t\t// Blur the tooltip\n\t\tthis.blur(event);\n\t}\n\n\t// Define post-animation, state specific properties\n\tafter = $.proxy(function() {\n\t\tif(state) {\n\t\t\t// Prevent antialias from disappearing in IE by removing filter\n\t\t\tif(BROWSER.ie) { tooltip[0].style.removeAttribute('filter'); }\n\n\t\t\t// Remove overflow setting to prevent tip bugs\n\t\t\ttooltip.css('overflow', '');\n\n\t\t\t// Autofocus elements if enabled\n\t\t\tif('string' === typeof opts.autofocus) {\n\t\t\t\t$(this.options.show.autofocus, tooltip).focus();\n\t\t\t}\n\n\t\t\t// If set, hide tooltip when inactive for delay period\n\t\t\tthis.options.show.target.trigger('qtip-'+this.id+'-inactive');\n\t\t}\n\t\telse {\n\t\t\t// Reset CSS states\n\t\t\ttooltip.css({\n\t\t\t\tdisplay: '',\n\t\t\t\tvisibility: '',\n\t\t\t\topacity: '',\n\t\t\t\tleft: '',\n\t\t\t\ttop: ''\n\t\t\t});\n\t\t}\n\n\t\t// tooltipvisible/tooltiphidden events\n\t\tthis._trigger(state ? 'visible' : 'hidden');\n\t}, this);\n\n\t// If no effect type is supplied, use a simple toggle\n\tif(opts.effect === FALSE || animate === FALSE) {\n\t\ttooltip[ type ]();\n\t\tafter();\n\t}\n\n\t// Use custom function if provided\n\telse if($.isFunction(opts.effect)) {\n\t\ttooltip.stop(1, 1);\n\t\topts.effect.call(tooltip, this);\n\t\ttooltip.queue('fx', function(n) {\n\t\t\tafter(); n();\n\t\t});\n\t}\n\n\t// Use basic fade function by default\n\telse { tooltip.fadeTo(90, state ? 1 : 0, after); }\n\n\t// If inactive hide method is set, active it\n\tif(state) { opts.target.trigger('qtip-'+this.id+'-inactive'); }\n\n\treturn this;\n};\n\nPROTOTYPE.show = function(event) { return this.toggle(TRUE, event); };\n\nPROTOTYPE.hide = function(event) { return this.toggle(FALSE, event); };\n;PROTOTYPE.focus = function(event) {\n\tif(!this.rendered || this.destroyed) { return this; }\n\n\tvar qtips = $(SELECTOR),\n\t\ttooltip = this.tooltip,\n\t\tcurIndex = parseInt(tooltip[0].style.zIndex, 10),\n\t\tnewIndex = QTIP.zindex + qtips.length;\n\n\t// Only update the z-index if it has changed and tooltip is not already focused\n\tif(!tooltip.hasClass(CLASS_FOCUS)) {\n\t\t// tooltipfocus event\n\t\tif(this._trigger('focus', [newIndex], event)) {\n\t\t\t// Only update z-index's if they've changed\n\t\t\tif(curIndex !== newIndex) {\n\t\t\t\t// Reduce our z-index's and keep them properly ordered\n\t\t\t\tqtips.each(function() {\n\t\t\t\t\tif(this.style.zIndex > curIndex) {\n\t\t\t\t\t\tthis.style.zIndex = this.style.zIndex - 1;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Fire blur event for focused tooltip\n\t\t\t\tqtips.filter('.' + CLASS_FOCUS).qtip('blur', event);\n\t\t\t}\n\n\t\t\t// Set the new z-index\n\t\t\ttooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex;\n\t\t}\n\t}\n\n\treturn this;\n};\n\nPROTOTYPE.blur = function(event) {\n\tif(!this.rendered || this.destroyed) { return this; }\n\n\t// Set focused status to FALSE\n\tthis.tooltip.removeClass(CLASS_FOCUS);\n\n\t// tooltipblur event\n\tthis._trigger('blur', [ this.tooltip.css('zIndex') ], event);\n\n\treturn this;\n};\n;PROTOTYPE.disable = function(state) {\n\tif(this.destroyed) { return this; }\n\n\t// If 'toggle' is passed, toggle the current state\n\tif(state === 'toggle') {\n\t\tstate = !(this.rendered ? this.tooltip.hasClass(CLASS_DISABLED) : this.disabled);\n\t}\n\n\t// Disable if no state passed\n\telse if('boolean' !== typeof state) {\n\t\tstate = TRUE;\n\t}\n\n\tif(this.rendered) {\n\t\tthis.tooltip.toggleClass(CLASS_DISABLED, state)\n\t\t\t.attr('aria-disabled', state);\n\t}\n\n\tthis.disabled = !!state;\n\n\treturn this;\n};\n\nPROTOTYPE.enable = function() { return this.disable(FALSE); };\n;PROTOTYPE._createButton = function()\n{\n\tvar self = this,\n\t\telements = this.elements,\n\t\ttooltip = elements.tooltip,\n\t\tbutton = this.options.content.button,\n\t\tisString = typeof button === 'string',\n\t\tclose = isString ? button : 'Close tooltip';\n\n\tif(elements.button) { elements.button.remove(); }\n\n\t// Use custom button if one was supplied by user, else use default\n\tif(button.jquery) {\n\t\telements.button = button;\n\t}\n\telse {\n\t\telements.button = $('<a />', {\n\t\t\t'class': 'qtip-close ' + (this.options.style.widget ? '' : NAMESPACE+'-icon'),\n\t\t\t'title': close,\n\t\t\t'aria-label': close\n\t\t})\n\t\t.prepend(\n\t\t\t$('<span />', {\n\t\t\t\t'class': 'ui-icon ui-icon-close',\n\t\t\t\t'html': '&times;'\n\t\t\t})\n\t\t);\n\t}\n\n\t// Create button and setup attributes\n\telements.button.appendTo(elements.titlebar || tooltip)\n\t\t.attr('role', 'button')\n\t\t.click(function(event) {\n\t\t\tif(!tooltip.hasClass(CLASS_DISABLED)) { self.hide(event); }\n\t\t\treturn FALSE;\n\t\t});\n};\n\nPROTOTYPE._updateButton = function(button)\n{\n\t// Make sure tooltip is rendered and if not, return\n\tif(!this.rendered) { return FALSE; }\n\n\tvar elem = this.elements.button;\n\tif(button) { this._createButton(); }\n\telse { elem.remove(); }\n};\n;// Widget class creator\nfunction createWidgetClass(cls) {\n\treturn WIDGET.concat('').join(cls ? '-'+cls+' ' : ' ');\n}\n\n// Widget class setter method\nPROTOTYPE._setWidget = function()\n{\n\tvar on = this.options.style.widget,\n\t\telements = this.elements,\n\t\ttooltip = elements.tooltip,\n\t\tdisabled = tooltip.hasClass(CLASS_DISABLED);\n\n\ttooltip.removeClass(CLASS_DISABLED);\n\tCLASS_DISABLED = on ? 'ui-state-disabled' : 'qtip-disabled';\n\ttooltip.toggleClass(CLASS_DISABLED, disabled);\n\n\ttooltip.toggleClass('ui-helper-reset '+createWidgetClass(), on).toggleClass(CLASS_DEFAULT, this.options.style.def && !on);\n\n\tif(elements.content) {\n\t\telements.content.toggleClass( createWidgetClass('content'), on);\n\t}\n\tif(elements.titlebar) {\n\t\telements.titlebar.toggleClass( createWidgetClass('header'), on);\n\t}\n\tif(elements.button) {\n\t\telements.button.toggleClass(NAMESPACE+'-icon', !on);\n\t}\n};\n;function delay(callback, duration) {\n\t// If tooltip has displayed, start hide timer\n\tif(duration > 0) {\n\t\treturn setTimeout(\n\t\t\t$.proxy(callback, this), duration\n\t\t);\n\t}\n\telse{ callback.call(this); }\n}\n\nfunction showMethod(event) {\n\tif(this.tooltip.hasClass(CLASS_DISABLED)) { return; }\n\n\t// Clear hide timers\n\tclearTimeout(this.timers.show);\n\tclearTimeout(this.timers.hide);\n\n\t// Start show timer\n\tthis.timers.show = delay.call(this,\n\t\tfunction() { this.toggle(TRUE, event); },\n\t\tthis.options.show.delay\n\t);\n}\n\nfunction hideMethod(event) {\n\tif(this.tooltip.hasClass(CLASS_DISABLED) || this.destroyed) { return; }\n\n\t// Check if new target was actually the tooltip element\n\tvar relatedTarget = $(event.relatedTarget),\n\t\tontoTooltip = relatedTarget.closest(SELECTOR)[0] === this.tooltip[0],\n\t\tontoTarget = relatedTarget[0] === this.options.show.target[0];\n\n\t// Clear timers and stop animation queue\n\tclearTimeout(this.timers.show);\n\tclearTimeout(this.timers.hide);\n\n\t// Prevent hiding if tooltip is fixed and event target is the tooltip.\n\t// Or if mouse positioning is enabled and cursor momentarily overlaps\n\tif(this !== relatedTarget[0] &&\n\t\t(this.options.position.target === 'mouse' && ontoTooltip) ||\n\t\tthis.options.hide.fixed && (\n\t\t\t(/mouse(out|leave|move)/).test(event.type) && (ontoTooltip || ontoTarget))\n\t\t)\n\t{\n\t\t/* eslint-disable no-empty */\n\t\ttry {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopImmediatePropagation();\n\t\t} catch(e) {}\n\t\t/* eslint-enable no-empty */\n\n\t\treturn;\n\t}\n\n\t// If tooltip has displayed, start hide timer\n\tthis.timers.hide = delay.call(this,\n\t\tfunction() { this.toggle(FALSE, event); },\n\t\tthis.options.hide.delay,\n\t\tthis\n\t);\n}\n\nfunction inactiveMethod(event) {\n\tif(this.tooltip.hasClass(CLASS_DISABLED) || !this.options.hide.inactive) { return; }\n\n\t// Clear timer\n\tclearTimeout(this.timers.inactive);\n\n\tthis.timers.inactive = delay.call(this,\n\t\tfunction(){ this.hide(event); },\n\t\tthis.options.hide.inactive\n\t);\n}\n\nfunction repositionMethod(event) {\n\tif(this.rendered && this.tooltip[0].offsetWidth > 0) { this.reposition(event); }\n}\n\n// Store mouse coordinates\nPROTOTYPE._storeMouse = function(event) {\n\t(this.mouse = $.event.fix(event)).type = 'mousemove';\n\treturn this;\n};\n\n// Bind events\nPROTOTYPE._bind = function(targets, events, method, suffix, context) {\n\tif(!targets || !method || !events.length) { return; }\n\tvar ns = '.' + this._id + (suffix ? '-'+suffix : '');\n\t$(targets).bind(\n\t\t(events.split ? events : events.join(ns + ' ')) + ns,\n\t\t$.proxy(method, context || this)\n\t);\n\treturn this;\n};\nPROTOTYPE._unbind = function(targets, suffix) {\n\ttargets && $(targets).unbind('.' + this._id + (suffix ? '-'+suffix : ''));\n\treturn this;\n};\n\n// Global delegation helper\nfunction delegate(selector, events, method) {\n\t$(document.body).delegate(selector,\n\t\t(events.split ? events : events.join('.'+NAMESPACE + ' ')) + '.'+NAMESPACE,\n\t\tfunction() {\n\t\t\tvar api = QTIP.api[ $.attr(this, ATTR_ID) ];\n\t\t\tapi && !api.disabled && method.apply(api, arguments);\n\t\t}\n\t);\n}\n// Event trigger\nPROTOTYPE._trigger = function(type, args, event) {\n\tvar callback = new $.Event('tooltip'+type);\n\tcallback.originalEvent = event && $.extend({}, event) || this.cache.event || NULL;\n\n\tthis.triggering = type;\n\tthis.tooltip.trigger(callback, [this].concat(args || []));\n\tthis.triggering = FALSE;\n\n\treturn !callback.isDefaultPrevented();\n};\n\nPROTOTYPE._bindEvents = function(showEvents, hideEvents, showTargets, hideTargets, showCallback, hideCallback) {\n\t// Get tasrgets that lye within both\n\tvar similarTargets = showTargets.filter( hideTargets ).add( hideTargets.filter(showTargets) ),\n\t\ttoggleEvents = [];\n\n\t// If hide and show targets are the same...\n\tif(similarTargets.length) {\n\n\t\t// Filter identical show/hide events\n\t\t$.each(hideEvents, function(i, type) {\n\t\t\tvar showIndex = $.inArray(type, showEvents);\n\n\t\t\t// Both events are identical, remove from both hide and show events\n\t\t\t// and append to toggleEvents\n\t\t\tshowIndex > -1 && toggleEvents.push( showEvents.splice( showIndex, 1 )[0] );\n\t\t});\n\n\t\t// Toggle events are special case of identical show/hide events, which happen in sequence\n\t\tif(toggleEvents.length) {\n\t\t\t// Bind toggle events to the similar targets\n\t\t\tthis._bind(similarTargets, toggleEvents, function(event) {\n\t\t\t\tvar state = this.rendered ? this.tooltip[0].offsetWidth > 0 : false;\n\t\t\t\t(state ? hideCallback : showCallback).call(this, event);\n\t\t\t});\n\n\t\t\t// Remove the similar targets from the regular show/hide bindings\n\t\t\tshowTargets = showTargets.not(similarTargets);\n\t\t\thideTargets = hideTargets.not(similarTargets);\n\t\t}\n\t}\n\n\t// Apply show/hide/toggle events\n\tthis._bind(showTargets, showEvents, showCallback);\n\tthis._bind(hideTargets, hideEvents, hideCallback);\n};\n\nPROTOTYPE._assignInitialEvents = function(event) {\n\tvar options = this.options,\n\t\tshowTarget = options.show.target,\n\t\thideTarget = options.hide.target,\n\t\tshowEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\n\t\thideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : [];\n\n\t// Catch remove/removeqtip events on target element to destroy redundant tooltips\n\tthis._bind(this.elements.target, ['remove', 'removeqtip'], function() {\n\t\tthis.destroy(true);\n\t}, 'destroy');\n\n\t/*\n\t * Make sure hoverIntent functions properly by using mouseleave as a hide event if\n\t * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\n\t */\n\tif(/mouse(over|enter)/i.test(options.show.event) && !/mouse(out|leave)/i.test(options.hide.event)) {\n\t\thideEvents.push('mouseleave');\n\t}\n\n\t/*\n\t * Also make sure initial mouse targetting works correctly by caching mousemove coords\n\t * on show targets before the tooltip has rendered. Also set onTarget when triggered to\n\t * keep mouse tracking working.\n\t */\n\tthis._bind(showTarget, 'mousemove', function(moveEvent) {\n\t\tthis._storeMouse(moveEvent);\n\t\tthis.cache.onTarget = TRUE;\n\t});\n\n\t// Define hoverIntent function\n\tfunction hoverIntent(hoverEvent) {\n\t\t// Only continue if tooltip isn't disabled\n\t\tif(this.disabled || this.destroyed) { return FALSE; }\n\n\t\t// Cache the event data\n\t\tthis.cache.event = hoverEvent && $.event.fix(hoverEvent);\n\t\tthis.cache.target = hoverEvent && $(hoverEvent.target);\n\n\t\t// Start the event sequence\n\t\tclearTimeout(this.timers.show);\n\t\tthis.timers.show = delay.call(this,\n\t\t\tfunction() { this.render(typeof hoverEvent === 'object' || options.show.ready); },\n\t\t\toptions.prerender ? 0 : options.show.delay\n\t\t);\n\t}\n\n\t// Filter and bind events\n\tthis._bindEvents(showEvents, hideEvents, showTarget, hideTarget, hoverIntent, function() {\n\t\tif(!this.timers) { return FALSE; }\n\t\tclearTimeout(this.timers.show);\n\t});\n\n\t// Prerendering is enabled, create tooltip now\n\tif(options.show.ready || options.prerender) { hoverIntent.call(this, event); }\n};\n\n// Event assignment method\nPROTOTYPE._assignEvents = function() {\n\tvar self = this,\n\t\toptions = this.options,\n\t\tposOptions = options.position,\n\n\t\ttooltip = this.tooltip,\n\t\tshowTarget = options.show.target,\n\t\thideTarget = options.hide.target,\n\t\tcontainerTarget = posOptions.container,\n\t\tviewportTarget = posOptions.viewport,\n\t\tdocumentTarget = $(document),\n\t\twindowTarget = $(window),\n\n\t\tshowEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\n\t\thideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : [];\n\n\n\t// Assign passed event callbacks\n\t$.each(options.events, function(name, callback) {\n\t\tself._bind(tooltip, name === 'toggle' ? ['tooltipshow','tooltiphide'] : ['tooltip'+name], callback, null, tooltip);\n\t});\n\n\t// Hide tooltips when leaving current window/frame (but not select/option elements)\n\tif(/mouse(out|leave)/i.test(options.hide.event) && options.hide.leave === 'window') {\n\t\tthis._bind(documentTarget, ['mouseout', 'blur'], function(event) {\n\t\t\tif(!/select|option/.test(event.target.nodeName) && !event.relatedTarget) {\n\t\t\t\tthis.hide(event);\n\t\t\t}\n\t\t});\n\t}\n\n\t// Enable hide.fixed by adding appropriate class\n\tif(options.hide.fixed) {\n\t\thideTarget = hideTarget.add( tooltip.addClass(CLASS_FIXED) );\n\t}\n\n\t/*\n\t * Make sure hoverIntent functions properly by using mouseleave to clear show timer if\n\t * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\n\t */\n\telse if(/mouse(over|enter)/i.test(options.show.event)) {\n\t\tthis._bind(hideTarget, 'mouseleave', function() {\n\t\t\tclearTimeout(this.timers.show);\n\t\t});\n\t}\n\n\t// Hide tooltip on document mousedown if unfocus events are enabled\n\tif(('' + options.hide.event).indexOf('unfocus') > -1) {\n\t\tthis._bind(containerTarget.closest('html'), ['mousedown', 'touchstart'], function(event) {\n\t\t\tvar elem = $(event.target),\n\t\t\t\tenabled = this.rendered && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0,\n\t\t\t\tisAncestor = elem.parents(SELECTOR).filter(this.tooltip[0]).length > 0;\n\n\t\t\tif(elem[0] !== this.target[0] && elem[0] !== this.tooltip[0] && !isAncestor &&\n\t\t\t\t!this.target.has(elem[0]).length && enabled\n\t\t\t) {\n\t\t\t\tthis.hide(event);\n\t\t\t}\n\t\t});\n\t}\n\n\t// Check if the tooltip hides when inactive\n\tif('number' === typeof options.hide.inactive) {\n\t\t// Bind inactive method to show target(s) as a custom event\n\t\tthis._bind(showTarget, 'qtip-'+this.id+'-inactive', inactiveMethod, 'inactive');\n\n\t\t// Define events which reset the 'inactive' event handler\n\t\tthis._bind(hideTarget.add(tooltip), QTIP.inactiveEvents, inactiveMethod);\n\t}\n\n\t// Filter and bind events\n\tthis._bindEvents(showEvents, hideEvents, showTarget, hideTarget, showMethod, hideMethod);\n\n\t// Mouse movement bindings\n\tthis._bind(showTarget.add(tooltip), 'mousemove', function(event) {\n\t\t// Check if the tooltip hides when mouse is moved a certain distance\n\t\tif('number' === typeof options.hide.distance) {\n\t\t\tvar origin = this.cache.origin || {},\n\t\t\t\tlimit = this.options.hide.distance,\n\t\t\t\tabs = Math.abs;\n\n\t\t\t// Check if the movement has gone beyond the limit, and hide it if so\n\t\t\tif(abs(event.pageX - origin.pageX) >= limit || abs(event.pageY - origin.pageY) >= limit) {\n\t\t\t\tthis.hide(event);\n\t\t\t}\n\t\t}\n\n\t\t// Cache mousemove coords on show targets\n\t\tthis._storeMouse(event);\n\t});\n\n\t// Mouse positioning events\n\tif(posOptions.target === 'mouse') {\n\t\t// If mouse adjustment is on...\n\t\tif(posOptions.adjust.mouse) {\n\t\t\t// Apply a mouseleave event so we don't get problems with overlapping\n\t\t\tif(options.hide.event) {\n\t\t\t\t// Track if we're on the target or not\n\t\t\t\tthis._bind(showTarget, ['mouseenter', 'mouseleave'], function(event) {\n\t\t\t\t\tif(!this.cache) {return FALSE; }\n\t\t\t\t\tthis.cache.onTarget = event.type === 'mouseenter';\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Update tooltip position on mousemove\n\t\t\tthis._bind(documentTarget, 'mousemove', function(event) {\n\t\t\t\t// Update the tooltip position only if the tooltip is visible and adjustment is enabled\n\t\t\t\tif(this.rendered && this.cache.onTarget && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0) {\n\t\t\t\t\tthis.reposition(event);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t// Adjust positions of the tooltip on window resize if enabled\n\tif(posOptions.adjust.resize || viewportTarget.length) {\n\t\tthis._bind( $.event.special.resize ? viewportTarget : windowTarget, 'resize', repositionMethod );\n\t}\n\n\t// Adjust tooltip position on scroll of the window or viewport element if present\n\tif(posOptions.adjust.scroll) {\n\t\tthis._bind( windowTarget.add(posOptions.container), 'scroll', repositionMethod );\n\t}\n};\n\n// Un-assignment method\nPROTOTYPE._unassignEvents = function() {\n\tvar options = this.options,\n\t\tshowTargets = options.show.target,\n\t\thideTargets = options.hide.target,\n\t\ttargets = $.grep([\n\t\t\tthis.elements.target[0],\n\t\t\tthis.rendered && this.tooltip[0],\n\t\t\toptions.position.container[0],\n\t\t\toptions.position.viewport[0],\n\t\t\toptions.position.container.closest('html')[0], // unfocus\n\t\t\twindow,\n\t\t\tdocument\n\t\t], function(i) {\n\t\t\treturn typeof i === 'object';\n\t\t});\n\n\t// Add show and hide targets if they're valid\n\tif(showTargets && showTargets.toArray) {\n\t\ttargets = targets.concat(showTargets.toArray());\n\t}\n\tif(hideTargets && hideTargets.toArray) {\n\t\ttargets = targets.concat(hideTargets.toArray());\n\t}\n\n\t// Unbind the events\n\tthis._unbind(targets)\n\t\t._unbind(targets, 'destroy')\n\t\t._unbind(targets, 'inactive');\n};\n\n// Apply common event handlers using delegate (avoids excessive .bind calls!)\n$(function() {\n\tdelegate(SELECTOR, ['mouseenter', 'mouseleave'], function(event) {\n\t\tvar state = event.type === 'mouseenter',\n\t\t\ttooltip = $(event.currentTarget),\n\t\t\ttarget = $(event.relatedTarget || event.target),\n\t\t\toptions = this.options;\n\n\t\t// On mouseenter...\n\t\tif(state) {\n\t\t\t// Focus the tooltip on mouseenter (z-index stacking)\n\t\t\tthis.focus(event);\n\n\t\t\t// Clear hide timer on tooltip hover to prevent it from closing\n\t\t\ttooltip.hasClass(CLASS_FIXED) && !tooltip.hasClass(CLASS_DISABLED) && clearTimeout(this.timers.hide);\n\t\t}\n\n\t\t// On mouseleave...\n\t\telse {\n\t\t\t// When mouse tracking is enabled, hide when we leave the tooltip and not onto the show target (if a hide event is set)\n\t\t\tif(options.position.target === 'mouse' && options.position.adjust.mouse &&\n\t\t\t\toptions.hide.event && options.show.target && !target.closest(options.show.target[0]).length) {\n\t\t\t\tthis.hide(event);\n\t\t\t}\n\t\t}\n\n\t\t// Add hover class\n\t\ttooltip.toggleClass(CLASS_HOVER, state);\n\t});\n\n\t// Define events which reset the 'inactive' event handler\n\tdelegate('['+ATTR_ID+']', INACTIVE_EVENTS, inactiveMethod);\n});\n;// Initialization method\nfunction init(elem, id, opts) {\n\tvar obj, posOptions, attr, config, title,\n\n\t// Setup element references\n\tdocBody = $(document.body),\n\n\t// Use document body instead of document element if needed\n\tnewTarget = elem[0] === document ? docBody : elem,\n\n\t// Grab metadata from element if plugin is present\n\tmetadata = elem.metadata ? elem.metadata(opts.metadata) : NULL,\n\n\t// If metadata type if HTML5, grab 'name' from the object instead, or use the regular data object otherwise\n\tmetadata5 = opts.metadata.type === 'html5' && metadata ? metadata[opts.metadata.name] : NULL,\n\n\t// Grab data from metadata.name (or data-qtipopts as fallback) using .data() method,\n\thtml5 = elem.data(opts.metadata.name || 'qtipopts');\n\n\t// If we don't get an object returned attempt to parse it manualyl without parseJSON\n\t/* eslint-disable no-empty */\n\ttry { html5 = typeof html5 === 'string' ? $.parseJSON(html5) : html5; }\n\tcatch(e) {}\n\t/* eslint-enable no-empty */\n\n\t// Merge in and sanitize metadata\n\tconfig = $.extend(TRUE, {}, QTIP.defaults, opts,\n\t\ttypeof html5 === 'object' ? sanitizeOptions(html5) : NULL,\n\t\tsanitizeOptions(metadata5 || metadata));\n\n\t// Re-grab our positioning options now we've merged our metadata and set id to passed value\n\tposOptions = config.position;\n\tconfig.id = id;\n\n\t// Setup missing content if none is detected\n\tif('boolean' === typeof config.content.text) {\n\t\tattr = elem.attr(config.content.attr);\n\n\t\t// Grab from supplied attribute if available\n\t\tif(config.content.attr !== FALSE && attr) { config.content.text = attr; }\n\n\t\t// No valid content was found, abort render\n\t\telse { return FALSE; }\n\t}\n\n\t// Setup target options\n\tif(!posOptions.container.length) { posOptions.container = docBody; }\n\tif(posOptions.target === FALSE) { posOptions.target = newTarget; }\n\tif(config.show.target === FALSE) { config.show.target = newTarget; }\n\tif(config.show.solo === TRUE) { config.show.solo = posOptions.container.closest('body'); }\n\tif(config.hide.target === FALSE) { config.hide.target = newTarget; }\n\tif(config.position.viewport === TRUE) { config.position.viewport = posOptions.container; }\n\n\t// Ensure we only use a single container\n\tposOptions.container = posOptions.container.eq(0);\n\n\t// Convert position corner values into x and y strings\n\tposOptions.at = new CORNER(posOptions.at, TRUE);\n\tposOptions.my = new CORNER(posOptions.my);\n\n\t// Destroy previous tooltip if overwrite is enabled, or skip element if not\n\tif(elem.data(NAMESPACE)) {\n\t\tif(config.overwrite) {\n\t\t\telem.qtip('destroy', true);\n\t\t}\n\t\telse if(config.overwrite === FALSE) {\n\t\t\treturn FALSE;\n\t\t}\n\t}\n\n\t// Add has-qtip attribute\n\telem.attr(ATTR_HAS, id);\n\n\t// Remove title attribute and store it if present\n\tif(config.suppress && (title = elem.attr('title'))) {\n\t\t// Final attr call fixes event delegation and IE default tooltip showing problem\n\t\telem.removeAttr('title').attr(oldtitle, title).attr('title', '');\n\t}\n\n\t// Initialize the tooltip and add API reference\n\tobj = new QTip(elem, config, id, !!attr);\n\telem.data(NAMESPACE, obj);\n\n\treturn obj;\n}\n\n// jQuery $.fn extension method\nQTIP = $.fn.qtip = function(options, notation, newValue)\n{\n\tvar command = ('' + options).toLowerCase(), // Parse command\n\t\treturned = NULL,\n\t\targs = $.makeArray(arguments).slice(1),\n\t\tevent = args[args.length - 1],\n\t\topts = this[0] ? $.data(this[0], NAMESPACE) : NULL;\n\n\t// Check for API request\n\tif(!arguments.length && opts || command === 'api') {\n\t\treturn opts;\n\t}\n\n\t// Execute API command if present\n\telse if('string' === typeof options) {\n\t\tthis.each(function() {\n\t\t\tvar api = $.data(this, NAMESPACE);\n\t\t\tif(!api) { return TRUE; }\n\n\t\t\t// Cache the event if possible\n\t\t\tif(event && event.timeStamp) { api.cache.event = event; }\n\n\t\t\t// Check for specific API commands\n\t\t\tif(notation && (command === 'option' || command === 'options')) {\n\t\t\t\tif(newValue !== undefined || $.isPlainObject(notation)) {\n\t\t\t\t\tapi.set(notation, newValue);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturned = api.get(notation);\n\t\t\t\t\treturn FALSE;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Execute API command\n\t\t\telse if(api[command]) {\n\t\t\t\tapi[command].apply(api, args);\n\t\t\t}\n\t\t});\n\n\t\treturn returned !== NULL ? returned : this;\n\t}\n\n\t// No API commands. validate provided options and setup qTips\n\telse if('object' === typeof options || !arguments.length) {\n\t\t// Sanitize options first\n\t\topts = sanitizeOptions($.extend(TRUE, {}, options));\n\n\t\treturn this.each(function(i) {\n\t\t\tvar api, id;\n\n\t\t\t// Find next available ID, or use custom ID if provided\n\t\t\tid = $.isArray(opts.id) ? opts.id[i] : opts.id;\n\t\t\tid = !id || id === FALSE || id.length < 1 || QTIP.api[id] ? QTIP.nextid++ : id;\n\n\t\t\t// Initialize the qTip and re-grab newly sanitized options\n\t\t\tapi = init($(this), id, opts);\n\t\t\tif(api === FALSE) { return TRUE; }\n\t\t\telse { QTIP.api[id] = api; }\n\n\t\t\t// Initialize plugins\n\t\t\t$.each(PLUGINS, function() {\n\t\t\t\tif(this.initialize === 'initialize') { this(api); }\n\t\t\t});\n\n\t\t\t// Assign initial pre-render events\n\t\t\tapi._assignInitialEvents(event);\n\t\t});\n\t}\n};\n\n// Expose class\n$.qtip = QTip;\n\n// Populated in render method\nQTIP.api = {};\n;$.each({\n\t/* Allow other plugins to successfully retrieve the title of an element with a qTip applied */\n\tattr: function(attr, val) {\n\t\tif(this.length) {\n\t\t\tvar self = this[0],\n\t\t\t\ttitle = 'title',\n\t\t\t\tapi = $.data(self, 'qtip');\n\n\t\t\tif(attr === title && api && api.options && 'object' === typeof api && 'object' === typeof api.options && api.options.suppress) {\n\t\t\t\tif(arguments.length < 2) {\n\t\t\t\t\treturn $.attr(self, oldtitle);\n\t\t\t\t}\n\n\t\t\t\t// If qTip is rendered and title was originally used as content, update it\n\t\t\t\tif(api && api.options.content.attr === title && api.cache.attr) {\n\t\t\t\t\tapi.set('content.text', val);\n\t\t\t\t}\n\n\t\t\t\t// Use the regular attr method to set, then cache the result\n\t\t\t\treturn this.attr(oldtitle, val);\n\t\t\t}\n\t\t}\n\n\t\treturn $.fn['attr'+replaceSuffix].apply(this, arguments);\n\t},\n\n\t/* Allow clone to correctly retrieve cached title attributes */\n\tclone: function(keepData) {\n\t\t// Clone our element using the real clone method\n\t\tvar elems = $.fn['clone'+replaceSuffix].apply(this, arguments);\n\n\t\t// Grab all elements with an oldtitle set, and change it to regular title attribute, if keepData is false\n\t\tif(!keepData) {\n\t\t\telems.filter('['+oldtitle+']').attr('title', function() {\n\t\t\t\treturn $.attr(this, oldtitle);\n\t\t\t})\n\t\t\t.removeAttr(oldtitle);\n\t\t}\n\n\t\treturn elems;\n\t}\n}, function(name, func) {\n\tif(!func || $.fn[name+replaceSuffix]) { return TRUE; }\n\n\tvar old = $.fn[name+replaceSuffix] = $.fn[name];\n\t$.fn[name] = function() {\n\t\treturn func.apply(this, arguments) || old.apply(this, arguments);\n\t};\n});\n\n/* Fire off 'removeqtip' handler in $.cleanData if jQuery UI not present (it already does similar).\n * This snippet is taken directly from jQuery UI source code found here:\n *     http://code.jquery.com/ui/jquery-ui-git.js\n */\nif(!$.ui) {\n\t$['cleanData'+replaceSuffix] = $.cleanData;\n\t$.cleanData = function( elems ) {\n\t\tfor(var i = 0, elem; (elem = $( elems[i] )).length; i++) {\n\t\t\tif(elem.attr(ATTR_HAS)) {\n\t\t\t\t/* eslint-disable no-empty */\n\t\t\t\ttry { elem.triggerHandler('removeqtip'); }\n\t\t\t\tcatch( e ) {}\n\t\t\t\t/* eslint-enable no-empty */\n\t\t\t}\n\t\t}\n\t\t$['cleanData'+replaceSuffix].apply(this, arguments);\n\t};\n}\n;// qTip version\nQTIP.version = '3.0.3-5-g';\n\n// Base ID for all qTips\nQTIP.nextid = 0;\n\n// Inactive events array\nQTIP.inactiveEvents = INACTIVE_EVENTS;\n\n// Base z-index for all qTips\nQTIP.zindex = 15000;\n\n// Define configuration defaults\nQTIP.defaults = {\n\tprerender: FALSE,\n\tid: FALSE,\n\toverwrite: TRUE,\n\tsuppress: TRUE,\n\tcontent: {\n\t\ttext: TRUE,\n\t\tattr: 'title',\n\t\ttitle: FALSE,\n\t\tbutton: FALSE\n\t},\n\tposition: {\n\t\tmy: 'top left',\n\t\tat: 'bottom right',\n\t\ttarget: FALSE,\n\t\tcontainer: FALSE,\n\t\tviewport: FALSE,\n\t\tadjust: {\n\t\t\tx: 0, y: 0,\n\t\t\tmouse: TRUE,\n\t\t\tscroll: TRUE,\n\t\t\tresize: TRUE,\n\t\t\tmethod: 'flipinvert flipinvert'\n\t\t},\n\t\teffect: function(api, pos) {\n\t\t\t$(this).animate(pos, {\n\t\t\t\tduration: 200,\n\t\t\t\tqueue: FALSE\n\t\t\t});\n\t\t}\n\t},\n\tshow: {\n\t\ttarget: FALSE,\n\t\tevent: 'mouseenter',\n\t\teffect: TRUE,\n\t\tdelay: 90,\n\t\tsolo: FALSE,\n\t\tready: FALSE,\n\t\tautofocus: FALSE\n\t},\n\thide: {\n\t\ttarget: FALSE,\n\t\tevent: 'mouseleave',\n\t\teffect: TRUE,\n\t\tdelay: 0,\n\t\tfixed: FALSE,\n\t\tinactive: FALSE,\n\t\tleave: 'window',\n\t\tdistance: FALSE\n\t},\n\tstyle: {\n\t\tclasses: '',\n\t\twidget: FALSE,\n\t\twidth: FALSE,\n\t\theight: FALSE,\n\t\tdef: TRUE\n\t},\n\tevents: {\n\t\trender: NULL,\n\t\tmove: NULL,\n\t\tshow: NULL,\n\t\thide: NULL,\n\t\ttoggle: NULL,\n\t\tvisible: NULL,\n\t\thidden: NULL,\n\t\tfocus: NULL,\n\t\tblur: NULL\n\t}\n};\n;var TIP,\ncreateVML,\nSCALE,\nPIXEL_RATIO,\nBACKING_STORE_RATIO,\n\n// Common CSS strings\nMARGIN = 'margin',\nBORDER = 'border',\nCOLOR = 'color',\nBG_COLOR = 'background-color',\nTRANSPARENT = 'transparent',\nIMPORTANT = ' !important',\n\n// Check if the browser supports <canvas/> elements\nHASCANVAS = !!document.createElement('canvas').getContext,\n\n// Invalid colour values used in parseColours()\nINVALID = /rgba?\\(0, 0, 0(, 0)?\\)|transparent|#123456/i;\n\n// Camel-case method, taken from jQuery source\n// http://code.jquery.com/jquery-1.8.0.js\nfunction camel(s) { return s.charAt(0).toUpperCase() + s.slice(1); }\n\n/*\n * Modified from Modernizr's testPropsAll()\n * http://modernizr.com/downloads/modernizr-latest.js\n */\nvar cssProps = {}, cssPrefixes = ['Webkit', 'O', 'Moz', 'ms'];\nfunction vendorCss(elem, prop) {\n\tvar ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),\n\t\tprops = (prop + ' ' + cssPrefixes.join(ucProp + ' ') + ucProp).split(' '),\n\t\tcur, val, i = 0;\n\n\t// If the property has already been mapped...\n\tif(cssProps[prop]) { return elem.css(cssProps[prop]); }\n\n\twhile(cur = props[i++]) {\n\t\tif((val = elem.css(cur)) !== undefined) {\n\t\t\tcssProps[prop] = cur;\n\t\t\treturn val;\n\t\t}\n\t}\n}\n\n// Parse a given elements CSS property into an int\nfunction intCss(elem, prop) {\n\treturn Math.ceil(parseFloat(vendorCss(elem, prop)));\n}\n\n\n// VML creation (for IE only)\nif(!HASCANVAS) {\n\tcreateVML = function(tag, props, style) {\n\t\treturn '<qtipvml:'+tag+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"qtip-vml\" '+(props||'')+\n\t\t\t' style=\"behavior: url(#default#VML); '+(style||'')+ '\" />';\n\t};\n}\n\n// Canvas only definitions\nelse {\n\tPIXEL_RATIO = window.devicePixelRatio || 1;\n\tBACKING_STORE_RATIO = (function() {\n\t\tvar context = document.createElement('canvas').getContext('2d');\n\t\treturn context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio ||\n\t\t\t\tcontext.msBackingStorePixelRatio || context.oBackingStorePixelRatio || 1;\n\t})();\n\tSCALE = PIXEL_RATIO / BACKING_STORE_RATIO;\n}\n\n\nfunction Tip(qtip, options) {\n\tthis._ns = 'tip';\n\tthis.options = options;\n\tthis.offset = options.offset;\n\tthis.size = [ options.width, options.height ];\n\n\t// Initialize\n\tthis.qtip = qtip;\n\tthis.init(qtip);\n}\n\n$.extend(Tip.prototype, {\n\tinit: function(qtip) {\n\t\tvar context, tip;\n\n\t\t// Create tip element and prepend to the tooltip\n\t\ttip = this.element = qtip.elements.tip = $('<div />', { 'class': NAMESPACE+'-tip' }).prependTo(qtip.tooltip);\n\n\t\t// Create tip drawing element(s)\n\t\tif(HASCANVAS) {\n\t\t\t// save() as soon as we create the canvas element so FF2 doesn't bork on our first restore()!\n\t\t\tcontext = $('<canvas />').appendTo(this.element)[0].getContext('2d');\n\n\t\t\t// Setup constant parameters\n\t\t\tcontext.lineJoin = 'miter';\n\t\t\tcontext.miterLimit = 100000;\n\t\t\tcontext.save();\n\t\t}\n\t\telse {\n\t\t\tcontext = createVML('shape', 'coordorigin=\"0,0\"', 'position:absolute;');\n\t\t\tthis.element.html(context + context);\n\n\t\t\t// Prevent mousing down on the tip since it causes problems with .live() handling in IE due to VML\n\t\t\tqtip._bind( $('*', tip).add(tip), ['click', 'mousedown'], function(event) { event.stopPropagation(); }, this._ns);\n\t\t}\n\n\t\t// Bind update events\n\t\tqtip._bind(qtip.tooltip, 'tooltipmove', this.reposition, this._ns, this);\n\n\t\t// Create it\n\t\tthis.create();\n\t},\n\n\t_swapDimensions: function() {\n\t\tthis.size[0] = this.options.height;\n\t\tthis.size[1] = this.options.width;\n\t},\n\t_resetDimensions: function() {\n\t\tthis.size[0] = this.options.width;\n\t\tthis.size[1] = this.options.height;\n\t},\n\n\t_useTitle: function(corner) {\n\t\tvar titlebar = this.qtip.elements.titlebar;\n\t\treturn titlebar && (\n\t\t\tcorner.y === TOP || corner.y === CENTER && this.element.position().top + this.size[1] / 2 + this.options.offset < titlebar.outerHeight(TRUE)\n\t\t);\n\t},\n\n\t_parseCorner: function(corner) {\n\t\tvar my = this.qtip.options.position.my;\n\n\t\t// Detect corner and mimic properties\n\t\tif(corner === FALSE || my === FALSE) {\n\t\t\tcorner = FALSE;\n\t\t}\n\t\telse if(corner === TRUE) {\n\t\t\tcorner = new CORNER( my.string() );\n\t\t}\n\t\telse if(!corner.string) {\n\t\t\tcorner = new CORNER(corner);\n\t\t\tcorner.fixed = TRUE;\n\t\t}\n\n\t\treturn corner;\n\t},\n\n\t_parseWidth: function(corner, side, use) {\n\t\tvar elements = this.qtip.elements,\n\t\t\tprop = BORDER + camel(side) + 'Width';\n\n\t\treturn (use ? intCss(use, prop) : \n\t\t\tintCss(elements.content, prop) ||\n\t\t\tintCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) ||\n\t\t\tintCss(elements.tooltip, prop)\n\t\t) || 0;\n\t},\n\n\t_parseRadius: function(corner) {\n\t\tvar elements = this.qtip.elements,\n\t\t\tprop = BORDER + camel(corner.y) + camel(corner.x) + 'Radius';\n\n\t\treturn BROWSER.ie < 9 ? 0 :\n\t\t\tintCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) ||\n\t\t\tintCss(elements.tooltip, prop) || 0;\n\t},\n\n\t_invalidColour: function(elem, prop, compare) {\n\t\tvar val = elem.css(prop);\n\t\treturn !val || compare && val === elem.css(compare) || INVALID.test(val) ? FALSE : val;\n\t},\n\n\t_parseColours: function(corner) {\n\t\tvar elements = this.qtip.elements,\n\t\t\ttip = this.element.css('cssText', ''),\n\t\t\tborderSide = BORDER + camel(corner[ corner.precedance ]) + camel(COLOR),\n\t\t\tcolorElem = this._useTitle(corner) && elements.titlebar || elements.content,\n\t\t\tcss = this._invalidColour, color = [];\n\n\t\t// Attempt to detect the background colour from various elements, left-to-right precedance\n\t\tcolor[0] = css(tip, BG_COLOR) || css(colorElem, BG_COLOR) || css(elements.content, BG_COLOR) ||\n\t\t\tcss(elements.tooltip, BG_COLOR) || tip.css(BG_COLOR);\n\n\t\t// Attempt to detect the correct border side colour from various elements, left-to-right precedance\n\t\tcolor[1] = css(tip, borderSide, COLOR) || css(colorElem, borderSide, COLOR) ||\n\t\t\tcss(elements.content, borderSide, COLOR) || css(elements.tooltip, borderSide, COLOR) || elements.tooltip.css(borderSide);\n\n\t\t// Reset background and border colours\n\t\t$('*', tip).add(tip).css('cssText', BG_COLOR+':'+TRANSPARENT+IMPORTANT+';'+BORDER+':0'+IMPORTANT+';');\n\n\t\treturn color;\n\t},\n\n\t_calculateSize: function(corner) {\n\t\tvar y = corner.precedance === Y,\n\t\t\twidth = this.options.width,\n\t\t\theight = this.options.height,\n\t\t\tisCenter = corner.abbrev() === 'c',\n\t\t\tbase = (y ? width: height) * (isCenter ? 0.5 : 1),\n\t\t\tpow = Math.pow,\n\t\t\tround = Math.round,\n\t\t\tbigHyp, ratio, result,\n\n\t\tsmallHyp = Math.sqrt( pow(base, 2) + pow(height, 2) ),\n\t\thyp = [\n\t\t\tthis.border / base * smallHyp,\n\t\t\tthis.border / height * smallHyp\n\t\t];\n\n\t\thyp[2] = Math.sqrt( pow(hyp[0], 2) - pow(this.border, 2) );\n\t\thyp[3] = Math.sqrt( pow(hyp[1], 2) - pow(this.border, 2) );\n\n\t\tbigHyp = smallHyp + hyp[2] + hyp[3] + (isCenter ? 0 : hyp[0]);\n\t\tratio = bigHyp / smallHyp;\n\n\t\tresult = [ round(ratio * width), round(ratio * height) ];\n\t\treturn y ? result : result.reverse();\n\t},\n\n\t// Tip coordinates calculator\n\t_calculateTip: function(corner, size, scale) {\n\t\tscale = scale || 1;\n\t\tsize = size || this.size;\n\n\t\tvar width = size[0] * scale,\n\t\t\theight = size[1] * scale,\n\t\t\twidth2 = Math.ceil(width / 2), height2 = Math.ceil(height / 2),\n\n\t\t// Define tip coordinates in terms of height and width values\n\t\ttips = {\n\t\t\tbr:\t[0,0,\t\twidth,height,\twidth,0],\n\t\t\tbl:\t[0,0,\t\twidth,0,\t\t0,height],\n\t\t\ttr:\t[0,height,\twidth,0,\t\twidth,height],\n\t\t\ttl:\t[0,0,\t\t0,height,\t\twidth,height],\n\t\t\ttc:\t[0,height,\twidth2,0,\t\twidth,height],\n\t\t\tbc:\t[0,0,\t\twidth,0,\t\twidth2,height],\n\t\t\trc:\t[0,0,\t\twidth,height2,\t0,height],\n\t\t\tlc:\t[width,0,\twidth,height,\t0,height2]\n\t\t};\n\n\t\t// Set common side shapes\n\t\ttips.lt = tips.br; tips.rt = tips.bl;\n\t\ttips.lb = tips.tr; tips.rb = tips.tl;\n\n\t\treturn tips[ corner.abbrev() ];\n\t},\n\n\t// Tip coordinates drawer (canvas)\n\t_drawCoords: function(context, coords) {\n\t\tcontext.beginPath();\n\t\tcontext.moveTo(coords[0], coords[1]);\n\t\tcontext.lineTo(coords[2], coords[3]);\n\t\tcontext.lineTo(coords[4], coords[5]);\n\t\tcontext.closePath();\n\t},\n\n\tcreate: function() {\n\t\t// Determine tip corner\n\t\tvar c = this.corner = (HASCANVAS || BROWSER.ie) && this._parseCorner(this.options.corner);\n\n\t\t// If we have a tip corner...\n\t\tthis.enabled = !!this.corner && this.corner.abbrev() !== 'c';\n\t\tif(this.enabled) {\n\t\t\t// Cache it\n\t\t\tthis.qtip.cache.corner = c.clone();\n\n\t\t\t// Create it\n\t\t\tthis.update();\n\t\t}\n\n\t\t// Toggle tip element\n\t\tthis.element.toggle(this.enabled);\n\n\t\treturn this.corner;\n\t},\n\n\tupdate: function(corner, position) {\n\t\tif(!this.enabled) { return this; }\n\n\t\tvar elements = this.qtip.elements,\n\t\t\ttip = this.element,\n\t\t\tinner = tip.children(),\n\t\t\toptions = this.options,\n\t\t\tcurSize = this.size,\n\t\t\tmimic = options.mimic,\n\t\t\tround = Math.round,\n\t\t\tcolor, precedance, context,\n\t\t\tcoords, bigCoords, translate, newSize, border;\n\n\t\t// Re-determine tip if not already set\n\t\tif(!corner) { corner = this.qtip.cache.corner || this.corner; }\n\n\t\t// Use corner property if we detect an invalid mimic value\n\t\tif(mimic === FALSE) { mimic = corner; }\n\n\t\t// Otherwise inherit mimic properties from the corner object as necessary\n\t\telse {\n\t\t\tmimic = new CORNER(mimic);\n\t\t\tmimic.precedance = corner.precedance;\n\n\t\t\tif(mimic.x === 'inherit') { mimic.x = corner.x; }\n\t\t\telse if(mimic.y === 'inherit') { mimic.y = corner.y; }\n\t\t\telse if(mimic.x === mimic.y) {\n\t\t\t\tmimic[ corner.precedance ] = corner[ corner.precedance ];\n\t\t\t}\n\t\t}\n\t\tprecedance = mimic.precedance;\n\n\t\t// Ensure the tip width.height are relative to the tip position\n\t\tif(corner.precedance === X) { this._swapDimensions(); }\n\t\telse { this._resetDimensions(); }\n\n\t\t// Update our colours\n\t\tcolor = this.color = this._parseColours(corner);\n\n\t\t// Detect border width, taking into account colours\n\t\tif(color[1] !== TRANSPARENT) {\n\t\t\t// Grab border width\n\t\t\tborder = this.border = this._parseWidth(corner, corner[corner.precedance]);\n\n\t\t\t// If border width isn't zero, use border color as fill if it's not invalid (1.0 style tips)\n\t\t\tif(options.border && border < 1 && !INVALID.test(color[1])) { color[0] = color[1]; }\n\n\t\t\t// Set border width (use detected border width if options.border is true)\n\t\t\tthis.border = border = options.border !== TRUE ? options.border : border;\n\t\t}\n\n\t\t// Border colour was invalid, set border to zero\n\t\telse { this.border = border = 0; }\n\n\t\t// Determine tip size\n\t\tnewSize = this.size = this._calculateSize(corner);\n\t\ttip.css({\n\t\t\twidth: newSize[0],\n\t\t\theight: newSize[1],\n\t\t\tlineHeight: newSize[1]+'px'\n\t\t});\n\n\t\t// Calculate tip translation\n\t\tif(corner.precedance === Y) {\n\t\t\ttranslate = [\n\t\t\t\tround(mimic.x === LEFT ? border : mimic.x === RIGHT ? newSize[0] - curSize[0] - border : (newSize[0] - curSize[0]) / 2),\n\t\t\t\tround(mimic.y === TOP ? newSize[1] - curSize[1] : 0)\n\t\t\t];\n\t\t}\n\t\telse {\n\t\t\ttranslate = [\n\t\t\t\tround(mimic.x === LEFT ? newSize[0] - curSize[0] : 0),\n\t\t\t\tround(mimic.y === TOP ? border : mimic.y === BOTTOM ? newSize[1] - curSize[1] - border : (newSize[1] - curSize[1]) / 2)\n\t\t\t];\n\t\t}\n\n\t\t// Canvas drawing implementation\n\t\tif(HASCANVAS) {\n\t\t\t// Grab canvas context and clear/save it\n\t\t\tcontext = inner[0].getContext('2d');\n\t\t\tcontext.restore(); context.save();\n\t\t\tcontext.clearRect(0,0,6000,6000);\n\n\t\t\t// Calculate coordinates\n\t\t\tcoords = this._calculateTip(mimic, curSize, SCALE);\n\t\t\tbigCoords = this._calculateTip(mimic, this.size, SCALE);\n\n\t\t\t// Set the canvas size using calculated size\n\t\t\tinner.attr(WIDTH, newSize[0] * SCALE).attr(HEIGHT, newSize[1] * SCALE);\n\t\t\tinner.css(WIDTH, newSize[0]).css(HEIGHT, newSize[1]);\n\n\t\t\t// Draw the outer-stroke tip\n\t\t\tthis._drawCoords(context, bigCoords);\n\t\t\tcontext.fillStyle = color[1];\n\t\t\tcontext.fill();\n\n\t\t\t// Draw the actual tip\n\t\t\tcontext.translate(translate[0] * SCALE, translate[1] * SCALE);\n\t\t\tthis._drawCoords(context, coords);\n\t\t\tcontext.fillStyle = color[0];\n\t\t\tcontext.fill();\n\t\t}\n\n\t\t// VML (IE Proprietary implementation)\n\t\telse {\n\t\t\t// Calculate coordinates\n\t\t\tcoords = this._calculateTip(mimic);\n\n\t\t\t// Setup coordinates string\n\t\t\tcoords = 'm' + coords[0] + ',' + coords[1] + ' l' + coords[2] +\n\t\t\t\t',' + coords[3] + ' ' + coords[4] + ',' + coords[5] + ' xe';\n\n\t\t\t// Setup VML-specific offset for pixel-perfection\n\t\t\ttranslate[2] = border && /^(r|b)/i.test(corner.string()) ?\n\t\t\t\tBROWSER.ie === 8 ? 2 : 1 : 0;\n\n\t\t\t// Set initial CSS\n\t\t\tinner.css({\n\t\t\t\tcoordsize: newSize[0]+border + ' ' + newSize[1]+border,\n\t\t\t\tantialias: ''+(mimic.string().indexOf(CENTER) > -1),\n\t\t\t\tleft: translate[0] - translate[2] * Number(precedance === X),\n\t\t\t\ttop: translate[1] - translate[2] * Number(precedance === Y),\n\t\t\t\twidth: newSize[0] + border,\n\t\t\t\theight: newSize[1] + border\n\t\t\t})\n\t\t\t.each(function(i) {\n\t\t\t\tvar $this = $(this);\n\n\t\t\t\t// Set shape specific attributes\n\t\t\t\t$this[ $this.prop ? 'prop' : 'attr' ]({\n\t\t\t\t\tcoordsize: newSize[0]+border + ' ' + newSize[1]+border,\n\t\t\t\t\tpath: coords,\n\t\t\t\t\tfillcolor: color[0],\n\t\t\t\t\tfilled: !!i,\n\t\t\t\t\tstroked: !i\n\t\t\t\t})\n\t\t\t\t.toggle(!!(border || i));\n\n\t\t\t\t// Check if border is enabled and add stroke element\n\t\t\t\t!i && $this.html( createVML(\n\t\t\t\t\t'stroke', 'weight=\"'+border*2+'px\" color=\"'+color[1]+'\" miterlimit=\"1000\" joinstyle=\"miter\"'\n\t\t\t\t) );\n\t\t\t});\n\t\t}\n\n\t\t// Opera bug #357 - Incorrect tip position\n\t\t// https://github.com/Craga89/qTip2/issues/367\n\t\twindow.opera && setTimeout(function() {\n\t\t\telements.tip.css({\n\t\t\t\tdisplay: 'inline-block',\n\t\t\t\tvisibility: 'visible'\n\t\t\t});\n\t\t}, 1);\n\n\t\t// Position if needed\n\t\tif(position !== FALSE) { this.calculate(corner, newSize); }\n\t},\n\n\tcalculate: function(corner, size) {\n\t\tif(!this.enabled) { return FALSE; }\n\n\t\tvar self = this,\n\t\t\telements = this.qtip.elements,\n\t\t\ttip = this.element,\n\t\t\tuserOffset = this.options.offset,\n\t\t\tposition = {},\n\t\t\tprecedance, corners;\n\n\t\t// Inherit corner if not provided\n\t\tcorner = corner || this.corner;\n\t\tprecedance = corner.precedance;\n\n\t\t// Determine which tip dimension to use for adjustment\n\t\tsize = size || this._calculateSize(corner);\n\n\t\t// Setup corners and offset array\n\t\tcorners = [ corner.x, corner.y ];\n\t\tif(precedance === X) { corners.reverse(); }\n\n\t\t// Calculate tip position\n\t\t$.each(corners, function(i, side) {\n\t\t\tvar b, bc, br;\n\n\t\t\tif(side === CENTER) {\n\t\t\t\tb = precedance === Y ? LEFT : TOP;\n\t\t\t\tposition[ b ] = '50%';\n\t\t\t\tposition[MARGIN+'-' + b] = -Math.round(size[ precedance === Y ? 0 : 1 ] / 2) + userOffset;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tb = self._parseWidth(corner, side, elements.tooltip);\n\t\t\t\tbc = self._parseWidth(corner, side, elements.content);\n\t\t\t\tbr = self._parseRadius(corner);\n\n\t\t\t\tposition[ side ] = Math.max(-self.border, i ? bc : userOffset + (br > b ? br : -b));\n\t\t\t}\n\t\t});\n\n\t\t// Adjust for tip size\n\t\tposition[ corner[precedance] ] -= size[ precedance === X ? 0 : 1 ];\n\n\t\t// Set and return new position\n\t\ttip.css({ margin: '', top: '', bottom: '', left: '', right: '' }).css(position);\n\t\treturn position;\n\t},\n\n\treposition: function(event, api, pos) {\n\t\tif(!this.enabled) { return; }\n\n\t\tvar cache = api.cache,\n\t\t\tnewCorner = this.corner.clone(),\n\t\t\tadjust = pos.adjusted,\n\t\t\tmethod = api.options.position.adjust.method.split(' '),\n\t\t\thorizontal = method[0],\n\t\t\tvertical = method[1] || method[0],\n\t\t\tshift = { left: FALSE, top: FALSE, x: 0, y: 0 },\n\t\t\toffset, css = {}, props;\n\n\t\tfunction shiftflip(direction, precedance, popposite, side, opposite) {\n\t\t\t// Horizontal - Shift or flip method\n\t\t\tif(direction === SHIFT && newCorner.precedance === precedance && adjust[side] && newCorner[popposite] !== CENTER) {\n\t\t\t\tnewCorner.precedance = newCorner.precedance === X ? Y : X;\n\t\t\t}\n\t\t\telse if(direction !== SHIFT && adjust[side]){\n\t\t\t\tnewCorner[precedance] = newCorner[precedance] === CENTER ?\n\t\t\t\t\tadjust[side] > 0 ? side : opposite :\n\t\t\t\t\tnewCorner[precedance] === side ? opposite : side;\n\t\t\t}\n\t\t}\n\n\t\tfunction shiftonly(xy, side, opposite) {\n\t\t\tif(newCorner[xy] === CENTER) {\n\t\t\t\tcss[MARGIN+'-'+side] = shift[xy] = offset[MARGIN+'-'+side] - adjust[side];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tprops = offset[opposite] !== undefined ?\n\t\t\t\t\t[ adjust[side], -offset[side] ] : [ -adjust[side], offset[side] ];\n\n\t\t\t\tif( (shift[xy] = Math.max(props[0], props[1])) > props[0] ) {\n\t\t\t\t\tpos[side] -= adjust[side];\n\t\t\t\t\tshift[side] = FALSE;\n\t\t\t\t}\n\n\t\t\t\tcss[ offset[opposite] !== undefined ? opposite : side ] = shift[xy];\n\t\t\t}\n\t\t}\n\n\t\t// If our tip position isn't fixed e.g. doesn't adjust with viewport...\n\t\tif(this.corner.fixed !== TRUE) {\n\t\t\t// Perform shift/flip adjustments\n\t\t\tshiftflip(horizontal, X, Y, LEFT, RIGHT);\n\t\t\tshiftflip(vertical, Y, X, TOP, BOTTOM);\n\n\t\t\t// Update and redraw the tip if needed (check cached details of last drawn tip)\n\t\t\tif(newCorner.string() !== cache.corner.string() || cache.cornerTop !== adjust.top || cache.cornerLeft !== adjust.left) {\n\t\t\t\tthis.update(newCorner, FALSE);\n\t\t\t}\n\t\t}\n\n\t\t// Setup tip offset properties\n\t\toffset = this.calculate(newCorner);\n\n\t\t// Readjust offset object to make it left/top\n\t\tif(offset.right !== undefined) { offset.left = -offset.right; }\n\t\tif(offset.bottom !== undefined) { offset.top = -offset.bottom; }\n\t\toffset.user = this.offset;\n\n\t\t// Perform shift adjustments\n\t\tshift.left = horizontal === SHIFT && !!adjust.left;\n\t\tif(shift.left) {\n\t\t\tshiftonly(X, LEFT, RIGHT);\n\t\t}\n\t\tshift.top = vertical === SHIFT && !!adjust.top;\n\t\tif(shift.top) {\n\t\t\tshiftonly(Y, TOP, BOTTOM);\n\t\t}\n\n\t\t/*\n\t\t* If the tip is adjusted in both dimensions, or in a\n\t\t* direction that would cause it to be anywhere but the\n\t\t* outer border, hide it!\n\t\t*/\n\t\tthis.element.css(css).toggle(\n\t\t\t!(shift.x && shift.y || newCorner.x === CENTER && shift.y || newCorner.y === CENTER && shift.x)\n\t\t);\n\n\t\t// Adjust position to accomodate tip dimensions\n\t\tpos.left -= offset.left.charAt ? offset.user :\n\t\t\thorizontal !== SHIFT || shift.top || !shift.left && !shift.top ? offset.left + this.border : 0;\n\t\tpos.top -= offset.top.charAt ? offset.user :\n\t\t\tvertical !== SHIFT || shift.left || !shift.left && !shift.top ? offset.top + this.border : 0;\n\n\t\t// Cache details\n\t\tcache.cornerLeft = adjust.left; cache.cornerTop = adjust.top;\n\t\tcache.corner = newCorner.clone();\n\t},\n\n\tdestroy: function() {\n\t\t// Unbind events\n\t\tthis.qtip._unbind(this.qtip.tooltip, this._ns);\n\n\t\t// Remove the tip element(s)\n\t\tif(this.qtip.elements.tip) {\n\t\t\tthis.qtip.elements.tip.find('*')\n\t\t\t\t.remove().end().remove();\n\t\t}\n\t}\n});\n\nTIP = PLUGINS.tip = function(api) {\n\treturn new Tip(api, api.options.style.tip);\n};\n\n// Initialize tip on render\nTIP.initialize = 'render';\n\n// Setup plugin sanitization options\nTIP.sanitize = function(options) {\n\tif(options.style && 'tip' in options.style) {\n\t\tvar opts = options.style.tip;\n\t\tif(typeof opts !== 'object') { opts = options.style.tip = { corner: opts }; }\n\t\tif(!(/string|boolean/i).test(typeof opts.corner)) { opts.corner = TRUE; }\n\t}\n};\n\n// Add new option checks for the plugin\nCHECKS.tip = {\n\t'^position.my|style.tip.(corner|mimic|border)$': function() {\n\t\t// Make sure a tip can be drawn\n\t\tthis.create();\n\n\t\t// Reposition the tooltip\n\t\tthis.qtip.reposition();\n\t},\n\t'^style.tip.(height|width)$': function(obj) {\n\t\t// Re-set dimensions and redraw the tip\n\t\tthis.size = [ obj.width, obj.height ];\n\t\tthis.update();\n\n\t\t// Reposition the tooltip\n\t\tthis.qtip.reposition();\n\t},\n\t'^content.title|style.(classes|widget)$': function() {\n\t\tthis.update();\n\t}\n};\n\n// Extend original qTip defaults\n$.extend(TRUE, QTIP.defaults, {\n\tstyle: {\n\t\ttip: {\n\t\t\tcorner: TRUE,\n\t\t\tmimic: FALSE,\n\t\t\twidth: 6,\n\t\t\theight: 6,\n\t\t\tborder: TRUE,\n\t\t\toffset: 0\n\t\t}\n\t}\n});\n;var MODAL, OVERLAY,\n\tMODALCLASS = 'qtip-modal',\n\tMODALSELECTOR = '.'+MODALCLASS;\n\nOVERLAY = function()\n{\n\tvar self = this,\n\t\tfocusableElems = {},\n\t\tcurrent,\n\t\tprevState,\n\t\telem;\n\n\t// Modified code from jQuery UI 1.10.0 source\n\t// http://code.jquery.com/ui/1.10.0/jquery-ui.js\n\tfunction focusable(element) {\n\t\t// Use the defined focusable checker when possible\n\t\tif($.expr[':'].focusable) { return $.expr[':'].focusable; }\n\n\t\tvar isTabIndexNotNaN = !isNaN($.attr(element, 'tabindex')),\n\t\t\tnodeName = element.nodeName && element.nodeName.toLowerCase(),\n\t\t\tmap, mapName, img;\n\n\t\tif('area' === nodeName) {\n\t\t\tmap = element.parentNode;\n\t\t\tmapName = map.name;\n\t\t\tif(!element.href || !mapName || map.nodeName.toLowerCase() !== 'map') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\timg = $('img[usemap=#' + mapName + ']')[0];\n\t\t\treturn !!img && img.is(':visible');\n\t\t}\n\n\t\treturn /input|select|textarea|button|object/.test( nodeName ) ?\n\t\t\t!element.disabled :\n\t\t\t'a' === nodeName ?\n\t\t\t\telement.href || isTabIndexNotNaN :\n\t\t\t\tisTabIndexNotNaN\n\t\t;\n\t}\n\n\t// Focus inputs using cached focusable elements (see update())\n\tfunction focusInputs(blurElems) {\n\t\t// Blurring body element in IE causes window.open windows to unfocus!\n\t\tif(focusableElems.length < 1 && blurElems.length) { blurElems.not('body').blur(); }\n\n\t\t// Focus the inputs\n\t\telse { focusableElems.first().focus(); }\n\t}\n\n\t// Steal focus from elements outside tooltip\n\tfunction stealFocus(event) {\n\t\tif(!elem.is(':visible')) { return; }\n\n\t\tvar target = $(event.target),\n\t\t\ttooltip = current.tooltip,\n\t\t\tcontainer = target.closest(SELECTOR),\n\t\t\ttargetOnTop;\n\n\t\t// Determine if input container target is above this\n\t\ttargetOnTop = container.length < 1 ? FALSE :\n\t\t\tparseInt(container[0].style.zIndex, 10) > parseInt(tooltip[0].style.zIndex, 10);\n\n\t\t// If we're showing a modal, but focus has landed on an input below\n\t\t// this modal, divert focus to the first visible input in this modal\n\t\t// or if we can't find one... the tooltip itself\n\t\tif(!targetOnTop && target.closest(SELECTOR)[0] !== tooltip[0]) {\n\t\t\tfocusInputs(target);\n\t\t}\n\t}\n\n\t$.extend(self, {\n\t\tinit: function() {\n\t\t\t// Create document overlay\n\t\t\telem = self.elem = $('<div />', {\n\t\t\t\tid: 'qtip-overlay',\n\t\t\t\thtml: '<div></div>',\n\t\t\t\tmousedown: function() { return FALSE; }\n\t\t\t})\n\t\t\t.hide();\n\n\t\t\t// Make sure we can't focus anything outside the tooltip\n\t\t\t$(document.body).bind('focusin'+MODALSELECTOR, stealFocus);\n\n\t\t\t// Apply keyboard \"Escape key\" close handler\n\t\t\t$(document).bind('keydown'+MODALSELECTOR, function(event) {\n\t\t\t\tif(current && current.options.show.modal.escape && event.keyCode === 27) {\n\t\t\t\t\tcurrent.hide(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Apply click handler for blur option\n\t\t\telem.bind('click'+MODALSELECTOR, function(event) {\n\t\t\t\tif(current && current.options.show.modal.blur) {\n\t\t\t\t\tcurrent.hide(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn self;\n\t\t},\n\n\t\tupdate: function(api) {\n\t\t\t// Update current API reference\n\t\t\tcurrent = api;\n\n\t\t\t// Update focusable elements if enabled\n\t\t\tif(api.options.show.modal.stealfocus !== FALSE) {\n\t\t\t\tfocusableElems = api.tooltip.find('*').filter(function() {\n\t\t\t\t\treturn focusable(this);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse { focusableElems = []; }\n\t\t},\n\n\t\ttoggle: function(api, state, duration) {\n\t\t\tvar tooltip = api.tooltip,\n\t\t\t\toptions = api.options.show.modal,\n\t\t\t\teffect = options.effect,\n\t\t\t\ttype = state ? 'show': 'hide',\n\t\t\t\tvisible = elem.is(':visible'),\n\t\t\t\tvisibleModals = $(MODALSELECTOR).filter(':visible:not(:animated)').not(tooltip);\n\n\t\t\t// Set active tooltip API reference\n\t\t\tself.update(api);\n\n\t\t\t// If the modal can steal the focus...\n\t\t\t// Blur the current item and focus anything in the modal we an\n\t\t\tif(state && options.stealfocus !== FALSE) {\n\t\t\t\tfocusInputs( $(':focus') );\n\t\t\t}\n\n\t\t\t// Toggle backdrop cursor style on show\n\t\t\telem.toggleClass('blurs', options.blur);\n\n\t\t\t// Append to body on show\n\t\t\tif(state) {\n\t\t\t\telem.appendTo(document.body);\n\t\t\t}\n\n\t\t\t// Prevent modal from conflicting with show.solo, and don't hide backdrop is other modals are visible\n\t\t\tif(elem.is(':animated') && visible === state && prevState !== FALSE || !state && visibleModals.length) {\n\t\t\t\treturn self;\n\t\t\t}\n\n\t\t\t// Stop all animations\n\t\t\telem.stop(TRUE, FALSE);\n\n\t\t\t// Use custom function if provided\n\t\t\tif($.isFunction(effect)) {\n\t\t\t\teffect.call(elem, state);\n\t\t\t}\n\n\t\t\t// If no effect type is supplied, use a simple toggle\n\t\t\telse if(effect === FALSE) {\n\t\t\t\telem[ type ]();\n\t\t\t}\n\n\t\t\t// Use basic fade function\n\t\t\telse {\n\t\t\t\telem.fadeTo( parseInt(duration, 10) || 90, state ? 1 : 0, function() {\n\t\t\t\t\tif(!state) { elem.hide(); }\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Reset position and detach from body on hide\n\t\t\tif(!state) {\n\t\t\t\telem.queue(function(next) {\n\t\t\t\t\telem.css({ left: '', top: '' });\n\t\t\t\t\tif(!$(MODALSELECTOR).length) { elem.detach(); }\n\t\t\t\t\tnext();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Cache the state\n\t\t\tprevState = state;\n\n\t\t\t// If the tooltip is destroyed, set reference to null\n\t\t\tif(current.destroyed) { current = NULL; }\n\n\t\t\treturn self;\n\t\t}\n\t});\n\n\tself.init();\n};\nOVERLAY = new OVERLAY();\n\nfunction Modal(api, options) {\n\tthis.options = options;\n\tthis._ns = '-modal';\n\n\tthis.qtip = api;\n\tthis.init(api);\n}\n\n$.extend(Modal.prototype, {\n\tinit: function(qtip) {\n\t\tvar tooltip = qtip.tooltip;\n\n\t\t// If modal is disabled... return\n\t\tif(!this.options.on) { return this; }\n\n\t\t// Set overlay reference\n\t\tqtip.elements.overlay = OVERLAY.elem;\n\n\t\t// Add unique attribute so we can grab modal tooltips easily via a SELECTOR, and set z-index\n\t\ttooltip.addClass(MODALCLASS).css('z-index', QTIP.modal_zindex + $(MODALSELECTOR).length);\n\n\t\t// Apply our show/hide/focus modal events\n\t\tqtip._bind(tooltip, ['tooltipshow', 'tooltiphide'], function(event, api, duration) {\n\t\t\tvar oEvent = event.originalEvent;\n\n\t\t\t// Make sure mouseout doesn't trigger a hide when showing the modal and mousing onto backdrop\n\t\t\tif(event.target === tooltip[0]) {\n\t\t\t\tif(oEvent && event.type === 'tooltiphide' && /mouse(leave|enter)/.test(oEvent.type) && $(oEvent.relatedTarget).closest(OVERLAY.elem[0]).length) {\n\t\t\t\t\t/* eslint-disable no-empty */\n\t\t\t\t\ttry { event.preventDefault(); }\n\t\t\t\t\tcatch(e) {}\n\t\t\t\t\t/* eslint-enable no-empty */\n\t\t\t\t}\n\t\t\t\telse if(!oEvent || oEvent && oEvent.type !== 'tooltipsolo') {\n\t\t\t\t\tthis.toggle(event, event.type === 'tooltipshow', duration);\n\t\t\t\t}\n\t\t\t}\n\t\t}, this._ns, this);\n\n\t\t// Adjust modal z-index on tooltip focus\n\t\tqtip._bind(tooltip, 'tooltipfocus', function(event, api) {\n\t\t\t// If focus was cancelled before it reached us, don't do anything\n\t\t\tif(event.isDefaultPrevented() || event.target !== tooltip[0]) { return; }\n\n\t\t\tvar qtips = $(MODALSELECTOR),\n\n\t\t\t// Keep the modal's lower than other, regular qtips\n\t\t\tnewIndex = QTIP.modal_zindex + qtips.length,\n\t\t\tcurIndex = parseInt(tooltip[0].style.zIndex, 10);\n\n\t\t\t// Set overlay z-index\n\t\t\tOVERLAY.elem[0].style.zIndex = newIndex - 1;\n\n\t\t\t// Reduce modal z-index's and keep them properly ordered\n\t\t\tqtips.each(function() {\n\t\t\t\tif(this.style.zIndex > curIndex) {\n\t\t\t\t\tthis.style.zIndex -= 1;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Fire blur event for focused tooltip\n\t\t\tqtips.filter('.' + CLASS_FOCUS).qtip('blur', event.originalEvent);\n\n\t\t\t// Set the new z-index\n\t\t\ttooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex;\n\n\t\t\t// Set current\n\t\t\tOVERLAY.update(api);\n\n\t\t\t// Prevent default handling\n\t\t\t/* eslint-disable no-empty */\n\t\t\ttry { event.preventDefault(); }\n\t\t\tcatch(e) {}\n\t\t\t/* eslint-enable no-empty */\n\t\t}, this._ns, this);\n\n\t\t// Focus any other visible modals when this one hides\n\t\tqtip._bind(tooltip, 'tooltiphide', function(event) {\n\t\t\tif(event.target === tooltip[0]) {\n\t\t\t\t$(MODALSELECTOR).filter(':visible').not(tooltip).last().qtip('focus', event);\n\t\t\t}\n\t\t}, this._ns, this);\n\t},\n\n\ttoggle: function(event, state, duration) {\n\t\t// Make sure default event hasn't been prevented\n\t\tif(event && event.isDefaultPrevented()) { return this; }\n\n\t\t// Toggle it\n\t\tOVERLAY.toggle(this.qtip, !!state, duration);\n\t},\n\n\tdestroy: function() {\n\t\t// Remove modal class\n\t\tthis.qtip.tooltip.removeClass(MODALCLASS);\n\n\t\t// Remove bound events\n\t\tthis.qtip._unbind(this.qtip.tooltip, this._ns);\n\n\t\t// Delete element reference\n\t\tOVERLAY.toggle(this.qtip, FALSE);\n\t\tdelete this.qtip.elements.overlay;\n\t}\n});\n\n\nMODAL = PLUGINS.modal = function(api) {\n\treturn new Modal(api, api.options.show.modal);\n};\n\n// Setup sanitiztion rules\nMODAL.sanitize = function(opts) {\n\tif(opts.show) {\n\t\tif(typeof opts.show.modal !== 'object') { opts.show.modal = { on: !!opts.show.modal }; }\n\t\telse if(typeof opts.show.modal.on === 'undefined') { opts.show.modal.on = TRUE; }\n\t}\n};\n\n// Base z-index for all modal tooltips (use qTip core z-index as a base)\n/* eslint-disable camelcase */\nQTIP.modal_zindex = QTIP.zindex - 200;\n/* eslint-enable camelcase */\n\n// Plugin needs to be initialized on render\nMODAL.initialize = 'render';\n\n// Setup option set checks\nCHECKS.modal = {\n\t'^show.modal.(on|blur)$': function() {\n\t\t// Initialise\n\t\tthis.destroy();\n\t\tthis.init();\n\n\t\t// Show the modal if not visible already and tooltip is visible\n\t\tthis.qtip.elems.overlay.toggle(\n\t\t\tthis.qtip.tooltip[0].offsetWidth > 0\n\t\t);\n\t}\n};\n\n// Extend original api defaults\n$.extend(TRUE, QTIP.defaults, {\n\tshow: {\n\t\tmodal: {\n\t\t\ton: FALSE,\n\t\t\teffect: TRUE,\n\t\t\tblur: TRUE,\n\t\t\tstealfocus: TRUE,\n\t\t\tescape: TRUE\n\t\t}\n\t}\n});\n;PLUGINS.viewport = function(api, position, posOptions, targetWidth, targetHeight, elemWidth, elemHeight)\n{\n\tvar target = posOptions.target,\n\t\ttooltip = api.elements.tooltip,\n\t\tmy = posOptions.my,\n\t\tat = posOptions.at,\n\t\tadjust = posOptions.adjust,\n\t\tmethod = adjust.method.split(' '),\n\t\tmethodX = method[0],\n\t\tmethodY = method[1] || method[0],\n\t\tviewport = posOptions.viewport,\n\t\tcontainer = posOptions.container,\n\t\tadjusted = { left: 0, top: 0 },\n\t\tfixed, newMy, containerOffset, containerStatic,\n\t\tviewportWidth, viewportHeight, viewportScroll, viewportOffset;\n\n\t// If viewport is not a jQuery element, or it's the window/document, or no adjustment method is used... return\n\tif(!viewport.jquery || target[0] === window || target[0] === document.body || adjust.method === 'none') {\n\t\treturn adjusted;\n\t}\n\n\t// Cach container details\n\tcontainerOffset = container.offset() || adjusted;\n\tcontainerStatic = container.css('position') === 'static';\n\n\t// Cache our viewport details\n\tfixed = tooltip.css('position') === 'fixed';\n\tviewportWidth = viewport[0] === window ? viewport.width() : viewport.outerWidth(FALSE);\n\tviewportHeight = viewport[0] === window ? viewport.height() : viewport.outerHeight(FALSE);\n\tviewportScroll = { left: fixed ? 0 : viewport.scrollLeft(), top: fixed ? 0 : viewport.scrollTop() };\n\tviewportOffset = viewport.offset() || adjusted;\n\n\t// Generic calculation method\n\tfunction calculate(side, otherSide, type, adjustment, side1, side2, lengthName, targetLength, elemLength) {\n\t\tvar initialPos = position[side1],\n\t\t\tmySide = my[side],\n\t\t\tatSide = at[side],\n\t\t\tisShift = type === SHIFT,\n\t\t\tmyLength = mySide === side1 ? elemLength : mySide === side2 ? -elemLength : -elemLength / 2,\n\t\t\tatLength = atSide === side1 ? targetLength : atSide === side2 ? -targetLength : -targetLength / 2,\n\t\t\tsideOffset = viewportScroll[side1] + viewportOffset[side1] - (containerStatic ? 0 : containerOffset[side1]),\n\t\t\toverflow1 = sideOffset - initialPos,\n\t\t\toverflow2 = initialPos + elemLength - (lengthName === WIDTH ? viewportWidth : viewportHeight) - sideOffset,\n\t\t\toffset = myLength - (my.precedance === side || mySide === my[otherSide] ? atLength : 0) - (atSide === CENTER ? targetLength / 2 : 0);\n\n\t\t// shift\n\t\tif(isShift) {\n\t\t\toffset = (mySide === side1 ? 1 : -1) * myLength;\n\n\t\t\t// Adjust position but keep it within viewport dimensions\n\t\t\tposition[side1] += overflow1 > 0 ? overflow1 : overflow2 > 0 ? -overflow2 : 0;\n\t\t\tposition[side1] = Math.max(\n\t\t\t\t-containerOffset[side1] + viewportOffset[side1],\n\t\t\t\tinitialPos - offset,\n\t\t\t\tMath.min(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\t-containerOffset[side1] + viewportOffset[side1] + (lengthName === WIDTH ? viewportWidth : viewportHeight),\n\t\t\t\t\t\tinitialPos + offset\n\t\t\t\t\t),\n\t\t\t\t\tposition[side1],\n\n\t\t\t\t\t// Make sure we don't adjust complete off the element when using 'center'\n\t\t\t\t\tmySide === 'center' ? initialPos - myLength : 1E9\n\t\t\t\t)\n\t\t\t);\n\n\t\t}\n\n\t\t// flip/flipinvert\n\t\telse {\n\t\t\t// Update adjustment amount depending on if using flipinvert or flip\n\t\t\tadjustment *= type === FLIPINVERT ? 2 : 0;\n\n\t\t\t// Check for overflow on the left/top\n\t\t\tif(overflow1 > 0 && (mySide !== side1 || overflow2 > 0)) {\n\t\t\t\tposition[side1] -= offset + adjustment;\n\t\t\t\tnewMy.invert(side, side1);\n\t\t\t}\n\n\t\t\t// Check for overflow on the bottom/right\n\t\t\telse if(overflow2 > 0 && (mySide !== side2 || overflow1 > 0)  ) {\n\t\t\t\tposition[side1] -= (mySide === CENTER ? -offset : offset) + adjustment;\n\t\t\t\tnewMy.invert(side, side2);\n\t\t\t}\n\n\t\t\t// Make sure we haven't made things worse with the adjustment and reset if so\n\t\t\tif(position[side1] < viewportScroll[side1] && -position[side1] > overflow2) {\n\t\t\t\tposition[side1] = initialPos; newMy = my.clone();\n\t\t\t}\n\t\t}\n\n\t\treturn position[side1] - initialPos;\n\t}\n\n\t// Set newMy if using flip or flipinvert methods\n\tif(methodX !== 'shift' || methodY !== 'shift') { newMy = my.clone(); }\n\n\t// Adjust position based onviewport and adjustment options\n\tadjusted = {\n\t\tleft: methodX !== 'none' ? calculate( X, Y, methodX, adjust.x, LEFT, RIGHT, WIDTH, targetWidth, elemWidth ) : 0,\n\t\ttop: methodY !== 'none' ? calculate( Y, X, methodY, adjust.y, TOP, BOTTOM, HEIGHT, targetHeight, elemHeight ) : 0,\n\t\tmy: newMy\n\t};\n\n\treturn adjusted;\n};\n;PLUGINS.polys = {\n\t// POLY area coordinate calculator\n\t//\tSpecial thanks to Ed Cradock for helping out with this.\n\t//\tUses a binary search algorithm to find suitable coordinates.\n\tpolygon: function(baseCoords, corner) {\n\t\tvar result = {\n\t\t\twidth: 0, height: 0,\n\t\t\tposition: {\n\t\t\t\ttop: 1e10, right: 0,\n\t\t\t\tbottom: 0, left: 1e10\n\t\t\t},\n\t\t\tadjustable: FALSE\n\t\t},\n\t\ti = 0, next,\n\t\tcoords = [],\n\t\tcompareX = 1, compareY = 1,\n\t\trealX = 0, realY = 0,\n\t\tnewWidth, newHeight;\n\n\t\t// First pass, sanitize coords and determine outer edges\n\t\ti = baseCoords.length; \n\t\twhile(i--) {\n\t\t\tnext = [ parseInt(baseCoords[--i], 10), parseInt(baseCoords[i+1], 10) ];\n\n\t\t\tif(next[0] > result.position.right){ result.position.right = next[0]; }\n\t\t\tif(next[0] < result.position.left){ result.position.left = next[0]; }\n\t\t\tif(next[1] > result.position.bottom){ result.position.bottom = next[1]; }\n\t\t\tif(next[1] < result.position.top){ result.position.top = next[1]; }\n\n\t\t\tcoords.push(next);\n\t\t}\n\n\t\t// Calculate height and width from outer edges\n\t\tnewWidth = result.width = Math.abs(result.position.right - result.position.left);\n\t\tnewHeight = result.height = Math.abs(result.position.bottom - result.position.top);\n\n\t\t// If it's the center corner...\n\t\tif(corner.abbrev() === 'c') {\n\t\t\tresult.position = {\n\t\t\t\tleft: result.position.left + result.width / 2,\n\t\t\t\ttop: result.position.top + result.height / 2\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\t// Second pass, use a binary search algorithm to locate most suitable coordinate\n\t\t\twhile(newWidth > 0 && newHeight > 0 && compareX > 0 && compareY > 0)\n\t\t\t{\n\t\t\t\tnewWidth = Math.floor(newWidth / 2);\n\t\t\t\tnewHeight = Math.floor(newHeight / 2);\n\n\t\t\t\tif(corner.x === LEFT){ compareX = newWidth; }\n\t\t\t\telse if(corner.x === RIGHT){ compareX = result.width - newWidth; }\n\t\t\t\telse{ compareX += Math.floor(newWidth / 2); }\n\n\t\t\t\tif(corner.y === TOP){ compareY = newHeight; }\n\t\t\t\telse if(corner.y === BOTTOM){ compareY = result.height - newHeight; }\n\t\t\t\telse{ compareY += Math.floor(newHeight / 2); }\n\n\t\t\t\ti = coords.length;\n\t\t\t\twhile(i--)\n\t\t\t\t{\n\t\t\t\t\tif(coords.length < 2){ break; }\n\n\t\t\t\t\trealX = coords[i][0] - result.position.left;\n\t\t\t\t\trealY = coords[i][1] - result.position.top;\n\n\t\t\t\t\tif(\n\t\t\t\t\t\tcorner.x === LEFT && realX >= compareX ||\n\t\t\t\t\t\tcorner.x === RIGHT && realX <= compareX ||\n\t\t\t\t\t\tcorner.x === CENTER && (realX < compareX || realX > result.width - compareX) ||\n\t\t\t\t\t\tcorner.y === TOP && realY >= compareY ||\n\t\t\t\t\t\tcorner.y === BOTTOM && realY <= compareY ||\n\t\t\t\t\t\tcorner.y === CENTER && (realY < compareY || realY > result.height - compareY)) {\n\t\t\t\t\t\tcoords.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tresult.position = { left: coords[0][0], top: coords[0][1] };\n\t\t}\n\n\t\treturn result;\n\t},\n\n\trect: function(ax, ay, bx, by) {\n\t\treturn {\n\t\t\twidth: Math.abs(bx - ax),\n\t\t\theight: Math.abs(by - ay),\n\t\t\tposition: {\n\t\t\t\tleft: Math.min(ax, bx),\n\t\t\t\ttop: Math.min(ay, by)\n\t\t\t}\n\t\t};\n\t},\n\n\t_angles: {\n\t\ttc: 3 / 2, tr: 7 / 4, tl: 5 / 4,\n\t\tbc: 1 / 2, br: 1 / 4, bl: 3 / 4,\n\t\trc: 2, lc: 1, c: 0\n\t},\n\tellipse: function(cx, cy, rx, ry, corner) {\n\t\tvar c = PLUGINS.polys._angles[ corner.abbrev() ],\n\t\t\trxc = c === 0 ? 0 : rx * Math.cos( c * Math.PI ),\n\t\t\trys = ry * Math.sin( c * Math.PI );\n\n\t\treturn {\n\t\t\twidth: rx * 2 - Math.abs(rxc),\n\t\t\theight: ry * 2 - Math.abs(rys),\n\t\t\tposition: {\n\t\t\t\tleft: cx + rxc,\n\t\t\t\ttop: cy + rys\n\t\t\t},\n\t\t\tadjustable: FALSE\n\t\t};\n\t},\n\tcircle: function(cx, cy, r, corner) {\n\t\treturn PLUGINS.polys.ellipse(cx, cy, r, r, corner);\n\t}\n};\n;PLUGINS.svg = function(api, svg, corner)\n{\n\tvar elem = svg[0],\n\t\troot = $(elem.ownerSVGElement),\n\t\townerDocument = elem.ownerDocument,\n\t\tstrokeWidth2 = (parseInt(svg.css('stroke-width'), 10) || 0) / 2,\n\t\tframeOffset, mtx, transformed,\n\t\tlen, next, i, points,\n\t\tresult, position;\n\n\t// Ascend the parentNode chain until we find an element with getBBox()\n\twhile(!elem.getBBox) { elem = elem.parentNode; }\n\tif(!elem.getBBox || !elem.parentNode) { return FALSE; }\n\n\t// Determine which shape calculation to use\n\tswitch(elem.nodeName) {\n\t\tcase 'ellipse':\n\t\tcase 'circle':\n\t\t\tresult = PLUGINS.polys.ellipse(\n\t\t\t\telem.cx.baseVal.value,\n\t\t\t\telem.cy.baseVal.value,\n\t\t\t\t(elem.rx || elem.r).baseVal.value + strokeWidth2,\n\t\t\t\t(elem.ry || elem.r).baseVal.value + strokeWidth2,\n\t\t\t\tcorner\n\t\t\t);\n\t\tbreak;\n\n\t\tcase 'line':\n\t\tcase 'polygon':\n\t\tcase 'polyline':\n\t\t\t// Determine points object (line has none, so mimic using array)\n\t\t\tpoints = elem.points || [\n\t\t\t\t{ x: elem.x1.baseVal.value, y: elem.y1.baseVal.value },\n\t\t\t\t{ x: elem.x2.baseVal.value, y: elem.y2.baseVal.value }\n\t\t\t];\n\n\t\t\tfor(result = [], i = -1, len = points.numberOfItems || points.length; ++i < len;) {\n\t\t\t\tnext = points.getItem ? points.getItem(i) : points[i];\n\t\t\t\tresult.push.apply(result, [next.x, next.y]);\n\t\t\t}\n\n\t\t\tresult = PLUGINS.polys.polygon(result, corner);\n\t\tbreak;\n\n\t\t// Unknown shape or rectangle? Use bounding box\n\t\tdefault:\n\t\t\tresult = elem.getBBox();\n\t\t\tresult = {\n\t\t\t\twidth: result.width,\n\t\t\t\theight: result.height,\n\t\t\t\tposition: {\n\t\t\t\t\tleft: result.x,\n\t\t\t\t\ttop: result.y\n\t\t\t\t}\n\t\t\t};\n\t\tbreak;\n\t}\n\n\t// Shortcut assignments\n\tposition = result.position;\n\troot = root[0];\n\n\t// Convert position into a pixel value\n\tif(root.createSVGPoint) {\n\t\tmtx = elem.getScreenCTM();\n\t\tpoints = root.createSVGPoint();\n\n\t\tpoints.x = position.left;\n\t\tpoints.y = position.top;\n\t\ttransformed = points.matrixTransform( mtx );\n\t\tposition.left = transformed.x;\n\t\tposition.top = transformed.y;\n\t}\n\n\t// Check the element is not in a child document, and if so, adjust for frame elements offset\n\tif(ownerDocument !== document && api.position.target !== 'mouse') {\n\t\tframeOffset = $((ownerDocument.defaultView || ownerDocument.parentWindow).frameElement).offset();\n\t\tif(frameOffset) {\n\t\t\tposition.left += frameOffset.left;\n\t\t\tposition.top += frameOffset.top;\n\t\t}\n\t}\n\n\t// Adjust by scroll offset of owner document\n\townerDocument = $(ownerDocument);\n\tposition.left += ownerDocument.scrollLeft();\n\tposition.top += ownerDocument.scrollTop();\n\n\treturn result;\n};\n;PLUGINS.imagemap = function(api, area, corner)\n{\n\tif(!area.jquery) { area = $(area); }\n\n\tvar shape = (area.attr('shape') || 'rect').toLowerCase().replace('poly', 'polygon'),\n\t\timage = $('img[usemap=\"#'+area.parent('map').attr('name')+'\"]'),\n\t\tcoordsString = $.trim(area.attr('coords')),\n\t\tcoordsArray = coordsString.replace(/,$/, '').split(','),\n\t\timageOffset, coords, i, result, len;\n\n\t// If we can't find the image using the map...\n\tif(!image.length) { return FALSE; }\n\n\t// Pass coordinates string if polygon\n\tif(shape === 'polygon') {\n\t\tresult = PLUGINS.polys.polygon(coordsArray, corner);\n\t}\n\n\t// Otherwise parse the coordinates and pass them as arguments\n\telse if(PLUGINS.polys[shape]) {\n\t\tfor(i = -1, len = coordsArray.length, coords = []; ++i < len;) {\n\t\t\tcoords.push( parseInt(coordsArray[i], 10) );\n\t\t}\n\n\t\tresult = PLUGINS.polys[shape].apply(\n\t\t\tthis, coords.concat(corner)\n\t\t);\n\t}\n\n\t// If no shapre calculation method was found, return false\n\telse { return FALSE; }\n\n\t// Make sure we account for padding and borders on the image\n\timageOffset = image.offset();\n\timageOffset.left += Math.ceil((image.outerWidth(FALSE) - image.width()) / 2);\n\timageOffset.top += Math.ceil((image.outerHeight(FALSE) - image.height()) / 2);\n\n\t// Add image position to offset coordinates\n\tresult.position.left += imageOffset.left;\n\tresult.position.top += imageOffset.top;\n\n\treturn result;\n};\n;var IE6,\n\n/*\n * BGIFrame adaption (http://plugins.jquery.com/project/bgiframe)\n * Special thanks to Brandon Aaron\n */\nBGIFRAME = '<iframe class=\"qtip-bgiframe\" frameborder=\"0\" tabindex=\"-1\" src=\"javascript:\\'\\';\" ' +\n\t' style=\"display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); ' +\n\t\t'-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";\"></iframe>';\n\nfunction Ie6(api) {\n\tthis._ns = 'ie6';\n\n\tthis.qtip = api;\n\tthis.init(api);\n}\n\n$.extend(Ie6.prototype, {\n\t_scroll : function() {\n\t\tvar overlay = this.qtip.elements.overlay;\n\t\toverlay && (overlay[0].style.top = $(window).scrollTop() + 'px');\n\t},\n\n\tinit: function(qtip) {\n\t\tvar tooltip = qtip.tooltip;\n\n\t\t// Create the BGIFrame element if needed\n\t\tif($('select, object').length < 1) {\n\t\t\tthis.bgiframe = qtip.elements.bgiframe = $(BGIFRAME).appendTo(tooltip);\n\n\t\t\t// Update BGIFrame on tooltip move\n\t\t\tqtip._bind(tooltip, 'tooltipmove', this.adjustBGIFrame, this._ns, this);\n\t\t}\n\n\t\t// redraw() container for width/height calculations\n\t\tthis.redrawContainer = $('<div/>', { id: NAMESPACE+'-rcontainer' })\n\t\t\t.appendTo(document.body);\n\n\t\t// Fixup modal plugin if present too\n\t\tif( qtip.elements.overlay && qtip.elements.overlay.addClass('qtipmodal-ie6fix') ) {\n\t\t\tqtip._bind(window, ['scroll', 'resize'], this._scroll, this._ns, this);\n\t\t\tqtip._bind(tooltip, ['tooltipshow'], this._scroll, this._ns, this);\n\t\t}\n\n\t\t// Set dimensions\n\t\tthis.redraw();\n\t},\n\n\tadjustBGIFrame: function() {\n\t\tvar tooltip = this.qtip.tooltip,\n\t\t\tdimensions = {\n\t\t\t\theight: tooltip.outerHeight(FALSE),\n\t\t\t\twidth: tooltip.outerWidth(FALSE)\n\t\t\t},\n\t\t\tplugin = this.qtip.plugins.tip,\n\t\t\ttip = this.qtip.elements.tip,\n\t\t\ttipAdjust, offset;\n\n\t\t// Adjust border offset\n\t\toffset = parseInt(tooltip.css('borderLeftWidth'), 10) || 0;\n\t\toffset = { left: -offset, top: -offset };\n\n\t\t// Adjust for tips plugin\n\t\tif(plugin && tip) {\n\t\t\ttipAdjust = plugin.corner.precedance === 'x' ? [WIDTH, LEFT] : [HEIGHT, TOP];\n\t\t\toffset[ tipAdjust[1] ] -= tip[ tipAdjust[0] ]();\n\t\t}\n\n\t\t// Update bgiframe\n\t\tthis.bgiframe.css(offset).css(dimensions);\n\t},\n\n\t// Max/min width simulator function\n\tredraw: function() {\n\t\tif(this.qtip.rendered < 1 || this.drawing) { return this; }\n\n\t\tvar tooltip = this.qtip.tooltip,\n\t\t\tstyle = this.qtip.options.style,\n\t\t\tcontainer = this.qtip.options.position.container,\n\t\t\tperc, width, max, min;\n\n\t\t// Set drawing flag\n\t\tthis.qtip.drawing = 1;\n\n\t\t// If tooltip has a set height/width, just set it... like a boss!\n\t\tif(style.height) { tooltip.css(HEIGHT, style.height); }\n\t\tif(style.width) { tooltip.css(WIDTH, style.width); }\n\n\t\t// Simulate max/min width if not set width present...\n\t\telse {\n\t\t\t// Reset width and add fluid class\n\t\t\ttooltip.css(WIDTH, '').appendTo(this.redrawContainer);\n\n\t\t\t// Grab our tooltip width (add 1 if odd so we don't get wrapping problems.. huzzah!)\n\t\t\twidth = tooltip.width();\n\t\t\tif(width % 2 < 1) { width += 1; }\n\n\t\t\t// Grab our max/min properties\n\t\t\tmax = tooltip.css('maxWidth') || '';\n\t\t\tmin = tooltip.css('minWidth') || '';\n\n\t\t\t// Parse into proper pixel values\n\t\t\tperc = (max + min).indexOf('%') > -1 ? container.width() / 100 : 0;\n\t\t\tmax = (max.indexOf('%') > -1 ? perc : 1 * parseInt(max, 10)) || width;\n\t\t\tmin = (min.indexOf('%') > -1 ? perc : 1 * parseInt(min, 10)) || 0;\n\n\t\t\t// Determine new dimension size based on max/min/current values\n\t\t\twidth = max + min ? Math.min(Math.max(width, min), max) : width;\n\n\t\t\t// Set the newly calculated width and remvoe fluid class\n\t\t\ttooltip.css(WIDTH, Math.round(width)).appendTo(container);\n\t\t}\n\n\t\t// Set drawing flag\n\t\tthis.drawing = 0;\n\n\t\treturn this;\n\t},\n\n\tdestroy: function() {\n\t\t// Remove iframe\n\t\tthis.bgiframe && this.bgiframe.remove();\n\n\t\t// Remove bound events\n\t\tthis.qtip._unbind([window, this.qtip.tooltip], this._ns);\n\t}\n});\n\nIE6 = PLUGINS.ie6 = function(api) {\n\t// Proceed only if the browser is IE6\n\treturn BROWSER.ie === 6 ? new Ie6(api) : FALSE;\n};\n\nIE6.initialize = 'render';\n\nCHECKS.ie6 = {\n\t'^content|style$': function() {\n\t\tthis.redraw();\n\t}\n};\n;}));\n}( window, document ));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/exports/cdn/oie.ts\");\n",""],"names":["converters","days","value","hours","minutes","seconds","milliseconds","microseconds","nanoseconds","toMilliseconds","object","Object","entries","reduce","key","TypeError","Error","module","exports","default","roundTowardsZero","Math","floor","ceil","commonjsGlobal","globalThis","window","global","self","getDefaultExportFromCjs","x","__esModule","prototype","hasOwnProperty","call","backbone","base","blockHelperMissing","createNewLookupObject","decorators","each","exception","handlebars_runtime","helperMissing","helpers","_if","inline","js_cookie","log","logger","lookup","noConflict","protoAccess","runtime","safeString","underscoreMin","utils","_with","wrapHelper","_interopRequireDefault","obj","_interopRequireWildcard","newObj","_handlebarsBase","base$1","_handlebarsSafeString","_handlebarsSafeString2","_handlebarsException","_handlebarsException2","_handlebarsUtils","Utils","_handlebarsRuntime","runtime$1","_handlebarsNoConflict","_handlebarsNoConflict2","create","hb","HandlebarsEnvironment","extend","SafeString","Exception","escapeExpression","VM","template","spec","inst","_Handlebars2","_utils","_exception","_exception2","_helpers","_decorators","_logger","_logger2","_internalProtoAccess","VERSION","COMPILER_REVISION","LAST_COMPATIBLE_COMPILER_REVISION","REVISION_CHANGES","objectType","partials","registerDefaultHelpers","registerDefaultDecorators","constructor","registerHelper","name","fn","toString","unregisterHelper","registerPartial","partial","unregisterPartial","registerDecorator","unregisterDecorator","resetLoggedPropertyAccesses","resetLoggedProperties","createFrame","_decoratorsInline","_decoratorsInline2","instance","props","container","options","ret","context","original","args","errorProps","message","node","loc","line","undefined","endLineNumber","column","endColumn","start","end","tmp","idx","length","captureStackTrace","lineNumber","defineProperty","enumerable","nop","moveHelperToHooks","_helpersBlockHelperMissing","_helpersBlockHelperMissing2","_helpersEach","_helpersEach2","_helpersHelperMissing","_helpersHelperMissing2","_helpersIf","_helpersIf2","_helpersLog","_helpersLog2","_helpersLookup","_helpersLookup2","_helpersWith","_helpersWith2","helperName","keepHelper","hooks","inverse","isArray","ids","data","contextPath","appendContextPath","i","isFunction","execIteration","field","index","last","first","blockParams","j","Symbol","iterator","newContext","it","next","done","push","priorKey","keys","forEach","arguments","conditional","hash","includeZero","isEmpty","level","apply","lookupProperty","createNewLookupObject$1","_len","sources","Array","_key","concat","createProtoAccessControl","resultIsAllowed","_createNewLookupObject","logger$1","loggedProperties","runtimeOptions","defaultMethodWhiteList","defaultPropertyWhiteList","properties","whitelist","allowedProtoProperties","defaultValue","allowProtoPropertiesByDefault","methods","allowedProtoMethods","allowProtoMethodsByDefault","result","protoAccessControl","propertyName","checkWhiteList","protoAccessControlForType","logUnexpecedPropertyAccessOnce","wrapHelper$1","helper","transformOptionsFn","wrapper","methodMap","lookupLevel","levelMap","indexOf","toLowerCase","parseInt","console","method","Handlebars","root","$Handlebars","checkRevision","wrapProgram","resolvePartial","invokePartial","noop","_base","_internalWrapHelper","compilerInfo","compilerRevision","currentRevision","runtimeVersions","compilerVersions","templateSpec","env","main","decorator","main_d","compiler","templateWasPrecompiledWithCompilerV7","invokePartialWrapper","extendedOptions","compile","compilerOptions","indent","lines","split","l","join","strict","parent","depths","len","lambda","current","programs","program","declaredBlockParams","programWrapper","depth","_parent","mergeIfNeeded","param","common","nullContext","seal","_setup","useData","initData","useBlockParams","useDepths","executeDecorators","isTop","mergedHelpers","wrapHelpersToPassLookupProperty","usePartial","useDecorators","keepHelperInHelpers","allowCallsToHelperMissing","_child","prog","currentDepths","currentPartialBlock","partialBlock","partialBlockWrapper","Function","passLookupPropertyOption","string","toHTML","escape","badChars","possible","escapeChar","chr","array","test","replace","frame","params","path","id","n","r","t","e","u","o","slice","a","f","c","ArrayBuffer","DataView","s","p","v","h","isView","y","isNaN","d","isFinite","g","propertyIsEnumerable","b","m","pow","max","_","w","A","S","O","M","E","B","N","I","T","k","document","childNodes","Int8Array","D","R","F","V","Map","P","q","getInt8","buffer","U","W","z","L","$","C","K","J","G","H","Q","X","Y","Z","contains","nn","rn","tn","_wrapped","en","Uint8Array","byteOffset","valueOf","toJSON","String","un","on","pop","an","hn","cn","ln","sn","pn","vn","yn","dn","gn","bn","mn","jn","_n","wn","sort","An","xn","Sn","On","Mn","En","Bn","Nn","toPath","In","Tn","kn","Dn","Rn","Fn","Vn","Pn","qn","iteratee","Un","Wn","random","zn","Date","now","getTime","Ln","RegExp","$n","Cn","Kn","Jn","templateSettings","evaluate","interpolate","Gn","Hn","Qn","Xn","Yn","Zn","nr","rr","placeholder","tr","er","ur","or","ir","setTimeout","ar","fr","cr","lr","sr","pr","vr","hr","yr","dr","min","gr","br","mr","jr","_r","wr","Ar","xr","Sr","Or","Mr","Er","Br","Nr","Ir","Tr","kr","Dr","Rr","Fr","Vr","Pr","qr","Ur","Wr","zr","Lr","$r","Cr","Kr","Jr","Gr","Hr","Qr","Xr","_chain","chain","Yr","Zr","__proto__","restArguments","isObject","isNull","isUndefined","isBoolean","isElement","nodeType","isString","isNumber","isDate","isRegExp","isError","isSymbol","isArrayBuffer","isDataView","isArguments","parseFloat","isTypedArray","isMatch","isEqual","isMap","isWeakMap","isSet","isWeakSet","allKeys","values","pairs","invert","functions","extendOwn","assign","defaults","clone","tap","get","has","mapObject","identity","constant","property","propertyOf","matcher","matches","times","unescape","source","variable","uniqueId","bind","bindAll","memoize","cache","delay","defer","throttle","leading","clearTimeout","trailing","cancel","debounce","wrap","negate","compose","after","before","once","findKey","findIndex","findLastIndex","sortedIndex","lastIndexOf","find","detect","findWhere","map","collect","foldl","inject","reduceRight","foldr","filter","select","reject","every","all","some","any","includes","include","invoke","pluck","where","shuffle","sample","sortBy","criteria","groupBy","indexBy","countBy","partition","toArray","match","size","pick","omit","head","take","initial","rest","tail","drop","compact","Boolean","flatten","without","uniq","unique","union","intersection","difference","unzip","transpose","zip","range","chunk","mixin","Controller","BaseController","render","BaseView","Select","remove","BaseInput","FrameworkView","compileTemplate","str","compiledTmpl","fakeTemplate","events","Keys","isEsc","model","trigger","TextBoxForSigninWidget","TextBox","PasswordBoxForSigninWidget","PasswordBox","Form","BaseForm","scrollOnError","settings","StringUtil","localize","createButton","ButtonFactory","createCallout","Callout","registerInput","InputRegistry","register","Collection","BaseCollection","View","Router","BaseRouter","internal","util","Util","Cookie","Clipboard","Logger","Class","views","components","BaseDropDown","Notification","forms","FormUtil","SchemaFormFactory","Toolbar","inputs","CheckBox","Radio","InputGroup","models","BaseSchema","SchemaProperty","STATE","FETCH_DATA","PAGINATION_DATA","DEFAULT_PARAMS","LINK_BY_HEADER","XHR","unquote","charAt","substring","parseLinkHeader","header","linkexp","paramexp","rels","href","link","rel","paramsplit","setLinkHeadersPagination","collection","xhr","links","getResponseHeader","set","setPagination","parseQuery","url","rawQueryStr","queryString","decodeURIComponent","parts","shift","collectionProps","preinitialize","state","Backbone","Model","defaultParams","oktaUnderscore","isCourageModel","sync","success","resp","status","fetch","fromFetch","abort","getFetchData","getPaginationData","hasMore","fetchMore","add","update","reset","attrs","_reset","_byId","isCourageCollection","ListView","listenTo","addItem","fetchCollection","item","itemSelector","removeChildren","view","addShowMore","isModelPropertySchema","type","deps","statics","ERROR_BLANK","ERROR_WRONG_TYPE","ERROR_NOT_ALLOWED","ERROR_INVALID","ERROR_IARRAY_UNIQUE","ERROR_INVALID_FORMAT_EMAIL","ERROR_INVALID_FORMAT_URI","ERROR_INVALID_FORMAT_IPV4","ERROR_INVALID_FORMAT_HOSTNAME","ERROR_STRING_STRING_MIN_LENGTH","ERROR_STRING_STRING_MAX_LENGTH","objectTypeFields","target","val","unflatten","part","ref","createMessage","msg","normalizeSchemaDef","required","capitalize","letter","toUpperCase","_validateRegex","pattern","error","StringFormatValidators","email","uri","ipv4","hostname","validateStringFormat","validator","format","validateString","createMessageWith","invalidFormat","minLength","maxLength","validateField","isDefined","checkType","errorMessage","validate","output","foundError","flags","passed","validateArrayField","arr","minItems","maxItems","uniqueItems","items","arrayField","derived","local","flat","schema","computedProperties","schemaDef","localDefaults","res","_validateSchema","parse","__getDerivedValue","__syncedData","allows","warn","getPropertySchema","propName","errorFields","attr","verbose","clear","isSynced","memo","FrameworkModel","CHILDREN","RENDERED","PARENT","CHILD_DEFINITIONS","ADD_TO_CONTAINER","getIndex","cid","doRender","html","renderTemplate","$el","empty","subscribeEvents","isEventPropertyRe","matchKeys","bindings","entity","callback","event","callbacks","cb","proto","children","__original_initialize__","initialize","childDefinition","autoRender","unregister","stopListening","viewIndex","splice","selector","bubble","prepend","extraOptions","unescapingRexExp","elementUnescapedOuterHTMLLength","prop","templateUnescapedLength","el","viewOptions","delegateEvents","append","rendered","getTemplateData","modelData","preRender","postRender","getChildren","at","methodName","child","unshift","isCourageView","baseCollectionProps","secureJSON","dataType","hasProps","_builtInLocalProps","_setSynced","__attributes","sanitizeAttributes","attributes","unset","newModel","_syncedData","_getSynced","ComputedProperty","BaseModel","parseProperties","schemaMeta","__metadata","BaseSchemaSchema","displayName","getProperties","trimProperty","json","save","cleanup","BaseSchemaSchemas","__edit__","__pending__","STRING","SchemaUtils","NUMBER","INTEGER","OBJECT","getArrayTypeName","elementType","SchemaPropertySubSchema","description","exec","SchemaPropertySubSchemaCollection","SchemaPropertySubSchemaAllOfCollection","_type","SchemaPropertySubSchemaOneOfCollection","SchemaPropertySubSchemaNoneOfCollection","constraintTypeErrorMessages","number","integer","loginFormatNonePattern","escapedLoginCharsRe","constraintHandlers","between","greaterThan","lessThan","equals","SchemaPropertySchemaProperty","idAttribute","__oneOf__","title","subSchemas","permissions","SELF","PERMISSION","READ_ONLY","__metadata__","__isSensitive__","sensitive","__isPendingSensitive__","__unique__","__isUniqueValidated__","UNIQUENESS","UNIQUE_VALIDATED","__isPendingUniqueness__","PENDING_UNIQUENESS","__isUniqueness__","isValidated","isPending","__canBeSensitive__","metadata","sensitivizable","__userPermission__","__displayType__","__displayTypeLabel__","displayType","DATATYPE","__supportsMinMax__","__isReadOnly__","mutability","MUTABILITY","READONLY","__isWriteOnly__","WRITEONLY","__displayScope__","__isScopeSelf__","scope","SCOPE","__isNoneScopeArrayType__","isScopeSelf","isArrayDataType","__isImported__","externalName","__isFromBaseSchema__","__enumDefined__","__supportEnum__","SUPPORTENUM","__isNumberTypeEnum__","ARRAYDISPLAYTYPE","arrayofnumber","__isIntegerTypeEnum__","arrayofinteger","__isObjectTypeEnum__","arrayofobject","__isStringTypeEnum__","arrayofstring","__enumConstraintType__","isStringType","isNumberType","isIntegerType","isObjectType","__isEnumDefinedAndSupported__","enumDefined","supportEnum","__isLoginOfBaseSchema__","isFromBaseSchema","__isLoginFormatRestrictionToEmail__","loginFormatRestriction","LOGINPATTERNFORMAT","EMAIL","_updateTypeFormatConstraints","_updateDisplayType","_updateMinMax","_convertEqualsToMinMax","_setConstraintText","_setLoginPattern","extendedType","getDisplayType","_setRangeConstraints","SUPPORTSMINMAX","DISPLAYSCOPE","NA","_setMasterOverride","_setSubSchemas","_setUniqueness","enumValidationError","_validateEnumOneOf","constraitType","constraitHandler","_checkBetweenConstraints","minVal","maxVal","__minVal__","__maxVal__","_checkIntegerConstraints","_checkGreaterThanConstraint","_checkLessThanConstraint","_checkEqualsConstraint","masterOverride","masterOverrideValue","minimum","maximum","allOf","oneOf","noneOf","NONE","CUSTOM","_extractLoginPattern","FORMATDISPLAYTYPE","arraytype","enumOneOf","_isValidateOneOfConstraint","constraintType","errorTypeMsg","EnumTypeHelper","isConstraintValueMatchType","const","_enumAssignment","_attributeOverrideToJson","_normalizeUnionValue","_patternAssignment","_uniquenessAssignment","masterOverrideType","overrideProfile","_getEnumOneOfWithTitleCheck","enum","_buildLoginPattern","_escapedRegexChar","char","re","oktaJQueryStatic","trim","JSON","stringify","silent","DISPLAYTYPES","constraint","SYSTEM","isEnumType","getEnumValues","detectHasEnumDefined","enumValues","convertToOneOf","SchemaPropertySchemaProperties","areAllReadOnly","createModelProperties","schemaProperty","clean","hasStateBeenInitialized","StateMachine","stateData","SettingsModel","listen","_notify","_confirm","MainView","getRoute","router","route","Dialog","ConfirmationDialog","dialog","notification","unload","controller","History","started","history","navigate","fragment","normalizeEvents","click","eventName","preventDefault","stopPropagation","disabled","BaseButtonLink","Events","clipboard","OPTIONS","ClipboardClipboardWrapper","text","__instance","__setCallback","Clipboard$1","attach","SECURED_COOKIE","location","setCookie","Cookie$1","secure","getCookie","removeCookie","UP","DOWN","DEL","TAB","RETURN","ENTER","ESC","COMMA","PAGEUP","PAGEDOWN","SPACE","BACKSPACE","__isKey","which","keyCode","isEnter","isSpaceBar","okta","debug","trace","dir","time","timeEnd","group","groupEnd","assert","info","BOOLEAN","locale","timezone","date","boolean","reference","image","password","READWRITE","IMMUTABLE","UNION","DISABLE","ENABLE","UNION_OPTIONS","HIDE","WRITE_ONLY","READ_WRITE","ENDUSER_ATTRIBUTE_PERMISSION_OPTIONS","ATTRIBUTE_LEVEL_MASTERING_OPTIONS","INHERIT","OKTA_MASTERED","OVERRIDE","USERNAMETYPE","OKTA_TO_APP","OKTA_TO_AD","APP_TO_OKTA","IDP_TO_OKTA","NOT_UNIQUE","itemType","getSourceUsernameType","mappingDirection","targetName","appName","sourceUsernameType","isObjectDataType","theme","orgId","orgName","serverStatus","persona","isDeveloperConsole","isPreview","features","_features","hasFeature","feature","hasAnyFeature","featureArray","hasPermission","permission","isDsTheme","entityMap","emailValidator","parseLocale","getBundle","bundleName","Bundles","IECustomEvent","bubbles","cancelable","detail","evt","createEvent","initCustomEvent","emitL10nError","reason","CustomEvent","dispatchEvent","sprintf","oldValue","triggerError","regex","query","pair","encodeJSObject","jsObj","encodeURIComponent","decodeJSObject","unescapeHtml","getTemplate","bundle","int","parseObject","isPlainObject","randomString","characters","stringArray","endsWith","ends","isEmail","TemplateUtil","tpl","Time","DEBOUNCE_DELAY","LOADING_FADE","UNLOADING_FADE","ROW_EXPANDER_TRANSITION","HIDE_ADD_MAPPING_FORM","redirect","reloadPage","reload","constantError","getUrlQueryString","queries","queriesString","isABaseView","isSafari","navigator","userAgent","changeEventString","doWhen","calcDoWhen","modelValue","_doWhen","toggle","animate","ViewUtil","applyDoWhen","clonedEscapeExpression","base64ToHex","base64String","raw","atob","firstHex","charCodeAt","hex","hbsEscape","replaceTagsWithPlaceholders","tag","tagValue","escapedBeginningTag","escapedEndTag","beginningTag","endTag","i18n","code","tags","mapParam","localizedValue","escapedString","err","CACHE_BUST_URL_PREFIX","prependCachebustPrefix","img","cdn","cdnUrlHostname","src","encodedValue","encodeURI","markdown","mdText","xsrfTokenInput","ajaxSetup","beforeSend","setRequestHeader","jQueryCourage","RE_LINK","RE_LINK_HREF","RE_LINK_TEXT","RE_LINK_JS","mdToHtml","markdownText","linkTemplate","mdLink","resultCtx","isInteger","jQuery","factory","previousBackbone","emulateHTTP","emulateJSON","eventSplitter","_listening","eventsApi","opts","names","_events","onApi","ctx","listening","listeners","_listeners","interop","_listenId","listeningTo","_listeningTo","Listening","tryCatchOn","handlers","count","off","offApi","remaining","handler","_callback","onceMap","listenToOnce","offer","triggerApi","objEvents","allEvents","triggerEvents","ev","a1","a2","a3","listener","unbind","cidPrefix","changed","validationError","_validate","changes","changing","_changing","_previousAttributes","prev","_pending","hasChanged","changedAttributes","diff","old","previous","previousAttributes","serverAttrs","wrapError","wait","isNew","patch","destroy","urlError","isValid","comparator","setOptions","merge","addOptions","insert","singular","removed","_removeModels","added","merged","_isModel","toAdd","toMerge","toRemove","modelMap","sortable","sortAttr","existing","_prepareModel","_addReference","orderChanged","_removeReference","previousModels","modelId","callbackOpts","CollectionIterator","ITERATOR_VALUES","ITERATOR_KEYS","ITERATOR_KEYSVALUES","_onModelEvent","prevId","$$iterator","kind","_collection","_kind","_index","_ensureElement","delegateEventSplitter","tagName","_removeElement","setElement","element","undelegateEvents","_setElement","delegate","undelegate","_createElement","createElement","className","_setAttributes","addMethod","attribute","defaultVal","addUnderscoreMethods","modelMatcher","collectionMethods","modelMethods","config","Base","mappings","contentType","_method","processData","textStatus","errorThrown","ajax","delete","read","routes","_bindRoutes","optionalParam","namedParam","splatParam","escapeRegExp","_routeToRegExp","_extractParameters","execute","optional","checkUrl","routeStripper","rootStripper","pathStripper","interval","atRoot","pathname","getSearch","matchRoot","decodeFragment","rootPath","decodeURI","getHash","getPath","getFragment","_usePushState","_wantsHashChange","hashChange","_hasHashChange","documentMode","_useHashChange","_wantsPushState","pushState","_hasPushState","iframe","style","display","tabIndex","body","iWindow","insertBefore","firstChild","contentWindow","open","close","addEventListener","attachEvent","_checkUrlInterval","setInterval","loadUrl","stop","removeEventListener","detachEvent","removeChild","clearInterval","decodedFragment","_updateHash","protoProps","staticProps","__super__","init","converter","api","expires","setMilliseconds","getMilliseconds","write","cookie","toUTCString","domain","cookies","rdecode","getJSON","withConverter","SelectParser","options_index","parsed","add_node","nodeName","add_group","add_option","group_position","option","_i","_ref","_results","array_index","label","group_disabled","innerHTML","selected","group_array_index","classes","cssText","select_to_array","parser","AbstractChosen","form_field","browser_is_supported","is_multiple","multiple","set_default_text","set_default_values","setup","set_up_html","register_observers","finish_setup","_this","click_test_action","test_active_click","activate_action","activate_field","active_field","mouse_on_container","results_showing","result_highlighted","result_single_selected","allow_single_deselect","disable_search_threshold","disable_search","enable_split_word_search","search_contains","single_backstroke_delete","max_selected_options","Infinity","inherit_select_classes","getAttribute","default_text","placeholder_text_multiple","placeholder_text","default_multiple_text","placeholder_text_single","default_single_text","results_none_found","no_results_text","default_no_result_text","mouse_enter","mouse_leave","input_focus","container_mousedown","input_blur","blur_test","result_add_option","dom_id","container_id","results_update_field","results_reset_cleanup","result_clear_highlight","results_build","results_toggle","results_hide","results_show","results_search","winnow_results","choices_count","selected_option_count","choices_click","is_disabled","keyup_checker","stroke","search_field_scale","backstroke_length","keydown_backstroke","pending_backstroke","result_select","generate_field_id","new_id","generate_random_id","generate_random_char","chars","rand","container_width","width","offsetWidth","$$1","Chosen","__hasProp","__extends","ctor","chosen","input_field","$this","hasClass","_super","form_field_jq","current_selectedIndex","selectedIndex","is_rtl","addClass","container_classes","container_props","hide","dropdown","search_field","search_results","search_no_results","search_choices","search_container","selected_item","set_tab_index","set_label_behavior","mousedown","mouseup","container_mouseup","mouseenter","mouseleave","search_results_mouseup","mouseover","search_results_mouseover","mouseout","search_results_mouseout","search_results_mousewheel","blur","keyup","keydown","keydown_checker","focus","search_field_disabled","close_field","removeClass","parents","results_reset","delta","_ref1","_ref2","originalEvent","wheelDelta","originialEvent","scrollTop","clear_backstroke","show_search_field_default","content","parsing","results_data","readOnly","result_add_group","choice_build","single_deselect_control_build","result_do_highlight","high_bottom","high_top","maxHeight","visible_bottom","visible_top","result_highlight","css","position","top","outerHeight","ti","form_field_label","choice","close_link","choice_destroy_link_click","choice_destroy","result_deselect","high","high_id","substr","metaKey","ctrlKey","result_activate","result_deactivate","pos","result_data","show","deselected","found","regexAnchor","result_id","results","searchText","startpos","zregex","_j","_len1","no_results_clear","search","no_results","winnow_results_set_highlight","do_high","selected_results","terms","no_results_html","keydown_arrow","next_sib","nextAll","keyup_arrow","prev_sibs","prevAll","next_available_destroy","siblings","div","style_block","styles","f_width","outerWidth","customInput","is","input","closest","wrapAll","hover","isInputSupported","isTextareaSupported","valHooks","textarea","not","clearPlaceholder","setPlaceholder","$element","activeElement","$inputs","elem","newAttrs","rinlinejQuery","specified","$input","removeAttr","$replacement","Backbone_ListView","decorate","eventBus","broadcast","notify","confirm","okfn","cancelfn","subtitle","ok","cancelFn","alert","noCancelButton","TargetView","BaseViewView","disabledEvents","defaultAttrs","additionalAttr","__getAttribute","depth0","stack1","alias1","visible","enabled","enableWhen","showWhen","icon","toggleVisible","enable","disable","bool","toggleClass","hidden","optionsTemplate","alias2","alias3","alias4","BaseDropDownDropDownOption","action","seleniumId","addOption","screenReaderText","getOption","callout","getTopClass","klass","fadeOut","CalloutCallout","dismissible","bullets","fade","dismissable","sectionTitleTemplate","pointerEventsSupported","pointerEvents","pointerEventsPolyfill","currentTarget","underneathElem","elementFromPoint","clientX","clientY","submit","__save","slot","convertSavingState","rawSavingStateEvent","defaultEvent","savingStateEvent","getErrorSummary","responseJSON","errorCauses","errorSummary","__buttons","__errorFields","__saveModelState","step","totalStep","__toolbar","__createToolbar","__addLayoutItem","__applyMode","showBanner","__showErrors","__cancel","__previous","hasSavingState","customSavingState","__setSavingState","__clearSavingState","danger","saveBtnClassName","toolbar","saveId","saveClassName","noSubmitButton","buttonOrder","hasPrevStep","addButton","noButtonBar","layout","totalSteps","autoSave","showErrors","resizeSelector","hasReadMode","isReadOnly","hasButtonBar","__readModeBar","readModeBar","ReadModeBar","formTitle","__toggleToolbar","_editMode","edit","__originalModel","clearErrors","validateArray","fieldName","getInputs","parseErrorMessage","_handleErrorScroll","$scrollContext","scrollParent","offset","ErrorParser","getResponseJSON","validationErrors","parseFieldErrors","errors","ErrorBanner","InputFactory","supports","addInput","__addNonInputLayoutItem","itemOptions","addSectionTitle","addDivider","applyShowWhen","applyToggleWhen","toggleWhen","_options","validateInput","inputsOptions","generateInputOptions","__createInput","reverse","validateOnlyIfDirty","errorField","inputId","multi","inputWrapper","__createWrapper","__createLabel","_createContainer","INPUT_OPTIONS","WRAPPER_OPTIONS","InputWrapper","LABEL_OPTIONS","InputLabel","CONTAINER_OPTIONS","InputContainer","contentHeight","height","getNameString","defaultPlaceholder","inlineValidation","addInlineValidation","addModelListeners","addAriaLabel","ariaLabel","toModelValue","to","__getDependencyCalloutBtn","btnConfig","btnOptions","originalClick","one","__showInputDependencies","BaseInputCalloutBtn","getCalloutParent","getModelValue","__getCalloutMsgContainer","calloutMsg","showCallout","calloutConfig","dependencyResolved","btn","dependencyCallout","calloutParent","removeCallout","__evaluateCalloutObject","calloutTitle","defaultCallout","__handleDependency","resolved","fieldDependency","func","fail","_isEdited","hasIMESupport","enableIMESupport","isComposing","isEditMode","editMode","readMode","__markError","__clearError","getReadModeString","readModeStr","toStringValue","from","Number","resize","changeType","getParams","getParam","getParamOrAttribute","modelEvents","createReadFormButton","buttonConfigs","__getButtonOrder","buttonName","buttonsToSkip","NAME","ENUM_KEY_PREFIX","getEnumInputOptions","inputOptions","customExplain","explain","getDropdownOptionsFromOneOf","valuesToEnumObjects","enumObjectsToValues","valueToEnumObject","enumObjectToValue","getDropdownOptions","isOneOfEnumObject","convertIndexToEnumIndex","convertEnumToOneOf","convertEnumObjectToOneOf","valueToTitle","oneOfObj","enumValue","isStringConstraint","isNumberConstraint","isIntegerConstraint","isObjectConstraint","FIELD_REGEX","responseText","parseErrorSummary","parseErrorCauseObject","errorCause","localizedMsg","apiMsg","parseErrors","cause","OTHER_OPTIONS","ALL_OPTIONS","SAVE_BUTTON_PHASES","decorateDoWhen","timeoutId","intervalId","phaseCount","__changeSaveText","__showLoadingText","fields","form","createFn","fieldNames","toggleAndResize","wide","inputGroup","_getNames","inputItem","_getInputElement","lastInput","explainTop","__setExplain","__setError","__errorState","errorId","__getHTMLForError","$elExplain","tmpl","iconLabel","multirowError","createInput","Input","isBaseInput","_isLabelView","_isRadioOrCheckbox","_standardLabel","tooltip","qtip","my","fixed","registry","runCallback","runIf","inputWrapperClassName","optionsClassName","getLabel","getInput","getInputContainer","convertStringToNumber","getChoices","getObjectName","schemaProp","objectName","isValidSchemaProp","defaultOptions","TextBoxSet","BooleanSelect","customOptions","prefix","configs","augmentSchemaProp","possibleValues","profile","__nestedProperty__","defaultValues","userValues","fixedValues","augmentSchemaProps","schemaProps","cleanSchema","createInputOptions","preparedSchemaProp","custom","standard","hasValidSchemaProps","validSchema","prepareSchema","true","false","isVowel","getArticle","errorClass","updateArrayEvent","DeletableBox","getPlaceholderText","errorExplain","getErrorExplainText","debounceDelay","slideUp","updatedValue","parseFunc","markInvalid","clearInvalid","num","countInputs","InputGroupLabelInput","createButtonInput","InputGroupInputGroupView","autoWidth","inputGroupView","strings","LabelInput","InputGroupView","toggleTemplate","toggleTimeout","__showPasswordToggle","showPasswordToggle","__showPassword","passwordToggleTimer","__hidePassword","RadioRadioOption","templates","optionId","realName","CHOSEN_WINDOW_MARGIN","CHOSEN_MAX_HEIGHT","CHOSEN_Z_INDEX","findSelectWidth","$select","recalculateChosen","$chosen","$results","$clone","left","$win","rHeight","rBottom","wHeight","handleKeyUpEvent","$highlightedOption","elementId","noResult","fixChosenModal","textPlaceholder","$searchInput","baseStyles","float","resizeHandler","scroll","appendOptions","__applyChosen","getOptions","applySortByKey","sortByKey","searchThreshold","isComboBox","accessibilityUpdate","searchPlaceholder","selectedOption","displayString","createAriaLiveNode","ariaDivId","$node","insertAfter","txtBoxId","ulTagId","aria","hasTitleAndText","createQtipContent","inputValue","innerTooltip","adjust","mouse","viewport","addNewElement","uniqueIdPrefix","_setArrayObject","arrayObject","_addDeletableBox","deletableBox","slideDown","includeHidden","excludeStaticParent","overflowRegex","eq","ownerDocument","DUO_MESSAGE_FORMAT","DUO_ERROR_FORMAT","DUO_OPEN_WINDOW_FORMAT","VALID_OPEN_WINDOW_DOMAINS","postAction","postArgument","host","sigRequest","duoSig","appSig","submitCallback","initializeStatefulVariables","throwError","givenUrl","hyphenize","getDataAttribute","dataset","fallbackEvent","onReady","offReady","onMessage","offMessage","parseSigRequest","sig","sigParts","isDuoMessage","origin","sig_request","post_action","post_argument","submit_callback","promptElement","getPromptElement","ready","iframeAttributes","asyncReady","iframeContainer","getUserDefinedElement","validateIframe","validateIframeContainer","getElementById","isIframe","generateIframeSrc","onReceivedMessage","isValidUrlToOpen","doPostBack","protocol","setAttribute","appendChild","response","_onReady","_parseSigRequest","_isDuoMessage","_doPostBack","SWAP_PAGE_TIME","zoom","finish","deferred","duration","easing","fx","always","resolve","promise","rotate","swapPages","$parent","$oldRoot","$newRoot","directionClassName","Enums","DIRECTION_BACK","opacity","swapBeacons","swap","implode","then","explode","radialProgressBar","circles","clip","leftHalf","transform","colors","brand","lighten","lum","newHex","round","addStyle","WIDGET_CONTAINER_ID","WIDGET_CONFIG_COLORS_ID","createTextNode","isLoaded","LAST_USERNAME_COOKIE_NAME","DAYS_SAVE_REMEMBER","getCookieUsername","setUsernameCookie","username","removeUsernameCookie","getCountries","countries","bundles","country","sorted","getCountryCode","getCallingCodeForCountry","countryCode","countryCallingCodes","getStringHash","base64UrlSafeToBase64","binToStr","bin","btoa","byte","fromCharCode","strToBin","API_RATE_LIMIT","WIDGET_LOGIN_CONTAINER_ID","RECOVERY_TYPE_PASSWORD","RECOVERY_TYPE_UNLOCK","RECOVERY_FACTOR_TYPE_SMS","RECOVERY_FACTOR_TYPE_EMAIL","RECOVERY_FACTOR_TYPE_CALL","IOS","ANDROID","ODA","MDM","SUCCESS","FORGOT_PASSWORD_EMAIL_SENT","UNLOCK_ACCOUNT_EMAIL_SENT","CONFIG_ERROR","UNSUPPORTED_BROWSER_ERROR","OAUTH_ERROR","AUTH_STOP_POLL_INITIATION_ERROR","U2F_ERROR","WEB_AUTHN_ERROR","WEBAUTHN_ABORT_ERROR","CONFIGURED_FLOW_ERROR","ALL_OPTIONAL_NONE_ENROLLED","ALL_OPTIONAL_SOME_ENROLLED","HAS_REQUIRED_NONE_ENROLLED","HAS_REQUIRED_SOME_REQUIRED_ENROLLED","HAS_REQUIRED_ALL_REQUIRED_ENROLLED","PRIMARY_AUTH","FORGOT_PASSWORD","UNLOCK_ACCOUNT","SESSION_SSO","SESSION_STEP_UP","ACTIVATION_EMAIL_SENT","REGISTRATION_COMPLETE","REGISTRATION_FAILED","IDP_DISCOVERY","OKTA_VERIFY_APPLE_APP_STORE_URL","OKTA_VERIFY_GOOGLE_PLAY_STORE_URL","LOOPBACK_CHALLENGE","CUSTOM_URI_CHALLENGE","UNIVERSAL_LINK_CHALLENGE","APP_LINK_CHALLENGE","factorData","OKTA_VERIFY","iconClassName","sortOrder","OKTA_VERIFY_PUSH","U2F","brandName","WEBAUTHN","WINDOWS_HELLO","YUBIKEY","GOOGLE_AUTH","CUSTOM_HOTP","SMS","CALL","QUESTION","DUO","SYMANTEC_VIP","RSA_SECURID","ON_PREM","PASSWORD","CUSTOM_CLAIMS","GENERIC_SAML","GENERIC_OIDC","getPasswordComplexityRequirementsAsArray","policy","i18nKeys","setExcludeAttributes","policyComplexity","excludeAttributes","excludeFirstName","excludeLastName","complexity","complexityFields","requirements","complexityValue","complexityType","getPasswordHistoryRequirementDescription","age","historyCount","getPasswordAgeRequirementDescription","getPasswordAgeRequirement","displayableTime","propertiesString","unit","minAgeMinutes","TimeUtil","getTimeInHighestRelevantUnit","getPasswordRequirements","passwordRequirements","historyRequirement","ageRequirement","getFactorName","provider","factorType","getFactorNameForFactorType","isOktaVerify","getFactorLabel","getFactorDescription","descriptionKey","getFactorIconClassName","getFactorSortOrder","getRememberDeviceValue","appState","getSecurityQuestionLabel","questionObj","localizedQuestion","question","questionText","removeRequirementsFromError","passwordRequirementsAsString","getPasswordComplexityDescription","getPasswordComplexityDescriptionForHtmlList","passwordRequirementHtmlI18nKeys","minLowerCase","minUpperCase","minNumber","minSymbol","excludeUsername","passwordRequirementI18nKeys","requirement","getCardinalityText","enrolled","cardinality","findFactorInFactorsArray","factors","factor","getU2fEnrollErrorMessageKeyByCode","errorCode","getU2fVerifyErrorMessageKeyByCode","isOneFactor","getU2fEnrollErrorMessageByCode","getU2fVerifyErrorMessageByCode","getU2fVersion","isU2fAvailable","executeHookFunctions","executeHooksBefore","hook","executeHooksAfter","mergeHook","formName","hookToMerge","existingHook","SUPPORTED_SOCIAL_IDPS","loadLanguage","languageCode","defaultLanguage","assetBaseUrl","assetRewrite","supportedLanguages","timeout","baseUrl","rewrite","DEBUG","deprecate","AUTH_PARAMS","getTokens","callGlobalSuccess","typedError","errorDetails","triggerAfterError","NonRecoverableError","callGlobalError","authClient","getAuthClient","isAuthorizationCodeFlow","isPKCE","getTokenOptions","authParams","popupTitle","oAuthTimeout","token","getWithRedirect","catch","sessionToken","getWithoutPrompt","getWithPopup","MOMENT_UNIT","MILLISECOND","SECOND","MINUTE","HOUR","DAY","MOMENT_UNIT_KEYS","convertMomentUnits","momentUnit","entry","defaultTimeObj","normalizedUnit","timeObj","ms","highestUnit","buildInputForParameter","buildSubmitInput","buildDynamicForm","splitOnFragment","splitOnQuery","targetUrl","queryParts","queryPart","parameterParts","transformErrorXHR","errorMsg","toLower","expandLanguage","language","expanded","expandLanguages","languages","callAfterTimeout","debugMessage","logConsoleError","statusCode","win","isAppLink","BrowserFeatures","isAndroid","redirectWithFormGet","redirectWithForm","mainContainer","querySelector","createInputExplain","explainKey","labelKey","explainParams","labelParams","isV1StateToken","startsWith","US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI","RU","KZ","EG","ZA","GR","NL","BE","FR","ES","HU","IT","VA","RO","CH","AT","GB","GG","IM","JE","DK","SE","NO","SJ","PL","DE","PE","MX","CU","AR","BR","CL","CO","VE","MY","AU","CC","CX","ID","PH","NZ","SG","TH","JP","KR","VN","CN","TR","IN","PK","AF","LK","MM","IR","SS","MA","EH","DZ","TN","LY","GM","SN","MR","ML","GN","CI","BF","NE","TG","BJ","MU","LR","SL","GH","NG","TD","CF","CM","CV","ST","GQ","GA","CG","CD","AO","GW","IO","AC","SC","SD","RW","ET","SO","DJ","KE","TZ","UG","BI","MZ","ZM","MG","RE","YT","ZW","MW","LS","BW","SZ","KM","SH","TA","ER","AW","FO","GL","GI","PT","LU","IE","IS","AL","MT","CY","FI","AX","BG","LT","LV","EE","MD","AM","BY","AD","MC","SM","UA","RS","ME","XK","HR","SI","BA","MK","CZ","SK","LI","FK","BZ","GT","SV","HN","NI","CR","PA","PM","HT","GP","BL","MF","BO","GY","EC","GF","PY","MQ","SR","UY","CW","BQ","TL","NF","BN","NR","PG","TO","SB","VU","FJ","PW","WF","CK","NU","WS","KI","NC","TV","PF","TK","FM","MH","KP","HK","MO","KH","LA","BD","TW","MV","LB","JO","SY","IQ","KW","SA","YE","OM","PS","AE","IL","BH","QA","BT","MN","NP","TJ","TM","AZ","GE","KG","UZ","GS","PN","AQ","UM","AN","adaptToOkta","makeCredential","accountInfo","cryptoParams","challenge","algorithm","msCredentials","cred","freeze","credential","publicKey","attestation","getAssertion","allowList","accept","filters","signature","clientData","authenticatorData","authnrData","isAvailable","isNewApiAvailable","credentials","isWebauthnOrU2fAvailable","FidoUtil","SCOPE_N_GROUP_CONFIG","groups","myAccount","users","apps","authenticators","authorizationServers","clients","domains","idps","linkedObjects","policies","eventHooks","inlineHooks","logs","orgs","roles","schemas","sessions","trustedOrigins","DEFAULT_GROUP","findScopeGroupKey","xs","groupType","ScopeGroupHeaderView","expandScopes","scopes","ScopeItem","allScopes","scopesWithGroup","SCOPE_GROUP_NAMES_CONFIG","groupName","groupKey","isCustomized","baseClass","classNames","CAN_REMOVE_BEACON_CLS","tabindex","Beacon","CONFIGURED_FLOW","DEFAULT","PROCEED","LOGIN","REGISTRATION","RESET_PASSWORD","proceedIfAvailable","idxState","remediation","flow","rem","neededToProceed","nextIdxState","proceed","stepIntoSpecificIdxFlow","FORMS","ConfigError","handleConfiguredFlow","originalResp","configuredFlow","getFlow","interactionCodeFlow","idxResponse","interactionCode","transactionMeta","getSavedTransactionMeta","isRemediationMode","clearTransactionMeta","shouldRedirect","redirectUri","qs","codeVerifier","exchangeCodeForTokens","tokens","RecoverableError","finally","STATE_HANDLE_SESSION_STORAGE_KEY","LAST_INITIATED_LOGIN_URL_SESSION_STORAGE_KEY","RESEND_TIMESTAMP_SESSION_STORAGE_KEY","removeStateHandle","sessionStorage","removeItem","setStateHandle","setItem","getStateHandle","getItem","getLastInitiatedLoginUrl","removeResendTimestamp","setResendTimestamp","getResendTimestamp","convertErrorMessageToErrorSummary","remediationValues","messages","getMessage","errorKey","getMessageKey","uniqWith","seen","getRemediationErrors","remediationFormFields","remediationForm","getGlobalErrors","allErrors","getGlobalErrorKeys","convertFormErrors","errorSummaryKeys","errorIntent","intent","isIonErrorResponse","version","isIdxSessionExpiredError","errorI18NKey","IDENTIFY","SELECT_IDENTIFY","IDENTIFY_RECOVERY","SELECT_ENROLL_PROFILE","ENROLL_PROFILE","ENROLL_PROFILE_UPDATE","REQUEST_ACTIVATION","CONSENT_ADMIN","CONSENT_ENDUSER","CONSENT_GRANULAR","CONSENT_EMAIL_CHALLENGE","SELECT_AUTHENTICATOR_AUTHENTICATE","SELECT_AUTHENTICATOR_UNLOCK","AUTHENTICATOR_VERIFICATION_DATA","CHALLENGE_AUTHENTICATOR","CHALLENGE_POLL","RESEND","SELECT_AUTHENTICATOR_ENROLL","SELECT_AUTHENTICATOR_ENROLL_DATA","AUTHENTICATOR_ENROLLMENT_DATA","ENROLL_AUTHENTICATOR","SELECT_ENROLLMENT_CHANNEL","ENROLLMENT_CHANNEL_DATA","ENROLL_POLL","REENROLL_AUTHENTICATOR","REENROLL_AUTHENTICATOR_WARNING","RESET_AUTHENTICATOR","SKIP","POLL","FAILURE_REDIRECT","SUCCESS_REDIRECT","REDIRECT_IDP","PIV_IDP","DEVICE_CHALLENGE_POLL","DEVICE_APPLE_SSO_EXTENSION","CANCEL_TRANSACTION","LAUNCH_AUTHENTICATOR","LAUNCH_WEBAUTHN_AUTHENTICATOR","ENROLL_WEBAUTHN_RESIDENTKEY","DEVICE_ENROLLMENT_TERMINAL","USER_CODE","TERMINAL","FORMS_WITHOUT_SIGNOUT","FORMS_WITH_STATIC_BACK_LINK","FORMS_FOR_VERIFICATION","AUTHENTICATOR_KEY","PHONE","SECURITY_QUESTION","OV","GOOGLE_OTP","RSA","IDP","CUSTOM_OTP","CUSTOM_APP","AUTHENTICATOR_METHODS","PUSH","FORM_NAME_TO_OPERATION_MAP","ENROLLED_PASSWORD_RECOVERY_LINK","ORG_PASSWORD_RECOVERY_LINK","ACTIONS","HINTS","CAPTCHA","TERMINAL_FORMS","IDP_FORM_TYPE","X509","INTERSTITIAL_REDIRECT_VIEW","ATTR_FORMAT","COUNTRY_CODE","FORMNAME_CLASSNAME_MAPPINGS","sms","voice","RESEND_PUSH","getV1ClassName","authenticatorKey","methodType","isPasswordRecoveryFlow","getClassNameMapping","v2ClassName","v1ClassName","WEBAUTHN_API_GENERIC_ERROR_KEY","SECURITY_QUESTION_PREFIXES","I18N_OVERRIDE_MAPPINGS","I18N_BASE_ATTRIBUTE_ENROLL_PROFILE_MAPPINGS","I18N_PARAMS_MAPPING","getAuthenticatorDisplayName","I18N_OVERRIDE_WITH_PARAMS_MAP","Email","getI8nKeyUsingParams","i18nKey","getI18NParams","getI18nKey","i18nPath","securityQuestionValue","login","doesI18NKeyExist","getI18NValue","updateLabelForUiSchema","uiSchema","mutable","relatesTo","authenticatorKeyPath","i18nPrefix","i18nPathOption","optionsUiSchemas","optionsUiSchema","isWebAuthnAPIError","i18nParams","getMessageFromBrowserError","uiSchemaLabelTransformer","transformedResp","remediations","isCustomizedI18nKey","customizedProperty","getFirstLevelObjects","getRemediationValues","hasSkipRemediationOnly","RemediationForms","deviceEnrollment","injectIdPConfigButtonToRemediation","idxResp","widgetRemedations","hasIdentifyRemedation","idpsConfig","existsRedirectIdpIds","idp","stateHandle","redirectIdpRemedations","idpConfig","convertRedirectIdPToSuccessRedirectIffOneIdp","lastResult","redirectIdpRemediations","isDirectAuth","successRedirect","modifyFormNameForIdP","isVerifyFlow","isFailureRedirect","failure","handleFailureRedirect","alwaysRedirect","failureRedirect","convert","rawIdxState","firstLevelObjects","transformIdxResponse","curResponse","lastResponse","ionResponse","i18nTransformer","uiSchemaTransformer","responseTransformer","getCheckboxUiSchema","modelType","getRadioUiSchema","sublabel","getCheckboxUiSchemaWithDefaultValue","createUiSchemaForBoolean","ionFormField","desc","inputType","createOVOptions","ovItem","methodTypeObj","methodOptions","signedNonceOption","ovOptions","methodTypeIndex","newMethodTypeObj","newItem","ovIndex","deviceKnown","createAuthenticatorOptions","valueObject","getAuthenticatorsEnrollUiSchema","getAuthenticatorsVerifyUiSchema","createUiSchemaForObject","createUISchema","opt","ionOptionsToUiOptions","getPasswordUiSchema","getCaptchaUiSchema","timezoneUISchema","shouldRenderAsRadio","optionalType","populateUISchemaForDisplay","ionField","CountryUtil","populateUISchemaForRadio","createUiSchemaForString","secret","hint","TimeZone","UISchemaHandlers","remediationValue","nestedForm","inputGroupName","uiSchemaDefaultConfig","fieldType","uiSchemaHandler","uiSchemaResult","insertUISchema","AuthenticatorRow","minimize","authenticatorUsageText","allowedFor","AUTHENTICATOR_ALLOWED_FOR_OPTIONS","ANY","RECOVERY","SSO","hasOptionalFactors","hasRemediationObject","skipAll","BaseFooter","handleSelect","BaseAuthenticatorBeacon","HeaderBeacon","getBeaconClassName","Header","BaseHeader","Footer","AuthenticatorFooter","OKTA_AUTHENTICATOR","CantVerifyInfoVerifyFlowView","CantVerifyInfoOVEnrollmentFlowView","cantVerifyInfoView","logoUri","showForgotPasswordLink","isIdentifierOnlyView","footerInfo","signUpLinkData","SignUpLinkWithText","Link","helpLinkHref","helpLink","forgotPasswordLink","customHelpLinks","customHelpLink","unlockAccountLink","nameToClass","actionPath","clickHandler","getDeviceEnrollmentContext","platform","challengeMethod","enrollmentType","isIOS","isAndroidAppLink","isAndroidLoopback","signInUrl","appStoreLink","BaseOdaOktaVerifyTerminalView","IosAndAndroidLoopbackOdaTerminalView","AndroidAppLinkWithAccountOdaTerminalView","AndroidAppLinkWithoutAccountOdaTerminalView","getLocalizedLabel","scopeName","getLocalizedDesc","isCustomizedScope","parentElement","textViewOptions","additionalOptions","linkName","linkOptions","slideToggle","hasBackToSignInLink","shouldShowSignOutLinkInCurrentForm","LinkView","ToggleTextLink","updateRefreshInterval","polling","stopPolling","startPolling","mainContentContainer","beaconContainer","Animations","convertUiSchemaFieldToProp","uiSchemaField","createPropsAndLocals","optionUiSchemaConfig","uiSchemas","optionUiSchemaIndex","optionUiSchemaValue","useRedirect","request","ajaxOptions","Body","BaseFormWithPolling","doCustomURI","pollingCancelAction","AUTHENTICATOR_CANCEL_ACTION","onPollingFail","doChallenge","stopProbing","getDeviceChallengePayload","doLoopback","deviceChallenge","authenticatorDomainUrl","ports","challengeRequest","probeTimeoutMillis","currentPort","foundPort","ovFailed","countFailedPorts","getAuthenticatorUrl","checkPort","onPortFound","CHALLENGE_TIMEOUT","onFailure","doProbing","AUTHENTICATION_CANCEL_REASONS","OV_ERROR","LOOPBACK_FAILURE","probeChain","Promise","port","ulDom","customURI","checkPortXhr","probingXhr","additionalClassNames","renderForm","IonModel","createModelClass","currentViewState","FactorUtil","getButtonDataSeAttr","authenticator","getAuthenticatorData","isVerifyAuthenticator","buttonDataSeAttr","phoneNumber","noTranslateClassName","vendorName","idpName","getAuthenticatorDataForEnroll","getAuthenticatorDataForVerification","getIconClassNameForBeacon","errorJSON","appendLoginHint","deviceChallengeUrl","loginHint","fromView","HIDE_CLASS","downloadOVLink","downloadHref","hideClass","IDENTIFIER_FLOW","FASTPASS_FALLBACK_SPINNER_TIMEOUT","cancelPollingWithParams","cancelReason","actionParams","REQUEST_PARAM_AUTHENTICATION_CANCEL_REASON","LOOPBACK_RESPONSE_STATUS_CODE","getBiometricsErrorOptions","isMessageObj","isBiometricsRequiredMobile","OV_UV_ENABLE_BIOMETRICS_FASTPASS_MOBILE","isBiometricsRequiredDesktop","OV_UV_ENABLE_BIOMETRICS_FASTPASS_DESKTOP","bulletPoints","SHOW_RESEND_TIMEOUT","WARNING_TIMEOUT","MS_PER_SEC","UNIVERSAL_LINK_POST_DELAY","CANCEL_POLLING_ACTION","WIDGET_FOOTER_CLASS","USER_CANCELED","getUserAgent","isWindowsPhone","isMessageFromCorrectSource","$iframe","generateDeviceFingerprint","fingerprintData","iFrameTimeout","removeIframe","onMessageReceivedFromOkta","handleError","oktaDomainUrl","sendMessageToOkta","fingerprint","postMessage","getSwitchAuthenticatorLink","getRemediationAuthenticationOptions","getForgotPasswordLink","customForgotPasswordHref","getActionByPath","goBackLink","getSkipSetupLink","getSignOutLink","getBackToSignInLink","getReloadPageButtonLink","getSignUpLink","signupLink","signupLinkData","getFactorPageCustomLink","factorPageCustomLink","formsNeedFactorPageCustomLink","helpLinksFactorPageLabel","helpLinksFactorPageHref","GMT","WET","CET","MET","ECT","EET","MIT","HST","AST","PST","MST","PNT","CST","EST","IET","PRT","CNT","AGT","BET","ART","CAT","EAT","NET","PLT","IST","BST","VST","CTT","JST","ACT","AET","SST","NST","CUSTOM_ACCESS_DENIED_KEY","UNLOCK_USER_SUCCESS_MESSAGE","titleString","app","user","redirectView","appInstanceName","appDisplayName","identifier","userEmail","showMessages","isUnlockSuccess","containsMessageStartingWithI18nKey","CustomAccessDeniedErrorMessage","containsMessageWithI18nKey","getUISchema","optionalParams","getSchemaByName","getCurrentViewState","uiDisplay","buttonLabel","saveForm","preRegistrationSubmit","postData","hasErrors","currentSchema","ModelClass","modelJSON","userProfile","uiSchemaProperty","parseRegistrationSchema","parseSchemaError","modelError","renderPasswordPolicySettings","idpButtons","_addIdpView","idpDisplay","isPrimaryIdpDisplay","signInWithIdps","_shouldAddUsername","_shouldApplyRememberMyUsername","_applyRememberMyUsername","DeviceFingerprinting","signInWithDeviceOption","isRequired","signInWithWebAuthn","_addForgotPasswordView","customButtons","customButtonsView","addSeparateLine","identifierExplainLabeli18nKey","passwordExplainLabeli18nKey","newSchemas","newSchema","autoComplete","showCustomFormErrorCallout","cookieUsername","CookieUtil","identifierRequiredi18nKey","passwordRequiredi18nKey","inlineErrors","isEmptyIdentifier","isEmptyPassword","IdentifierFooter","PollMessageView","countDownCounterValue","refreshInterval","refresh","refreshTimeout","startCountDown","stopCountDown","countDown","counterEl","IdentifierView","RETURN_LINK_EXPIRED_KEY","IDX_RETURN_LINK_OTP_ONLY","SAFE_MODE_KEY_PREFIX","UNLOCK_ACCOUNT_TERMINAL_KEY","UNLOCK_ACCOUNT_FAILED_PERMISSIONS","RESET_PASSWORD_NOT_ALLOWED","RETURN_TO_ORIGINAL_TAB_KEY","OPERATION_CANCELED_ON_OTHER_DEVICE_KEY","OPERATION_CANCELED_BY_USER_KEY","DEVICE_ACTIVATED","DEVICE_NOT_ACTIVATED_CONSENT_DENIED","DEVICE_NOT_ACTIVATED_INTERNAL_ERROR","FLOW_CONTINUE_IN_NEW_TAB","EMAIL_LINK_OUT_OF_DATE","EMAIL_LINK_CANT_BE_PROCESSED","EMAIL_VERIFICATION_REQUIRED","EMAIL_ACTIVATION_EMAIL_EXPIRE","EMAIL_ACTIVATION_EMAIL_INVALID","EMAIL_ACTIVATION_EMAIL_SUBMITTED","EMAIL_ACTIVATION_EMAIL_SUSPENDED","REGISTRATION_NOT_ENABLED","FORGOT_PASSWORD_NOT_ENABLED","EMAIL_AUTHENTICATOR_TERMINAL_KEYS","DEVICE_CODE_ERROR_KEYS","DEVICE_CODE_FLOW_TERMINAL_KEYS","NO_BACKTOSIGNIN_LINK_VIEWS","terminalViewTitles","iconClass","getTerminalViewTitle","apiKeys","messagesObjs","hasCustomView","class","OTPInformationTerminalView","hasActionObject","EmailAuthenticatorHeader","UnlockAccountView","OktaSignInWidgetOnCaptchaLoadedCallback","OktaSignInWidgetOnCaptchaSolvedCallback","HCAPTCHA_URL","RECAPTCHAV2_URL","captchaConfig","siteKey","isCaptchaConfigured","onCaptchaSolvedCallback","_addCaptcha","hcaptcha","grecaptcha","onCaptchaSolved","captchaObject","_getCaptchaOject","captchaId","onCaptchaLoaded","sitekey","_addHCaptchaFooter","_loadCaptchaLib","_getCaptchaUrl","scriptTag","async","footerContainer","getElementsByClassName","insertAdjacentHTML","baseURL","AdminConsentViewHeader","ConsentViewForm","i18nKeyPrefix","localizedScopes","scopeKey","descKey","doesLabelExist","doesDescExist","i18nDisplayName","i18nDescription","consent","defaultLogo","titleText","hasIssuer","clientUri","logo","issuer","issuerObj","customLogo","altText","clientURI","setConsent","cancelForm","generateGeolocationString","city","challengeIntentToFlowMap","getTerminalOtpEmailMagicLinkContext","client","challengeIntent","enterCodeOnFlowPage","browserOnOsString","isMobileDevice","geolocation","browser","os","otp","contextualData","showRequestInfo","BaseEmailMagicLinkOTPTerminalView","AdminConsentView","EnduserConsentViewHeader","EnduserConsentViewFooter","scopeList","consentAgreementText","EnduserConsentAgreementText","ConsentViewFooter","termsOfService","privacyPolicy","getInfo","enduserEmailConsentViewBody","BaseAuthenticatorView","buttonContainer","requestInfo","granularConsentViewHeader","granularConsentViewForm","ScopeCheckBox","GranularConsentAgreementText","CUSTOM_APP_UV_ENABLE_BIOMETRIC_SERVER_KEY","BaseOktaVerifyChallengeView","containsSignedNonceError","handleUpdateFooterLink","isFallbackApproach","isFallbackDelayed","backLink","OktaVerifyAuthenticatorHeader","addHyphen","currentVal","BaseDeviceEnrollTerminalForm","AndroidAppLinkPreselectForm","deviceEnrollmentContext","AndroidAppLinkWithAccountOdaTerminalForm","AndroidAppLinkWithoutAccountOdaTerminalForm","IosAndAndroidLoopbackOdaTerminalForm","MdmTerminalForm","MdmOktaVerifyTerminalView","AndroidAppLinkTerminalViewFooter","handleUpdateDeviceEnrollmentView","handleSwitchBackToPreselect","withAccount","isGetMethod","SignInWithDeviceOption","getContextualData","duoFrame","Duo","signedToken","signedData","BaseDuoAuthenticatorForm","CheckYourEmailTitle","EnterCodeLink","getCheckYourEmailTitle","getEnterCodeLink","ResendView","BaseResendView","handelResendLink","resendEmailAction","showCalloutAfterTimeout","isFormPolling","isRateLimitError","BaseAuthenticatorEmailForm","SubtitleView","BaseAuthenticatorEmailView","useEmailMagicLinkValue","isUseEmailMagicLink","showCodeEntryField","useEmailMagicLink","showAuthCodeEntry","removeEnterAuthCodeInsteadLink","$textField","VIEW_TO_DISPLAY","viewToDisplayState","BARCODE","MANUAL","ENTER_CODE","enterCodeSubtitle","nextButton","verifyButton","viewToDisplay","EnrollGoogleAuthenticatorBarcodeView","EnrollAuthenticatorManualSetupView","sharedSecret","qrcode","BaseIdPAuthenticatorBody","BaseIdpAuthenticatorView","ON_PREM_TOKEN_CHANGE_KEY","_checkTokenChange","convertedErrors","OV_NMC_FORCE_UPGRAGE_SERVER_KEY","OV_UV_ENABLE_BIOMETRIC_SERVER_KEY","currentAuthenticator","selectedMethod","correctAnswer","NumberChallengePushView","ChallengePushViewBody","ChallengeOktaVerifyFastPassView","OV_FORCE_FIPS_COMPLIANCE_UPGRAGE_KEY_IOS","OV_FORCE_FIPS_COMPLIANCE_UPGRAGE_KEY_NON_IOS","OV_QR_ENROLL_ENABLE_BIOMETRICS_KEY","selectedChannel","calloutOptions","EnrollChannelPollDescriptionView","SwitchEnrollChannelLinkView","OVResendView","phoneNumberUISchema","phoneNumberUISchemaIndex","countryUISchema","phoneNumberWithCodeUISchema","handlePhoneCodeChange","countryCodeField","innerText","phoneCode","formattedPhoneNumber","NumberChallengePhoneView","handleResendNumberChallenge","startPoll","addWarning","stopPoll","ResendNumberChallengeView","startWarningTimeout","clearWarning","showWarning","warningTimeout","channelField","isQRcodeChannel","passwordSchema","getPasswordPolicySettings","displayPasswordPolicy","rulesList","relatesToObject","confirmPassword","updatedSchema","generatePasswordPolicyHtml","EnrollAuthenticatorPasswordView","passwordPolicy","daysToExpiry","handleSecondaryLinkClick","secondaryMode","sendText","carrierChargesText","extraCssClasses","secondaryButtonTitle","primaryMode","resendActionKey","resendText","linkText","handleResendLink","classList","enterCodeText","strongClass","mode","phoneField","extensionField","extensionUISchema","extension","EnrollResendView","ChallengeAuthenticatorPhoneView","addInstructions","startAuthentication","stopAuthentication","PIVHeader","questionKey","answer","timeStamp","sessionStorageHelper","showMeInterval","resendContext","resend","didFormNameChange","isPushOnlyWithAutoChallengeFlow","ChallengeOktaVerifyCustomAppPushOnlyFormView","ChallengeOktaVerifyCustomAppFormView","hasAutoChallengeSchema","methodTypeOptions","SelectAuthenticatorVerifyViewBody","methodsSchema","_sortMethodOptionsIfDeviceKnown","isOV","AuthenticatorVerifyOptions","signedNonceIndex","signedNonceModel","checkbox","warningTemplate","isCustomApp","isAutoChallengeSupported","addView","warningText","warning","AuthenticatorView","newRefreshInterval","fixedPollingInterval","dynamicPollingInterval","pollingInterval","_startRemediationPolling","_startAuthenticatorPolling","responseKey","authenticatorPollAction","pollInterval","poll","idpButton","jsonData","deviceChallengePollRemediation","isUVapproach","isAppLinkapproach","signInWithDeviceIsRequired","appLabel","resourceLabel","ovDescContainer","isSecondaryIdpDisplay","isAuthenticatorChallenge","challengeData","userVerification","webauthn","retryButton","getCredentialsAndSave","ChallengeWebauthnInfoView","_canSetupWebAuthnResidentKey","EnrollWebAuthnResidentKeyLinkView","webauthnAbortController","_startVerification","AbortController","allowCredentials","authenticatorEnrollments","enrollement","CryptoUtil","credentialId","signal","assertion","clientDataJSON","signatureData","hasUserHandleSchema","userHandle","textContent","_stopVerification","ChallengeWebauthnFooter","activationData","isEdge","authenticatorSelection","getExcludeCredentials","EnrollWebauthnInfoView","triggerWebauthnPrompt","_startEnrollment","excludeCredentials","requireResidentKey","newCredential","attestationObject","_stopEnrollment","ExampleView","buildRenderOptions","widgetOptions","OAuth2Util","clientId","renderOptions","createRouter","successFn","errorFn","_resolve","_reject","routerOptions","globalSuccessFn","globalErrorFn","OptionsConstructor","StorageManager","IdxTransactionManager","OktaAuthOAuth","OktaAuth","OktaSignIn","routerClassFactory","useClassicEngine","Hooks","getHook","SharedUtil","assetBaseUrlTpl","recoveryToken","stateToken","relayState","signOutLink","backToSignInLink","transformUsername","processCreds","logoText","helpSupportNumber","proxyIdxResponse","overrideExistingStateToken","defaultCountryCode","nonce","codeChallenge","codeChallengeMethod","authScheme","policyId","piv","backToSignInUri","customizedValue","showPasswordToggleOnSignInPage","redirectUtilFn","redirectByFormSubmit","hostedLanguages","userLanguages","getUserLanguages","preferred","supportedLowerCase","supportedPos","oauth2Enabled","oauthRedirectUri","configuredSocialIdps","dataAttr","hasPivCard","certAuthUrl","socialAuthPositionTop","hasConfiguredButtons","Settings","setAcceptLanguageHeader","attributeName","getIssuerOrigin","corsIsNotSupported","UnsupportedBrowserError","http","setAuthClient","operation","transformFn","creds","onSuccess","parseSchema","preSubmit","postRegistrationSubmit","postSubmit","labels","overrides","assets","abu","V2Router","hasFullCorsSupport","XMLHttpRequest","hasXDomainRequest","XDomainRequest","corsIsNotEnabled","jqXhr","localStorageIsNotSupported","localStorage","supportsPushState","isIE","isFirefox","isMac","MSStream","STORAGE_KEY","parseOverrides","i18nWithLowerCaseKeys","mapped","getCachedLanguages","storage","addLanguageToCache","loginJson","countryJson","fetchJson","headers","Accept","txt","getBundles","localStorageIsSupported","cached","spread","courage","currentLanguage","parsedOverrides","lowerCaseLanguage","CustomError","setPrototypeOf","new","OAuthError","RegistrationError","AuthStopPollInitiationError","U2FError","WebAuthnError","WebauthnAbortError","ConfiguredFlowError","flowSetting","InlineErrorType","TerminalErrorType","terminal","TypedOAuthError","originalError","errorTypeCtor","errorType","orginalError","errorTrait","getOwnPropertyDescriptor","ClockDriftError","UserNotAssignedError","JITProfileProvisioningError","MfaRequiredError","getTypedOAuthError","mfaRequiredMsg","clockDriftMsg","NO_BEACON_CLS","LOADING_BEACON_CLS","isLoadingBeacon","beacon","LoadingBeacon","removeBeacon","currentBeacon","addBeacon","NextBeacon","typeOfTransition","loading","setLoadingBeacon","removeLoadingBeacon","setBeacon","transition","isLoading","getContentEl","BaseLoginRouter","hasControllerRendered","AppState","AuthContainer","updateDeviceFingerprint","restartLoginFlow","handleIdxResponseFailure","details","formattedError","LanguageUtil","requestDidSucceed","IonHelper","transactionManager","setNonIdxError","ColorsUtil","controllerOptions","updateIdentifierCookie","hasAuthenticationSucceeded","successWithInteractionCode","WidgetRouter","defaultAuth","FormController","emailVerifyCallback","idxOptions","meta","interactionHandle","isInvalidRecoveryTokenError","error_description","formatInvalidRecoveryTokenError","idxError","formatIDXError","isOIENotEnabledError","formatOIENotEnabledError","isOIEConfigurationError","formatOIEConfigurationError","idxMessage","formatError","handleProxyIdxResponse","startLoginFlow","stateHandleFromSession","hasError","updateAppState","useInteractionCodeFlow","setIonResponse","appStateEvents","clearMetadata","TheView","ViewFactory","formView","triggerAfterRenderEvent","contextData","createAfterEventContext","handleFormNameChange","handleAfterError","errorContextData","v1ControllerClassName","eventData","handleSwitchForm","handleInvokeAction","invokeOptions","clearIdxResponse","clearAppStateCache","actions","showFormErrors","invokeAction","handleIdxResponse","handleSaveForm","toggleFormButtonState","transformIdentifier","IdxStatus","FAILURE","IonResponseHelper","stepUp","errorObj","idxStateError","showErrorBanner","hasFormError","button","nestedOmit","UNKNOWN_USER_I8N_KEY","currentFormName","dynamicRefreshInterval","deviceFingerprint","authenticatorProfile","currentAuthenticatorEnrollment","authenticatorMethodType","isPasswordRecovery","recoveryAuthenticator","actionName","authenticatorOptions","paths","targetObject","allFormNames","shouldReRenderView","transformedResponse","previousRawState","identicalResponse","getRefreshInterval","_isReRenderRequired","hideSignOutLinkInMFA","idxActions","messagesObj","keySubStr","chooseRemediation","firstRemediation","doRerender","getUser","reRender","isPreviousStateError","_isChallengeAuthenticatorPoll","isSameExceptMessages","isChallengeAuthenticator","isCurrentAuthenticatorEmail","VIEWS_MAPPING","IdentifyRecoveryView","DeviceChallengePollView","SignInDeviceView","SSOExtensionView","ChallengeOktaVerifySSOExtensionView","EnrollProfileView","EnrollProfileUpdateView","PollView","RequestActivationEmail","SelectAuthenticatorEnrollView","EnrollAuthenticatorDataPhoneView","EnduserConsentView","GranularConsentView","EnduserEmailConsentView","EnrollDuoAuthenticatorView","EnrollAuthenticatorEmailView","EnrollAuthenticatorGoogleAuthenticatorView","AuthenticatorIdPEnrollView","EnrollAuthenticatorOnPremView","EnrollAuthenticatorPhoneView","EnrollAuthenticatorSecurityQuestion","AuthenticatorSymantecView","EnrollWebauthnView","AuthenticatorYubiKeyView","ChallengeCustomOTPAuthenticatorView","ChallengeDuoAuthenticatorView","ChallengeAuthenticatorEmailView","ChallengeGoogleAuthenticatorView","AuthenticatorIdPVerifyView","ChallengeAuthenticatorOnPremView","ChallengeOktaVerifyTotpView","ChallengeAuthenticatorPasswordView","ChallengeAuthenticatorSecurityQuestion","ChallengeWebauthnView","EnrollPollOktaVerifyView","SelectEnrollmentChannelOktaVerifyView","EnrollementChannelDataOktaVerifyView","ReEnrollAuthenticatorPasswordView","ReEnrollAuthenticatorWarningPasswordView","ResetAuthenticatorPasswordView","SelectAuthenticatorVerifyView","SelectAuthenticatorUnlockAccountView","ChallengeOktaVerifyView","ChallengePushView","ChallengeOktaVerifyResendPushView","ChallengeCustomAppResendPushView","ChallengeAuthenticatorDataPhoneView","ChallengeOktaVerifyCustomAppDataView","ChallengeAuthenticatorDataEmailView","AutoRedirectView","RedirectIdPView","ChallengePIVView","DeviceEnrollmentTerminalView","DeviceCodeActivateView","TerminalView","INFO_MESSAGE_CLASS","FormInputFactory","addInputOrView","handleClearFormError","formErrorContainer","infoContainer","addIdentifier","identifierHTMLString","optionUiSchemas","errContainer","isTextOverflowing","maxWidth","whiteSpace","clientWidth","createAuthenticatorEnrollSelectView","optionItems","AuthenticatorEnrollOptions","createAuthenticatorVerifySelectView","authSet","Set","isDuplicate","createAdminScopesView","AdminScopeList","createEnduserScopesView","EnduserScopeList","createCaptchaView","CaptchaView","inputCreationStrategy","authenticatorEnrollSelect","authenticatorVerifySelect","uiSchemaObj","strategyFn","createPIVButton","pivIdp","pivConfig","createIdpButtons","MAX_IDP_BUTTON_WIDTH","pivButton","idpObject","createCustomButtons","customButton","addCustomButton","customButtonSettings","EVENTS_LIST","createOktaSignIn","authClientConstructor","renderEl","showSignInToGetTokens","showSignInAndRedirect","showSignIn","callbackFn","origCallback","callbackArgs","getAuthClientInstance","_oktaUserAgent","addEnvironment","define","amd","ReferenceError","Constructor","isNativeReflectConstruct","_construct","Parent","Reflect","construct","_defineProperties","descriptor","configurable","writable","_getPrototypeOf","getPrototypeOf","subClass","superClass","sham","Proxy","_typeof","assertThisInitialized","_setPrototypeOf","isNativeFunction","_wrapNativeSuper","_cache","Wrapper","this","createOktaAuthBase","OktaAuthBase","removeNils","emitter","Emitter","constants","createBaseOptionsConstructor","devMode","defaultAttributes","stringifiedAttributes","jar","foundKey","withAttributes","storageUtil","browserHasLocalStorage","getLocalStorage","testStorage","browserHasSessionStorage","getSessionStorage","testStorageType","storageType","supported","getStorageByType","storageProvider","getCookieStorage","getInMemoryStorage","AuthSdkError","findStorageType","types","curType","nextType","isIE11OrLess","onstorage","sameSite","sessionCookie","expiresAt","useSeparateCookies","existingValues","storageKey","valueToStore","inMemoryStore","cookieOptions","Cookies","STATE_TOKEN_KEY_NAME","DEFAULT_POLLING_DELAY","DEFAULT_MAX_CLOCK_SKEW","DEFAULT_CACHE_DURATION","TOKEN_STORAGE_NAME","CACHE_STORAGE_NAME","PKCE_STORAGE_NAME","TRANSACTION_STORAGE_NAME","SHARED_TRANSACTION_STORAGE_NAME","ORIGINAL_URI_STORAGE_NAME","IDX_RESPONSE_STORAGE_NAME","ACCESS_TOKEN_STORAGE_KEY","ID_TOKEN_STORAGE_KEY","REFRESH_TOKEN_STORAGE_KEY","REFERRER_PATH_STORAGE_KEY","MIN_VERIFIER_LENGTH","MAX_VERIFIER_LENGTH","DEFAULT_CODE_CHALLENGE_METHOD","IDX_API_VERSION","INITIAL_AUTH_STATE","DEFAULT_PENDING","updateAuthStatePromise","canceledTimes","EVENT_AUTH_STATE_CHANGE","AuthStateManager","sdk","_sdk","_authState","_logOptions","_prevAuthState","_transformQueue","PromiseQueue","quiet","tokenManager","EVENT_ADDED","_setLogOptions","updateAuthState","EVENT_REMOVED","transformAuthState","getConsole","emitAuthStateChange","authState","prevState","isAuthenticated","idToken","accessToken","emit","finalPromise","origPromise","curPromise","getAuthState","cancelablePromise","PCancelable","onCancel","shouldReject","emitAndResolve","isCanceled","getTokensSync","refreshToken","PROMISE_RESOLVED_TRUE","PROMISE_RESOLVED_VOID","sleep","resolveWith","randomToken","lastMs","additional","microSeconds","channelName","messagesCallback","bc","BroadcastChannel","subFns","onmessage","channelState","messageJson","canBeUsed","_pubkey","averageResponseTime","ObliviousSet","ttl","_to","obliviousSet","olderThen","removeTooOldValues","originalOptions","webWorkerSupport","idb","fallbackInterval","onclose","localstorage","removeTimeout","maxParallelWrites","useFastPath","OBJECT_STORE_ID","TRANSACTION_SETTINGS","durability","getIdb","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","commitIndexedDBTransaction","tx","commit","_readLoop","closed","readNewMessages","db","lastCursorId","transaction","objectStore","keyRangeValue","IDBKeyRange","bound","getAll","getAllRequest","rej","onerror","onsuccess","openCursorRequest","openCursor","cursor","getMessagesHigherThan","newerMessages","useMessages","msgObj","uuid","eMIs","messagesCallbackTime","_filterMessage","msgObjA","msgObjB","dbName","openRequest","onupgradeneeded","createObjectStore","keyPath","autoIncrement","createDatabase","writeBlockPromise","readQueuePromises","readerUuid","writeObject","oncomplete","writeMessage","msgObk","getOldMessages","tooOld","deleteRequest","removeMessagesById","ls","newValue","addStorageEventListener","writeObj","initEvent","defaultTime","SIMULATE_CHANNELS","channel","METHODS","OPEN_BROADCAST_CHANNELS","lastId","maybePromise","chooseMethods","useMethod","_iL","_onML","_addEL","_uMP","_befC","_prepP","_state","_post","broadcastChannel","sendPromise","_hasMessageListeners","_addListenerObject","listenerFn","listenerObject","minMessageTime","_startListening","_removeListenerObject","_stopListening","postInternal","listenObj","awaitPrepare","isClosed","WorkerGlobalScope","USE_METHOD","LISTENERS","startedListening","runAll","promises","LeaderElection","isLeader","hasLeader","isDead","_aplQ","_aplQC","_unl","_lstns","_dpL","_dpLC","hasLeaderListener","_sendMessage","leaderElector","msgJson","createLeaderElection","_leaderElector","responseTime","elector","die","applyOnce","isFromFallbackInterval","_this2","applyRun","stopCriteriaPromiseResolve","stopCriteria","stopCriteriaPromise","recieved","handleMessage","waitForAnswerTime","race","unloadFn","run","isLeaderListener","beLeader","awaitLeadership","_aLP","whenDeathListener","tryOnFallBack","onduplicate","_this3","uFn","LeaderElectionService","onLeaderDuplicate","onLeader","canStart","electionChannelName","isBrowser","AutoRenewService","renewTimeQueue","onTokenExpiredHandler","firstTime","syncStorage","autoRenew","shouldThrottleRenew","emitError","renew","autoRemove","EVENT_EXPIRED","SyncStorageService","onTokenAddedHandler","onTokenRemovedHandler","onTokenRenewedHandler","onSetStorageHandler","onSyncMessageHandler","syncChannelName","EVENT_RENEWED","EVENT_SET_STORAGE","enablePostMessage","oldToken","getStorage","setStorage","emitAdded","setExpireEventTimeout","clearExpireEventTimeout","emitRemoved","emitRenewed","AUTO_RENEW","SYNC_STORAGE","LEADER_ELECTION","ServiceManager","broadcastChannelName","services","knownServices","svc","createService","startServices","getService","srv","requiresLeadership","stopServices","canStartService","isStarted","isLeaderRequired","service","createOktaAuthCore","StorageManagerConstructor","TransactionManagerConstructor","WithStorage","mixinStorage","WithHttp","mixinHttp","WithSession","mixinSession","WithOAuth","mixinOAuth","mixinCore","authStateManager","serviceManager","isLoginRedirect","originalUri","setTokens","getOriginalUri","parseOAuthResponseFromUrl","oAuthResponse","storeTokensFromRedirect","removeOriginalUri","restoreOriginalUri","createCoreOptionsConstructor","createOAuthOptionsConstructor","createCoreStorageManager","createOAuthStorageManager","stringToBase64Url","base64ToBase64Url","b64","base64UrlToBase64","b64u","base64UrlToString","utf8","stringToBuffer","base64UrlDecode","base64UrlToBuffer","bufferToBase64Url","crypto","getOidcHash","TextEncoder","encode","webcrypto","arrayBuffer","firstHalf","verifyToken","algo","use","cryptoKey","jwt","payload","b64Signature","AuthApiError","errorLink","AuthPollStopError","_isNativeReflectConstruct","summary","isAuthApiError","isOAuthError","isFingerprintSupported","agent","isPopupPostMessageSupported","isIE8or9","isTokenVerifySupported","hasTextEncoder","isPKCESupported","isHTTPS","isLocalhost","OktaUserAgent","environments","SDK_VERSION","maybeAddNodeEnvironment","process","versions","headerName","headerValue","toQueryString","appJsonContentTypeRegex","fetchPromise","crossFetch","withCredentials","readData","responseType","formatResult","createHttpOptionsConstructor","httpRequestClient","fetchRequest","httpRequestInterceptors","createStorageOptionsConstructor","httpRequest","interceptor","saveAuthnState","httpCache","storageManager","getHttpCache","cacheResponse","cachedResponse","getHttpHeader","updateStorage","serverErr","isAbsoluteUrl","post","postOptions","createIdxTransactionManager","saveLastResponse","getIdxResponseStorage","storedValue","isRawIdxResponse","rawIdxResponse","clearStorage","createTransactionManager","authenticate","AuthenticatorKey","Authenticator","OktaPassword","passcode","idxRemediationValue","formatAuthenticator","incoming","isAuthenticator","compareAuthenticators","auth1","auth2","findMatchedOption","load","flowSpec","getFlowSpecification","EmailVerifyCallbackError","isEmailVerifyCallbackError","isEmailVerifyCallback","urlPath","parseEmailVerifyCallback","urlParamsToObject","handleEmailVerifyCallback","canProceed","createOktaAuthIdx","Core","mixinIdx","createIdxAPI","boundStartTransaction","startTransaction","interact","introspect","makeIdxResponse","makeIdxState","recoverPassword","handleInteractionCodeRedirect","isInteractionRequired","isInteractionRequiredError","createTransactionMeta","getTransactionMeta","saveTransactionMeta","isTransactionMetaValid","setFlow","unlockAccount","AuthenticationFlow","Identify","SelectAuthenticatorAuthenticate","SelectAuthenticatorEnroll","AuthenticatorEnrollmentData","AuthenticatorVerificationData","EnrollAuthenticator","ChallengeAuthenticator","ChallengePoll","ReEnrollAuthenticator","EnrollPoll","SelectEnrollmentChannel","EnrollmentChannelData","RedirectIdp","Skip","PasswordRecoveryFlow","ResetAuthenticator","RegistrationFlow","SelectEnrollProfile","EnrollProfile","AccountUnlockFlow","SelectAuthenticatorUnlockAccount","oktaAuth","remediators","savedState","URL","searchParams","isFieldMutable","divideSingleActionParamsByMutability","defaultParamsForAction","neededParamsForAction","immutableParamsForAction","generateDirectFetch","actionDefinition","toPersist","accepts","wwwAuthHeader","generator","actionList","neededParams","immutableParams","divideActionParamsByMutability","_possibleConstructorReturn","_assertThisInitialized","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","minLen","arr2","hasOwnProp","NewError","_Error","_inherits","Derived","hasNativeReflectConstruct","Super","NewTarget","_classCallCheck","avoidNew","JSONPath","expr","otherTypeCallback","optObj","resultType","sandbox","preventEval","parentProperty","autostart","currParent","currParentProperty","currResultType","currPreventEval","currSandbox","currOtherTypeCallback","toPathString","exprList","toPathArray","_hasParentSelector","_trace","ea","isParentSelector","hasArrExpr","rslt","valOrPath","_getPreferredOutput","pointer","toPointer","_handleCallback","fullRetObj","preferredOutput","parentPropName","literalPriority","retObj","addRet","elems","_walk","_x","par","_slice","_eval","addType","valueType","locProp","_step","_iterator","allowArrayLike","normalCompletion","didErr","return","rett","tl","tt","_v","_vname","_$_parentProperty","_$_parent","_$_property","_$_path","_$_root","_$_v","vm","runInNewContext","pathArr","subx","$0","$1","ups","exp","funcs","conditionCb","il","moveToAnotherArray","funcString","fString","lastStatementEnd","SKIP_FIELDS","fromEntries","parseNonRemediations","generateIdxAction","fieldValue","subField","expandRelatesTo","innerValue","convertRemediationAction","remediationActions","generateRemediationFunctions","actionFn","remediationData","parseIdxResponse","remediationChoice","paramsFromUser","remediationChoiceObject","parsersForVersion","v1","validateVersionConfig","getResponse","getOAuthBaseUrl","activationToken","maxAge","clientSecret","client_id","redirect_uri","code_challenge","code_challenge_method","activation_token","recovery_token","client_secret","max_age","interaction_handle","newMeta","savedIdxResponse","loadIdxResponse","getOAuthDomain","getEnrolledCredentials","buildCredentialCreationOptions","rp","pubKeyCredParams","buildCredentialRequestOptions","getAttestation","createIdxOptionsConstructor","availablePollingRemeditaions","nextStep","hasSavedInteractionHandle","autoRemediate","enabledFeatures","availableSteps","IdxFeature","getAuthenticatorFromRemediation","AuthenticatorData","valueKey","getAuthenticator","formatAuthenticatorData","authenticatorsData","mapAuthenticatorDataFromValues","enrollmentId","Remediator","formatAuthenticators","acc","getRequiredValues","hasData","getAllValues","getData","titleCase","_authClient","_context","getName","inputFromRemediation","alias","aliases","inputsFromRemediation","inputsFromRemediator","authenticatorFromRemediation","SelectAuthenticator","selectedAuthenticator","VerificationCodeAuthenticator","verificationCode","OktaVerifyTotp","totp","SecurityQuestionEnrollment","SecurityQuestionVerification","enrolledQuestion","WebauthnEnrollment","WebauthnVerification","VerifyAuthenticator","canVerify","mapCredentials","getCredentialsFromRemediation","userProfileFromValues","canRemediate","curr","attributeValues","errorRemediation","newPassword","isRecoveryFlow","hasPasswordInOptions","authenticatorMap","methodTypeOption","methodTypeValue","filterKey","skip","idxRemediation","cur","unwrapFormValue","formKeys","unwrappedForm","GenericRemediator","produces","isTerminalResponse","getMessagesFromIdxRemediationValue","messagesFromForm","optionValues","messagesFromOptions","getMessagesFromResponse","globalMessages","useGenericRemediator","fieldMessages","filtered","getEnabledFeatures","getAvailableSteps","remediatorMap","remediatorClass","remediationName","getRemediatorClass","remediator","getNextStep","stepObj","split2","part1","part2","actionObj","filterValuesForRemediation","getRemediator","idxRemediations","remediatorCandidates","canSkip","canSkipFn","canResend","canResendFn","handleFailedResponse","getActionFromValues","removeActionFromValues","removeActionFromOptions","remediate","actionFromValues","actionFromOptions","valuesWithoutExecutedAction","optionsWithoutExecutedAction","canceled","getValuesAfterProceed","initializeValues","initializeData","getDataFromIntrospect","interactResponse","getDataFromRemediate","idxResponseFromRemediation","ignoreSignature","urls","tokenResponse","finalizeData","shouldSaveResponse","shouldClearTransaction","clearSharedStorage","hasActions","saveIdxResponse","createIdxStorageManager","storageManagerOptions","transactionStorage","getTransactionStorage","SavedObject","prepareTokenParams","tokenParams","pkceMeta","createOAuthMeta","savedMeta","validExistingMeta","muteWarning","isTransactionMetaValidForOptions","isTransactionMetaValidForFlow","SdkClock","localOffset","DEFAULT_OPTIONS","clearPendingRemoveTokens","expireEarlySeconds","TokenManager","storageOptions","getTokenStorage","clock","expireTimeouts","renewPromise","setExpireEventTimeoutAll","clearExpireEventTimeoutAll","getExpireTime","freshToken","EVENT_ERROR","isRefreshToken","expireTime","expireEventWait","expireEventTimeout","emitExpired","tokenStorage","validateToken","emitSetStorageEvent","getSync","isAccessToken","isIDToken","accessTokenCb","idTokenCb","refreshTokenCb","handleTokenCallback","getTokenType","handleAdded","handleRemoved","existingTokens","getStorageKeyByType","newToken","existingToken","removedToken","renewTokens","tokenKey","removedTokens","pendingRemove","pruneSharedStorage","sharedStorage","getSharedTansactionStorage","dateCreated","saveTransactionToSharedStorage","loadTransactionFromSharedStorage","isTransactionMeta","clearTransactionFromSharedStorage","enableSharedStorage","decodeToken","decodedToken","convertTokenParamsToOAuthParams","oauthParams","idpScope","prompt","responseMode","mayBeArray","buildAuthorizeParams","oauthQueryParams","extraParams","postToTokenEndpoint","authorizationCode","validateOptions","getPostData","tokenUrl","postRefreshToken","grant_type","refresh_token","getWellKnown","authServerUri","getKey","kid","wellKnown","jwksUri","cachedKey","getOAuthUrls","getDefaultTokenParams","handleResponseOptions","handleOAuthResponse","createTokenAPI","queue","useQueue","getWithRedirectFn","getWithRedirectApi","_setLocation","setLocation","parseFromUrlFn","parseFromUrl","parseFromUrlApi","_getHistory","_getLocation","_getDocument","decode","revoke","revokeToken","renewToken","renewTokensWithRefresh","getUserInfo","accessTokenObject","idTokenObject","verify","createOktaAuthOAuth","getToken","popupWindow","requestUrl","authorizeUrl","iframePromise","addPostMessageListener","iframeEl","loadFrame","oauthPromise","closePoller","userinfoUrl","userInfo","sub","claims","authenticateHeader","errorMatches","errorDescriptionMatches","errorDescription","loadPopup","validateResponse","pkce","interaction_code","tokenDict","expiresIn","expires_in","tokenType","token_type","access_token","id_token","accessJwt","idJwt","idTokenObj","iat","validationParams","WithOriginalUri","browserStorage","getOriginalUriStorage","PKCE","generateVerifier","computeChallenge","handleLogin","_tokenQueue","shouldRenew","onExpiredToken","shouldRemove","hasExpired","additionalParams","setOriginalUri","hasResponseType","accessTokenKey","refreshTokenKey","postLogoutRedirectUri","logoutUrl","idTokenHint","logoutUri","defaultUri","currentUri","revokeAccessToken","revokeRefreshToken","getSignOutRedirectUrl","closeSession","clearTokensBeforeRedirect","addPendingRemoveFlags","assertValidConfig","removeTrailingSlash","revokeUrl","toAbsoluteUrl","ignoreLifetime","maxClockSkew","getResponseMode","defaultResponseMode","paramStr","nativeLoc","cleanOAuthResponseFromUrl","nativeHistory","nativeDoc","replaceState","removeSearch","removeHash","throwInvalidTokenError","getSingleToken","originalToken","refreshTokenObject","renewTokenParams","isSameRefreshToken","updateRefreshToken","isRefreshTokenInvalidError","removeRefreshToken","token_type_hint","getOptionsForSection","logServerSideMemoryStorageWarning","BaseStorageManager","isToken","isObjectWithProperties","isOAuthTransactionMeta","isPKCETransactionMeta","isIdxTransactionMeta","isCustomAuthTransactionMeta","addListener","eventTarget","removeListener","responseHandler","defaultRedirectUri","generateState","generateNonce","isAuthorizationCodeError","errorResponse","hasTokensInHash","hasAuthorizationCode","hashOrSearch","hasInteractionCode","hasErrorInUrl","isRedirectUri","isCodeFlow","getHashOrSearch","codeFlow","genRandomString","getIssuer","oauthMeta","dec2hex","dec","verifier","assertPKCESupport","validateCodeChallengeMethod","preparePKCE","isRefreshTokenError","plus2space","paramSplit","validateClaims","aud","iss","configuredIssuer","validationOptions","sdkCrypto","at_hash","sessionExists","session","getSession","getLink","refreshSession","setCookieAndRedirect","redirectUrl","checkAccountSetupComplete","createSessionApi","exists","sectionName","overrideOptions","storageTypes","storageName","storageString","STORAGE_MANAGER_OPTIONS","cookieSettings","getCookieSettings","running","thisObject","queueItem","isPromise","getNativeConsole","nativeConsole","deprecateWrap","isoToUTCString","isoTime","UTC","randomCharset","cl","delim","additionalArgs","obj1","objArray","cleaned","newobj","altName","_links","toRelativeUrl","trimmed","CancelError","executor","_cancelHandlers","_isPending","_isCanceled","_rejectOnCancel","_promise","defineProperties","onFulfilled","onRejected","onFinally","userFn","arguments_","__self__","DOMException","support","Blob","viewClasses","isArrayBufferView","normalizeName","normalizeValue","iteratorFor","Headers","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","onload","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","bufferClone","buf","byteLength","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","readAsText","readArrayBufferAsText","formData","thisArg","Request","upcased","referrer","bytes","Response","bodyInit","statusText","redirectStatuses","RangeError","stack","aborted","abortXhr","rawHeaders","getAllResponseHeaders","responseURL","ontimeout","onabort","onreadystatechange","readyState","send","polyfill","ponyfill","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","innerFn","outerFn","tryLocsList","protoGenerator","Generator","Context","_invoke","GenStateSuspendedStart","arg","GenStateExecuting","GenStateCompleted","doneResult","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","mark","awrap","skipTempReset","rootRecord","rval","handle","caught","hasCatch","hasFinally","finallyEntry","complete","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","evtArr","evts","liveEvents","_arrayLikeToArray","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","_createClass","_defineProperty","_superPropBase","_get","receiver","_objectWithoutProperties","excluded","sourceKeys","getOwnPropertySymbols","sourceSymbolKeys","_slicedToArray","_s","_e","_arr","_d","unsupportedIterableToArray","arrayLikeToArray","_unsupportedIterableToArray","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","TransactionManager"],"sourceRoot":""}